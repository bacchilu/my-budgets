!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},a=n.parcelRequirebb14;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},n.parcelRequirebb14=a),a.register("2nacn",(function(t,n){var r,i,u;e(t.exports,"Fragment",(function(){return r}),(function(e){return r=e})),e(t.exports,"jsx",(function(){return i}),(function(e){return i=e})),e(t.exports,"jsxs",(function(){return u}),(function(e){return u=e}));var o=a("jE8J5"),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,f=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(e,t,n){var r,i={},a=null,u=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(u=t.ref),t)c.call(t,r)&&!d.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:a,ref:u,props:i,_owner:f.current}}r=l,i=h,u=h})),a.register("jE8J5",(function(e,t){"use strict";e.exports=a("gxKzV")})),a.register("gxKzV",(function(t,n){e(t.exports,"Children",(function(){return r}),(function(e){return r=e})),e(t.exports,"Component",(function(){return i}),(function(e){return i=e})),e(t.exports,"Fragment",(function(){return u}),(function(e){return u=e})),e(t.exports,"Profiler",(function(){return o}),(function(e){return o=e})),e(t.exports,"PureComponent",(function(){return s}),(function(e){return s=e})),e(t.exports,"StrictMode",(function(){return l}),(function(e){return l=e})),e(t.exports,"Suspense",(function(){return c}),(function(e){return c=e})),e(t.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return f}),(function(e){return f=e})),e(t.exports,"cloneElement",(function(){return d}),(function(e){return d=e})),e(t.exports,"createContext",(function(){return h}),(function(e){return h=e})),e(t.exports,"createElement",(function(){return p}),(function(e){return p=e})),e(t.exports,"createFactory",(function(){return v}),(function(e){return v=e})),e(t.exports,"createRef",(function(){return y}),(function(e){return y=e})),e(t.exports,"forwardRef",(function(){return m}),(function(e){return m=e})),e(t.exports,"isValidElement",(function(){return g}),(function(e){return g=e})),e(t.exports,"lazy",(function(){return k}),(function(e){return k=e})),e(t.exports,"memo",(function(){return b}),(function(e){return b=e})),e(t.exports,"startTransition",(function(){return w}),(function(e){return w=e})),e(t.exports,"unstable_act",(function(){return x}),(function(e){return x=e})),e(t.exports,"useCallback",(function(){return E}),(function(e){return E=e})),e(t.exports,"useContext",(function(){return S}),(function(e){return S=e})),e(t.exports,"useDebugValue",(function(){return _}),(function(e){return _=e})),e(t.exports,"useDeferredValue",(function(){return T}),(function(e){return T=e})),e(t.exports,"useEffect",(function(){return I}),(function(e){return I=e})),e(t.exports,"useId",(function(){return C}),(function(e){return C=e})),e(t.exports,"useImperativeHandle",(function(){return N}),(function(e){return N=e})),e(t.exports,"useInsertionEffect",(function(){return A}),(function(e){return A=e})),e(t.exports,"useLayoutEffect",(function(){return R}),(function(e){return R=e})),e(t.exports,"useMemo",(function(){return D}),(function(e){return D=e})),e(t.exports,"useReducer",(function(){return O}),(function(e){return O=e})),e(t.exports,"useRef",(function(){return L}),(function(e){return L=e})),e(t.exports,"useState",(function(){return P}),(function(e){return P=e})),e(t.exports,"useSyncExternalStore",(function(){return M}),(function(e){return M=e})),e(t.exports,"useTransition",(function(){return U}),(function(e){return U=e})),e(t.exports,"version",(function(){return F}),(function(e){return F=e}));var r,i,u,o,s,l,c,f,d,h,p,v,y,m,g,k,b,w,x,E,S,_,T,I,C,N,A,R,D,O,L,P,M,U,F,V=a("gVWln"),j=Symbol.for("react.element"),z=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),W=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),$=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),X=Symbol.iterator;var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,ee={};function te(e,t,n){this.props=e,this.context=t,this.refs=ee,this.updater=n||J}function ne(){}function re(e,t,n){this.props=e,this.context=t,this.refs=ee,this.updater=n||J}te.prototype.isReactComponent={},te.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},te.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},ne.prototype=te.prototype;var ie=re.prototype=new ne;ie.constructor=re,Z(ie,te.prototype),ie.isPureReactComponent=!0;var ae=Array.isArray,ue=Object.prototype.hasOwnProperty,oe={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function le(e,t,n){var r,i={},a=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)ue.call(t,r)&&!se.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return{$$typeof:j,type:e,key:a,ref:u,props:i,_owner:oe.current}}function ce(e){return"object"==typeof e&&null!==e&&e.$$typeof===j}var fe=/\/+/g;function de(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function he(e,t,n,r,i){var a=void 0===e?"undefined":V.default(e);"undefined"!==a&&"boolean"!==a||(e=null);var u,o=!1;if(null===e)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case j:case z:o=!0}}if(o)return i=i(o=e),e=""===r?"."+de(o,0):r,ae(i)?(n="",null!=e&&(n=e.replace(fe,"$&/")+"/"),he(i,t,n,"",(function(e){return e}))):null!=i&&(ce(i)&&(i=function(e,t){return{$$typeof:j,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(fe,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=""===r?".":r+":",ae(e))for(var s=0;s<e.length;s++){var l=r+de(a=e[s],s);o+=he(a,t,n,l,i)}else if("function"==typeof(l=null===(u=e)||"object"!=typeof u?null:"function"==typeof(u=X&&u[X]||u["@@iterator"])?u:null))for(e=l.call(e),s=0;!(a=e.next()).done;)o+=he(a=a.value,t,n,l=r+de(a,s++),i);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function pe(e,t,n){if(null==e)return e;var r=[],i=0;return he(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function ve(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ye={current:null},me={transition:null};r={map:pe,forEach:function(e,t,n){pe(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return pe(e,(function(){t++})),t},toArray:function(e){return pe(e,(function(e){return e}))||[]},only:function(e){if(!ce(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},i=te,u=B,o=H,s=re,l=q,c=Q,f={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:me,ReactCurrentOwner:oe},d=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Z({},e.props),i=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=oe.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(s in t)ue.call(t,s)&&!se.hasOwnProperty(s)&&(r[s]=void 0===t[s]&&void 0!==o?o[s]:t[s])}var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){o=Array(s);for(var l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}return{$$typeof:j,type:e.type,key:i,ref:a,props:r,_owner:u}},h=function(e){return(e={$$typeof:W,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:K,_context:e},e.Consumer=e},p=le,v=function(e){var t=le.bind(null,e);return t.type=e,t},y=function(){return{current:null}},m=function(e){return{$$typeof:G,render:e}},g=ce,k=function(e){return{$$typeof:Y,_payload:{_status:-1,_result:e},_init:ve}},b=function(e,t){return{$$typeof:$,type:e,compare:void 0===t?null:t}},w=function(e){var t=me.transition;me.transition={};try{e()}finally{me.transition=t}},x=function(){throw Error("act(...) is not supported in production builds of React.")},E=function(e,t){return ye.current.useCallback(e,t)},S=function(e){return ye.current.useContext(e)},_=function(){},T=function(e){return ye.current.useDeferredValue(e)},I=function(e,t){return ye.current.useEffect(e,t)},C=function(){return ye.current.useId()},N=function(e,t,n){return ye.current.useImperativeHandle(e,t,n)},A=function(e,t){return ye.current.useInsertionEffect(e,t)},R=function(e,t){return ye.current.useLayoutEffect(e,t)},D=function(e,t){return ye.current.useMemo(e,t)},O=function(e,t,n){return ye.current.useReducer(e,t,n)},L=function(e){return ye.current.useRef(e)},P=function(e){return ye.current.useState(e)},M=function(e,t,n){return ye.current.useSyncExternalStore(e,t,n)},U=function(){return ye.current.useTransition()},F="18.1.0"})),a.register("01ZuL",(function(t,n){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e(t.exports,"default",(function(){return r}))})),a.register("cd1mK",(function(t,n){function r(e,t,n,r,i,a,u){try{var o=e[a](u),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var u=e.apply(t,n);function o(e){r(u,i,a,o,s,"next",e)}function s(e){r(u,i,a,o,s,"throw",e)}o(void 0)}))}}e(t.exports,"default",(function(){return i}))})),a.register("fWH52",(function(t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e(t.exports,"default",(function(){return r}))})),a.register("kcrVZ",(function(t,n){e(t.exports,"default",(function(){return o}));var r=a("iiEYO");function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return(u=i()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r.default(a,n.prototype),a}).apply(null,arguments)}function o(e,t,n){return u.apply(null,arguments)}})),a.register("iiEYO",(function(t,n){function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){return r(e,t)}e(t.exports,"default",(function(){return i}))})),a.register("c2zNv",(function(t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}e(t.exports,"default",(function(){return i}))})),a.register("7HQOi",(function(t,n){e(t.exports,"default",(function(){return o}));var r=a("bLDVh"),i=a("5QfHt"),u=a("aRpda");function o(e){var t=r.default();return function(){var n,r=i.default(e);if(t){var a=i.default(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u.default(this,n)}}})),a.register("bLDVh",(function(t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}e(t.exports,"default",(function(){return r}))})),a.register("5QfHt",(function(t,n){function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function i(e){return r(e)}e(t.exports,"default",(function(){return i}))})),a.register("aRpda",(function(t,n){e(t.exports,"default",(function(){return u}));var r=a("01ZuL"),i=a("gVWln");function u(e,t){return!t||"object"!==i.default(t)&&"function"!=typeof t?r.default(e):t}})),a.register("gVWln",(function(t,n){function r(e){return e&&e.constructor===Symbol?"symbol":typeof e}e(t.exports,"default",(function(){return r}))})),a.register("iseow",(function(t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e(t.exports,"default",(function(){return r}))})),a.register("2uRTu",(function(t,n){e(t.exports,"default",(function(){return u}));var r=a("hciNc");function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=r.default(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}})(e,t,n)}function u(e,t,n){return i(e,t,n)}})),a.register("hciNc",(function(t,n){e(t.exports,"default",(function(){return i}));var r=a("5QfHt");function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r.default(e)););return e}})),a.register("kpL5Z",(function(t,n){e(t.exports,"default",(function(){return i}));var r=a("iiEYO");function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r.default(e,t)}})),a.register("hEJBC",(function(t,n){e(t.exports,"default",(function(){return i}));var r=a("iseow");function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r.default(e,t,n[t])}))}return e}})),a.register("bC9U7",(function(t,n){e(t.exports,"default",(function(){return s}));var r=a("i4n9o"),i=a("kIKgF"),u=a("aIFWn"),o=a("8jm1q");function s(e,t){return r.default(e)||i.default(e,t)||o.default(e,t)||u.default()}})),a.register("i4n9o",(function(t,n){function r(e){if(Array.isArray(e))return e}e(t.exports,"default",(function(){return r}))})),a.register("kIKgF",(function(t,n){function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}e(t.exports,"default",(function(){return r}))})),a.register("aIFWn",(function(t,n){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e(t.exports,"default",(function(){return r}))})),a.register("8jm1q",(function(t,n){e(t.exports,"default",(function(){return i}));var r=a("74muo");function i(e,t){if(e){if("string"==typeof e)return r.default(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r.default(e,t):void 0}}})),a.register("74muo",(function(t,n){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e(t.exports,"default",(function(){return r}))})),a.register("fZ0h0",(function(t,n){e(t.exports,"default",(function(){return s}));var r=a("74IeE"),i=a("kIKgF"),u=a("70zLR"),o=a("8jm1q");function s(e){return r.default(e)||i.default(e)||o.default(e)||u.default()}})),a.register("74IeE",(function(t,n){e(t.exports,"default",(function(){return i}));var r=a("74muo");function i(e){if(Array.isArray(e))return r.default(e)}})),a.register("70zLR",(function(t,n){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e(t.exports,"default",(function(){return r}))})),a.register("gQfMJ",(function(t,n){e(t.exports,"default",(function(){return l}));var r=a("kcrVZ"),i=a("1yjMi"),u=a("5QfHt"),o=a("iiEYO");function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||!i.default(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return r.default(e,arguments,u.default(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o.default(n,e)},s(e)}function l(e){return s(e)}})),a.register("1yjMi",(function(t,n){function r(e){return-1!==Function.toString.call(e).indexOf("[native code]")}e(t.exports,"default",(function(){return r}))})),a.register("2wM5b",(function(t,n){e(t.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return r}),(function(e){return r=e})),e(t.exports,"createPortal",(function(){return i}),(function(e){return i=e})),e(t.exports,"createRoot",(function(){return u}),(function(e){return u=e})),e(t.exports,"findDOMNode",(function(){return o}),(function(e){return o=e})),e(t.exports,"flushSync",(function(){return s}),(function(e){return s=e})),e(t.exports,"hydrate",(function(){return l}),(function(e){return l=e})),e(t.exports,"hydrateRoot",(function(){return c}),(function(e){return c=e})),e(t.exports,"render",(function(){return f}),(function(e){return f=e})),e(t.exports,"unmountComponentAtNode",(function(){return d}),(function(e){return d=e})),e(t.exports,"unstable_batchedUpdates",(function(){return h}),(function(e){return h=e})),e(t.exports,"unstable_renderSubtreeIntoContainer",(function(){return p}),(function(e){return p=e})),e(t.exports,"version",(function(){return v}),(function(e){return v=e}));var r,i,u,o,s,l,c,f,d,h,p,v,y=a("gVWln"),m=a("jE8J5"),g=a("hnwcm");function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b=new Set,w={};function x(e,t){E(e,t),E(e+"Capture",t)}function E(e,t){for(w[e]=t,e=0;e<t.length;e++)b.add(t[e])}var S=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),_=Object.prototype.hasOwnProperty,T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},C={};function N(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(void 0===t?"undefined":y.default(t)){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function A(e,t,n,r,i,a,u){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){R[e]=new A(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];R[t]=new A(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){R[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){R[e]=new A(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){R[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){R[e]=new A(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){R[e]=new A(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){R[e]=new A(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){R[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)}));var D=/[\-:]([a-z])/g;function O(e){return e[1].toUpperCase()}function L(e,t,n,r){var i=R.hasOwnProperty(t)?R[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(N(t,n,i,r)&&(n=null),r||null===i?function(e){return!!_.call(C,e)||!_.call(I,e)&&(T.test(e)?C[e]=!0:(I[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(D,O);R[t]=new A(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(D,O);R[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(D,O);R[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){R[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)})),R.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){R[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)}));var P=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),U=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),G=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var Q=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var $=Symbol.iterator;function Y(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=$&&e[$]||e["@@iterator"])?e:null}var X,J=Object.assign;function Z(e){if(void 0===X)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);X=t&&t[1]||""}return"\n"+X+e}var ee=!1;function te(e,t){if(!e||ee)return"";ee=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),u=i.length-1,o=a.length-1;1<=u&&0<=o&&i[u]!==a[o];)o--;for(;1<=u&&0<=o;u--,o--)if(i[u]!==a[o]){if(1!==u||1!==o)do{if(u--,0>--o||i[u]!==a[o]){var s="\n"+i[u].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=u&&0<=o);break}}}finally{ee=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Z(e):""}function ne(e){switch(e.tag){case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return e=te(e.type,!1);case 11:return e=te(e.type.render,!1);case 1:return e=te(e.type,!0);default:return""}}function re(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case F:return"Fragment";case U:return"Portal";case j:return"Profiler";case V:return"StrictMode";case H:return"Suspense";case K:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case B:return(e.displayName||"Context")+".Consumer";case z:return(e._context.displayName||"Context")+".Provider";case q:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case W:return null!==(t=e.displayName||null)?t:re(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return re(e(t))}catch(e){}}return null}function ie(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(t);case 8:return t===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function ae(e){switch(void 0===e?"undefined":y.default(e)){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ue(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function oe(e){e._valueTracker||(e._valueTracker=function(e){var t=ue(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function se(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ue(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function le(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ce(e,t){var n=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function fe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ae(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function de(e,t){null!=(t=t.checked)&&L(e,"checked",t,!1)}function he(e,t){de(e,t);var n=ae(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ve(e,t.type,n):t.hasOwnProperty("defaultValue")&&ve(e,t.type,ae(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function pe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ve(e,t,n){"number"===t&&le(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ye=Array.isArray;function me(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ae(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ge(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(k(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ke(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(k(92));if(ye(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ae(n)}}function be(e,t){var n=ae(t.value),r=ae(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function we(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function xe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ee(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?xe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Se,_e,Te=(_e=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Se=Se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return _e(e,t)}))}:_e);function Ie(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ne=["Webkit","ms","Moz","O"];function Ae(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Ce.hasOwnProperty(e)&&Ce[e]?(""+t).trim():t+"px"}function Re(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ae(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Ce).forEach((function(e){Ne.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ce[t]=Ce[e]}))}));var De=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oe(e,t){if(t){if(De[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(k(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(k(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(k(62))}}function Le(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pe=null;function Me(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ue=null,Fe=null,Ve=null;function je(e){if(e=Ri(e)){if("function"!=typeof Ue)throw Error(k(280));var t=e.stateNode;t&&(t=Oi(t),Ue(e.stateNode,e.type,t))}}function ze(e){Fe?Ve?Ve.push(e):Ve=[e]:Fe=e}function Be(){if(Fe){var e=Fe,t=Ve;if(Ve=Fe=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function qe(e,t){return e(t)}function He(){}var Ke=!1;function We(e,t,n){if(Ke)return e(t,n);Ke=!0;try{return qe(e,t,n)}finally{Ke=!1,(null!==Fe||null!==Ve)&&(He(),Be())}}function Ge(e,t){var n=e.stateNode;if(null===n)return null;var r=Oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(k(231,t,void 0===n?"undefined":y.default(n)));return n}var Qe=!1;if(S)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Qe=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch(_e){Qe=!1}function Ye(e,t,n,r,i,a,u,o,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Xe=!1,Je=null,Ze=!1,et=null,tt={onError:function(e){Xe=!0,Je=e}};function nt(e,t,n,r,i,a,u,o,s){Xe=!1,Je=null,Ye.apply(tt,arguments)}function rt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function it(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function at(e){if(rt(e)!==e)throw Error(k(188))}function ut(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=rt(e)))throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return at(i),e;if(a===r)return at(i),t;a=a.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,o=i.child;o;){if(o===n){u=!0,n=i,r=a;break}if(o===r){u=!0,r=i,n=a;break}o=o.sibling}if(!u){for(o=a.child;o;){if(o===n){u=!0,n=a,r=i;break}if(o===r){u=!0,r=a,n=i;break}o=o.sibling}if(!u)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(3!==n.tag)throw Error(k(188));return n.stateNode.current===n?e:t}(e),null!==e?ot(e):null}function ot(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ot(e);if(null!==t)return t;e=e.sibling}return null}var st=g.unstable_scheduleCallback,lt=g.unstable_cancelCallback,ct=g.unstable_shouldYield,ft=g.unstable_requestPaint,dt=g.unstable_now,ht=g.unstable_getCurrentPriorityLevel,pt=g.unstable_ImmediatePriority,vt=g.unstable_UserBlockingPriority,yt=g.unstable_NormalPriority,mt=g.unstable_LowPriority,gt=g.unstable_IdlePriority,kt=null,bt=null;var wt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xt(e)/Et|0)|0},xt=Math.log,Et=Math.LN2;var St=64,_t=4194304;function Tt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function It(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,u=268435455&n;if(0!==u){var o=u&~i;0!==o?r=Tt(o):0!==(a&=u)&&(r=Tt(a))}else 0!==(u=n&~i)?r=Tt(u):0!==a&&(r=Tt(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-wt(t)),r|=e[n],t&=~i;return r}function Ct(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Nt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function At(){var e=St;return 0==(4194240&(St<<=1))&&(St=64),e}function Rt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-wt(t)]=n}function Ot(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Lt=0;function Pt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Mt,Ut,Ft,Vt,jt,zt=!1,Bt=[],qt=null,Ht=null,Kt=null,Wt=new Map,Gt=new Map,Qt=[],$t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yt(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":Wt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gt.delete(t.pointerId)}}function Xt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ri(t))&&Ut(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Jt(e){var t=Ai(e.target);if(null!==t){var n=rt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=it(n)))return e.blockedOn=t,void jt(e.priority,(function(){Ft(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=fn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ri(n))&&Ut(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pe=r,n.target.dispatchEvent(r),Pe=null,t.shift()}return!0}function en(e,t,n){Zt(e)&&n.delete(t)}function tn(){zt=!1,null!==qt&&Zt(qt)&&(qt=null),null!==Ht&&Zt(Ht)&&(Ht=null),null!==Kt&&Zt(Kt)&&(Kt=null),Wt.forEach(en),Gt.forEach(en)}function nn(e,t){e.blockedOn===t&&(e.blockedOn=null,zt||(zt=!0,g.unstable_scheduleCallback(g.unstable_NormalPriority,tn)))}function rn(e){function t(t){return nn(t,e)}if(0<Bt.length){nn(Bt[0],e);for(var n=1;n<Bt.length;n++){var r=Bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==qt&&nn(qt,e),null!==Ht&&nn(Ht,e),null!==Kt&&nn(Kt,e),Wt.forEach(t),Gt.forEach(t),n=0;n<Qt.length;n++)(r=Qt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Qt.length&&null===(n=Qt[0]).blockedOn;)Jt(n),null===n.blockedOn&&Qt.shift()}var an=P.ReactCurrentBatchConfig,un=!0;function on(e,t,n,r){var i=Lt,a=an.transition;an.transition=null;try{Lt=1,ln(e,t,n,r)}finally{Lt=i,an.transition=a}}function sn(e,t,n,r){var i=Lt,a=an.transition;an.transition=null;try{Lt=4,ln(e,t,n,r)}finally{Lt=i,an.transition=a}}function ln(e,t,n,r){if(un){var i=fn(e,t,n,r);if(null===i)ni(e,t,r,cn,n),Yt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return qt=Xt(qt,e,t,n,r,i),!0;case"dragenter":return Ht=Xt(Ht,e,t,n,r,i),!0;case"mouseover":return Kt=Xt(Kt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Wt.set(a,Xt(Wt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Gt.set(a,Xt(Gt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Yt(e,r),4&t&&-1<$t.indexOf(e)){for(;null!==i;){var a=Ri(i);if(null!==a&&Mt(a),null===(a=fn(e,t,n,r))&&ni(e,t,r,cn,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else ni(e,t,r,null,n)}}var cn=null;function fn(e,t,n,r){if(cn=null,null!==(e=Ai(e=Me(r))))if(null===(t=rt(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=it(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cn=e,null}function dn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ht()){case pt:return 1;case vt:return 4;case yt:case mt:return 16;case gt:return 536870912;default:return 16}default:return 16}}var hn=null,pn=null,vn=null;function yn(){if(vn)return vn;var e,t,n=pn,r=n.length,i="value"in hn?hn.value:hn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var u=r-e;for(t=1;t<=u&&n[r-t]===i[a-t];t++);return vn=i.slice(e,1<t?1-t:void 0)}function mn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function gn(){return!0}function kn(){return!1}function bn(e){function t(t,n,r,i,a){for(var u in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(u)&&(t=e[u],this[u]=t?t(i):i[u]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?gn:kn,this.isPropagationStopped=kn,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==y.default(e.returnValue)&&(e.returnValue=!1),this.isDefaultPrevented=gn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==y.default(e.cancelBubble)&&(e.cancelBubble=!0),this.isPropagationStopped=gn)},persist:function(){},isPersistent:gn}),t}var wn,xn,En,Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_n=bn(Sn),Tn=J({},Sn,{view:0,detail:0}),In=bn(Tn),Cn=J({},Tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==En&&(En&&"mousemove"===e.type?(wn=e.screenX-En.screenX,xn=e.screenY-En.screenY):xn=wn=0,En=e),wn)},movementY:function(e){return"movementY"in e?e.movementY:xn}}),Nn=bn(Cn),An=bn(J({},Cn,{dataTransfer:0})),Rn=bn(J({},Tn,{relatedTarget:0})),Dn=bn(J({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0})),On=bn(J({},Sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Ln=bn(J({},Sn,{data:0})),Pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Un[e])&&!!t[e]}function Vn(){return Fn}var jn=bn(J({},Tn,{key:function(e){if(e.key){var t=Pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=mn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vn,charCode:function(e){return"keypress"===e.type?mn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?mn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),zn=bn(J({},Cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Bn=bn(J({},Tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vn})),qn=bn(J({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Hn=bn(J({},Cn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Kn=[9,13,27,32],Wn=S&&"CompositionEvent"in window,Gn=null;S&&"documentMode"in document&&(Gn=document.documentMode);var Qn=S&&"TextEvent"in window&&!Gn,$n=S&&(!Wn||Gn&&8<Gn&&11>=Gn),Yn=String.fromCharCode(32),Xn=!1;function Jn(e,t){switch(e){case"keyup":return-1!==Kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var er=!1;var tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!tr[e.type]:"textarea"===t}function rr(e,t,n,r){ze(r),0<(t=ii(t,"onChange")).length&&(n=new _n("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ir=null,ar=null;function ur(e){Yr(e,0)}function or(e){if(se(Di(e)))return e}function sr(e,t){if("change"===e)return t}var lr=!1;if(S){var cr;if(S){var fr="oninput"in document;if(!fr){var dr=document.createElement("div");dr.setAttribute("oninput","return;"),fr="function"==typeof dr.oninput}cr=fr}else cr=!1;lr=cr&&(!document.documentMode||9<document.documentMode)}function hr(){ir&&(ir.detachEvent("onpropertychange",pr),ar=ir=null)}function pr(e){if("value"===e.propertyName&&or(ar)){var t=[];rr(t,ar,e,Me(e)),We(ur,t)}}function vr(e,t,n){"focusin"===e?(hr(),ar=n,(ir=t).attachEvent("onpropertychange",pr)):"focusout"===e&&hr()}function yr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return or(ar)}function mr(e,t){if("click"===e)return or(t)}function gr(e,t){if("input"===e||"change"===e)return or(t)}var kr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function br(e,t){if(kr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_.call(t,i)||!kr(e[i],t[i]))return!1}return!0}function wr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xr(e,t){var n,r=wr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wr(r)}}function Er(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Er(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Sr(){for(var e=window,t=le();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=le((e=t.contentWindow).document)}return t}function _r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Tr(e){var t=Sr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Er(n.ownerDocument.documentElement,n)){if(null!==r&&_r(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=xr(n,a);var u=xr(n,r);i&&u&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ir=S&&"documentMode"in document&&11>=document.documentMode,Cr=null,Nr=null,Ar=null,Rr=!1;function Dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Rr||null==Cr||Cr!==le(r)||("selectionStart"in(r=Cr)&&_r(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Ar&&br(Ar,r)||(Ar=r,0<(r=ii(Nr,"onSelect")).length&&(t=new _n("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Cr)))}function Or(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lr={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionend:Or("Transition","TransitionEnd")},Pr={},Mr={};function Ur(e){if(Pr[e])return Pr[e];if(!Lr[e])return e;var t,n=Lr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Mr)return Pr[e]=n[t];return e}S&&(Mr=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);var Fr=Ur("animationend"),Vr=Ur("animationiteration"),jr=Ur("animationstart"),zr=Ur("transitionend"),Br=new Map,qr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(e,t){Br.set(e,t),x(t,[e])}for(var Kr=0;Kr<qr.length;Kr++){var Wr=qr[Kr];Hr(Wr.toLowerCase(),"on"+(Wr[0].toUpperCase()+Wr.slice(1)))}Hr(Fr,"onAnimationEnd"),Hr(Vr,"onAnimationIteration"),Hr(jr,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(zr,"onTransitionEnd"),E("onMouseEnter",["mouseout","mouseover"]),E("onMouseLeave",["mouseout","mouseover"]),E("onPointerEnter",["pointerout","pointerover"]),E("onPointerLeave",["pointerout","pointerover"]),x("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),x("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),x("onBeforeInput",["compositionend","keypress","textInput","paste"]),x("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gr));function $r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,o,s){if(nt.apply(this,arguments),Xe){if(!Xe)throw Error(k(198));var l=Je;Xe=!1,Je=null,Ze||(Ze=!0,et=l)}}(r,t,void 0,e),e.currentTarget=null}function Yr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var u=r.length-1;0<=u;u--){var o=r[u],s=o.instance,l=o.currentTarget;if(o=o.listener,s!==a&&i.isPropagationStopped())break e;$r(i,o,l),a=s}else for(u=0;u<r.length;u++){if(s=(o=r[u]).instance,l=o.currentTarget,o=o.listener,s!==a&&i.isPropagationStopped())break e;$r(i,o,l),a=s}}}if(Ze)throw e=et,Ze=!1,et=null,e}function Xr(e,t){var n=t[Ii];void 0===n&&(n=t[Ii]=new Set);var r=e+"__bubble";n.has(r)||(ti(t,e,2,!1),n.add(r))}function Jr(e,t,n){var r=0;t&&(r|=4),ti(n,e,r,t)}var Zr="_reactListening"+Math.random().toString(36).slice(2);function ei(e){if(!e[Zr]){e[Zr]=!0,b.forEach((function(t){"selectionchange"!==t&&(Qr.has(t)||Jr(t,!1,e),Jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zr]||(t[Zr]=!0,Jr("selectionchange",!1,t))}}function ti(e,t,n,r){switch(dn(t)){case 1:var i=on;break;case 4:i=sn;break;default:i=ln}n=i.bind(null,t,n,e),i=void 0,!Qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ni(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var u=r.tag;if(3===u||4===u){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===u)for(u=r.return;null!==u;){var s=u.tag;if((3===s||4===s)&&((s=u.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;u=u.return}for(;null!==o;){if(null===(u=Ai(o)))return;if(5===(s=u.tag)||6===s){r=a=u;continue e}o=o.parentNode}}r=r.return}We((function(){var r=a,i=Me(n),u=[];e:{var o=Br.get(e);if(void 0!==o){var s=_n,l=e;switch(e){case"keypress":if(0===mn(n))break e;case"keydown":case"keyup":s=jn;break;case"focusin":l="focus",s=Rn;break;case"focusout":l="blur",s=Rn;break;case"beforeblur":case"afterblur":s=Rn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=An;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Bn;break;case Fr:case Vr:case jr:s=Dn;break;case zr:s=qn;break;case"scroll":s=In;break;case"wheel":s=Hn;break;case"copy":case"cut":case"paste":s=On;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=zn}var c=0!=(4&t),f=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Ge(p,d))&&c.push(ri(p,v,h)))),f)break;p=p.return}0<c.length&&(o=new s(o,l,null,n,i),u.push({event:o,listeners:c}))}}if(0==(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pe||!(l=n.relatedTarget||n.fromElement)||!Ai(l)&&!l[Ti])&&(s||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?Ai(l):null)&&(l!==(f=rt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=Nn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=zn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?o:Di(s),h=null==l?o:Di(l),(o=new c(v,p+"leave",s,n,i)).target=f,o.relatedTarget=h,v=null,Ai(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(d=l,p=0,h=c=s;h;h=ai(h))p++;for(h=0,v=d;v;v=ai(v))h++;for(;0<p-h;)c=ai(c),p--;for(;0<h-p;)d=ai(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=ai(c),d=ai(d)}c=null}else c=null;null!==s&&ui(u,o,s,c,!1),null!==l&&null!==f&&ui(u,f,l,c,!0)}if("select"===(s=(o=r?Di(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===s&&"file"===o.type)var y=sr;else if(nr(o))if(lr)y=gr;else{y=yr;var m=vr}else(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(y=mr);switch(y&&(y=y(e,r))?rr(u,y,n,i):(m&&m(e,o,r),"focusout"===e&&(m=o._wrapperState)&&m.controlled&&"number"===o.type&&ve(o,"number",o.value)),m=r?Di(r):window,e){case"focusin":(nr(m)||"true"===m.contentEditable)&&(Cr=m,Nr=r,Ar=null);break;case"focusout":Ar=Nr=Cr=null;break;case"mousedown":Rr=!0;break;case"contextmenu":case"mouseup":case"dragend":Rr=!1,Dr(u,n,i);break;case"selectionchange":if(Ir)break;case"keydown":case"keyup":Dr(u,n,i)}var g;if(Wn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else er?Jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&($n&&"ko"!==n.locale&&(er||"onCompositionStart"!==k?"onCompositionEnd"===k&&er&&(g=yn()):(pn="value"in(hn=i)?hn.value:hn.textContent,er=!0)),0<(m=ii(r,k)).length&&(k=new Ln(k,e,null,n,i),u.push({event:k,listeners:m}),g?k.data=g:null!==(g=Zn(n))&&(k.data=g))),(g=Qn?function(e,t){switch(e){case"compositionend":return Zn(t);case"keypress":return 32!==t.which?null:(Xn=!0,Yn);case"textInput":return(e=t.data)===Yn&&Xn?null:e;default:return null}}(e,n):function(e,t){if(er)return"compositionend"===e||!Wn&&Jn(e,t)?(e=yn(),vn=pn=hn=null,er=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ii(r,"onBeforeInput")).length&&(i=new Ln("onBeforeInput","beforeinput",null,n,i),u.push({event:i,listeners:r}),i.data=g))}Yr(u,t)}))}function ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ii(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ge(e,n))&&r.unshift(ri(e,a,i)),null!=(a=Ge(e,t))&&r.push(ri(e,a,i))),e=e.return}return r}function ai(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ui(e,t,n,r,i){for(var a=t._reactName,u=[];null!==n&&n!==r;){var o=n,s=o.alternate,l=o.stateNode;if(null!==s&&s===r)break;5===o.tag&&null!==l&&(o=l,i?null!=(s=Ge(n,a))&&u.unshift(ri(n,s,o)):i||null!=(s=Ge(n,a))&&u.push(ri(n,s,o))),n=n.return}0!==u.length&&e.push({event:t,listeners:u})}var oi=/\r\n?/g,si=/\u0000|\uFFFD/g;function li(e){return("string"==typeof e?e:""+e).replace(oi,"\n").replace(si,"")}function ci(e,t,n){if(t=li(t),li(e)!==t&&n)throw Error(k(425))}function fi(){}var di=null,hi=null;function pi(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vi="function"==typeof setTimeout?setTimeout:void 0,yi="function"==typeof clearTimeout?clearTimeout:void 0,mi="function"==typeof Promise?Promise:void 0,gi="function"==typeof queueMicrotask?queueMicrotask:void 0!==mi?function(e){return mi.resolve(null).then(e).catch(ki)}:vi;function ki(e){setTimeout((function(){throw e}))}function bi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void rn(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);rn(t)}function wi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function xi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),Si="__reactFiber$"+Ei,_i="__reactProps$"+Ei,Ti="__reactContainer$"+Ei,Ii="__reactEvents$"+Ei,Ci="__reactListeners$"+Ei,Ni="__reactHandles$"+Ei;function Ai(e){var t=e[Si];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ti]||n[Si]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xi(e);null!==e;){if(n=e[Si])return n;e=xi(e)}return t}n=(e=n).parentNode}return null}function Ri(e){return!(e=e[Si]||e[Ti])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Di(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(k(33))}function Oi(e){return e[_i]||null}var Li=[],Pi=-1;function Mi(e){return{current:e}}function Ui(e){0>Pi||(e.current=Li[Pi],Li[Pi]=null,Pi--)}function Fi(e,t){Pi++,Li[Pi]=e.current,e.current=t}var Vi={},ji=Mi(Vi),zi=Mi(!1),Bi=Vi;function qi(e,t){var n=e.type.contextTypes;if(!n)return Vi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Hi(e){return null!=(e=e.childContextTypes)}function Ki(){Ui(zi),Ui(ji)}function Wi(e,t,n){if(ji.current!==Vi)throw Error(k(168));Fi(ji,t),Fi(zi,n)}function Gi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(k(108,ie(e)||"Unknown",i));return J({},n,r)}function Qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vi,Bi=ji.current,Fi(ji,e),Fi(zi,zi.current),!0}function $i(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=Gi(e,t,Bi),r.__reactInternalMemoizedMergedChildContext=e,Ui(zi),Ui(ji),Fi(ji,e)):Ui(zi),Fi(zi,n)}var Yi=null,Xi=!1,Ji=!1;function Zi(e){null===Yi?Yi=[e]:Yi.push(e)}function ea(){if(!Ji&&null!==Yi){Ji=!0;var e=0,t=Lt;try{var n=Yi;for(Lt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Yi=null,Xi=!1}catch(t){throw null!==Yi&&(Yi=Yi.slice(e+1)),st(pt,ea),t}finally{Lt=t,Ji=!1}}return null}var ta=P.ReactCurrentBatchConfig;function na(e,t){if(e&&e.defaultProps){for(var n in t=J({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ra=Mi(null),ia=null,aa=null,ua=null;function oa(){ua=aa=ia=null}function sa(e){var t=ra.current;Ui(ra),e._currentValue=t}function la(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ca(e,t){ia=e,ua=aa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Oo=!0),e.firstContext=null)}function fa(e){var t=e._currentValue;if(ua!==e)if(e={context:e,memoizedValue:t,next:null},null===aa){if(null===ia)throw Error(k(308));aa=e,ia.dependencies={lanes:0,firstContext:e}}else aa=aa.next=e;return t}var da=null,ha=!1;function pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function va(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ya(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ma(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,hl(e)?(null===(e=n.interleaved)?(t.next=t,null===da?da=[n]:da.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ga(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ot(e,n)}}function ka(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=u:a=a.next=u,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ba(e,t,n,r){var i=e.updateQueue;ha=!1;var a=i.firstBaseUpdate,u=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var s=o,l=s.next;s.next=null,null===u?a=l:u.next=l,u=s;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==u&&(null===o?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(u=0,c=l=s=null,o=a;;){var d=o.lane,h=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(d=t,h=n,v.tag){case 1:if("function"==typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=v.payload)?p.call(h,f,d):p))break e;f=J({},f,d);break e;case 2:ha=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(l=c=h,s=f):c=c.next=h,u|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{u|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ks|=u,e.lanes=u,e.memoizedState=f}}function wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(k(191,i));i.call(r)}}}var xa=(new m.Component).refs;function Ea(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:J({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Sa={isMounted:function(e){return!!(e=e._reactInternals)&&rt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ll(),i=cl(e),a=ya(r,i);a.payload=t,null!=n&&(a.callback=n),ma(e,a),null!==(t=fl(e,i,r))&&ga(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ll(),i=cl(e),a=ya(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),ma(e,a),null!==(t=fl(e,i,r))&&ga(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ll(),r=cl(e),i=ya(n,r);i.tag=2,null!=t&&(i.callback=t),ma(e,i),null!==(t=fl(e,r,n))&&ga(t,e,r)}};function _a(e,t,n,r,i,a,u){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,u):!t.prototype||!t.prototype.isPureReactComponent||(!br(n,r)||!br(i,a))}function Ta(e,t,n){var r=!1,i=Vi,a=t.contextType;return"object"==typeof a&&null!==a?a=fa(a):(i=Hi(t)?Bi:ji.current,a=(r=null!=(r=t.contextTypes))?qi(e,i):Vi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Sa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ia(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sa.enqueueReplaceState(t,t.state,null)}function Ca(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=xa,pa(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=fa(a):(a=Hi(t)?Bi:ji.current,i.context=qi(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Ea(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Sa.enqueueReplaceState(i,i.state,null),ba(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var Na=[],Aa=0,Ra=null,Da=0,Oa=[],La=0,Pa=null,Ma=1,Ua="";function Fa(e,t){Na[Aa++]=Da,Na[Aa++]=Ra,Ra=e,Da=t}function Va(e,t,n){Oa[La++]=Ma,Oa[La++]=Ua,Oa[La++]=Pa,Pa=e;var r=Ma;e=Ua;var i=32-wt(r)-1;r&=~(1<<i),n+=1;var a=32-wt(t)+i;if(30<a){var u=i-i%5;a=(r&(1<<u)-1).toString(32),r>>=u,i-=u,Ma=1<<32-wt(t)+i|n<<i|r,Ua=a+e}else Ma=1<<a|n<<i|r,Ua=e}function ja(e){null!==e.return&&(Fa(e,1),Va(e,1,0))}function za(e){for(;e===Ra;)Ra=Na[--Aa],Na[Aa]=null,Da=Na[--Aa],Na[Aa]=null;for(;e===Pa;)Pa=Oa[--La],Oa[La]=null,Ua=Oa[--La],Oa[La]=null,Ma=Oa[--La],Oa[La]=null}var Ba=null,qa=null,Ha=!1,Ka=null;function Wa(e,t){var n=Bl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Ga(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ba=e,qa=wi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ba=e,qa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Pa?{id:Ma,overflow:Ua}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Bl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ba=e,qa=null,!0);default:return!1}}function Qa(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function $a(e){if(Ha){var t=qa;if(t){var n=t;if(!Ga(e,t)){if(Qa(e))throw Error(k(418));t=wi(n.nextSibling);var r=Ba;t&&Ga(e,t)?Wa(r,n):(e.flags=-4097&e.flags|2,Ha=!1,Ba=e)}}else{if(Qa(e))throw Error(k(418));e.flags=-4097&e.flags|2,Ha=!1,Ba=e}}}function Ya(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ba=e}function Xa(e){if(e!==Ba)return!1;if(!Ha)return Ya(e),Ha=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!pi(e.type,e.memoizedProps)),t&&(t=qa)){if(Qa(e)){for(e=qa;e;)e=wi(e.nextSibling);throw Error(k(418))}for(;t;)Wa(e,t),t=wi(t.nextSibling)}if(Ya(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){qa=wi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}qa=null}}else qa=Ba?wi(e.stateNode.nextSibling):null;return!0}function Ja(){qa=Ba=null,Ha=!1}function Za(e){null===Ka?Ka=[e]:Ka.push(e)}function eu(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;t===xa&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function tu(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nu(e){return(0,e._init)(e._payload)}function ru(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Ql(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function s(e,t,n,r){var a=n.type;return a===F?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===G&&nu(a)===t.type)?((r=i(t,n.props)).ref=eu(e,t,n),r.return=e,r):((r=Kl(n.type,n.key,n.props,null,e.mode,r)).ref=eu(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,a){return null===t||7!==t.tag?((t=Wl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Ql(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case M:return(n=Kl(t.type,t.key,t.props,null,e.mode,n)).ref=eu(e,null,t),n.return=e,n;case U:return(t=$l(t,e.mode,n)).return=e,t;case G:return f(e,(0,t._init)(t._payload),n)}if(ye(t)||Y(t))return(t=Wl(t,e.mode,n,null)).return=e,t;tu(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case M:return n.key===i?s(e,t,n,r):null;case U:return n.key===i?l(e,t,n,r):null;case G:return d(e,t,(i=n._init)(n._payload),r)}if(ye(n)||Y(n))return null!==i?null:c(e,t,n,r,null);tu(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case M:return s(t,e=e.get(null===r.key?n:r.key)||null,r,i);case U:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case G:return h(e,t,n,(0,r._init)(r._payload),i)}if(ye(r)||Y(r))return c(t,e=e.get(n)||null,r,i,null);tu(t,r)}return null}return function o(s,l,c,p){if("object"==typeof c&&null!==c&&c.type===F&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case M:e:{for(var v=c.key,y=l;null!==y;){if(y.key===v){if((v=c.type)===F){if(7===y.tag){n(s,y.sibling),(l=i(y,c.props.children)).return=s,s=l;break e}}else if(y.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===G&&nu(v)===y.type){n(s,y.sibling),(l=i(y,c.props)).ref=eu(s,y,c),l.return=s,s=l;break e}n(s,y);break}t(s,y),y=y.sibling}c.type===F?((l=Wl(c.props.children,s.mode,p,c.key)).return=s,s=l):((p=Kl(c.type,c.key,c.props,null,s.mode,p)).ref=eu(s,l,c),p.return=s,s=p)}return u(s);case U:e:{for(y=c.key;null!==l;){if(l.key===y){if(4===l.tag&&l.stateNode.containerInfo===c.containerInfo&&l.stateNode.implementation===c.implementation){n(s,l.sibling),(l=i(l,c.children||[])).return=s,s=l;break e}n(s,l);break}t(s,l),l=l.sibling}(l=$l(c,s.mode,p)).return=s,s=l}return u(s);case G:return o(s,l,(y=c._init)(c._payload),p)}if(ye(c))return function(i,u,o,s){for(var l=null,c=null,p=u,v=u=0,y=null;null!==p&&v<o.length;v++){p.index>v?(y=p,p=null):y=p.sibling;var m=d(i,p,o[v],s);if(null===m){null===p&&(p=y);break}e&&p&&null===m.alternate&&t(i,p),u=a(m,u,v),null===c?l=m:c.sibling=m,c=m,p=y}if(v===o.length)return n(i,p),Ha&&Fa(i,v),l;if(null===p){for(;v<o.length;v++)null!==(p=f(i,o[v],s))&&(u=a(p,u,v),null===c?l=p:c.sibling=p,c=p);return Ha&&Fa(i,v),l}for(p=r(i,p);v<o.length;v++)null!==(y=h(p,i,v,o[v],s))&&(e&&null!==y.alternate&&p.delete(null===y.key?v:y.key),u=a(y,u,v),null===c?l=y:c.sibling=y,c=y);return e&&p.forEach((function(e){return t(i,e)})),Ha&&Fa(i,v),l}(s,l,c,p);if(Y(c))return function(i,u,o,s){var l=Y(o);if("function"!=typeof l)throw Error(k(150));if(null==(o=l.call(o)))throw Error(k(151));for(var c=l=null,p=u,v=u=0,y=null,m=o.next();null!==p&&!m.done;v++,m=o.next()){p.index>v?(y=p,p=null):y=p.sibling;var g=d(i,p,m.value,s);if(null===g){null===p&&(p=y);break}e&&p&&null===g.alternate&&t(i,p),u=a(g,u,v),null===c?l=g:c.sibling=g,c=g,p=y}if(m.done)return n(i,p),Ha&&Fa(i,v),l;if(null===p){for(;!m.done;v++,m=o.next())null!==(m=f(i,m.value,s))&&(u=a(m,u,v),null===c?l=m:c.sibling=m,c=m);return Ha&&Fa(i,v),l}for(p=r(i,p);!m.done;v++,m=o.next())null!==(m=h(p,i,v,m.value,s))&&(e&&null!==m.alternate&&p.delete(null===m.key?v:m.key),u=a(m,u,v),null===c?l=m:c.sibling=m,c=m);return e&&p.forEach((function(e){return t(i,e)})),Ha&&Fa(i,v),l}(s,l,c,p);tu(s,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==l&&6===l.tag?(n(s,l.sibling),(l=i(l,c)).return=s,s=l):(n(s,l),(l=Ql(c,s.mode,p)).return=s,s=l),u(s)):n(s,l)}}var iu=ru(!0),au=ru(!1),uu={},ou=Mi(uu),su=Mi(uu),lu=Mi(uu);function cu(e){if(e===uu)throw Error(k(174));return e}function fu(e,t){switch(Fi(lu,t),Fi(su,e),Fi(ou,uu),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ee(null,"");break;default:t=Ee(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ui(ou),Fi(ou,t)}function du(){Ui(ou),Ui(su),Ui(lu)}function hu(e){cu(lu.current);var t=cu(ou.current),n=Ee(t,e.type);t!==n&&(Fi(su,e),Fi(ou,n))}function pu(e){su.current===e&&(Ui(ou),Ui(su))}var vu=Mi(0);function yu(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mu=[];function gu(){for(var e=0;e<mu.length;e++)mu[e]._workInProgressVersionPrimary=null;mu.length=0}var ku=P.ReactCurrentDispatcher,bu=P.ReactCurrentBatchConfig,wu=0,xu=null,Eu=null,Su=null,_u=!1,Tu=!1,Iu=0,Cu=0;function Nu(){throw Error(k(321))}function Au(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kr(e[n],t[n]))return!1;return!0}function Ru(e,t,n,r,i,a){if(wu=a,xu=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ku.current=null===e||null===e.memoizedState?vo:yo,e=n(r,i),Tu){a=0;do{if(Tu=!1,Iu=0,25<=a)throw Error(k(301));a+=1,Su=Eu=null,t.updateQueue=null,ku.current=mo,e=n(r,i)}while(Tu)}if(ku.current=po,t=null!==Eu&&null!==Eu.next,wu=0,Su=Eu=xu=null,_u=!1,t)throw Error(k(300));return e}function Du(){var e=0!==Iu;return Iu=0,e}function Ou(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Su?xu.memoizedState=Su=e:Su=Su.next=e,Su}function Lu(){if(null===Eu){var e=xu.alternate;e=null!==e?e.memoizedState:null}else e=Eu.next;var t=null===Su?xu.memoizedState:Su.next;if(null!==t)Su=t,Eu=e;else{if(null===e)throw Error(k(310));e={memoizedState:(Eu=e).memoizedState,baseState:Eu.baseState,baseQueue:Eu.baseQueue,queue:Eu.queue,next:null},null===Su?xu.memoizedState=Su=e:Su=Su.next=e}return Su}function Pu(e,t){return"function"==typeof t?t(e):t}function Mu(e){var t=Lu(),n=t.queue;if(null===n)throw Error(k(311));n.lastRenderedReducer=e;var r=Eu,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var o=u=null,s=null,l=a;do{var c=l.lane;if((wu&c)===c)null!==s&&(s=s.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===s?(o=s=f,u=r):s=s.next=f,xu.lanes|=c,Ks|=c}l=l.next}while(null!==l&&l!==a);null===s?u=r:s.next=o,kr(r,t.memoizedState)||(Oo=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=s,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,xu.lanes|=a,Ks|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Uu(e){var t=Lu(),n=t.queue;if(null===n)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);kr(a,t.memoizedState)||(Oo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Fu(){}function Vu(e,t){var n=xu,r=Lu(),i=t(),a=!kr(r.memoizedState,i);if(a&&(r.memoizedState=i,Oo=!0),r=r.queue,Yu(Bu.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Su&&1&Su.memoizedState.tag){if(n.flags|=2048,Ku(9,zu.bind(null,n,r,i,t),void 0,null),null===Fs)throw Error(k(349));0!=(30&wu)||ju(n,t,i)}return i}function ju(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xu.updateQueue)?(t={lastEffect:null,stores:null},xu.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function zu(e,t,n,r){t.value=n,t.getSnapshot=r,qu(t)&&fl(e,1,-1)}function Bu(e,t,n){return n((function(){qu(t)&&fl(e,1,-1)}))}function qu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kr(e,n)}catch(e){return!0}}function Hu(e){var t=Ou();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pu,lastRenderedState:e},t.queue=e,e=e.dispatch=so.bind(null,xu,e),[t.memoizedState,e]}function Ku(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=xu.updateQueue)?(t={lastEffect:null,stores:null},xu.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Wu(){return Lu().memoizedState}function Gu(e,t,n,r){var i=Ou();xu.flags|=e,i.memoizedState=Ku(1|t,n,void 0,void 0===r?null:r)}function Qu(e,t,n,r){var i=Lu();r=void 0===r?null:r;var a=void 0;if(null!==Eu){var u=Eu.memoizedState;if(a=u.destroy,null!==r&&Au(r,u.deps))return void(i.memoizedState=Ku(t,n,a,r))}xu.flags|=e,i.memoizedState=Ku(1|t,n,a,r)}function $u(e,t){return Gu(8390656,8,e,t)}function Yu(e,t){return Qu(2048,8,e,t)}function Xu(e,t){return Qu(4,2,e,t)}function Ju(e,t){return Qu(4,4,e,t)}function Zu(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function eo(e,t,n){return n=null!=n?n.concat([e]):null,Qu(4,4,Zu.bind(null,t,e),n)}function to(){}function no(e,t){var n=Lu();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Au(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ro(e,t){var n=Lu();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Au(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function io(e,t,n){return 0==(21&wu)?(e.baseState&&(e.baseState=!1,Oo=!0),e.memoizedState=n):(kr(n,t)||(n=At(),xu.lanes|=n,Ks|=n,e.baseState=!0),t)}function ao(e,t){var n=Lt;Lt=0!==n&&4>n?n:4,e(!0);var r=bu.transition;bu.transition={};try{e(!1),t()}finally{Lt=n,bu.transition=r}}function uo(){return Lu().memoizedState}function oo(e,t,n){var r=cl(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lo(e)?co(t,n):(fo(e,t,n),null!==(e=fl(e,r,n=ll()))&&ho(e,t,r))}function so(e,t,n){var r=cl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lo(e))co(t,i);else{fo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var u=t.lastRenderedState,o=a(u,n);if(i.hasEagerState=!0,i.eagerState=o,kr(o,u))return}catch(e){}null!==(e=fl(e,r,n=ll()))&&ho(e,t,r)}}function lo(e){var t=e.alternate;return e===xu||null!==t&&t===xu}function co(e,t){Tu=_u=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fo(e,t,n){hl(e)?(null===(e=t.interleaved)?(n.next=n,null===da?da=[t]:da.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ho(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ot(e,n)}}var po={readContext:fa,useCallback:Nu,useContext:Nu,useEffect:Nu,useImperativeHandle:Nu,useInsertionEffect:Nu,useLayoutEffect:Nu,useMemo:Nu,useReducer:Nu,useRef:Nu,useState:Nu,useDebugValue:Nu,useDeferredValue:Nu,useTransition:Nu,useMutableSource:Nu,useSyncExternalStore:Nu,useId:Nu,unstable_isNewReconciler:!1},vo={readContext:fa,useCallback:function(e,t){return Ou().memoizedState=[e,void 0===t?null:t],e},useContext:fa,useEffect:$u,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Gu(4194308,4,Zu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gu(4,2,e,t)},useMemo:function(e,t){var n=Ou();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ou();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oo.bind(null,xu,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ou().memoizedState=e},useState:Hu,useDebugValue:to,useDeferredValue:function(e){return Ou().memoizedState=e},useTransition:function(){var e=Hu(!1),t=e[0];return e=ao.bind(null,e[1]),Ou().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xu,i=Ou();if(Ha){if(void 0===n)throw Error(k(407));n=n()}else{if(n=t(),null===Fs)throw Error(k(349));0!=(30&wu)||ju(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,$u(Bu.bind(null,r,a,e),[e]),r.flags|=2048,Ku(9,zu.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ou(),t=Fs.identifierPrefix;if(Ha){var n=Ua;t=":"+t+"R"+(n=(Ma&~(1<<32-wt(Ma)-1)).toString(32)+n),0<(n=Iu++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Cu++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yo={readContext:fa,useCallback:no,useContext:fa,useEffect:Yu,useImperativeHandle:eo,useInsertionEffect:Xu,useLayoutEffect:Ju,useMemo:ro,useReducer:Mu,useRef:Wu,useState:function(){return Mu(Pu)},useDebugValue:to,useDeferredValue:function(e){return io(Lu(),Eu.memoizedState,e)},useTransition:function(){return[Mu(Pu)[0],Lu().memoizedState]},useMutableSource:Fu,useSyncExternalStore:Vu,useId:uo,unstable_isNewReconciler:!1},mo={readContext:fa,useCallback:no,useContext:fa,useEffect:Yu,useImperativeHandle:eo,useInsertionEffect:Xu,useLayoutEffect:Ju,useMemo:ro,useReducer:Uu,useRef:Wu,useState:function(){return Uu(Pu)},useDebugValue:to,useDeferredValue:function(e){var t=Lu();return null===Eu?t.memoizedState=e:io(t,Eu.memoizedState,e)},useTransition:function(){return[Uu(Pu)[0],Lu().memoizedState]},useMutableSource:Fu,useSyncExternalStore:Vu,useId:uo,unstable_isNewReconciler:!1};function go(e,t){try{var n="",r=t;do{n+=ne(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ko(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var bo,wo,xo,Eo="function"==typeof WeakMap?WeakMap:Map;function So(e,t,n){(n=ya(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zs||(Zs=!0,el=r),ko(0,t)},n}function _o(e,t,n){(n=ya(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ko(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){ko(0,t),"function"!=typeof r&&(null===tl?tl=new Set([this]):tl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function To(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Eo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ml.bind(null,e,t,n),t.then(e,e))}function Io(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Co(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ya(-1,1)).tag=2,ma(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function No(e,t){if(!Ha)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ao(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ro(e,t,n){var r=t.pendingProps;switch(za(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ao(t),null;case 1:case 17:return Hi(t.type)&&Ki(),Ao(t),null;case 3:return r=t.stateNode,du(),Ui(zi),Ui(ji),gu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Xa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==Ka&&(ml(Ka),Ka=null))),Ao(t),null;case 5:pu(t);var i=cu(lu.current);if(n=t.type,null!==e&&null!=t.stateNode)wo(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(k(166));return Ao(t),null}if(e=cu(ou.current),Xa(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Si]=t,r[_i]=a,e=0!=(1&t.mode),n){case"dialog":Xr("cancel",r),Xr("close",r);break;case"iframe":case"object":case"embed":Xr("load",r);break;case"video":case"audio":for(i=0;i<Gr.length;i++)Xr(Gr[i],r);break;case"source":Xr("error",r);break;case"img":case"image":case"link":Xr("error",r),Xr("load",r);break;case"details":Xr("toggle",r);break;case"input":fe(r,a),Xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Xr("invalid",r);break;case"textarea":ke(r,a),Xr("invalid",r)}for(var u in Oe(n,a),i=null,a)if(a.hasOwnProperty(u)){var o=a[u];"children"===u?"string"==typeof o?r.textContent!==o&&(!0!==a.suppressHydrationWarning&&ci(r.textContent,o,e),i=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(!0!==a.suppressHydrationWarning&&ci(r.textContent,o,e),i=["children",""+o]):w.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Xr("scroll",r)}switch(n){case"input":oe(r),pe(r,a,!0);break;case"textarea":oe(r),we(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=fi)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=xe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Si]=t,e[_i]=r,bo(e,t),t.stateNode=e;e:{switch(u=Le(n,r),n){case"dialog":Xr("cancel",e),Xr("close",e),i=r;break;case"iframe":case"object":case"embed":Xr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Gr.length;i++)Xr(Gr[i],e);i=r;break;case"source":Xr("error",e),i=r;break;case"img":case"image":case"link":Xr("error",e),Xr("load",e),i=r;break;case"details":Xr("toggle",e),i=r;break;case"input":fe(e,r),i=ce(e,r),Xr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=J({},r,{value:void 0}),Xr("invalid",e);break;case"textarea":ke(e,r),i=ge(e,r),Xr("invalid",e)}for(a in Oe(n,i),o=i)if(o.hasOwnProperty(a)){var s=o[a];"style"===a?Re(e,s):"dangerouslySetInnerHTML"===a?null!=(s=s?s.__html:void 0)&&Te(e,s):"children"===a?"string"==typeof s?("textarea"!==n||""!==s)&&Ie(e,s):"number"==typeof s&&Ie(e,""+s):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(w.hasOwnProperty(a)?null!=s&&"onScroll"===a&&Xr("scroll",e):null!=s&&L(e,a,s,u))}switch(n){case"input":oe(e),pe(e,r,!1);break;case"textarea":oe(e),we(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ae(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?me(e,!!r.multiple,a,!1):null!=r.defaultValue&&me(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=fi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ao(t),null;case 6:if(e&&null!=t.stateNode)xo(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(k(166));if(n=cu(lu.current),cu(ou.current),Xa(t)){if(r=t.stateNode,n=t.memoizedProps,r[Si]=t,(a=r.nodeValue!==n)&&null!==(e=Ba))switch(e.tag){case 3:ci(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ci(r.nodeValue,n,0!=(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Si]=t,t.stateNode=r}return Ao(t),null;case 13:if(Ui(vu),r=t.memoizedState,Ha&&null!==qa&&0!=(1&t.mode)&&0==(128&t.flags)){for(r=qa;r;)r=wi(r.nextSibling);return Ja(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Xa(t),null===e){if(!r)throw Error(k(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(k(317));r[Si]=t}else Ja(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ao(t),null}return null!==Ka&&(ml(Ka),Ka=null),0!=(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Xa(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&vu.current)?0===qs&&(qs=3):Tl())),null!==t.updateQueue&&(t.flags|=4),Ao(t),null);case 4:return du(),null===e&&ei(t.stateNode.containerInfo),Ao(t),null;case 10:return sa(t.type._context),Ao(t),null;case 19:if(Ui(vu),null===(a=t.memoizedState))return Ao(t),null;if(r=0!=(128&t.flags),null===(u=a.rendering))if(r)No(a,!1);else{if(0!==qs||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=yu(e))){for(t.flags|=128,No(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fi(vu,1&vu.current|2),t.child}e=e.sibling}null!==a.tail&&dt()>Xs&&(t.flags|=128,r=!0,No(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=yu(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),No(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!Ha)return Ao(t),null}else 2*dt()-a.renderingStartTime>Xs&&1073741824!==n&&(t.flags|=128,r=!0,No(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=dt(),t.sibling=null,n=vu.current,Fi(vu,r?1&n|2:1&n),t):(Ao(t),null);case 22:case 23:return xl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&zs)&&(Ao(t),6&t.subtreeFlags&&(t.flags|=8192)):Ao(t),null;case 24:case 25:return null}throw Error(k(156,t.tag))}bo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},wo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,cu(ou.current);var a,u=null;switch(n){case"input":i=ce(e,i),r=ce(e,r),u=[];break;case"select":i=J({},i,{value:void 0}),r=J({},r,{value:void 0}),u=[];break;case"textarea":i=ge(e,i),r=ge(e,r),u=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=fi)}for(l in Oe(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var o=i[l];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(w.hasOwnProperty(l)?u||(u=[]):(u=u||[]).push(l,null));for(l in r){var s=r[l];if(o=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&s!==o&&(null!=s||null!=o))if("style"===l)if(o){for(a in o)!o.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&o[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(u||(u=[]),u.push(l,n)),n=s;else"dangerouslySetInnerHTML"===l?(s=s?s.__html:void 0,o=o?o.__html:void 0,null!=s&&o!==s&&(u=u||[]).push(l,s)):"children"===l?"string"!=typeof s&&"number"!=typeof s||(u=u||[]).push(l,""+s):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(w.hasOwnProperty(l)?(null!=s&&"onScroll"===l&&Xr("scroll",e),u||o===s||(u=[])):(u=u||[]).push(l,s))}n&&(u=u||[]).push("style",n);var l=u;(t.updateQueue=l)&&(t.flags|=4)}},xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Do=P.ReactCurrentOwner,Oo=!1;function Lo(e,t,n,r){t.child=null===e?au(t,null,n,r):iu(t,e.child,n,r)}function Po(e,t,n,r,i){n=n.render;var a=t.ref;return ca(t,i),r=Ru(e,t,n,r,a,i),n=Du(),null===e||Oo?(Ha&&n&&ja(t),t.flags|=1,Lo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ns(e,t,i))}function Mo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||ql(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Kl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Uo(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var u=a.memoizedProps;if((n=null!==(n=n.compare)?n:br)(u,r)&&e.ref===t.ref)return ns(e,t,i)}return t.flags|=1,(e=Hl(a,r)).ref=t.ref,e.return=t,t.child=e}function Uo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(br(a,r)&&e.ref===t.ref){if(Oo=!1,t.pendingProps=r=a,0==(e.lanes&i))return t.lanes=e.lanes,ns(e,t,i);0!=(131072&e.flags)&&(Oo=!0)}}return jo(e,t,n,r,i)}function Fo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fi(Bs,zs),zs|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fi(Bs,zs),zs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Fi(Bs,zs),zs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Fi(Bs,zs),zs|=r;return Lo(e,t,i,n),t.child}function Vo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jo(e,t,n,r,i){var a=Hi(n)?Bi:ji.current;return a=qi(t,a),ca(t,i),n=Ru(e,t,n,r,a,i),r=Du(),null===e||Oo?(Ha&&r&&ja(t),t.flags|=1,Lo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ns(e,t,i))}function zo(e,t,n,r,i){if(Hi(n)){var a=!0;Qi(t)}else a=!1;if(ca(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ta(t,n,r),Ca(t,n,r,i),r=!0;else if(null===e){var u=t.stateNode,o=t.memoizedProps;u.props=o;var s=u.context,l=n.contextType;"object"==typeof l&&null!==l?l=fa(l):l=qi(t,l=Hi(n)?Bi:ji.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof u.getSnapshotBeforeUpdate;f||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(o!==r||s!==l)&&Ia(t,u,r,l),ha=!1;var d=t.memoizedState;u.state=d,ba(t,r,u,i),s=t.memoizedState,o!==r||d!==s||zi.current||ha?("function"==typeof c&&(Ea(t,n,c,r),s=t.memoizedState),(o=ha||_a(t,n,o,r,d,s,l))?(f||"function"!=typeof u.UNSAFE_componentWillMount&&"function"!=typeof u.componentWillMount||("function"==typeof u.componentWillMount&&u.componentWillMount(),"function"==typeof u.UNSAFE_componentWillMount&&u.UNSAFE_componentWillMount()),"function"==typeof u.componentDidMount&&(t.flags|=4194308)):("function"==typeof u.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),u.props=r,u.state=s,u.context=l,r=o):("function"==typeof u.componentDidMount&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,va(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:na(t.type,o),u.props=l,f=t.pendingProps,d=u.context,"object"==typeof(s=n.contextType)&&null!==s?s=fa(s):s=qi(t,s=Hi(n)?Bi:ji.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof u.getSnapshotBeforeUpdate)||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(o!==f||d!==s)&&Ia(t,u,r,s),ha=!1,d=t.memoizedState,u.state=d,ba(t,r,u,i);var p=t.memoizedState;o!==f||d!==p||zi.current||ha?("function"==typeof h&&(Ea(t,n,h,r),p=t.memoizedState),(l=ha||_a(t,n,l,r,d,p,s)||!1)?(c||"function"!=typeof u.UNSAFE_componentWillUpdate&&"function"!=typeof u.componentWillUpdate||("function"==typeof u.componentWillUpdate&&u.componentWillUpdate(r,p,s),"function"==typeof u.UNSAFE_componentWillUpdate&&u.UNSAFE_componentWillUpdate(r,p,s)),"function"==typeof u.componentDidUpdate&&(t.flags|=4),"function"==typeof u.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof u.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof u.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),u.props=r,u.state=p,u.context=s,r=l):("function"!=typeof u.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof u.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Bo(e,t,n,r,a,i)}function Bo(e,t,n,r,i,a){Vo(e,t);var u=0!=(128&t.flags);if(!r&&!u)return i&&$i(t,n,!1),ns(e,t,a);r=t.stateNode,Do.current=t;var o=u&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&u?(t.child=iu(t,e.child,null,a),t.child=iu(t,null,o,a)):Lo(e,t,o,a),t.memoizedState=r.state,i&&$i(t,n,!0),t.child}function qo(e){var t=e.stateNode;t.pendingContext?Wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Wi(0,t.context,!1),fu(e,t.containerInfo)}function Ho(e,t,n,r,i){return Ja(),Za(i),t.flags|=256,Lo(e,t,n,r),t.child}var Ko={dehydrated:null,treeContext:null,retryLane:0};function Wo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Go(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Qo(e,t,n){var r,i=t.pendingProps,a=vu.current,u=!1,o=0!=(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Fi(vu,1&a),null===e)return $a(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,u?(i=t.mode,u=t.child,a={mode:"hidden",children:a},0==(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=a):u=Gl(a,i,0,null),e=Wl(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Wo(n),t.memoizedState=Ko,e):$o(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(o)return 256&t.flags?(t.flags&=-257,Jo(e,t,n,Error(k(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,a=t.mode,i=Gl({mode:"visible",children:i.children},a,0,null),(u=Wl(u,a,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!=(1&t.mode)&&iu(t,e.child,null,n),t.child.memoizedState=Wo(n),t.memoizedState=Ko,u);if(0==(1&t.mode))t=Jo(e,t,n,null);else if("$!"===r.data)t=Jo(e,t,n,Error(k(419)));else if(i=0!=(n&e.childLanes),Oo||i){if(null!==(i=Fs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!=(u&(i.suspendedLanes|n))?0:u)&&i!==a.retryLane&&(a.retryLane=i,fl(e,i,-1))}Tl(),t=Jo(e,t,n,Error(k(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Fl.bind(null,e),r._reactRetry=t,t=null):(n=a.treeContext,qa=wi(r.nextSibling),Ba=t,Ha=!0,Ka=null,null!==n&&(Oa[La++]=Ma,Oa[La++]=Ua,Oa[La++]=Pa,Ma=n.id,Ua=n.overflow,Pa=t),(t=$o(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Xo(e,t,i.children,i.fallback,n),u=t.child,a=e.child.memoizedState,u.memoizedState=null===a?Wo(n):Go(a,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ko,i):(n=Yo(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Xo(e,t,i.children,i.fallback,n),u=t.child,a=e.child.memoizedState,u.memoizedState=null===a?Wo(n):Go(a,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ko,i):(n=Yo(e,t,i.children,n),t.memoizedState=null,n)}function $o(e,t){return(t=Gl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Yo(e,t,n,r){var i=e.child;return e=i.sibling,n=Hl(i,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Xo(e,t,n,r,i){var a=t.mode,u=(e=e.child).sibling,o={mode:"hidden",children:n};return 0==(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=Hl(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==u?r=Hl(u,r):(r=Wl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Jo(e,t,n,r){return null!==r&&Za(r),iu(t,e.child,null,n),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),la(e.return,t,n)}function es(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Lo(e,t,r.children,n),0!=(2&(r=vu.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n,t);else if(19===e.tag)Zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fi(vu,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===yu(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===yu(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,a);break;case"together":es(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ks|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(k(153));if(null!==t.child){for(n=Hl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function rs(e,t){switch(za(t),t.tag){case 1:return Hi(t.type)&&Ki(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return du(),Ui(zi),Ui(ji),gu(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return pu(t),null;case 13:if(Ui(vu),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(k(340));Ja()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ui(vu),null;case 4:return du(),null;case 10:return sa(t.type._context),null;case 22:case 23:return xl(),null;default:return null}}var is=!1,as=!1,us="function"==typeof WeakSet?WeakSet:Set,os=null;function ss(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Pl(e,t,n)}else n.current=null}function ls(e,t,n){try{n()}catch(n){Pl(e,t,n)}}var cs=!1;function fs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ls(t,n,a)}i=i.next}while(i!==r)}}function ds(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hs(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ps(e){var t=e.alternate;null!==t&&(e.alternate=null,ps(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[Si],delete t[_i],delete t[Ii],delete t[Ci],delete t[Ni])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||vs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ms(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=fi));else if(4!==r&&null!==(e=e.child))for(ms(e,t,n),e=e.sibling;null!==e;)ms(e,t,n),e=e.sibling}function gs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}var ks=null,bs=!1;function ws(e,t,n){for(n=n.child;null!==n;)xs(e,t,n),n=n.sibling}function xs(e,t,n){if(bt&&"function"==typeof bt.onCommitFiberUnmount)try{bt.onCommitFiberUnmount(kt,n)}catch(e){}switch(n.tag){case 5:as||ss(n,t);case 6:var r=ks,i=bs;ks=null,ws(e,t,n),bs=i,null!==(ks=r)&&(bs?(e=ks,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ks.removeChild(n.stateNode));break;case 18:null!==ks&&(bs?(e=ks,n=n.stateNode,8===e.nodeType?bi(e.parentNode,n):1===e.nodeType&&bi(e,n),rn(e)):bi(ks,n.stateNode));break;case 4:r=ks,i=bs,ks=n.stateNode.containerInfo,bs=!0,ws(e,t,n),ks=r,bs=i;break;case 0:case 11:case 14:case 15:if(!as&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,u=a.destroy;a=a.tag,void 0!==u&&(0!=(2&a)||0!=(4&a))&&ls(n,t,u),i=i.next}while(i!==r)}ws(e,t,n);break;case 1:if(!as&&(ss(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Pl(n,t,e)}ws(e,t,n);break;case 21:ws(e,t,n);break;case 22:1&n.mode?(as=(r=as)||null!==n.memoizedState,ws(e,t,n),as=r):ws(e,t,n);break;default:ws(e,t,n)}}function Es(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach((function(t){var r=Vl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ss(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,u=t,o=u;e:for(;null!==o;){switch(o.tag){case 5:ks=o.stateNode,bs=!1;break e;case 3:case 4:ks=o.stateNode.containerInfo,bs=!0;break e}o=o.return}if(null===ks)throw Error(k(160));xs(a,u,i),ks=null,bs=!1;var s=i.alternate;null!==s&&(s.return=null),i.return=null}catch(e){Pl(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)_s(t,e),t=t.sibling}function _s(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ss(t,e),Ts(e),4&r){try{fs(3,e,e.return),ds(3,e)}catch(t){Pl(e,e.return,t)}try{fs(5,e,e.return)}catch(t){Pl(e,e.return,t)}}break;case 1:Ss(t,e),Ts(e),512&r&&null!==n&&ss(n,n.return);break;case 5:if(Ss(t,e),Ts(e),512&r&&null!==n&&ss(n,n.return),32&e.flags){var i=e.stateNode;try{Ie(i,"")}catch(t){Pl(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,u=null!==n?n.memoizedProps:a,o=e.type,s=e.updateQueue;if(e.updateQueue=null,null!==s)try{"input"===o&&"radio"===a.type&&null!=a.name&&de(i,a),Le(o,u);var l=Le(o,a);for(u=0;u<s.length;u+=2){var c=s[u],f=s[u+1];"style"===c?Re(i,f):"dangerouslySetInnerHTML"===c?Te(i,f):"children"===c?Ie(i,f):L(i,c,f,l)}switch(o){case"input":he(i,a);break;case"textarea":be(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?me(i,!!a.multiple,h,!1):d!==!!a.multiple&&(null!=a.defaultValue?me(i,!!a.multiple,a.defaultValue,!0):me(i,!!a.multiple,a.multiple?[]:"",!1))}i[_i]=a}catch(t){Pl(e,e.return,t)}}break;case 6:if(Ss(t,e),Ts(e),4&r){if(null===e.stateNode)throw Error(k(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(t){Pl(e,e.return,t)}}break;case 3:if(Ss(t,e),Ts(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{rn(t.containerInfo)}catch(t){Pl(e,e.return,t)}break;case 4:default:Ss(t,e),Ts(e);break;case 13:Ss(t,e),Ts(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Ys=dt()),4&r&&Es(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(as=(c=as)||l,Ss(t,e),as=c):Ss(t,e),Ts(e),8192&r){c=null!==e.memoizedState;e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,c?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(o=d.stateNode,u=null!=(s=d.memoizedProps.style)&&s.hasOwnProperty("display")?s.display:null,o.style.display=Ae("display",u))}catch(t){Pl(e,e.return,t)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(t){Pl(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}if(c&&!l&&0!=(1&e.mode))for(os=e,e=e.child;null!==e;){for(l=os=e;null!==os;){switch(f=(c=os).child,c.tag){case 0:case 11:case 14:case 15:fs(4,c,c.return);break;case 1:if(ss(c,c.return),"function"==typeof(a=c.stateNode).componentWillUnmount){d=c,h=c.return;try{i=d,a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(e){Pl(d,h,e)}}break;case 5:ss(c,c.return);break;case 22:if(null!==c.memoizedState){As(l);continue}}null!==f?(f.return=c,os=f):As(l)}e=e.sibling}}break;case 19:Ss(t,e),Ts(e),4&r&&Es(e);case 21:}}function Ts(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(vs(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(Ie(i,""),r.flags&=-33),gs(e,ys(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ms(e,ys(e),a);break;default:throw Error(k(161))}}catch(t){Pl(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Is(e,t,n){os=e,Cs(e,t,n)}function Cs(e,t,n){for(var r=0!=(1&e.mode);null!==os;){var i=os,a=i.child;if(22===i.tag&&r){var u=null!==i.memoizedState||is;if(!u){var o=i.alternate,s=null!==o&&null!==o.memoizedState||as;o=is;var l=as;if(is=u,(as=s)&&!l)for(os=i;null!==os;)s=(u=os).child,22===u.tag&&null!==u.memoizedState?Rs(i):null!==s?(s.return=u,os=s):Rs(i);for(;null!==a;)os=a,Cs(a,t,n),a=a.sibling;os=i,is=o,as=l}Ns(e)}else 0!=(8772&i.subtreeFlags)&&null!==a?(a.return=i,os=a):Ns(e)}}function Ns(e){for(;null!==os;){var t=os;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:as||ds(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!as)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&wa(t,a,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}wa(t,u,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var c=l.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&rn(f)}}}break;default:throw Error(k(163))}as||512&t.flags&&hs(t)}catch(e){Pl(t,t.return,e)}}if(t===e){os=null;break}if(null!==(n=t.sibling)){n.return=t.return,os=n;break}os=t.return}}function As(e){for(;null!==os;){var t=os;if(t===e){os=null;break}var n=t.sibling;if(null!==n){n.return=t.return,os=n;break}os=t.return}}function Rs(e){for(;null!==os;){var t=os;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ds(4,t)}catch(e){Pl(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Pl(t,i,e)}}var a=t.return;try{hs(t)}catch(e){Pl(t,a,e)}break;case 5:var u=t.return;try{hs(t)}catch(e){Pl(t,u,e)}}}catch(e){Pl(t,t.return,e)}if(t===e){os=null;break}var o=t.sibling;if(null!==o){o.return=t.return,os=o;break}os=t.return}}var Ds,Os=Math.ceil,Ls=P.ReactCurrentDispatcher,Ps=P.ReactCurrentOwner,Ms=P.ReactCurrentBatchConfig,Us=0,Fs=null,Vs=null,js=0,zs=0,Bs=Mi(0),qs=0,Hs=null,Ks=0,Ws=0,Gs=0,Qs=null,$s=null,Ys=0,Xs=1/0,Js=null,Zs=!1,el=null,tl=null,nl=!1,rl=null,il=0,al=0,ul=null,ol=-1,sl=0;function ll(){return 0!=(6&Us)?dt():-1!==ol?ol:ol=dt()}function cl(e){return 0==(1&e.mode)?1:0!=(2&Us)&&0!==js?js&-js:null!==ta.transition?(0===sl&&(sl=At()),sl):0!==(e=Lt)?e:e=void 0===(e=window.event)?16:dn(e.type)}function fl(e,t,n){if(50<al)throw al=0,ul=null,Error(k(185));var r=dl(e,t);return null===r?null:(Dt(r,t,n),0!=(2&Us)&&r===Fs||(r===Fs&&(0==(2&Us)&&(Ws|=t),4===qs&&gl(r,js)),pl(r,n),1===t&&0===Us&&0==(1&e.mode)&&(Xs=dt()+500,Xi&&ea())),r)}function dl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function hl(e){return(null!==Fs||null!==da)&&0!=(1&e.mode)&&0==(2&Us)}function pl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-wt(a),o=1<<u,s=i[u];-1===s?0!=(o&n)&&0==(o&r)||(i[u]=Ct(o,t)):s<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r,i=It(e,e===Fs?js:0);if(0===i)null!==n&&lt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&lt(n),1===t)0===e.tag?(r=kl.bind(null,e),Xi=!0,Zi(r)):Zi(kl.bind(null,e)),gi((function(){0===Us&&ea()})),n=null;else{switch(Pt(i)){case 1:n=pt;break;case 4:n=vt;break;case 16:default:n=yt;break;case 536870912:n=gt}n=jl(n,vl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vl(e,t){if(ol=-1,sl=0,0!=(6&Us))throw Error(k(327));var n=e.callbackNode;if(Ol()&&e.callbackNode!==n)return null;var r=It(e,e===Fs?js:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=Il(e,r);else{t=r;var i=Us;Us|=2;var a=_l();for(Fs===e&&js===t||(Js=null,Xs=dt()+500,El(e,t));;)try{Nl();break}catch(t){Sl(e,t)}oa(),Ls.current=a,Us=i,null!==Vs?t=0:(Fs=null,js=0,t=qs)}if(0!==t){if(2===t&&(0!==(i=Nt(e))&&(r=i,t=yl(e,i))),1===t)throw n=Hs,El(e,0),gl(e,r),pl(e,dt()),n;if(6===t)gl(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!kr(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Il(e,r))&&(0!==(a=Nt(e))&&(r=a,t=yl(e,a))),1===t))throw n=Hs,El(e,0),gl(e,r),pl(e,dt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:case 5:Dl(e,$s,Js);break;case 3:if(gl(e,r),(130023424&r)===r&&10<(t=Ys+500-dt())){if(0!==It(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ll(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=vi(Dl.bind(null,e,$s,Js),t);break}Dl(e,$s,Js);break;case 4:if(gl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-wt(r);a=1<<u,(u=t[u])>i&&(i=u),r&=~a}if(r=i,10<(r=(120>(r=dt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Os(r/1960))-r)){e.timeoutHandle=vi(Dl.bind(null,e,$s,Js),r);break}Dl(e,$s,Js);break;default:throw Error(k(329))}}}return pl(e,dt()),e.callbackNode===n?vl.bind(null,e):null}function yl(e,t){var n=Qs;return e.current.memoizedState.isDehydrated&&(El(e,t).flags|=256),2!==(e=Il(e,t))&&(t=$s,$s=n,null!==t&&ml(t)),e}function ml(e){null===$s?$s=e:$s.push.apply($s,e)}function gl(e,t){for(t&=~Gs,t&=~Ws,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function kl(e){if(0!=(6&Us))throw Error(k(327));Ol();var t=It(e,0);if(0==(1&t))return pl(e,dt()),null;var n=Il(e,t);if(0!==e.tag&&2===n){var r=Nt(e);0!==r&&(t=r,n=yl(e,r))}if(1===n)throw n=Hs,El(e,0),gl(e,t),pl(e,dt()),n;if(6===n)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dl(e,$s,Js),pl(e,dt()),null}function bl(e,t){var n=Us;Us|=1;try{return e(t)}finally{0===(Us=n)&&(Xs=dt()+500,Xi&&ea())}}function wl(e){null!==rl&&0===rl.tag&&0==(6&Us)&&Ol();var t=Us;Us|=1;var n=Ms.transition,r=Lt;try{if(Ms.transition=null,Lt=1,e)return e()}finally{Lt=r,Ms.transition=n,0==(6&(Us=t))&&ea()}}function xl(){zs=Bs.current,Ui(Bs)}function El(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,yi(n)),null!==Vs)for(n=Vs.return;null!==n;){var r=n;switch(za(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ki();break;case 3:du(),Ui(zi),Ui(ji),gu();break;case 5:pu(r);break;case 4:du();break;case 13:case 19:Ui(vu);break;case 10:sa(r.type._context);break;case 22:case 23:xl()}n=n.return}if(Fs=e,Vs=e=Hl(e.current,null),js=zs=t,qs=0,Hs=null,Gs=Ws=Ks=0,$s=Qs=null,null!==da){for(t=0;t<da.length;t++)if(null!==(r=(n=da[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var u=a.next;a.next=i,r.next=u}n.pending=r}da=null}return e}function Sl(e,t){for(;;){var n=Vs;try{if(oa(),ku.current=po,_u){for(var r=xu.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}_u=!1}if(wu=0,Su=Eu=xu=null,Tu=!1,Iu=0,Ps.current=null,null===n||null===n.return){qs=1,Hs=t,Vs=null;break}e:{var a=e,u=n.return,o=n,s=t;if(t=js,o.flags|=32768,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s,c=o,f=c.tag;if(0==(1&c.mode)&&(0===f||11===f||15===f)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Io(u);if(null!==h){h.flags&=-257,Co(h,u,o,0,t),1&h.mode&&To(a,l,t),s=l;var p=(t=h).updateQueue;if(null===p){var v=new Set;v.add(s),t.updateQueue=v}else p.add(s);break e}if(0==(1&t)){To(a,l,t),Tl();break e}s=Error(k(426))}else if(Ha&&1&o.mode){var y=Io(u);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),Co(y,u,o,0,t),Za(s);break e}}a=s,4!==qs&&(qs=2),null===Qs?Qs=[a]:Qs.push(a),s=go(s,o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ka(o,So(0,s,t));break e;case 1:a=s;var m=o.type,g=o.stateNode;if(0==(128&o.flags)&&("function"==typeof m.getDerivedStateFromError||null!==g&&"function"==typeof g.componentDidCatch&&(null===tl||!tl.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t,ka(o,_o(o,a,t));break e}}o=o.return}while(null!==o)}Rl(n)}catch(e){t=e,Vs===n&&null!==n&&(Vs=n=n.return);continue}break}}function _l(){var e=Ls.current;return Ls.current=po,null===e?po:e}function Tl(){0!==qs&&3!==qs&&2!==qs||(qs=4),null===Fs||0==(268435455&Ks)&&0==(268435455&Ws)||gl(Fs,js)}function Il(e,t){var n=Us;Us|=2;var r=_l();for(Fs===e&&js===t||(Js=null,El(e,t));;)try{Cl();break}catch(t){Sl(e,t)}if(oa(),Us=n,Ls.current=r,null!==Vs)throw Error(k(261));return Fs=null,js=0,qs}function Cl(){for(;null!==Vs;)Al(Vs)}function Nl(){for(;null!==Vs&&!ct();)Al(Vs)}function Al(e){var t=Ds(e.alternate,e,zs);e.memoizedProps=e.pendingProps,null===t?Rl(e):Vs=t,Ps.current=null}function Rl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ro(n,t,zs)))return void(Vs=n)}else{if(null!==(n=rs(n,t)))return n.flags&=32767,void(Vs=n);if(null===e)return qs=6,void(Vs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Vs=t);Vs=t=e}while(null!==t);0===qs&&(qs=5)}function Dl(e,t,n){var r=Lt,i=Ms.transition;try{Ms.transition=null,Lt=1,function(e,t,n,r){do{Ol()}while(null!==rl);if(0!=(6&Us))throw Error(k(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Fs&&(Vs=Fs=null,js=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||nl||(nl=!0,jl(yt,(function(){return Ol(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=Ms.transition,Ms.transition=null;var u=Lt;Lt=1;var o=Us;Us|=4,Ps.current=null,function(e,t){if(di=un,_r(e=Sr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var u=0,o=-1,s=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(o=u+i),f!==a||0!==r&&3!==f.nodeType||(s=u+r),3===f.nodeType&&(u+=f.nodeValue.length),null!==(h=f.firstChild);)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(o=u),d===a&&++c===r&&(s=u),null!==(h=f.nextSibling))break;d=(f=d).parentNode}f=h}n=-1===o||-1===s?null:{start:o,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(hi={focusedElem:e,selectionRange:n},un=!1,os=t;null!==os;)if(e=(t=os).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,os=e;else for(;null!==os;){t=os;try{var p=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var v=p.memoizedProps,y=p.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:na(t.type,v),y);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(k(163))}}catch(e){Pl(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,os=e;break}os=t.return}p=cs,cs=!1}(e,n),_s(n,e),Tr(hi),un=!!di,hi=di=null,e.current=n,Is(n,e,i),ft(),Us=o,Lt=u,Ms.transition=a}else e.current=n;if(nl&&(nl=!1,rl=e,il=i),0===(a=e.pendingLanes)&&(tl=null),function(e){if(bt&&"function"==typeof bt.onCommitFiberRoot)try{bt.onCommitFiberRoot(kt,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),pl(e,dt()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Zs)throw Zs=!1,e=el,el=null,e;0!=(1&il)&&0!==e.tag&&Ol(),0!=(1&(a=e.pendingLanes))?e===ul?al++:(al=0,ul=e):al=0,ea()}(e,t,n,r)}finally{Ms.transition=i,Lt=r}return null}function Ol(){if(null!==rl){var e=Pt(il),t=Ms.transition,n=Lt;try{if(Ms.transition=null,Lt=16>e?16:e,null===rl)var r=!1;else{if(e=rl,rl=null,il=0,0!=(6&Us))throw Error(k(331));var i=Us;for(Us|=4,os=e.current;null!==os;){var a=os,u=a.child;if(0!=(16&os.flags)){var o=a.deletions;if(null!==o){for(var s=0;s<o.length;s++){var l=o[s];for(os=l;null!==os;){var c=os;switch(c.tag){case 0:case 11:case 15:fs(8,c,a)}var f=c.child;if(null!==f)f.return=c,os=f;else for(;null!==os;){var d=(c=os).sibling,h=c.return;if(ps(c),c===l){os=null;break}if(null!==d){d.return=h,os=d;break}os=h}}}var p=a.alternate;if(null!==p){var v=p.child;if(null!==v){p.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}os=a}}if(0!=(2064&a.subtreeFlags)&&null!==u)u.return=a,os=u;else e:for(;null!==os;){if(0!=(2048&(a=os).flags))switch(a.tag){case 0:case 11:case 15:fs(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,os=m;break e}os=a.return}}var g=e.current;for(os=g;null!==os;){var b=(u=os).child;if(0!=(2064&u.subtreeFlags)&&null!==b)b.return=u,os=b;else e:for(u=g;null!==os;){if(0!=(2048&(o=os).flags))try{switch(o.tag){case 0:case 11:case 15:ds(9,o)}}catch(e){Pl(o,o.return,e)}if(o===u){os=null;break e}var w=o.sibling;if(null!==w){w.return=o.return,os=w;break e}os=o.return}}if(Us=i,ea(),bt&&"function"==typeof bt.onPostCommitFiberRoot)try{bt.onPostCommitFiberRoot(kt,e)}catch(e){}r=!0}return r}finally{Lt=n,Ms.transition=t}}return!1}function Ll(e,t,n){ma(e,t=So(0,t=go(n,t),1)),t=ll(),null!==(e=dl(e,1))&&(Dt(e,1,t),pl(e,t))}function Pl(e,t,n){if(3===e.tag)Ll(e,e,n);else for(;null!==t;){if(3===t.tag){Ll(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===tl||!tl.has(r))){ma(t,e=_o(t,e=go(n,e),1)),e=ll(),null!==(t=dl(t,1))&&(Dt(t,1,e),pl(t,e));break}}t=t.return}}function Ml(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ll(),e.pingedLanes|=e.suspendedLanes&n,Fs===e&&(js&n)===n&&(4===qs||3===qs&&(130023424&js)===js&&500>dt()-Ys?El(e,0):Gs|=n),pl(e,t)}function Ul(e,t){0===t&&(0==(1&e.mode)?t=1:(t=_t,0==(130023424&(_t<<=1))&&(_t=4194304)));var n=ll();null!==(e=dl(e,t))&&(Dt(e,t,n),pl(e,n))}function Fl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ul(e,n)}function Vl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}null!==r&&r.delete(t),Ul(e,n)}function jl(e,t){return st(e,t)}function zl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bl(e,t,n,r){return new zl(e,t,n,r)}function ql(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hl(e,t){var n=e.alternate;return null===n?((n=Bl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kl(e,t,n,r,i,a){var u=2;if(r=e,"function"==typeof e)ql(e)&&(u=1);else if("string"==typeof e)u=5;else e:switch(e){case F:return Wl(n.children,i,a,t);case V:u=8,i|=8;break;case j:return(e=Bl(12,n,t,2|i)).elementType=j,e.lanes=a,e;case H:return(e=Bl(13,n,t,i)).elementType=H,e.lanes=a,e;case K:return(e=Bl(19,n,t,i)).elementType=K,e.lanes=a,e;case Q:return Gl(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case z:u=10;break e;case B:u=9;break e;case q:u=11;break e;case W:u=14;break e;case G:u=16,r=null;break e}throw Error(k(130,null==e?e:void 0===e?"undefined":y.default(e),""))}return(t=Bl(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Wl(e,t,n,r){return(e=Bl(7,e,r,t)).lanes=n,e}function Gl(e,t,n,r){return(e=Bl(22,e,r,t)).elementType=Q,e.lanes=n,e.stateNode={},e}function Ql(e,t,n){return(e=Bl(6,e,null,t)).lanes=n,e}function $l(e,t,n){return(t=Bl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rt(0),this.expirationTimes=Rt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xl(e,t,n,r,i,a,u,o,s){return e=new Yl(e,t,n,o,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Bl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pa(a),e}function Jl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:U,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Zl(e){if(!e)return Vi;e:{if(rt(e=e._reactInternals)!==e||1!==e.tag)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(k(171))}if(1===e.tag){var n=e.type;if(Hi(n))return Gi(e,n,t)}return t}function ec(e,t,n,r,i,a,u,o,s){return(e=Xl(n,r,!0,e,0,a,0,o,s)).context=Zl(null),n=e.current,(a=ya(r=ll(),i=cl(n))).callback=null!=t?t:null,ma(n,a),e.current.lanes=i,Dt(e,i,r),pl(e,r),e}function tc(e,t,n,r){var i=t.current,a=ll(),u=cl(i);return n=Zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=ya(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ma(i,t),null!==(e=fl(i,u,a))&&ga(e,i,u),u}function nc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function rc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ic(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}Ds=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||zi.current)Oo=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return Oo=!1,function(e,t,n){switch(t.tag){case 3:qo(t),Ja();break;case 5:hu(t);break;case 1:Hi(t.type)&&Qi(t);break;case 4:fu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fi(ra,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Fi(vu,1&vu.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Qo(e,t,n):(Fi(vu,1&vu.current),null!==(e=ns(e,t,n))?e.sibling:null);Fi(vu,1&vu.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return ts(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fi(vu,vu.current),r)break;return null;case 22:case 23:return t.lanes=0,Fo(e,t,n)}return ns(e,t,n)}(e,t,n);Oo=0!=(131072&e.flags)}else Oo=!1,Ha&&0!=(1048576&t.flags)&&Va(t,Da,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=qi(t,ji.current);ca(t,n),i=Ru(null,t,r,e,i,n);var a=Du();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hi(r)?(a=!0,Qi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pa(t),i.updater=Sa,t.stateNode=i,i._reactInternals=t,Ca(t,r,e,n),t=Bo(null,t,r,!0,a,n)):(t.tag=0,Ha&&a&&ja(t),Lo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return ql(e)?1:0;if(null!=e){if((e=e.$$typeof)===q)return 11;if(e===W)return 14}return 2}(r),e=na(r,e),i){case 0:t=jo(null,t,r,e,n);break e;case 1:t=zo(null,t,r,e,n);break e;case 11:t=Po(null,t,r,e,n);break e;case 14:t=Mo(null,t,r,na(r.type,e),n);break e}throw Error(k(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(qo(t),null===e)throw Error(k(387));r=t.pendingProps,i=(a=t.memoizedState).element,va(e,t),ba(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ho(e,t,r,n,i=Error(k(423)));break e}if(r!==i){t=Ho(e,t,r,n,i=Error(k(424)));break e}for(qa=wi(t.stateNode.containerInfo.firstChild),Ba=t,Ha=!0,Ka=null,n=au(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ja(),r===i){t=ns(e,t,n);break e}Lo(e,t,r,n)}t=t.child}return t;case 5:return hu(t),null===e&&$a(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,pi(r,i)?u=null:null!==a&&pi(r,a)&&(t.flags|=32),Vo(e,t),Lo(e,t,u,n),t.child;case 6:return null===e&&$a(t),null;case 13:return Qo(e,t,n);case 4:return fu(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=iu(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Po(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,u=i.value,Fi(ra,r._currentValue),r._currentValue=u,null!==a)if(kr(a.value,u)){if(a.children===i.children&&!zi.current){t=ns(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var o=a.dependencies;if(null!==o){u=a.child;for(var s=o.firstContext;null!==s;){if(s.context===r){if(1===a.tag){(s=ya(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var c=(l=l.shared).pending;null===c?s.next=s:(s.next=c.next,c.next=s),l.pending=s}}a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),la(a.return,n,t),o.lanes|=n;break}s=s.next}}else if(10===a.tag)u=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(u=a.return))throw Error(k(341));u.lanes|=n,null!==(o=u.alternate)&&(o.lanes|=n),la(u,n,t),u=a.sibling}else u=a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===t){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}Lo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ca(t,n),r=r(i=fa(i)),t.flags|=1,Lo(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Mo(e,t,r,i=na(r.type,i),n);case 15:return Uo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Hi(r)?(e=!0,Qi(t)):e=!1,ca(t,n),Ta(t,r,i),Ca(t,r,i,n),Bo(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 22:return Fo(e,t,n)}throw Error(k(156,t.tag))};var ac="function"==typeof reportError?reportError:function(e){console.error(e)};function uc(e){this._internalRoot=e}function oc(e){this._internalRoot=e}function sc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function lc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function cc(){}function fc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var u=a;if("function"==typeof i){var o=i;i=function(){var e=nc(u);o.call(e)}}tc(t,u,e,i)}else u=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=nc(u);a.call(e)}}var u=ec(t,r,e,0,null,!1,0,"",cc);return e._reactRootContainer=u,e[Ti]=u.current,ei(8===e.nodeType?e.parentNode:e),wl(),u}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var o=r;r=function(){var e=nc(s);o.call(e)}}var s=Xl(e,0,!1,null,0,!1,0,"",cc);return e._reactRootContainer=s,e[Ti]=s.current,ei(8===e.nodeType?e.parentNode:e),wl((function(){tc(t,s,n,r)})),s}(n,t,e,i,r);return nc(u)}oc.prototype.render=uc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(k(409));tc(e,t,null,null)},oc.prototype.unmount=uc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;wl((function(){tc(null,e,null,null)})),t[Ti]=null}},oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qt.length&&0!==t&&t<Qt[n].priority;n++);Qt.splice(n,0,e),0===n&&Jt(e)}},Mt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Tt(t.pendingLanes);0!==n&&(Ot(t,1|n),pl(t,dt()),0==(6&Us)&&(Xs=dt()+500,ea()))}break;case 13:var r=ll();wl((function(){return fl(e,1,r)})),ic(e,1)}},Ut=function(e){13===e.tag&&(fl(e,134217728,ll()),ic(e,134217728))},Ft=function(e){if(13===e.tag){var t=ll(),n=cl(e);fl(e,n,t),ic(e,n)}},Vt=function(){return Lt},jt=function(e,t){var n=Lt;try{return Lt=e,t()}finally{Lt=n}},Ue=function(e,t,n){switch(t){case"input":if(he(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Oi(r);if(!i)throw Error(k(90));se(r),he(r,i)}}}break;case"textarea":be(e,n);break;case"select":null!=(t=n.value)&&me(e,!!n.multiple,t,!1)}},qe=bl,He=wl;var dc={usingClientEntryPoint:!1,Events:[Ri,Di,Oi,ze,Be,bl]},hc={findFiberByHostInstance:Ai,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},pc={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ut(e))?null:e.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{kt=vc.inject(pc),bt=vc}catch(_e){}}r=dc,i=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!sc(t))throw Error(k(200));return Jl(e,t,null,n)},u=function(e,t){if(!sc(e))throw Error(k(299));var n=!1,r="",i=ac;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Xl(e,1,!1,null,0,n,0,r,i),e[Ti]=t.current,ei(8===e.nodeType?e.parentNode:e),new uc(t)},o=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(k(188));throw e=Object.keys(e).join(","),Error(k(268,e))}return e=null===(e=ut(t))?null:e.stateNode},s=function(e){return wl(e)},l=function(e,t,n){if(!lc(t))throw Error(k(200));return fc(null,e,t,!0,n)},c=function(e,t,n){if(!sc(e))throw Error(k(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",u=ac;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=ec(t,null,e,1,null!=n?n:null,i,0,a,u),e[Ti]=t.current,ei(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new oc(t)},f=function(e,t,n){if(!lc(t))throw Error(k(200));return fc(null,e,t,!1,n)},d=function(e){if(!lc(e))throw Error(k(40));return!!e._reactRootContainer&&(wl((function(){fc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Ti]=null}))})),!0)},h=bl,p=function(e,t,n,r){if(!lc(n))throw Error(k(200));if(null==e||void 0===e._reactInternals)throw Error(k(38));return fc(e,t,n,!1,r)},v="18.1.0-next-22edb9f77-20220426"})),a.register("hnwcm",(function(e,t){"use strict";e.exports=a("7yTEO")})),a.register("7yTEO",(function(t,n){var r,i,a,u,o,s,l,c,f,d,h,p,v,y,m,g,k,b,w;function x(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return 0===e.length?null:e[0]}function S(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var u=2*(r+1)-1,o=e[u],s=u+1,l=e[s];if(0>_(o,n))s<i&&0>_(l,o)?(e[r]=l,e[s]=n,r=s):(e[r]=o,e[u]=n,r=u);else{if(!(s<i&&0>_(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e(t.exports,"unstable_now",(function(){return r}),(function(e){return r=e})),e(t.exports,"unstable_IdlePriority",(function(){return i}),(function(e){return i=e})),e(t.exports,"unstable_ImmediatePriority",(function(){return a}),(function(e){return a=e})),e(t.exports,"unstable_LowPriority",(function(){return u}),(function(e){return u=e})),e(t.exports,"unstable_NormalPriority",(function(){return o}),(function(e){return o=e})),e(t.exports,"unstable_Profiling",(function(){return s}),(function(e){return s=e})),e(t.exports,"unstable_UserBlockingPriority",(function(){return l}),(function(e){return l=e})),e(t.exports,"unstable_cancelCallback",(function(){return c}),(function(e){return c=e})),e(t.exports,"unstable_continueExecution",(function(){return f}),(function(e){return f=e})),e(t.exports,"unstable_forceFrameRate",(function(){return d}),(function(e){return d=e})),e(t.exports,"unstable_getCurrentPriorityLevel",(function(){return h}),(function(e){return h=e})),e(t.exports,"unstable_getFirstCallbackNode",(function(){return p}),(function(e){return p=e})),e(t.exports,"unstable_next",(function(){return v}),(function(e){return v=e})),e(t.exports,"unstable_pauseExecution",(function(){return y}),(function(e){return y=e})),e(t.exports,"unstable_requestPaint",(function(){return m}),(function(e){return m=e})),e(t.exports,"unstable_runWithPriority",(function(){return g}),(function(e){return g=e})),e(t.exports,"unstable_scheduleCallback",(function(){return k}),(function(e){return k=e})),e(t.exports,"unstable_shouldYield",(function(){return b}),(function(e){return b=e})),e(t.exports,"unstable_wrapCallback",(function(){return w}),(function(e){return w=e})),"object"==typeof performance&&"function"==typeof performance.now){var T=performance;r=function(){return T.now()}}else{var I=Date,C=I.now();r=function(){return I.now()-C}}var N=[],A=[],R=1,D=null,O=3,L=!1,P=!1,M=!1,U="function"==typeof setTimeout?setTimeout:null,F="function"==typeof clearTimeout?clearTimeout:null,V="undefined"!=typeof setImmediate?setImmediate:null;function j(e){for(var t=E(A);null!==t;){if(null===t.callback)S(A);else{if(!(t.startTime<=e))break;S(A),t.sortIndex=t.expirationTime,x(N,t)}t=E(A)}}function z(e){if(M=!1,j(e),!P)if(null!==E(N))P=!0,Z(B);else{var t=E(A);null!==t&&ee(z,t.startTime-e)}}function B(e,t){P=!1,M&&(M=!1,F(W),W=-1),L=!0;var n=O;try{for(j(t),D=E(N);null!==D&&(!(D.expirationTime>t)||e&&!$());){var i=D.callback;if("function"==typeof i){D.callback=null,O=D.priorityLevel;var a=i(D.expirationTime<=t);t=r(),"function"==typeof a?D.callback=a:D===E(N)&&S(N),j(t)}else S(N);D=E(N)}if(null!==D)var u=!0;else{var o=E(A);null!==o&&ee(z,o.startTime-t),u=!1}return u}finally{D=null,O=n,L=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var q,H=!1,K=null,W=-1,G=5,Q=-1;function $(){return!(r()-Q<G)}function Y(){if(null!==K){var e=r();Q=e;var t=!0;try{t=K(!0,e)}finally{t?q():(H=!1,K=null)}}else H=!1}if("function"==typeof V)q=function(){V(Y)};else if("undefined"!=typeof MessageChannel){var X=new MessageChannel,J=X.port2;X.port1.onmessage=Y,q=function(){J.postMessage(null)}}else q=function(){U(Y,0)};function Z(e){K=e,H||(H=!0,q())}function ee(e,t){W=U((function(){e(r())}),t)}i=5,a=1,u=4,o=3,s=null,l=2,c=function(e){e.callback=null},f=function(){P||L||(P=!0,Z(B))},d=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<e?Math.floor(1e3/e):5},h=function(){return O},p=function(){return E(N)},v=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},y=function(){},m=function(){},g=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},k=function(e,t,n){var i=r();switch("object"==typeof n&&null!==n?n="number"==typeof(n=n.delay)&&0<n?i+n:i:n=i,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:R++,callback:t,priorityLevel:e,startTime:n,expirationTime:a=n+a,sortIndex:-1},n>i?(e.sortIndex=n,x(A,e),null===E(N)&&e===E(A)&&(M?(F(W),W=-1):M=!0,ee(z,n-i))):(e.sortIndex=a,x(N,e),P||L||(P=!0,Z(B))),e},b=$,w=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}}));var u;u=a("2nacn");var o,s,l=a("jE8J5");!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),o=(s=a("2wM5b")).createRoot,s.hydrateRoot;var c=a("bC9U7"),f=(l=a("jE8J5"),a("fWH52")),h=a("c2zNv"),p=a("iseow"),v=a("cd1mK"),y=a("fZ0h0"),m={},g=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),u=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var o=_(u,n);if(o){if(o===v)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=c(e,t,n);if("normal"===s.type){if(r=n.done?p:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,u),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=y.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,u,o){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,u,o)}),(function(e){n("throw",e,u,o)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return n("throw",e,u,o)}))}o(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,u=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return u.next=u}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=g,s(x,"constructor",g),s(g,"constructor",m),m.displayName=s(g,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,o,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(S.prototype),s(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var u=new S(l(t,n,r,i),a);return e.isGeneratorFunction(n)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},E(x),s(x,o,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return o.type="throw",o.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],o=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(m);try{regeneratorRuntime=g}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=g:Function("r","regeneratorRuntime = r")(g)}f=a("fWH52"),h=a("c2zNv"),c=a("bC9U7"),v=a("cd1mK"),y=a("fZ0h0"),f=a("fWH52"),h=a("c2zNv");var k=a("kpL5Z"),b=a("7HQOi"),w=a("01ZuL"),x=a("gQfMJ"),E=(c=a("bC9U7"),y=a("fZ0h0"),v=a("cd1mK"),function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}),S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],u=i+1<e.length,o=u?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,f=(3&a)<<4|o>>4,d=(15&o)<<2|l>>6,h=63&l;s||(h=64,u||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(E(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var u=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{var o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],u=i<e.length?n[e.charAt(i)]:0,o=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==u||null==o||null==s)throw Error();var l=a<<2|u>>4;if(r.push(l),64!==o){var c=u<<4&240|o>>2;if(r.push(c),64!==s){var f=o<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},_=function(e){return function(e){var t=E(e);return S.encodeByteArray(t,!0)}(e).replace(/\./g,"")},T=function(e){try{return S.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var I=function(){"use strict";function e(){var t=this;f.default(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return h.default(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function C(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function N(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(C())}function A(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function R(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function D(){var e=C();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function O(){return"object"==typeof indexedDB}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var L=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r,i){var a;return f.default(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(w.default(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w.default(a),P.prototype.create),a}return n}(x.default(Error)),P=function(){"use strict";function e(t,n,r){f.default(this,e),this.service=t,this.serviceName=n,this.errors=r}return h.default(e,[{key:"create",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0]||{},a="".concat(this.service,"/").concat(e),u=this.errors[e],o=u?M(u,i):"Error",s="".concat(this.serviceName,": ").concat(o," (").concat(a,")."),l=new L(a,s,i);return l}}]),e}();function M(e,t){return e.replace(U,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var U=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t),i=!0,a=!1,u=void 0;try{for(var o,s=n[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;if(!r.includes(l))return!1;var c=e[l],f=t[l];if(V(c)&&V(f)){if(!F(c,f))return!1}else if(c!==f)return!1}}catch(e){a=!0,u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}var d=!0,h=!1,p=void 0;try{for(var v,y=r[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var m=v.value;if(!n.includes(m))return!1}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}return!0}function V(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,u=function(e,n){var r=c.default(n.value,2),i=r[0],a=r[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(i)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a))},o=Object.entries(e)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)u(0,a)}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t.length?"&"+t.join("&"):""}function z(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c.default(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function B(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q=function(){"use strict";function e(t,n){var r=this;f.default(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return h.default(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;var n=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var o=a.value;if(o in e&&"function"==typeof e[o])return!0}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function H(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function K(e){return e&&e._delegate?e._delegate:e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var G=function(){"use strict";function e(t){f.default(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return h.default(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new Q(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new $(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),Q=function(){"use strict";function e(t){var n=this;f.default(this,e),this._transaction=t,this.complete=new Promise((function(e,t){var r=n;n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(r._transaction.error)},n._transaction.onabort=function(){t(r._transaction.error)}}))}return h.default(e,[{key:"objectStore",value:function(e){return new $(this._transaction.objectStore(e))}}]),e}(),$=function(){"use strict";function e(t){f.default(this,e),this._store=t}return h.default(e,[{key:"index",value:function(e){return new Y(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Y(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return W(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return W(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return W(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return W(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Y=function(){"use strict";function e(t){f.default(this,e),this._index=t}return h.default(e,[{key:"get",value:function(e){return W(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var X=function(){"use strict";function e(t,n,r){f.default(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return h.default(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),J="[DEFAULT]",Z=function(){"use strict";function e(t,n){f.default(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return h.default(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new I;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:J})}catch(e){}var t=!0,n=!1,r=void 0;try{for(var i,a=this.instancesDeferred.entries()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=c.default(i.value,2),o=u[0],s=u[1],l=this.normalizeInstanceIdentifier(o);try{var f=this.getOrInitializeService({instanceIdentifier:l});s.resolve(f)}catch(e){}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=this;return v.default(t(m).mark((function n(){var r;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Array.from(e.instances.values()),t.next=3,Promise.all(y.default(r.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))).concat(y.default(r.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return t.stop()}}),n)})))()}},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i=this.getOrInitializeService({instanceIdentifier:r,options:n}),a=!0,u=!1,o=void 0;try{for(var s,l=this.instancesDeferred.entries()[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=c.default(s.value,2),d=f[0],h=f[1],p=this.normalizeInstanceIdentifier(d);r===p&&h.resolve(i)}}catch(e){u=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(u)throw o}}return i}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r=!0,i=!1,a=void 0;try{for(var u,o=n[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var s=u.value;try{s(e,t)}catch(e){}}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===J?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(e){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return this.component?this.component.multipleInstances?e:J:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee,te=function(){"use strict";function e(t){f.default(this,e),this.name=t,this.providers=new Map}return h.default(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Z(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ne=(p=a("iseow"),y=a("fZ0h0"),f=a("fWH52"),h=a("c2zNv"),[]);!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ee||(ee={}));var re={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ie=ee.INFO,ae=(ct={},p.default(ct,ee.DEBUG,"log"),p.default(ct,ee.VERBOSE,"log"),p.default(ct,ee.INFO,"info"),p.default(ct,ee.WARN,"warn"),p.default(ct,ee.ERROR,"error"),ct),ue=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a;if(!(t<e.logLevel)){var u=(new Date).toISOString(),o=ae[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));(a=console)[o].apply(a,["[".concat(u,"]  ").concat(e.name,":")].concat(y.default(r)))}},oe=function(){"use strict";function e(t){f.default(this,e),this.name=t,this._logLevel=ie,this._logHandler=ue,this._userLogHandler=null,ne.push(this)}return h.default(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ee))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?re[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ee.DEBUG].concat(y.default(t))),this._logHandler.apply(this,[this,ee.DEBUG].concat(y.default(t)))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ee.VERBOSE].concat(y.default(t))),this._logHandler.apply(this,[this,ee.VERBOSE].concat(y.default(t)))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ee.INFO].concat(y.default(t))),this._logHandler.apply(this,[this,ee.INFO].concat(y.default(t)))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ee.WARN].concat(y.default(t))),this._logHandler.apply(this,[this,ee.WARN].concat(y.default(t)))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ee.ERROR].concat(y.default(t))),this._logHandler.apply(this,[this,ee.ERROR].concat(y.default(t)))}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var se=function(){"use strict";function e(t){f.default(this,e),this.container=t}return h.default(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var le,ce="@firebase/app",fe="0.7.22",de=new oe("@firebase/app"),he="[DEFAULT]",pe=(ct={},p.default(ct,ce,"fire-core"),p.default(ct,"@firebase/app-compat","fire-core-compat"),p.default(ct,"@firebase/analytics","fire-analytics"),p.default(ct,"@firebase/analytics-compat","fire-analytics-compat"),p.default(ct,"@firebase/app-check","fire-app-check"),p.default(ct,"@firebase/app-check-compat","fire-app-check-compat"),p.default(ct,"@firebase/auth","fire-auth"),p.default(ct,"@firebase/auth-compat","fire-auth-compat"),p.default(ct,"@firebase/database","fire-rtdb"),p.default(ct,"@firebase/database-compat","fire-rtdb-compat"),p.default(ct,"@firebase/functions","fire-fn"),p.default(ct,"@firebase/functions-compat","fire-fn-compat"),p.default(ct,"@firebase/installations","fire-iid"),p.default(ct,"@firebase/installations-compat","fire-iid-compat"),p.default(ct,"@firebase/messaging","fire-fcm"),p.default(ct,"@firebase/messaging-compat","fire-fcm-compat"),p.default(ct,"@firebase/performance","fire-perf"),p.default(ct,"@firebase/performance-compat","fire-perf-compat"),p.default(ct,"@firebase/remote-config","fire-rc"),p.default(ct,"@firebase/remote-config-compat","fire-rc-compat"),p.default(ct,"@firebase/storage","fire-gcs"),p.default(ct,"@firebase/storage-compat","fire-gcs-compat"),p.default(ct,"@firebase/firestore","fire-fst"),p.default(ct,"@firebase/firestore-compat","fire-fst-compat"),p.default(ct,"fire-js","fire-js"),p.default(ct,"firebase","fire-js-all"),ct),ve=new Map,ye=new Map;function me(e,t){try{e.container.addComponent(t)}catch(n){de.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ge(e){var t=e.name;if(ye.has(t))return de.debug("There were multiple attempts to register component ".concat(t,".")),!1;ye.set(t,e);var n=!0,r=!1,i=void 0;try{for(var a,u=ve.values()[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){me(a.value,e)}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return!0}function ke(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var be=(le={},p.default(le,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),p.default(le,"bad-app-name","Illegal App name: '{$appName}"),p.default(le,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),p.default(le,"app-deleted","Firebase App named '{$appName}' already deleted"),p.default(le,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),p.default(le,"invalid-log-argument","First argument to `onLog` must be null or a function."),p.default(le,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),p.default(le,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),p.default(le,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),p.default(le,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),le),we=new P("app","Firebase",be),xe=function(){"use strict";function e(t,n,r){var i=this;f.default(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new X("app",(function(){return i}),"PUBLIC"))}return h.default(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw we.create("app-deleted",{appName:this._name})}}]),e}(),Ee="9.7.0";function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=ve.get(e);if(!t)throw we.create("no-app",{appName:e});return t}function _e(e,t,n){var r,i=null!==(r=pe[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var o=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&o.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&u&&o.push("and"),u&&o.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void de.warn(o.join(" "))}ge(new X("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Te="firebase-heartbeat-store",Ie=null;function Ce(){var e,t,n;return Ie||(Ie=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Te)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new G(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new G(a.result),e.oldVersion,e.newVersion,new Q(a.transaction))}}catch(e){i("Error opening indexedDB: ".concat(e.message))}}))).catch((function(e){throw we.create("storage-open",{originalErrorMessage:e.message})}))),Ie}function Ne(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=v.default(t(m).mark((function e(n){var r;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce();case 3:return r=e.sent,e.abrupt("return",r.transaction(Te).objectStore(Te).get(Oe(n)));case 7:throw e.prev=7,e.t0=e.catch(0),we.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Re(e,t){return De.apply(this,arguments)}function De(){return(De=v.default(t(m).mark((function e(n,r){var i,a,u;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce();case 3:return i=e.sent,a=i.transaction(Te,"readwrite"),u=a.objectStore(Te),e.next=8,u.put(r,Oe(n));case 8:return e.abrupt("return",a.complete);case 11:throw e.prev=11,e.t0=e.catch(0),we.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Oe(e){return"".concat(e.name,"!").concat(e.options.appId)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le=function(){"use strict";function e(t){var n=this;f.default(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Fe(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return h.default(e,[{key:"triggerHeartbeat",value:function(){var e=this;return v.default(t(m).mark((function n(){var r,i,a;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),a=Pe(),null!==e._heartbeatsCache){t.next=7;break}return t.next=6,e._heartbeatsCachePromise;case 6:e._heartbeatsCache=t.sent;case 7:if(e._heartbeatsCache.lastSentHeartbeatDate!==a&&!e._heartbeatsCache.heartbeats.some((function(e){return e.date===a}))){t.next=11;break}return t.abrupt("return");case 11:e._heartbeatsCache.heartbeats.push({date:a,agent:i});case 12:return e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),t.abrupt("return",e._storage.overwrite(e._heartbeatsCache));case 14:case"end":return t.stop()}}),n)})))()}},{key:"getHeartbeatsHeader",value:function(){var e=this;return v.default(t(m).mark((function n(){var r,i,a,u,o;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e._heartbeatsCache){t.next=3;break}return t.next=3,e._heartbeatsCachePromise;case 3:if(null!==e._heartbeatsCache&&0!==e._heartbeatsCache.heartbeats.length){t.next=5;break}return t.abrupt("return","");case 5:if(r=Pe(),i=Me(e._heartbeatsCache.heartbeats),a=i.heartbeatsToSend,u=i.unsentEntries,o=_(JSON.stringify({version:2,heartbeats:a})),e._heartbeatsCache.lastSentHeartbeatDate=r,!(u.length>0)){t.next=15;break}return e._heartbeatsCache.heartbeats=u,t.next=13,e._storage.overwrite(e._heartbeatsCache);case 13:t.next=16;break;case 15:e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache);case 16:return t.abrupt("return",o);case 17:case"end":return t.stop()}}),n)})))()}}]),e}();function Pe(){return(new Date).toISOString().substring(0,10)}function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=[],r=e.slice(),i=!0,a=!1,u=void 0;try{for(var o,s=function(e,i){var a=i.value,u=n.find((function(e){return e.agent===a.agent}));if(u){if(u.dates.push(a.date),Ve(n)>t)return u.dates.pop(),"break"}else if(n.push({agent:a.agent,dates:[a.date]}),Ve(n)>t)return n.pop(),"break";r=r.slice(1)},l=e[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var c=s(l,o);if("break"===c)break}}catch(e){a=!0,u=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw u}}return{heartbeatsToSend:n,unsentEntries:r}}var Ue,Fe=function(){"use strict";function e(t){f.default(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return h.default(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){return v.default(t(m).mark((function e(){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})))()}},{key:"read",value:function(){var e=this;return v.default(t(m).mark((function n(){var r;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._canUseIndexedDBPromise;case 2:if(t.sent){t.next=7;break}return t.abrupt("return",{heartbeats:[]});case 7:return t.next=9,Ne(e.app);case 9:return r=t.sent,t.abrupt("return",r||{heartbeats:[]});case 11:case"end":return t.stop()}}),n)})))()}},{key:"overwrite",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i,a;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,n._canUseIndexedDBPromise;case 3:if(t.sent){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,n.read();case 10:return a=t.sent,t.abrupt("return",Re(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:a.lastSentHeartbeatDate,heartbeats:e.heartbeats}));case 12:case"end":return t.stop()}}),r)})))()}},{key:"add",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i,a;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,n._canUseIndexedDBPromise;case 3:if(t.sent){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,n.read();case 10:return a=t.sent,t.abrupt("return",Re(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:a.lastSentHeartbeatDate,heartbeats:y.default(a.heartbeats).concat(y.default(e.heartbeats))}));case 12:case"end":return t.stop()}}),r)})))()}}]),e}();function Ve(e){return _(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ue="",ge(new X("platform-logger",(function(e){return new se(e)}),"PRIVATE")),ge(new X("heartbeat",(function(e){return new Le(e)}),"PRIVATE")),_e(ce,fe,Ue),_e(ce,fe,"esm2017"),_e("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
_e("firebase","9.7.0","app");v=a("cd1mK"),p=a("iseow"),y=a("fZ0h0"),f=a("fWH52"),h=a("c2zNv"),v=a("cd1mK"),c=a("bC9U7"),k=a("kpL5Z"),b=a("7HQOi"),w=a("01ZuL");var je=a("2uRTu"),ze=a("5QfHt");function Be(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;function qe(){return p.default({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var He=qe,Ke=new P("auth","Firebase",qe()),We=new oe("@firebase/auth");function Ge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;We.logLevel<=ee.ERROR&&(i=We).error.apply(i,["Auth (".concat(Ee,"): ").concat(e)].concat(y.default(n)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Je.apply(void 0,[e].concat(y.default(n)))}function $e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Je.apply(void 0,[e].concat(y.default(n)))}function Ye(e,t,n){var r=Object.assign(Object.assign({},He()),p.default({},t,n));return new P("auth","Firebase",r).create(t,{appName:e.name})}function Xe(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Qe(e,"argument-error"),Ye(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Je(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;if("string"!=typeof e){var a,u=n[0],o=y.default(n.slice(1));return o[0]&&(o[0].appName=e.name),(a=e._errorFactory).create.apply(a,[u].concat(y.default(o)))}return(i=Ke).create.apply(i,[e].concat(y.default(n)))}function Ze(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e)throw Je.apply(void 0,[t].concat(y.default(r)))}function et(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ge(t),new Error(t)}function tt(e,t){e||et(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt=new Map;function rt(e){tt(e instanceof Function,"Expected a class definition");var t=nt.get(e);return t?(tt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,nt.set(e,t),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(e,t){var n=ke(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(F(n.getOptions(),null!=t?t:{}))return r;Qe(r,"already-initialized")}return n.initialize({options:t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function at(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ut(){return"http:"===ot()||"https:"===ot()}function ot(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var st=function(){"use strict";function e(t,n){f.default(this,e),this.shortDelay=t,this.longDelay=n,tt(n>t,"Short delay should be less than long delay!"),this.isMobile=N()||R()}return h.default(e,[{key:"get",value:function(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ut()||A()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(e,t){tt(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,ft=function(){"use strict";function e(){f.default(this,e)}return h.default(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),dt=(ct={},p.default(ct,"CREDENTIAL_MISMATCH","custom-token-mismatch"),p.default(ct,"MISSING_CUSTOM_TOKEN","internal-error"),p.default(ct,"INVALID_IDENTIFIER","invalid-email"),p.default(ct,"MISSING_CONTINUE_URI","internal-error"),p.default(ct,"INVALID_PASSWORD","wrong-password"),p.default(ct,"MISSING_PASSWORD","internal-error"),p.default(ct,"EMAIL_EXISTS","email-already-in-use"),p.default(ct,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),p.default(ct,"INVALID_IDP_RESPONSE","invalid-credential"),p.default(ct,"INVALID_PENDING_TOKEN","invalid-credential"),p.default(ct,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),p.default(ct,"MISSING_REQ_TYPE","internal-error"),p.default(ct,"EMAIL_NOT_FOUND","user-not-found"),p.default(ct,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),p.default(ct,"EXPIRED_OOB_CODE","expired-action-code"),p.default(ct,"INVALID_OOB_CODE","invalid-action-code"),p.default(ct,"MISSING_OOB_CODE","internal-error"),p.default(ct,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),p.default(ct,"INVALID_ID_TOKEN","invalid-user-token"),p.default(ct,"TOKEN_EXPIRED","user-token-expired"),p.default(ct,"USER_NOT_FOUND","user-token-expired"),p.default(ct,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),p.default(ct,"INVALID_CODE","invalid-verification-code"),p.default(ct,"INVALID_SESSION_INFO","invalid-verification-id"),p.default(ct,"INVALID_TEMPORARY_PROOF","invalid-credential"),p.default(ct,"MISSING_SESSION_INFO","missing-verification-id"),p.default(ct,"SESSION_EXPIRED","code-expired"),p.default(ct,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),p.default(ct,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),p.default(ct,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),p.default(ct,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),p.default(ct,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),p.default(ct,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),p.default(ct,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),p.default(ct,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),p.default(ct,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),p.default(ct,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),p.default(ct,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ct),ht=new st(3e4,6e4);function pt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function vt(e,t,n,r){return yt.apply(this,arguments)}function yt(){return yt=v.default(t(m).mark((function e(n,r,i,a){var u,o=arguments;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",mt(n,u,v.default(t(m).mark((function e(){var u,o,s,l;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={},o={},a&&("GET"===r?o=a:u={body:JSON.stringify(a)}),s=j(Object.assign({key:n.config.apiKey},o)).slice(1),e.next=6,n._getAdditionalHeaders();case 6:return(l=e.sent)["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),e.abrupt("return",ft.fetch()(wt(n,n.config.apiHost,i,s),Object.assign({method:r,headers:l,referrerPolicy:"no-referrer"},u)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),yt.apply(this,arguments)}function mt(e,t,n){return gt.apply(this,arguments)}function gt(){return(gt=v.default(t(m).mark((function e(n,r,i){var a,u,o,s,l,f,d,h,p;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n._canInitEmulator=!1,a=Object.assign(Object.assign({},dt),r),e.prev=2,u=new xt(n),e.next=6,Promise.race([i(),u.promise]);case 6:return o=e.sent,u.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Et(n,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(l=o.ok?s.errorMessage:s.error.message,f=c.default(l.split(" : "),2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Et(n,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=25;break}throw Et(n,"email-already-in-use",s);case 25:if(p=a[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw Ye(n,p,h);case 30:Qe(n,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof L)){e.next=37;break}throw e.t0;case 37:Qe(n,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function kt(e,t,n,r){return bt.apply(this,arguments)}function bt(){return bt=v.default(t(m).mark((function e(n,r,i,a){var u,o,s=arguments;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,vt(n,r,i,a,u);case 3:return"mfaPendingCredential"in(o=e.sent)&&Qe(n,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),bt.apply(this,arguments)}function wt(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?lt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var xt=function(){"use strict";function e(t){var n=this;f.default(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){var r=n;n.timer=setTimeout((function(){return t($e(r.auth,"network-request-failed"))}),ht.get())}))}return h.default(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Et(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=$e(e,t,r);return i.customData._tokenResponse=n,i}function St(e,t){return _t.apply(this,arguments)}function _t(){return(_t=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vt(n,"POST","/v1/accounts:delete",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(e,t){return It.apply(this,arguments)}function It(){return(It=v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vt(n,"POST","/v1/accounts:lookup",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(e){var t=c.default(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{var a=T(r);return a?JSON.parse(a):(Ge("Failed to decode base64 JWT payload"),null)}catch(e){return Ge("Caught error parsing JWT payload as JSON",e),null}}function At(e,t){return Rt.apply(this,arguments)}function Rt(){return Rt=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
v.default(t(m).mark((function e(n,r){var i=arguments;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.length>2&&void 0!==i[2]&&i[2])){e.next=3;break}return e.abrupt("return",r);case 3:return e.prev=3,e.next=6,r;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof L&&Dt(e.t0))){e.next=15;break}if(n.auth.currentUser!==n){e.next=15;break}return e.next=15,n.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Rt.apply(this,arguments)}function Dt(e){var t=e.code;return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot=function(){"use strict";function e(t){f.default(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return h.default(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(e),r=this;this.timerId=setTimeout(v.default(t(m).mark((function e(){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.iteration();case 2:case"end":return e.stop()}}),e)}))),n)}}},{key:"iteration",value:function(){var e=this;return v.default(t(m).mark((function n(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.user.getIdToken(!0);case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),"auth/network-request-failed"===t.t0.code&&e.schedule(!0),t.abrupt("return");case 9:e.schedule();case 10:case"end":return t.stop()}}),n,null,[[0,5]])})))()}}]),e}(),Lt=function(){"use strict";function e(t,n){f.default(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return h.default(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ct(this.lastLoginAt),this.creationTime=Ct(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
v.default(t(m).mark((function e(n){var r,i,a,u,o,s,l,c,f,d,h;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.auth,e.next=4,n.getIdToken();case 4:return a=e.sent,e.next=7,At(n,Tt(i,{idToken:a}));case 7:Ze(null==(u=e.sent)?void 0:u.users.length,i,"internal-error"),o=u.users[0],n._notifyReloadListener(o),s=(null===(r=o.providerUserInfo)||void 0===r?void 0:r.length)?Ft(o.providerUserInfo):[],l=Ut(n.providerData,s),c=n.isAnonymous,f=!(n.email&&o.passwordHash||(null==l?void 0:l.length)),d=!!c&&f,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Lt(o.createdAt,o.lastLoginAt),isAnonymous:d},Object.assign(n,h);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return y.default(n).concat(y.default(t))}function Ft(e){return e.map((function(e){var t=e.providerId,n=Be(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Vt(e,t){return jt.apply(this,arguments)}function jt(){return(jt=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
v.default(t(m).mark((function e(n,r){var i;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(n,{},v.default(t(m).mark((function e(){var i,a,u,o,s,l;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=j({grant_type:"refresh_token",refresh_token:r}).slice(1),a=n.config,u=a.tokenApiHost,o=a.apiKey,s=wt(n,u,"/v1/token","key=".concat(o)),e.next=5,n._getAdditionalHeaders();case 5:return(l=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ft.fetch()(s,{method:"POST",headers:l,body:i}));case 8:case"end":return e.stop()}}),e)}))));case 2:return i=e.sent,e.abrupt("return",{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt=function(){"use strict";function e(){f.default(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return h.default(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ze(e.idToken,"internal-error"),Ze(void 0!==e.idToken,"internal-error"),Ze(void 0!==e.refreshToken,"internal-error");var t,n,r="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):(t=e.idToken,Ze(n=Nt(t),"internal-error"),Ze(void 0!==n.exp,"internal-error"),Ze(void 0!==n.iat,"internal-error"),Number(n.exp)-Number(n.iat));this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}},{key:"getToken",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return v.default(t(m).mark((function i(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ze(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired){t.next=3;break}return t.abrupt("return",r.accessToken);case 3:if(!r.refreshToken){t.next=7;break}return t.next=6,r.refresh(e,r.refreshToken);case 6:return t.abrupt("return",r.accessToken);case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),i)})))()}},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(e,n){var r=this;return v.default(t(m).mark((function i(){var a,u,o,s;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Vt(e,n);case 2:a=t.sent,u=a.accessToken,o=a.refreshToken,s=a.expiresIn,r.updateTokensAndExpiration(u,o,Number(s));case 7:case"end":return t.stop()}}),i)})))()}},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return et("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,u=new e;return r&&(Ze("string"==typeof r,"internal-error",{appName:t}),u.refreshToken=r),i&&(Ze("string"==typeof i,"internal-error",{appName:t}),u.accessToken=i),a&&(Ze("number"==typeof a,"internal-error",{appName:t}),u.expirationTime=a),u}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(e,t){Ze("string"==typeof e||void 0===e,"internal-error",{appName:t})}var qt=function(){"use strict";function e(t){f.default(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Be(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ot(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?y.default(a.providerData):[],this.metadata=new Lt(a.createdAt||void 0,a.lastLoginAt||void 0)}return h.default(e,[{key:"getIdToken",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At(n,n.stsTokenManager.getToken(n.auth,e));case 2:if(Ze(i=t.sent,n.auth,"internal-error"),n.accessToken===i){t.next=9;break}return n.accessToken=i,t.next=8,n.auth._persistUserIfCurrent(n);case 8:n.auth._notifyListenersIfCurrent(n);case 9:return t.abrupt("return",i);case 10:case"end":return t.stop()}}),r)})))()}},{key:"getIdTokenResult",value:function e(t){return e(this)}},{key:"reload",value:function e(){return e()}},{key:"_assign",value:function(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return v.default(t(m).mark((function i(){var a;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!1,e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),a=!0),!n){t.next=5;break}return t.next=5,Pt(r);case 5:return t.next=7,r.auth._persistUserIfCurrent(r);case 7:a&&r.auth._notifyListenersIfCurrent(r);case 8:case"end":return t.stop()}}),i)})))()}},{key:"delete",value:function(){var e=this;return v.default(t(m).mark((function n(){var r;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getIdToken();case 2:return r=t.sent,t.next=5,At(e,St(e.auth,{idToken:r}));case 5:return e.stsTokenManager.clearRefreshToken(),t.abrupt("return",e.auth.signOut());case 7:case"end":return t.stop()}}),n)})))()}},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,u,o,s,l,c,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(u=n.photoURL)&&void 0!==u?u:void 0,v=null!==(o=n.tenantId)&&void 0!==o?o:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;Ze(k&&E,t,"internal-error");var S=zt.fromJSON(this.name,E);Ze("string"==typeof k,t,"internal-error"),Bt(f,t.name),Bt(d,t.name),Ze("boolean"==typeof b,t,"internal-error"),Ze("boolean"==typeof w,t,"internal-error"),Bt(h,t.name),Bt(p,t.name),Bt(v,t.name),Bt(y,t.name),Bt(m,t.name),Bt(g,t.name);var _=new e({uid:k,auth:t,email:d,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(_._redirectEventId=y),_}},{key:"_fromIdTokenResponse",value:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v.default(t(m).mark((function a(){var u,o;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(u=new zt).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:u,isAnonymous:i}),t.next=5,Pt(o);case 5:return t.abrupt("return",o);case 6:case"end":return t.stop()}}),a)})))()}}]),e}(),Ht=function(){"use strict";function e(){f.default(this,e),this.type="NONE",this.storage={}}return h.default(e,[{key:"_isAvailable",value:function(){return v.default(t(m).mark((function e(){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))()}},{key:"_set",value:function(e,n){var r=this;return v.default(t(m).mark((function i(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.storage[e]=n;case 1:case"end":return t.stop()}}),i)})))()}},{key:"_get",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.storage[e],t.abrupt("return",void 0===i?null:i);case 2:case"end":return t.stop()}}),r)})))()}},{key:"_remove",value:function(e){var n=this;return v.default(t(m).mark((function r(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:delete n.storage[e];case 1:case"end":return t.stop()}}),r)})))()}},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht.type="NONE";var Kt=Ht;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(e,t,n){return"firebase:".concat(e,":").concat(t,":").concat(n)}var Gt=function(){"use strict";function e(t,n,r){f.default(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,u=i.name;this.fullUserKey=Wt(this.userKey,a.apiKey,u),this.fullPersistenceKey=Wt("persistence",a.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return h.default(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=this;return v.default(t(m).mark((function n(){var r;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.persistence._get(e.fullUserKey);case 2:return r=t.sent,t.abrupt("return",r?qt._fromJSON(e.auth,r):null);case 4:case"end":return t.stop()}}),n)})))()}},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.persistence!==e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,n.getCurrentUser();case 4:return i=t.sent,t.next=7,n.removeCurrentUser();case 7:if(n.persistence=e,!i){t.next=10;break}return t.abrupt("return",n.setCurrentUser(i));case 10:case"end":return t.stop()}}),r)})))()}},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";return v.default(t(m).mark((function a(){var u,o,s,l,c,f,d,h,p,y,g,k,b;return t(m).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.length){a.next=2;break}return a.abrupt("return",new e(rt(Kt),n,i));case 2:return a.next=4,Promise.all(r.map(function(){var e=v.default(t(m).mark((function e(n){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",n);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:u=a.sent.filter((function(e){return e})),o=u[0]||rt(Kt),s=Wt(i,n.config.apiKey,n.name),l=null,c=!0,f=!1,d=void 0,a.prev=9,h=r[Symbol.iterator]();case 11:if(c=(p=h.next()).done){a.next=29;break}return y=p.value,a.prev=13,a.next=16,y._get(s);case 16:if(!(g=a.sent)){a.next=22;break}return k=qt._fromJSON(n,g),y!==o&&(l=k),o=y,a.abrupt("break",29);case 22:a.next=26;break;case 24:a.prev=24,a.t0=a.catch(13);case 26:c=!0,a.next=11;break;case 29:a.next=35;break;case 31:a.prev=31,a.t1=a.catch(9),f=!0,d=a.t1;case 35:a.prev=35,a.prev=36,c||null==h.return||h.return();case 38:if(a.prev=38,!f){a.next=41;break}throw d;case 41:return a.finish(38);case 42:return a.finish(35);case 43:if(b=u.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&b.length){a.next=46;break}return a.abrupt("return",new e(o,n,i));case 46:if(o=b[0],!l){a.next=50;break}return a.next=50,o._set(s,l.toJSON());case 50:return a.next=52,Promise.all(r.map(function(){var e=v.default(t(m).mark((function e(n){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n===o){e.next=8;break}return e.prev=1,e.next=4,n._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 52:return a.abrupt("return",new e(o,n,i));case 53:case"end":return a.stop()}}),a,null,[[9,31,35,43],[13,24],[36,,38,42]])})))()}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jt(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($t(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(en(t))return"Blackberry";if(tn(t))return"Webos";if(Yt(t))return"Safari";if((t.includes("chrome/")||Xt(t))&&!t.includes("edge/"))return"Chrome";if(Zt(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null==n?void 0:n.length)?n[1]:"Other"}function $t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/firefox\//i.test(e)}function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/crios\//i.test(e)}function Jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/iemobile/i.test(e)}function Zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/android/i.test(e)}function en(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/blackberry/i.test(e)}function tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/webos/i.test(e)}function nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/iphone|ipad|ipod/i.test(e)}function rn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return nn(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function an(){return D()&&10===document.documentMode}function un(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return nn(e)||Zt(e)||tn(e)||en(e)||/windows phone/i.test(e)||Jt(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function on(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Qt(C());break;case"Worker":t="".concat(Qt(C()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ee,"/").concat(r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn=function(){"use strict";function e(t,n,r){f.default(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cn(this),this.idTokenSubscription=new cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return h.default(e,[{key:"_initializeWithPersistence",value:function(e,n){n&&(this._popupRedirectResolver=rt(n));var r=this;return this._initializationPromise=this.queue(v.default(t(m).mark((function i(){var a,u;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r._deleted){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Gt.create(r,e);case 5:if(r.persistenceManager=t.sent,!r._deleted){t.next=8;break}return t.abrupt("return");case 8:if(!(null===(a=r._popupRedirectResolver)||void 0===a?void 0:a._shouldInitProactively)){t.next=16;break}return t.prev=9,t.next=12,r._popupRedirectResolver._initialize(r);case 12:t.next=16;break;case 14:t.prev=14,t.t0=t.catch(9);case 16:return t.next=18,r.initializeCurrentUser(n);case 18:if(r.lastNotifiedUid=(null===(u=r.currentUser)||void 0===u?void 0:u.uid)||null,!r._deleted){t.next=21;break}return t.abrupt("return");case 21:r._isInitialized=!0;case 22:case"end":return t.stop()}}),i,null,[[9,14]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=this;return v.default(t(m).mark((function n(){var r;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._deleted){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.assertedPersistence.getCurrentUser();case 4:if(r=t.sent,e.currentUser||r){t.next=7;break}return t.abrupt("return");case 7:if(!e.currentUser||!r||e.currentUser.uid!==r.uid){t.next=12;break}return e._currentUser._assign(r),t.next=11,e.currentUser.getIdToken();case 11:return t.abrupt("return");case 12:return t.next=14,e._updateCurrentUser(r);case 14:case"end":return t.stop()}}),n)})))()}},{key:"initializeCurrentUser",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i,a,u,o,s;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,n.assertedPersistence.getCurrentUser();case 3:if(a=t.sent,!e||!n.config.authDomain){t.next=13;break}return t.next=7,n.getOrInitRedirectPersistenceManager();case 7:return u=null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null==a?void 0:a._redirectEventId,t.next=11,n.tryRedirectSignIn(e);case 11:s=t.sent,u&&u!==o||!(null==s?void 0:s.user)||(a=s.user);case 13:if(a){t.next=15;break}return t.abrupt("return",n.directlySetCurrentUser(null));case 15:if(a._redirectEventId){t.next=17;break}return t.abrupt("return",n.reloadAndSetCurrentUserOrClear(a));case 17:return Ze(n._popupRedirectResolver,n,"argument-error"),t.next=20,n.getOrInitRedirectPersistenceManager();case 20:if(!n.redirectUser||n.redirectUser._redirectEventId!==a._redirectEventId){t.next=22;break}return t.abrupt("return",n.directlySetCurrentUser(a));case 22:return t.abrupt("return",n.reloadAndSetCurrentUserOrClear(a));case 23:case"end":return t.stop()}}),r)})))()}},{key:"tryRedirectSignIn",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=null,t.prev=1,t.next=4,n._popupRedirectResolver._completeRedirectFn(n,e,!0);case 4:i=t.sent,t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(1),t.next=11,n._setRedirectUser(null);case 11:return t.abrupt("return",i);case 12:case"end":return t.stop()}}),r,null,[[1,7]])})))()}},{key:"reloadAndSetCurrentUserOrClear",value:function(e){var n=this;return v.default(t(m).mark((function r(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pt(e);case 3:t.next=9;break;case 5:if(t.prev=5,t.t0=t.catch(0),"auth/network-request-failed"===t.t0.code){t.next=9;break}return t.abrupt("return",n.directlySetCurrentUser(null));case 9:return t.abrupt("return",n.directlySetCurrentUser(e));case 10:case"end":return t.stop()}}),r,null,[[0,5]])})))()}},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"==typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=this;return v.default(t(m).mark((function n(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e._deleted=!0;case 1:case"end":return t.stop()}}),n)})))()}},{key:"updateCurrentUser",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=e?K(e):null)&&Ze(i.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),t.abrupt("return",n._updateCurrentUser(i&&i._clone(n)));case 3:case"end":return t.stop()}}),r)})))()}},{key:"_updateCurrentUser",value:function(e){var n=this;return v.default(t(m).mark((function r(){return t(m).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return e&&Ze(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),r.abrupt("return",n.queue(v.default(t(m).mark((function r(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.directlySetCurrentUser(e);case 2:n.notifyAuthListeners();case 3:case"end":return t.stop()}}),r)})))));case 4:case"end":return r.stop()}}),r)})))()}},{key:"signOut",value:function(){var e=this;return v.default(t(m).mark((function n(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.redirectPersistenceManager&&!e._popupRedirectResolver){t.next=3;break}return t.next=3,e._setRedirectUser(null);case 3:return t.abrupt("return",e._updateCurrentUser(null));case 4:case"end":return t.stop()}}),n)})))()}},{key:"setPersistence",value:function(e){var n=this;return this.queue(v.default(t(m).mark((function r(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.assertedPersistence.setPersistence(rt(e));case 2:case"end":return t.stop()}}),r)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new P("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(e,n){var r=this;return v.default(t(m).mark((function i(){var a;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getOrInitRedirectPersistenceManager(n);case 2:return a=t.sent,t.abrupt("return",null===e?a.removeCurrentUser():a.setCurrentUser(e));case 4:case"end":return t.stop()}}),i)})))()}},{key:"getOrInitRedirectPersistenceManager",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.redirectPersistenceManager){t.next=9;break}return Ze(i=e&&rt(e)||n._popupRedirectResolver,n,"argument-error"),t.next=5,Gt.create(n,[rt(i._redirectPersistence)],"redirectUser");case 5:return n.redirectPersistenceManager=t.sent,t.next=8,n.redirectPersistenceManager.getCurrentUser();case 8:n.redirectUser=t.sent;case 9:return t.abrupt("return",n.redirectPersistenceManager);case 10:case"end":return t.stop()}}),r)})))()}},{key:"_redirectUserForId",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i,a;return t(m).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._isInitialized){r.next=4;break}return r.next=4,n.queue(v.default(t(m).mark((function e(){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 4:if((null===(i=n._currentUser)||void 0===i?void 0:i._redirectEventId)!==e){r.next=6;break}return r.abrupt("return",n._currentUser);case 6:if((null===(a=n.redirectUser)||void 0===a?void 0:a._redirectEventId)!==e){r.next=8;break}return r.abrupt("return",n.redirectUser);case 8:return r.abrupt("return",null);case 9:case"end":return r.stop()}}),r)})))()}},{key:"_persistUserIfCurrent",value:function(e){var n=this;return v.default(t(m).mark((function r(){return t(m).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e!==n.currentUser){r.next=2;break}return r.abrupt("return",n.queue(v.default(t(m).mark((function r(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.directlySetCurrentUser(e));case 1:case"end":return t.stop()}}),r)})))));case 2:case"end":return r.stop()}}),r)})))()}},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"==typeof t?t:t.next.bind(t),u=this._isInitialized?Promise.resolve():this._initializationPromise;return Ze(u,this,"internal-error"),u.then((function(){return a(i.currentUser)})),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(e){var n=this;return v.default(t(m).mark((function r(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,!e){t.next=7;break}return t.next=5,n.assertedPersistence.setCurrentUser(e);case 5:t.next=9;break;case 7:return t.next=9,n.assertedPersistence.removeCurrentUser();case 9:case"end":return t.stop()}}),r)})))()}},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=on(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=this;return v.default(t(m).mark((function n(){var r,i,a;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=p.default({},"X-Client-Version",e.clientVersion),e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId),t.next=5,null===(r=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===r?void 0:r.getHeartbeatsHeader();case 5:return(a=t.sent)&&(i["X-Firebase-Client"]=a),t.abrupt("return",i);case 8:case"end":return t.stop()}}),n)})))()}}]),e}();function ln(e){return K(e)}var cn=function(){"use strict";function e(t){var n,r,i=this;f.default(this,e),this.auth=t,this.observer=null,this.addObserver=(r=new q((function(e){return i.observer=e}),n)).subscribe.bind(r)}return h.default(e,[{key:"next",get:function(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fn=function(){"use strict";function e(t,n){f.default(this,e),this.providerId=t,this.signInMethod=n}return h.default(e,[{key:"toJSON",value:function(){return et("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return et("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return et("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return et("not implemented")}}]),e}();function dn(e,t){return hn.apply(this,arguments)}function hn(){return(hn=v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vt(n,"POST","/v1/accounts:update",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kt(n,"POST","/v1/accounts:signInWithPassword",pt(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e,t){return mn.apply(this,arguments)}function mn(){return(mn=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kt(n,"POST","/v1/accounts:signInWithEmailLink",pt(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e,t){return kn.apply(this,arguments)}function kn(){return(kn=v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kt(n,"POST","/v1/accounts:signInWithEmailLink",pt(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn=function(e){"use strict";k.default(r,e);var n=b.default(r);function r(e,t,i){var a,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return f.default(this,r),(a=n.call(this,"password",i))._email=e,a._password=t,a._tenantId=u,a}return h.default(r,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(e){var n=this;return v.default(t(m).mark((function r(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n.signInMethod,t.next="password"===t.t0?3:"emailLink"===t.t0?4:5;break;case 3:return t.abrupt("return",pn(e,{returnSecureToken:!0,email:n._email,password:n._password}));case 4:return t.abrupt("return",yn(e,{email:n._email,oobCode:n._password}));case 5:Qe(e,"internal-error");case 6:case"end":return t.stop()}}),r)})))()}},{key:"_linkToIdToken",value:function(e,n){var r=this;return v.default(t(m).mark((function i(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=r.signInMethod,t.next="password"===t.t0?3:"emailLink"===t.t0?4:5;break;case 3:return t.abrupt("return",dn(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password}));case 4:return t.abrupt("return",gn(e,{idToken:n,email:r._email,oobCode:r._password}));case 5:Qe(e,"internal-error");case 6:case"end":return t.stop()}}),i)})))()}},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new r(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new r(e,t,"emailLink",n)}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),r}(fn);function wn(e,t){return xn.apply(this,arguments)}function xn(){return(xn=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kt(n,"POST","/v1/accounts:signInWithIdp",pt(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(){var e;return f.default(this,n),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).pendingToken=null,e}return h.default(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return wn(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,wn(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,wn(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=j(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qe("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Be(t,["providerId","signInMethod"]);if(!r||!i)return null;var u=new n(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}}]),n}(fn);function Sn(e,t){return _n.apply(this,arguments)}function _n(){return(_n=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vt(n,"POST","/v1/accounts:sendVerificationCode",pt(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(){return(Tn=v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kt(n,"POST","/v1/accounts:signInWithPhoneNumber",pt(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function In(){return(In=v.default(t(m).mark((function e(n,r){var i;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(n,"POST","/v1/accounts:signInWithPhoneNumber",pt(n,r));case 2:if(!(i=e.sent).temporaryProof){e.next=5;break}throw Et(n,"account-exists-with-different-credential",i);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cn=p.default({},"USER_NOT_FOUND","user-not-found");function Nn(){return(Nn=v.default(t(m).mark((function e(n,r){var i;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object.assign(Object.assign({},r),{operation:"REAUTH"}),e.abrupt("return",kt(n,"POST","/v1/accounts:signInWithPhoneNumber",pt(n,i),Cn));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e){var r;return f.default(this,n),(r=t.call(this,"phone","phone")).params=e,r}return h.default(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Tn.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return In.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Nn.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"==typeof e&&(e=JSON.parse(e));var t=e.verificationId,r=e.verificationCode,i=e.phoneNumber,a=e.temporaryProof;return r||t||i||a?new n({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a}):null}}]),n}(fn);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn=function(){"use strict";function e(t){var n,r,i,a,u,o;f.default(this,e);var s=z(B(t)),l=null!==(n=s.apiKey)&&void 0!==n?n:null,c=null!==(r=s.oobCode)&&void 0!==r?r:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ze(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(u=s.languageCode)&&void 0!==u?u:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}return h.default(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=z(B(e)).link,n=t?z(B(t)).deep_link_id:null,r=z(B(e)).deep_link_id;return(r?z(B(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(e){return null}}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Dn=function(){"use strict";function e(){f.default(this,e),this.providerId=e.PROVIDER_ID}return h.default(e,null,[{key:"credential",value:function(e,t){return bn._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Rn.parseLink(t);return Ze(n,"argument-error"),bn._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Dn.PROVIDER_ID="password",Dn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Dn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var On=function(){"use strict";function e(t){f.default(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return h.default(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ln=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(){var e;return f.default(this,n),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).scopes=[],e}return h.default(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return y.default(this.scopes)}}]),n}(On),Pn=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(){return f.default(this,n),t.call(this,"facebook.com")}return h.default(n,null,[{key:"credential",value:function(e){return En._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(e){return null}}}]),n}(Ln);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.FACEBOOK_SIGN_IN_METHOD="facebook.com",Pn.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Mn=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(){var e;return f.default(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return h.default(n,null,[{key:"credential",value:function(e,t){return En._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(e){return null}}}]),n}(Ln);Mn.GOOGLE_SIGN_IN_METHOD="google.com",Mn.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Un=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(){return f.default(this,n),t.call(this,"github.com")}return h.default(n,null,[{key:"credential",value:function(e){return En._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(e){return null}}}]),n}(Ln);Un.GITHUB_SIGN_IN_METHOD="github.com",Un.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Fn=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(){return f.default(this,n),t.call(this,"twitter.com")}return h.default(n,null,[{key:"credential",value:function(e,t){return En._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(e){return null}}}]),n}(Ln);Fn.TWITTER_SIGN_IN_METHOD="twitter.com",Fn.PROVIDER_ID="twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vn=function(){"use strict";function e(t){f.default(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return h.default(e,null,[{key:"_fromIdTokenResponse",value:function(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return v.default(t(m).mark((function u(){var o,s,l;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qt._fromIdTokenResponse(n,i,a);case 2:return o=t.sent,s=jn(i),l=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",l);case 6:case"end":return t.stop()}}),u)})))()}},{key:"_forOperation",value:function(n,r,i){return v.default(t(m).mark((function a(){var u;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return u=jn(i),t.abrupt("return",new e({user:n,providerId:u,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),a)})))()}}]),e}();function jn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zn=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r,i,a){var u,o;return f.default(this,n),(u=t.call(this,r.code,r.message)).operationType=i,u.user=a,Object.setPrototypeOf(w.default(u),n.prototype),u.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:r.customData._serverResponse,operationType:i},u}return h.default(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(L);function Bn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if("auth/multi-factor-auth-required"===n.code)throw zn._fromErrorAndOperation(e,n,t,r);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(e,t){return Hn.apply(this,arguments)}function Hn(){return Hn=v.default(t(m).mark((function e(n,r){var i,a,u=arguments;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],e.t0=At,e.t1=n,e.t2=r,e.t3=n.auth,e.next=7,n.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=i,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return a=e.sent,e.abrupt("return",Vn._forOperation(n,"link",a));case 14:case"end":return e.stop()}}),e)}))),Hn.apply(this,arguments)}function Kn(e,t){return Wn.apply(this,arguments)}function Wn(){return Wn=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
v.default(t(m).mark((function e(n,r){var i,a,u,o,s,l,c=arguments;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>2&&void 0!==c[2]&&c[2],a=n.auth,u="reauthenticate",e.prev=3,e.next=6,At(n,Bn(a,u,r,n),i);case 6:return Ze((o=e.sent).idToken,a,"internal-error"),Ze(s=Nt(o.idToken),a,"internal-error"),l=s.sub,Ze(n.uid===l,a,"user-mismatch"),e.abrupt("return",Vn._forOperation(n,u,o));case 15:throw e.prev=15,e.t0=e.catch(3),"auth/user-not-found"===(null===e.t0||void 0===e.t0?void 0:e.t0.code)&&Qe(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Wn.apply(this,arguments)}function Gn(e,t){return Qn.apply(this,arguments)}function Qn(){return Qn=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
v.default(t(m).mark((function e(n,r){var i,a,u,o,s=arguments;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],a="signIn",e.next=4,Bn(n,a,r);case 4:return u=e.sent,e.next=7,Vn._fromIdTokenResponse(n,a,u);case 7:if(o=e.sent,i){e.next=11;break}return e.next=11,n._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Qn.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $n(e,t){return vt(e,"POST","/v2/accounts/mfaEnrollment:start",pt(e,t))}new WeakMap;var Yn="__sak",Xn=function(){"use strict";function e(t,n){f.default(this,e),this.storageRetriever=t,this.type=n}return h.default(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Yn,"1"),this.storage.removeItem(Yn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn=function(e){"use strict";k.default(r,e);var n=b.default(r);function r(){var e,t;return f.default(this,r),(e=n.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=(Yt(t=C())||nn(t))&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=un(),e._shouldAllowMigration=!0,e}return h.default(r,[{key:"forAllChangedKeys",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=Object.keys(this.listeners)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value,o=this.storage.getItem(u),s=this.localCache[u];o!==s&&e(u,s,o)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}},{key:"onStorageEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;if(e.key){var r=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!t)return}var a=function(){var e=n.storage.getItem(r);(t||n.localCache[r]!==e)&&n.notifyListeners(r,e)},u=this.storage.getItem(r);an()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else{var o=this;this.forAllChangedKeys((function(e,t,n){o.notifyListeners(e,n)}))}}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e],r=!0,i=!1,a=void 0;if(n)try{for(var u,o=Array.from(n)[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){(0,u.value)(t?JSON.parse(t):t)}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){var t=e;e.forAllChangedKeys((function(e,n,r){t.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(e,n){var i=this,a=this;return v.default(t(m).mark((function u(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.default(ze.default(r.prototype),"_set",i).call(a,e,n);case 2:a.localCache[e]=JSON.stringify(n);case 3:case"end":return t.stop()}}),u)})))()}},{key:"_get",value:function(e){var n=this,i=this;return v.default(t(m).mark((function a(){var u;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.default(ze.default(r.prototype),"_get",n).call(i,e);case 2:return u=t.sent,i.localCache[e]=JSON.stringify(u),t.abrupt("return",u);case 5:case"end":return t.stop()}}),a)})))()}},{key:"_remove",value:function(e){var n=this,i=this;return v.default(t(m).mark((function a(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.default(ze.default(r.prototype),"_remove",n).call(i,e);case 2:delete i.localCache[e];case 3:case"end":return t.stop()}}),a)})))()}}]),r}(Xn);Jn.type="LOCAL";var Zn=Jn,er=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(){return f.default(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return h.default(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Xn);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er.type="SESSION";var tr=er;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(e){return Promise.all(e.map((n=v.default(t(m).mark((function e(n){var r;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n;case 3:return r=e.sent,e.abrupt("return",{fulfilled:!0,value:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e){return n.apply(this,arguments)})));var n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr=function(){"use strict";function e(t){f.default(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return h.default(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i,a,u,o,s,l,c,f;return t(m).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=(i=e).data,u=a.eventId,o=a.eventType,s=a.data,null==(l=n.handlersMap[o])?void 0:l.size){r.next=5;break}return r.abrupt("return");case 5:return i.ports[0].postMessage({status:"ack",eventId:u,eventType:o}),c=Array.from(l).map(function(){var e=v.default(t(m).mark((function e(n){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(i.origin,s));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.next=9,nr(c);case 9:f=r.sent,i.ports[0].postMessage({status:"done",eventId:u,eventType:o,response:f});case 11:case"end":return r.stop()}}),r)})))()}},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ir(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.receivers=[];var ar=function(){"use strict";function e(t){f.default(this,e),this.target=t,this.handlers=new Set}return h.default(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,i=this;return v.default(t(m).mark((function a(){var u,o,s;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u="undefined"!=typeof MessageChannel?new MessageChannel:null){t.next=3;break}throw new Error("connection_unavailable");case 3:return t.abrupt("return",new Promise((function(t,a){var l=ir("",20);u.port1.start();var c=setTimeout((function(){a(new Error("unsupported_event"))}),r);s={messageChannel:u,onMessage:function(e){var n=e;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),o=setTimeout((function(){a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),t(n.data.response);break;default:clearTimeout(c),clearTimeout(o),a(new Error("invalid_response"))}}},i.handlers.add(s),u.port1.addEventListener("message",s.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[u.port2])})).finally((function(){s&&i.removeMessageHandler(s)})));case 6:case"end":return t.stop()}}),a)})))()}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function or(){return void 0!==ur().WorkerGlobalScope&&"function"==typeof ur().importScripts}function sr(){return lr.apply(this,arguments)}function lr(){return(lr=v.default(t(m).mark((function e(){var n;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return n=e.sent,e.abrupt("return",n.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cr="firebaseLocalStorageDb",fr="firebaseLocalStorage",dr="fbase_key",hr=function(){"use strict";function e(t){f.default(this,e),this.request=t}return h.default(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){var r=e;e.request.addEventListener("success",(function(){t(r.request.result)})),e.request.addEventListener("error",(function(){n(r.request.error)}))}))}}]),e}();function pr(e,t){return e.transaction([fr],t?"readwrite":"readonly").objectStore(fr)}function vr(){var e=indexedDB.deleteDatabase(cr);return new hr(e).toPromise()}function yr(){var e=indexedDB.open(cr,1);return new Promise((function(n,r){e.addEventListener("error",(function(){r(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(fr,{keyPath:dr})}catch(e){r(e)}})),e.addEventListener("success",v.default(t(m).mark((function r(){var i;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=e.result).objectStoreNames.contains(fr)){t.next=12;break}return i.close(),t.next=5,vr();case 5:return t.t0=n,t.next=8,yr();case 8:t.t1=t.sent,(0,t.t0)(t.t1),t.next=13;break;case 12:n(i);case 13:case"end":return t.stop()}}),r)}))))}))}function mr(e,t,n){return gr.apply(this,arguments)}function gr(){return(gr=v.default(t(m).mark((function e(n,r,i){var a,u;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=pr(n,!0).put((a={},p.default(a,dr,r),p.default(a,"value",i),a)),e.abrupt("return",new hr(u).toPromise());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kr(e,t){return br.apply(this,arguments)}function br(){return(br=v.default(t(m).mark((function e(n,r){var i,a;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pr(n,!1).get(r),e.next=3,new hr(i).toPromise();case 3:return a=e.sent,e.abrupt("return",void 0===a?null:a.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wr(e,t){var n=pr(e,!0).delete(t);return new hr(n).toPromise()}var xr=function(){"use strict";function e(){f.default(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return h.default(e,[{key:"_openDb",value:function(){var e=this;return v.default(t(m).mark((function n(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.db){t.next=2;break}return t.abrupt("return",e.db);case 2:return t.next=4,yr();case 4:return e.db=t.sent,t.abrupt("return",e.db);case 6:case"end":return t.stop()}}),n)})))()}},{key:"_withRetries",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i,a;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:return t.prev=2,t.next=5,n._openDb();case 5:return a=t.sent,t.next=8,e(a);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(2),!(i++>3)){t.next=15;break}throw t.t0;case 15:n.db&&(n.db.close(),n.db=void 0);case 16:t.next=1;break;case 18:case"end":return t.stop()}}),r,null,[[2,11]])})))()}},{key:"initializeServiceWorkerMessaging",value:function(){var e=this;return v.default(t(m).mark((function n(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",or()?e.initializeReceiver():e.initializeSender());case 1:case"end":return t.stop()}}),n)})))()}},{key:"initializeReceiver",value:function(){var e=this;return v.default(t(m).mark((function n(){return t(m).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.receiver=rr._getInstance(or()?self:null),e.receiver._subscribe("keyChanged",function(){var n=v.default(t(m).mark((function n(r,i){var a;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._poll();case 2:return a=t.sent,t.abrupt("return",{keyProcessed:a.includes(i.key)});case 4:case"end":return t.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})))()}},{key:"initializeSender",value:function(){var e=this;return v.default(t(m).mark((function n(){var r,i,a;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,sr();case 3:if(e.activeServiceWorker=t.sent,e.activeServiceWorker){t.next=6;break}return t.abrupt("return");case 6:return e.sender=new ar(e.activeServiceWorker),t.next=9,e.sender._send("ping",{},800);case 9:if(a=t.sent){t.next=12;break}return t.abrupt("return");case 12:(null===(r=a[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=a[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0);case 13:case"end":return t.stop()}}),n)})))()}},{key:"notifyServiceWorker",value:function(e){var n=this;return v.default(t(m).mark((function r(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.sender&&n.activeServiceWorker&&(r=void 0,((null===(r=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===r?void 0:r.controller)||null)===n.activeServiceWorker)){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,n.sender._send("keyChanged",{key:e},n.serviceWorkerReceiverAvailable?800:50);case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:case"end":return t.stop()}var r}),r,null,[[2,7]])})))()}},{key:"_isAvailable",value:function(){return v.default(t(m).mark((function e(){var n;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,yr();case 5:return n=e.sent,e.next=8,mr(n,Yn,"1");case 8:return e.next=10,wr(n,Yn);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()}},{key:"_withPendingWrite",value:function(e){var n=this;return v.default(t(m).mark((function r(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.pendingWrites++,t.prev=1,t.next=4,e();case 4:return t.prev=4,n.pendingWrites--,t.finish(4);case 7:case"end":return t.stop()}}),r,null,[[1,,4,7]])})))()}},{key:"_set",value:function(e,n){var r=this;return v.default(t(m).mark((function i(){return t(m).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",r._withPendingWrite(v.default(t(m).mark((function i(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._withRetries((function(t){return mr(t,e,n)}));case 2:return r.localCache[e]=n,t.abrupt("return",r.notifyServiceWorker(e));case 4:case"end":return t.stop()}}),i)})))));case 1:case"end":return i.stop()}}),i)})))()}},{key:"_get",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._withRetries((function(t){return kr(t,e)}));case 2:return i=t.sent,n.localCache[e]=i,t.abrupt("return",i);case 5:case"end":return t.stop()}}),r)})))()}},{key:"_remove",value:function(e){var n=this;return v.default(t(m).mark((function r(){return t(m).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",n._withPendingWrite(v.default(t(m).mark((function r(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._withRetries((function(t){return wr(t,e)}));case 2:return delete n.localCache[e],t.abrupt("return",n.notifyServiceWorker(e));case 4:case"end":return t.stop()}}),r)})))));case 1:case"end":return r.stop()}}),r)})))()}},{key:"_poll",value:function(){var e=this;return v.default(t(m).mark((function n(){var r,i,a,u,o,s,l,c,f,d,h,p,v,y,g,k,b;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._withRetries((function(e){var t=pr(e,!1).getAll();return new hr(t).toPromise()}));case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",[]);case 5:if(0===e.pendingWrites){t.next=7;break}return t.abrupt("return",[]);case 7:for(i=[],a=new Set,u=!0,o=!1,s=void 0,t.prev=10,l=r[Symbol.iterator]();!(u=(c=l.next()).done);u=!0)f=c.value,d=f.fbase_key,h=f.value,a.add(d),JSON.stringify(e.localCache[d])!==JSON.stringify(h)&&(e.notifyListeners(d,h),i.push(d));t.next=18;break;case 14:t.prev=14,t.t0=t.catch(10),o=!0,s=t.t0;case 18:t.prev=18,t.prev=19,u||null==l.return||l.return();case 21:if(t.prev=21,!o){t.next=24;break}throw s;case 24:return t.finish(21);case 25:return t.finish(18);case 26:for(p=!0,v=!1,y=void 0,t.prev=27,g=Object.keys(e.localCache)[Symbol.iterator]();!(p=(k=g.next()).done);p=!0)b=k.value,e.localCache[b]&&!a.has(b)&&(e.notifyListeners(b,null),i.push(b));t.next=35;break;case 31:t.prev=31,t.t1=t.catch(27),v=!0,y=t.t1;case 35:t.prev=35,t.prev=36,p||null==g.return||g.return();case 38:if(t.prev=38,!v){t.next=41;break}throw y;case 41:return t.finish(38);case 42:return t.finish(35);case 43:return t.abrupt("return",i);case 44:case"end":return t.stop()}}),n,null,[[10,14,18,26],[19,,21,25],[27,31,35,43],[36,,38,42]])})))()}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e],r=!0,i=!1,a=void 0;if(n)try{for(var u,o=Array.from(n)[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){(0,u.value)(t)}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}}},{key:"startPolling",value:function(){this.stopPolling();var e=this;this.pollTimer=setInterval(v.default(t(m).mark((function n(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),n)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();xr.type="LOCAL";var Er=xr;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(e,t){return vt(e,"POST","/v2/accounts/mfaSignIn:start",pt(e,t))}function _r(e){return new Promise((function(t,n){var r,i,a=document.createElement("script");a.setAttribute("src",e),a.onload=t,a.onerror=function(e){var t=$e("internal-error");t.customData=e,n(t)},a.type="text/javascript",a.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(a)}))}function Tr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Tr("rcb"),new st(3e4,6e4);var Ir="recaptcha";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(e,t,n){return Nr.apply(this,arguments)}function Nr(){return(Nr=v.default(t(m).mark((function e(n,r,i){var a,u,o,s,l,c,f,d;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,i.verify();case 3:if(u=e.sent,e.prev=4,Ze("string"==typeof u,n,"argument-error"),Ze(i.type===Ir,n,"argument-error"),!("session"in(o="string"==typeof r?{phoneNumber:r}:r))){e.next=28;break}if(s=o.session,!("phoneNumber"in o)){e.next=19;break}return Ze("enroll"===s.type,n,"internal-error"),e.next=15,$n(n,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:u}});case 15:return l=e.sent,e.abrupt("return",l.phoneSessionInfo.sessionInfo);case 19:return Ze("signin"===s.type,n,"internal-error"),Ze(c=(null===(a=o.multiFactorHint)||void 0===a?void 0:a.uid)||o.multiFactorUid,n,"missing-multi-factor-info"),e.next=24,Sr(n,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:u}});case 24:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 26:e.next=32;break;case 28:return e.next=30,Sn(n,{phoneNumber:o.phoneNumber,recaptchaToken:u});case 30:return d=e.sent.sessionInfo,e.abrupt("return",d);case 32:return e.prev=32,i._reset(),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[4,,32,35]])})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ar=function(){"use strict";function e(t){f.default(this,e),this.providerId=e.PROVIDER_ID,this.auth=ln(t)}return h.default(e,[{key:"verifyPhoneNumber",value:function(e,t){return Cr(this.auth,e,K(t))}}],[{key:"credential",value:function(e,t){return An._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?An._fromTokenResponse(n,r):null}}]),e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Rr(e,t){return t?rt(t):(Ze(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar.PROVIDER_ID="phone",Ar.PHONE_SIGN_IN_METHOD="phone";var Dr=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e){var r;return f.default(this,n),(r=t.call(this,"custom","custom")).params=e,r}return h.default(n,[{key:"_getIdTokenResponse",value:function(e){return wn(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return wn(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return wn(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(fn);function Or(e){return Gn(e.auth,new Dr(e),e.bypassAuthState)}function Lr(e){var t=e.auth,n=e.user;return Ze(n,t,"internal-error"),Kn(n,new Dr(e),e.bypassAuthState)}function Pr(e){return Mr.apply(this,arguments)}function Mr(){return(Mr=v.default(t(m).mark((function e(n){var r,i;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.auth,Ze(i=n.user,r,"internal-error"),e.abrupt("return",qn(i,new Dr(n),n.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur=function(){"use strict";function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];f.default(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return h.default(e,[{key:"execute",value:function(){var e,n=this;return new Promise((e=v.default(t(m).mark((function e(r,i){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pendingPromise={resolve:r,reject:i},e.prev=1,e.next=4,n.resolver._initialize(n.auth);case 4:return n.eventManager=e.sent,e.next=7,n.onExecution();case 7:n.eventManager.registerConsumer(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n.reject(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),function(t,n){return e.apply(this,arguments)}))}},{key:"onAuthEvent",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i,a,u,o,s,l,c;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.urlResponse,a=e.sessionId,u=e.postBody,o=e.tenantId,s=e.error,l=e.type,!s){t.next=4;break}return n.reject(s),t.abrupt("return");case 4:return c={auth:n.auth,requestUri:i,sessionId:a,tenantId:o||void 0,postBody:u||void 0,user:n.user,bypassAuthState:n.bypassAuthState},t.prev=5,t.t0=n,t.next=9,n.getIdpTask(l)(c);case 9:t.t1=t.sent,t.t0.resolve.call(t.t0,t.t1),t.next=16;break;case 13:t.prev=13,t.t2=t.catch(5),n.reject(t.t2);case 16:case"end":return t.stop()}}),r,null,[[5,13]])})))()}},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Or;case"linkViaPopup":case"linkViaRedirect":return Pr;case"reauthViaPopup":case"reauthViaRedirect":return Lr;default:Qe(this.auth,"internal-error")}}},{key:"resolve",value:function(e){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Fr=new st(2e3,1e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr=function(e){"use strict";k.default(r,e);var n=b.default(r);function r(e,t,i,a,u){var o;return f.default(this,r),(o=n.call(this,e,t,a,u)).provider=i,o.authWindow=null,o.pollId=null,r.currentPopupAction&&r.currentPopupAction.cancel(),r.currentPopupAction=w.default(o),o}return h.default(r,[{key:"executeNotNull",value:function(){var e=this;return v.default(t(m).mark((function n(){var r;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.execute();case 2:return Ze(r=t.sent,e.auth,"internal-error"),t.abrupt("return",r);case 5:case"end":return t.stop()}}),n)})))()}},{key:"onExecution",value:function(){var e=this;return v.default(t(m).mark((function n(){var r;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return tt(1===e.filter.length,"Popup operations only handle one event"),r=ir(),t.next=4,e.resolver._openPopup(e.auth,e.provider,e.filter[0],r);case 4:e.authWindow=t.sent,e.authWindow.associatedEvent=r,e.resolver._originValidation(e.auth).catch((function(t){e.reject(t)})),e.resolver._isIframeWebStorageSupported(e.auth,(function(t){t||e.reject($e(e.auth,"web-storage-unsupported"))})),e.pollUserCancellation();case 9:case"end":return t.stop()}}),n)})))()}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject($e(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,r.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this,t=function(){var n,r;if(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed){var i=e;e.pollId=window.setTimeout((function(){i.pollId=null,i.reject($e(i.auth,"popup-closed-by-user"))}),2e3)}else e.pollId=window.setTimeout(t,Fr.get())};t()}}]),r}(Ur);Vr.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var jr=new Map,zr=function(e){"use strict";k.default(r,e);var n=b.default(r);function r(e,t){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f.default(this,r),(i=n.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a)).eventId=null,i}return h.default(r,[{key:"execute",value:function(){var e=this,n=this;return v.default(t(m).mark((function i(){var a,u;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=jr.get(n.auth._key())){t.next=21;break}return t.prev=2,t.next=5,Br(n.resolver,n.auth);case 5:if(!t.sent){t.next=12;break}return t.next=9,je.default(ze.default(r.prototype),"execute",e).call(n);case 9:t.t0=t.sent,t.next=13;break;case 12:t.t0=null;case 13:u=t.t0,a=function(){return Promise.resolve(u)},t.next=20;break;case 17:t.prev=17,t.t1=t.catch(2),a=function(){return Promise.reject(t.t1)};case 20:jr.set(n.auth._key(),a);case 21:return n.bypassAuthState||jr.set(n.auth._key(),(function(){return Promise.resolve(null)})),t.abrupt("return",a());case 23:case"end":return t.stop()}}),i,null,[[2,17]])})))()}},{key:"onAuthEvent",value:function(e){var n=this,i=this,a=function(){return je.default(ze.default(r.prototype),"onAuthEvent",n)};return v.default(t(m).mark((function n(){var r;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("signInViaRedirect"!==e.type){t.next=4;break}return t.abrupt("return",a().call(i,e));case 4:if("unknown"!==e.type){t.next=7;break}return i.resolve(null),t.abrupt("return");case 7:if(!e.eventId){t.next=17;break}return t.next=10,i.auth._redirectUserForId(e.eventId);case 10:if(!(r=t.sent)){t.next=16;break}return i.user=r,t.abrupt("return",a().call(i,e));case 16:i.resolve(null);case 17:case"end":return t.stop()}}),n)})))()}},{key:"onExecution",value:function(){return v.default(t(m).mark((function e(){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},{key:"cleanUp",value:function(){}}]),r}(Ur);function Br(e,t){return qr.apply(this,arguments)}function qr(){return(qr=v.default(t(m).mark((function e(n,r){var i,a,u;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gr(r),a=Wr(n),e.next=4,a._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,a._get(i);case 8:return e.t0=e.sent,u="true"===e.t0,e.next=12,a._remove(i);case 12:return e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hr(e,t){return Kr.apply(this,arguments)}function Kr(){return(Kr=v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(n)._set(Gr(r),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wr(e){return rt(e._redirectPersistence)}function Gr(e){return Wt("pendingRedirect",e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(e,t,n){return function(e,t,n){return $r.apply(this,arguments)}(e,t,n)}function $r(){return($r=v.default(t(m).mark((function e(n,r,i){var a,u;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ln(n),Xe(n,r,On),u=Rr(a,i),e.next=5,Hr(u,a);case 5:return e.abrupt("return",u._openRedirect(a,r,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yr(){return(Yr=v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(n)._initializationPromise;case 2:return e.abrupt("return",Yr(n,r,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yr(e,t){return Xr.apply(this,arguments)}function Xr(){return Xr=v.default(t(m).mark((function e(n,r){var i,a,u,o,s,l=arguments;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>2&&void 0!==l[2]&&l[2],a=ln(n),u=Rr(a,r),o=new zr(a,u,i),e.next=6,o.execute();case 6:if(!(s=e.sent)||i){e.next=13;break}return delete s.user._redirectEventId,e.next=11,a._persistUserIfCurrent(s.user);case 11:return e.next=13,a._setRedirectUser(null,r);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Jr=function(){"use strict";function e(t){f.default(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return h.default(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ei(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ei(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError($e(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zr(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Zr(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Zr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ei(e){var t=e.type,n=e.error;return"unknown"===t&&"auth/no-auth-event"===(null==n?void 0:n.code)}function ti(e){return ni.apply(this,arguments)}function ni(){return ni=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
v.default(t(m).mark((function e(n){var r,i=arguments;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",vt(n,"GET","/v1/projects",r));case 2:case"end":return e.stop()}}),e)}))),ni.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ii=/^https?/;function ai(){return ai=v.default(t(m).mark((function e(n){var r,i,a,u,o,s,l;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ti(n);case 4:r=e.sent.authorizedDomains,i=!0,a=!1,u=void 0,e.prev=6,o=r[Symbol.iterator]();case 8:if(i=(s=o.next()).done){e.next=20;break}if(l=s.value,e.prev=10,!ui(l)){e.next=13;break}return e.abrupt("return");case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(10);case 17:i=!0,e.next=8;break;case 20:e.next=26;break;case 22:e.prev=22,e.t1=e.catch(6),a=!0,u=e.t1;case 26:e.prev=26,e.prev=27,i||null==o.return||o.return();case 29:if(e.prev=29,!a){e.next=32;break}throw u;case 32:return e.finish(29);case 33:return e.finish(26);case 34:Qe(n,"unauthorized-domain");case 35:case"end":return e.stop()}}),e,null,[[6,22,26,34],[10,15],[27,,29,33]])}))),ai.apply(this,arguments)}function ui(e){var t=at(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ii.test(r))return!1;if(ri.test(e))return i===e;var u=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+u+"|"+u+")$","i").test(i)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oi=new st(3e4,6e4);function si(){var e=ur().___jsl,t=!0,n=!1,r=void 0;if(null==e?void 0:e.H)try{for(var i,a=Object.keys(e.H)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value;if(e.H[u].r=e.H[u].r||[],e.H[u].L=e.H[u].L||[],e.H[u].r=y.default(e.H[u].L),e.CP)for(var o=0;o<e.CP.length;o++)e.CP[o]=null}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}var li=null;function ci(e){return li=li||function(e){return new Promise((function(t,n){var r,i,a;function u(){si(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){si(),n($e(e,"network-request-failed"))},timeout:oi.get()})}if(null===(i=null===(r=ur().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ur().gapi)||void 0===a?void 0:a.load)){var o=Tr("iframefcb");return ur()[o]=function(){gapi.load?u():n($e(e,"network-request-failed"))},_r("https://apis.google.com/js/api.js?onload=".concat(o)).catch((function(e){return n(e)}))}u()}})).catch((function(e){throw li=null,e}))}(e),li}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi=new st(5e3,15e3),di={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pi(e){var t=e.config;Ze(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?lt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ee},i=hi.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(j(r).slice(1))}function vi(e){return yi.apply(this,arguments)}function yi(){return yi=v.default(t(m).mark((function e(n){var r,i;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(n);case 2:return r=e.sent,Ze(i=ur().gapi,n,"internal-error"),e.abrupt("return",r.open({where:document.body,url:pi(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:di,dontclear:!0},(function(e){return new Promise((r=v.default(t(m).mark((function r(i,a){var u,o,s;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(){ur().clearTimeout(o),i(e)},t.next=3,e.restyle({setHideOnLeave:!1});case 3:u=$e(n,"network-request-failed"),o=ur().setTimeout((function(){a(u)}),fi.get()),e.ping(s).then(s,(function(){a(u)}));case 7:case"end":return t.stop()}}),r)}))),function(e,t){return r.apply(this,arguments)}));var r})));case 6:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gi="_blank",ki="http://localhost",bi=function(){"use strict";function e(t){f.default(this,e),this.window=t,this.associatedEvent=null}return h.default(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function wi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",s=Object.assign(Object.assign({},mi),{width:r.toString(),height:i.toString(),top:a,left:u}),l=C().toLowerCase();n&&(o=Xt(l)?gi:n),$t(l)&&(t=t||ki,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c.default(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(rn(l)&&"_self"!==o)return xi(t||"",o),new bi(null);var d=window.open(t||"",o,f);Ze(d,e,"popup-blocked");try{d.focus()}catch(e){}return new bi(d)}function xi(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ei="__/auth/handler",Si="emulator/auth/handler";function _i(e,t,n,r,i,a){Ze(e.config.authDomain,e,"auth-domain-config-required"),Ze(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ee,eventId:i};if(t instanceof On){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));var o=!0,s=!1,l=void 0;try{for(var f,d=Object.entries(a||{})[Symbol.iterator]();!(o=(f=d.next()).done);o=!0){var h=c.default(f.value,2),p=h[0],v=h[1];u[p]=v}}catch(e){s=!0,l=e}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}}if(t instanceof Ln){var y=t.getScopes().filter((function(e){return""!==e}));y.length>0&&(u.scopes=y.join(","))}e.tenantId&&(u.tid=e.tenantId);var m,g,k=u,b=!0,w=!1,x=void 0;try{for(var E,S=Object.keys(k)[Symbol.iterator]();!(b=(E=S.next()).done);b=!0){var _=E.value;void 0===k[_]&&delete k[_]}}catch(e){w=!0,x=e}finally{try{b||null==S.return||S.return()}finally{if(w)throw x}}return"".concat((m=e,g=m.config,g.emulator?lt(g,Si):"https://".concat(g.authDomain,"/").concat(Ei)),"?").concat(j(k).slice(1))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ti="webStorageSupport",Ii=function(){"use strict";function e(){f.default(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tr,this._completeRedirectFn=Yr}return h.default(e,[{key:"_openPopup",value:function(e,n,r,i){var a=this;return v.default(t(m).mark((function u(){var o,s;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return tt(null===(o=a.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),s=_i(e,n,r,at(),i),t.abrupt("return",wi(e,s,ir()));case 4:case"end":return t.stop()}}),u)})))()}},{key:"_openRedirect",value:function(e,n,r,i){var a=this;return v.default(t(m).mark((function u(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a._originValidation(e);case 2:return u=_i(e,n,r,at(),i),ur().location.href=u,t.abrupt("return",new Promise((function(){})));case 4:case"end":return t.stop()}var u}),u)})))()}},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(tt(a,"If manager is not set, promise should be"),a)}var u=this.initAndGetManager(e);return this.eventManagers[n]={promise:u},u.catch((function(){delete t.eventManagers[n]})),u}},{key:"initAndGetManager",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i,a;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vi(e);case 2:return i=t.sent,a=new Jr(e),i.register("authEvent",(function(t){return Ze(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:a.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:a},n.iframes[e._key()]=i,t.abrupt("return",a);case 8:case"end":return t.stop()}}),r)})))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ti,{type:Ti},(function(n){var r,i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Qe(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ai.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return un()||Yt()||nn()}}]),e}(),Ci=Ii,Ni=function(){"use strict";function e(t){f.default(this,e),this.factorId=t}return h.default(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return et("unexpected MultiFactorSessionType")}}}]),e}(),Ai=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e){var r;return f.default(this,n),(r=t.call(this,"phone")).credential=e,r}return h.default(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return vt(e,"POST","/v2/accounts/mfaEnrollment:finalize",pt(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return vt(e,"POST","/v2/accounts/mfaSignIn:finalize",pt(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ni);(function(){"use strict";function e(){f.default(this,e)}return h.default(e,null,[{key:"assertion",value:function(e){return Ai._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Ri,Di="@firebase/auth",Oi="0.19.12",Li=function(){"use strict";function e(t){f.default(this,e),this.auth=t,this.internalListeners=new Map}return h.default(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(e){var n=this;return v.default(t(m).mark((function r(){var i;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.assertAuthConfigured(),t.next=3,n.auth._initializationPromise;case 3:if(n.auth.currentUser){t.next=5;break}return t.abrupt("return",null);case 5:return t.next=7,n.auth.currentUser.getIdToken(e);case 7:return i=t.sent,t.abrupt("return",{accessToken:i});case 9:case"end":return t.stop()}}),r)})))()}},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();Ri="Browser",ge(new X("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,u=a.apiKey,o=a.authDomain;return function(e,t){Ze(u&&!u.includes(":"),"invalid-api-key",{appName:e.name}),Ze(!(null==o?void 0:o.includes(":")),"argument-error",{appName:e.name});var r={apiKey:u,authDomain:o,clientPlatform:Ri,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:on(Ri)},i=new sn(e,t,r);return function(e,t){var n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rt);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ge(new X("auth-internal",(function(e){var t=ln(e.getProvider("auth").getImmediate());return new Li(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),_e(Di,Oi,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ri)),_e(Di,Oi,"esm2017");v=a("cd1mK");var Pi,Mi=a("hEJBC"),Ui=(f=a("fWH52"),h=a("c2zNv"),y=a("fZ0h0"),k=a("kpL5Z"),b=a("7HQOi"),a("aRpda")),Fi=(v=a("cd1mK"),c=a("bC9U7"),je=a("2uRTu"),ze=a("5QfHt"),a("kcrVZ")),Vi=a("gVWln"),ji=(Vi=a("gVWln"),f=a("fWH52"),h=a("c2zNv"),k=a("kpL5Z"),b=a("7HQOi"),je=a("2uRTu"),ze=a("5QfHt"),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{}),zi={},Bi=Bi||{},qi=ji||self;function Hi(){}function Ki(e){var t=void 0===e?"undefined":Vi.default(e);return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Wi(e){var t=void 0===e?"undefined":Vi.default(e);return"object"==t&&null!=e||"function"==t}var Gi="closure_uid_"+(1e9*Math.random()>>>0),Qi=0;function $i(e,t,n){return e.call.apply(e.bind,arguments)}function Yi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Xi(e,t,n){return(Xi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$i:Yi).apply(null,arguments)}function Ji(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Zi(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ea(){this.s=this.s,this.o=this.o}var ta={};ea.prototype.s=!1,ea.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Gi)&&e[Gi]||(e[Gi]=++Qi)}(this);delete ta[e]}},ea.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var na=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ra=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ia(e){return Array.prototype.concat.apply([],arguments)}function aa(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ua(e){return/^[\s\xa0]*$/.test(e)}var oa,sa=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function la(e,t){return-1!=e.indexOf(t)}function ca(e,t){return e<t?-1:e>t?1:0}e:{var fa=qi.navigator;if(fa){var da=fa.userAgent;if(da){oa=da;break e}}oa=""}function ha(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function pa(e){var t={};for(var n in e)t[n]=e[n];return t}var va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ya(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<va.length;a++)n=va[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ma(e){return ma[" "](e),e}ma[" "]=Hi;var ga,ka,ba=la(oa,"Opera"),wa=la(oa,"Trident")||la(oa,"MSIE"),xa=la(oa,"Edge"),Ea=xa||wa,Sa=la(oa,"Gecko")&&!(la(oa.toLowerCase(),"webkit")&&!la(oa,"Edge"))&&!(la(oa,"Trident")||la(oa,"MSIE"))&&!la(oa,"Edge"),_a=la(oa.toLowerCase(),"webkit")&&!la(oa,"Edge");function Ta(){var e=qi.document;return e?e.documentMode:void 0}e:{var Ia="",Ca=(ka=oa,Sa?/rv:([^\);]+)(\)|;)/.exec(ka):xa?/Edge\/([\d\.]+)/.exec(ka):wa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ka):_a?/WebKit\/(\S+)/.exec(ka):ba?/(?:Version)[ \/]?(\S+)/.exec(ka):void 0);if(Ca&&(Ia=Ca?Ca[1]:""),wa){var Na=Ta();if(null!=Na&&Na>parseFloat(Ia)){ga=String(Na);break e}}ga=Ia}var Aa,Ra={};function Da(){return function(e){var t=Ra;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=sa(String(ga)).split("."),n=sa("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",u=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;e=ca(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||ca(0==a[2].length,0==u[2].length)||ca(a[2],u[2]),a=a[3],u=u[3]}while(0==e)}return 0<=e}))}if(qi.document&&wa){var Oa=Ta();Aa=Oa||(parseInt(ga,10)||void 0)}else Aa=void 0;var La=Aa,Pa=function(){if(!qi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{qi.addEventListener("test",Hi,t),qi.removeEventListener("test",Hi,t)}catch(e){}return e}();function Ma(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ua(e,t){if(Ma.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Sa){e:{try{ma(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Fa[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ua.Z.h.call(this)}}Ma.prototype.h=function(){this.defaultPrevented=!0},Zi(Ua,Ma);var Fa={2:"touch",3:"pen",4:"mouse"};Ua.prototype.h=function(){Ua.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Va="closure_listenable_"+(1e6*Math.random()|0),ja=0;function za(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ja,this.ca=this.fa=!1}function Ba(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function qa(e){this.src=e,this.g={},this.h=0}function Ha(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=na(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ba(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ka(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}qa.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var u=Ka(e,t,r,i);return-1<u?(t=e[u],n||(t.fa=!1)):((t=new za(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Wa="closure_lm_"+(1e6*Math.random()|0),Ga={};function Qa(e,t,n,r,i){if(r&&r.once)return Ya(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Qa(e,t[a],n,r,i);return null}return n=ru(n),e&&e[Va]?e.N(t,n,Wi(r)?!!r.capture:!!r,i):$a(e,t,n,!1,r,i)}function $a(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var u=Wi(i)?!!i.capture:!!i,o=tu(e);if(o||(e[Wa]=o=new qa(e)),(n=o.add(t,n,r,u,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=eu;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Pa||(i=u),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Za(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ya(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ya(e,t[a],n,r,i);return null}return n=ru(n),e&&e[Va]?e.O(t,n,Wi(r)?!!r.capture:!!r,i):$a(e,t,n,!0,r,i)}function Xa(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Xa(e,t[a],n,r,i);else r=Wi(r)?!!r.capture:!!r,n=ru(n),e&&e[Va]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ka(a=e.g[t],n,r,i))&&(Ba(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=tu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ka(t,n,r,i)),(n=-1<e?t[e]:null)&&Ja(n))}function Ja(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Va])Ha(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Za(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=tu(t))?(Ha(n,e),0==n.h&&(n.src=null,t[Wa]=null)):Ba(e)}}}function Za(e){return e in Ga?Ga[e]:Ga[e]="on"+e}function eu(e,t){if(e.ca)e=!0;else{t=new Ua(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ja(e),e=n.call(r,t)}return e}function tu(e){return(e=e[Wa])instanceof qa?e:null}var nu="__closure_events_fn_"+(1e9*Math.random()>>>0);function ru(e){return"function"==typeof e?e:(e[nu]||(e[nu]=function(t){return e.handleEvent(t)}),e[nu])}function iu(){ea.call(this),this.i=new qa(this),this.P=this,this.I=null}function au(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Ma(t,e);else if(t instanceof Ma)t.target=t.target||e;else{var i=t;ya(t=new Ma(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var u=t.g=n[a];i=uu(u,r,!0,t)&&i}if(i=uu(u=t.g=e,r,!0,t)&&i,i=uu(u,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=uu(u=t.g=n[a],r,!1,t)&&i}function uu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var u=t[a];if(u&&!u.ca&&u.capture==n){var o=u.listener,s=u.ia||u.src;u.fa&&Ha(e.i,u),i=!1!==o.call(s,r)&&i}}return i&&!r.defaultPrevented}Zi(iu,ea),iu.prototype[Va]=!0,iu.prototype.removeEventListener=function(e,t,n,r){Xa(this,e,t,n,r)},iu.prototype.M=function(){if(iu.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ba(n[r]);delete t.g[e],t.h--}}this.I=null},iu.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},iu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ou=qi.JSON.stringify;function su(){var e=yu,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var lu,cu=function(){"use strict";function e(){f.default(this,e),this.h=this.g=null}return h.default(e,[{key:"add",value:function(e,t){var n=fu.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),fu=new(function(){"use strict";function e(t,n){f.default(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return h.default(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new du}),(function(e){return e.reset()})),du=function(){"use strict";function e(){f.default(this,e),this.next=this.g=this.h=null}return h.default(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function hu(e){qi.setTimeout((function(){throw e}),0)}function pu(e,t){lu||function(){var e=qi.Promise.resolve(void 0);lu=function(){e.then(mu)}}(),vu||(lu(),vu=!0),yu.add(e,t)}var vu=!1,yu=new cu;function mu(){for(var e;e=su();){try{e.h.call(e.g)}catch(e){hu(e)}var t=fu;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}vu=!1}function gu(e,t){iu.call(this),this.h=e||1,this.g=t||qi,this.j=Xi(this.kb,this),this.l=Date.now()}function ku(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function bu(e,t,n){if("function"==typeof e)n&&(e=Xi(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Xi(e.handleEvent,e)}return 2147483647<Number(t)?-1:qi.setTimeout(e,t||0)}function wu(e){e.g=bu((function(){e.g=null,e.i&&(e.i=!1,wu(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Zi(gu,iu),(Pi=gu.prototype).da=!1,Pi.S=null,Pi.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),au(this,"tick"),this.da&&(ku(this),this.start()))}},Pi.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pi.M=function(){gu.Z.M.call(this),ku(this),delete this.g};var xu=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r){var i;return f.default(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return h.default(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:wu(this)}},{key:"M",value:function(){je.default(ze.default(n.prototype),"M",this).call(this),this.g&&(qi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ea);function Eu(e){ea.call(this),this.h=e,this.g={}}Zi(Eu,ea);var Su=[];function _u(e,t,n,r){Array.isArray(n)||(n&&(Su[0]=n.toString()),n=Su);for(var i=0;i<n.length;i++){var a=Qa(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Tu(e){ha(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ja(e)}),e),e.g={}}function Iu(){this.g=!0}function Cu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return ou(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Eu.prototype.M=function(){Eu.Z.M.call(this),Tu(this)},Eu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Iu.prototype.Aa=function(){this.g=!1},Iu.prototype.info=function(){};var Nu={},Au=null;function Ru(){return Au=Au||new iu}function Du(e){Ma.call(this,Nu.Ma,e)}function Ou(e){var t=Ru();au(t,new Du(t,e))}function Lu(e,t){Ma.call(this,Nu.STAT_EVENT,e),this.stat=t}function Pu(e){var t=Ru();au(t,new Lu(t,e))}function Mu(e,t){Ma.call(this,Nu.Na,e),this.size=t}function Uu(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return qi.setTimeout((function(){e()}),t)}Nu.Ma="serverreachability",Zi(Du,Ma),Nu.STAT_EVENT="statevent",Zi(Lu,Ma),Nu.Na="timingevent",Zi(Mu,Ma);var Fu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ju(){}function zu(e){return e.h||(e.h=e.i())}function Bu(){}ju.prototype.h=null;var qu,Hu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ku(){Ma.call(this,"d")}function Wu(){Ma.call(this,"c")}function Gu(){}function Qu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Eu(this),this.P=Yu,e=Ea?125:void 0,this.W=new gu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $u}function $u(){this.i=null,this.g="",this.h=!1}Zi(Ku,Ma),Zi(Wu,Ma),Zi(Gu,ju),Gu.prototype.g=function(){return new XMLHttpRequest},Gu.prototype.i=function(){return{}},qu=new Gu;var Yu=45e3,Xu={},Ju={};function Zu(e,t,n){e.K=1,e.v=Eo(mo(t)),e.s=n,e.U=!0,eo(e,null)}function eo(e,t){e.F=Date.now(),io(e),e.A=mo(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Mo(n.h,"t",r),e.C=0,n=e.l.H,e.h=new $u,e.g=Us(e.l,n?t:null,!e.s),0<e.O&&(e.L=new xu(Xi(e.Ia,e,e.g),e.O)),_u(e.V,e.g,"readystatechange",e.gb),t=e.H?pa(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ou(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var u="",o=a.split("&"),s=0;s<o.length;s++){var l=o[s].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");u=2<=f.length&&"type"==f[1]?u+(c+"=")+l+"&":u+(c+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+u}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function to(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function no(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ro(e,n))==Ju){4==t&&(e.o=4,Pu(14),i=!1),Cu(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xu){e.o=4,Pu(15),Cu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Cu(e.j,e.m,r,null),lo(e,r)}to(e)&&r!=Ju&&r!=Xu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Pu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ns(t),t.L=!0,Pu(11))):(Cu(e.j,e.m,n,"[Invalid Chunked Response]"),so(e),oo(e))}function ro(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ju:(n=Number(t.substring(n,r)),isNaN(n)?Xu:(r+=1)+n>t.length?Ju:(t=t.substr(r,n),e.C=r+n,t))}function io(e){e.Y=Date.now()+e.P,ao(e,e.P)}function ao(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Uu(Xi(e.eb,e),t)}function uo(e){e.B&&(qi.clearTimeout(e.B),e.B=null)}function oo(e){0==e.l.G||e.I||Ds(e.l,e)}function so(e){uo(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ku(e.W),Tu(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function lo(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||qo(n.i,e)))if(n.I=e.N,!e.J&&qo(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Rs(n),bs(n)}Cs(n),Pu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Uu(Xi(n.ab,n),6e3));if(1>=Bo(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Ls(n,11)}else if((e.J||n.g==e)&&Rs(n),!ua(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var u=a[3];null!=u&&(n.ma=u,n.h.info("VER="+n.ma));var o=a[4];null!=o&&(n.za=o,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"==typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(la(c,"spdy")||la(c,"quic")||la(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Ho(f,f.h),f.h=null))}if(r.D){var d=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,xo(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=Ms(r,r.H?r.la:null,r.W),h.J){Ko(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(uo(p),io(p)),r.g=h}else Is(r);0<n.l.length&&Es(n)}else"stop"!=a[0]&&"close"!=a[0]||Ls(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ls(n,7):ks(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Ou(4)}catch(a){}}function co(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ki(e)||"string"==typeof e)ra(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ki(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Ki(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function fo(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof fo)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ho(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];po(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)po(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function po(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Pi=Qu.prototype).setTimeout=function(e){this.P=e},Pi.gb=function(e){e=e.target;var t=this.L;t&&3==ps(e)?t.l():this.Ia(e)},Pi.Ia=function(e){try{if(e==this.g)e:{var t=ps(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ea||this.g&&(this.h.h||this.g.ga()||vs(this.g)))){this.I||4!=t||7==n||Ou(8==n||0>=r?3:2),uo(this);var i=this.g.ba();this.N=i;t:if(to(this)){var a=vs(this.g);e="";var u=a.length,o=4==ps(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){so(this),oo(this);var s="";break t}this.h.i=new qi.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:o&&n==u-1});a.splice(0,u),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,u){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+u}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ua(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Pu(12),so(this),oo(this);break e}Cu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lo(this,i)}this.U?(no(this,t,s),Ea&&this.i&&3==t&&(_u(this.V,this.W,"tick",this.fb),this.W.start())):(Cu(this.j,this.m,s,null),lo(this,s)),4==t&&so(this),this.i&&!this.I&&(4==t?Ds(this.l,this):(this.i=!1,io(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Pu(12)):(this.o=0,Pu(13)),so(this),oo(this)}}}catch(t){}},Pi.fb=function(){if(this.g){var e=ps(this.g),t=this.g.ga();this.C<t.length&&(uo(this),no(this,e,t),this.i&&4!=e&&io(this))}},Pi.cancel=function(){this.I=!0,so(this)},Pi.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ou(3),Pu(17)),so(this),this.o=2,oo(this)):ao(this,this.Y-e)},(Pi=fo.prototype).R=function(){ho(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Pi.T=function(){return ho(this),this.g.concat()},Pi.get=function(e,t){return po(this.h,e)?this.h[e]:t},Pi.set=function(e,t){po(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Pi.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var vo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof yo){this.g=void 0!==t?t:e.g,go(this,e.j),this.s=e.s,ko(this,e.i),bo(this,e.m),this.l=e.l,t=e.h;var n=new Do;n.i=t.i,t.g&&(n.g=new fo(t.g),n.h=t.h),wo(this,n),this.o=e.o}else e&&(n=String(e).match(vo))?(this.g=!!t,go(this,n[1]||"",!0),this.s=So(n[2]||""),ko(this,n[3]||"",!0),bo(this,n[4]),this.l=So(n[5]||"",!0),wo(this,n[6]||"",!0),this.o=So(n[7]||"")):(this.g=!!t,this.h=new Do(null,this.g))}function mo(e){return new yo(e)}function go(e,t,n){e.j=n?So(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ko(e,t,n){e.i=n?So(t,!0):t}function bo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function wo(e,t,n){t instanceof Do?(e.h=t,function(e,t){t&&!e.j&&(Oo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Lo(this,t),Mo(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=_o(t,Ao)),e.h=new Do(t,e.g))}function xo(e,t,n){e.h.set(t,n)}function Eo(e){return xo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function So(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _o(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,To),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function To(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_o(t,Io,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(_o(t,Io,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(_o(n,"/"==n.charAt(0)?No:Co,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",_o(n,Ro)),e.join("")};var Io=/[#\/\?@]/g,Co=/[#\?:]/g,No=/[#\?]/g,Ao=/[#\?@]/g,Ro=/#/g;function Do(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Oo(e){e.g||(e.g=new fo,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Lo(e,t){Oo(e),t=Uo(e,t),po(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,po((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ho(e)))}function Po(e,t){return Oo(e),t=Uo(e,t),po(e.g.h,t)}function Mo(e,t,n){Lo(e,t),0<n.length&&(e.i=null,e.g.set(Uo(e,t),aa(n)),e.h+=n.length)}function Uo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Pi=Do.prototype).add=function(e,t){Oo(this),this.i=null,e=Uo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Pi.forEach=function(e,t){Oo(this),this.g.forEach((function(n,r){ra(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Pi.T=function(){Oo(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Pi.R=function(e){Oo(this);var t=[];if("string"==typeof e)Po(this,e)&&(t=ia(t,this.g.get(Uo(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ia(t,e[n])}return t},Pi.set=function(e,t){return Oo(this),this.i=null,Po(this,e=Uo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Pi.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Pi.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var u=i;""!==r[a]&&(u+="="+encodeURIComponent(String(r[a]))),e.push(u)}}return this.i=e.join("&")};var Fo=function e(t,n){"use strict";f.default(this,e),this.h=t,this.g=n};function Vo(e){this.l=e||jo,qi.PerformanceNavigationTiming?e=0<(e=qi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(qi.g&&qi.g.Ea&&qi.g.Ea()&&qi.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jo=10;function zo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Bo(e){return e.h?1:e.g?e.g.size:0}function qo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ho(e,t){e.g?e.g.add(t):e.h=t}function Ko(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Wo(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t=e.i,n=!0,r=!1,i=void 0;try{for(var a,u=e.g.values()[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var o=a.value;t=t.concat(o.D)}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t}return aa(e.i)}function Go(){}function Qo(){this.g=new Go}function $o(e,t,n){var r=n||"";try{co(e,(function(e,n){var i=e;Wi(e)&&(i=ou(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Yo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Xo(e){this.l=e.$b||null,this.j=e.ib||!1}function Jo(e,t){iu.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Zo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vo.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e=!0,t=!1,n=void 0;try{for(var r,i=this.g.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.cancel()}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.g.clear()}},Go.prototype.stringify=function(e){return qi.JSON.stringify(e,void 0)},Go.prototype.parse=function(e){return qi.JSON.parse(e,void 0)},Zi(Xo,ju),Xo.prototype.g=function(){return new Jo(this.l,this.j)},Xo.prototype.i=function(e){return function(){return e}}({}),Zi(Jo,iu);var Zo=0;function es(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ts(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ns(e)}function ns(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Pi=Jo.prototype).open=function(e,t){if(this.readyState!=Zo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ns(this)},Pi.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||qi).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Pi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ts(this)),this.readyState=Zo},Pi.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==qi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;es(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Pi.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ts(this):ns(this),3==this.readyState&&es(this)}},Pi.Ua=function(e){this.g&&(this.response=this.responseText=e,ts(this))},Pi.Ta=function(e){this.g&&(this.response=e,ts(this))},Pi.ha=function(){this.g&&ts(this)},Pi.setRequestHeader=function(e,t){this.v.append(e,t)},Pi.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Pi.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Jo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var rs=qi.JSON.parse;function is(e){iu.call(this),this.headers=new fo,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=as,this.K=this.L=!1}Zi(is,iu);var as="",us=/^https?$/i,os=["POST","PUT"];function ss(e){return"content-type"==e.toLowerCase()}function ls(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cs(e),ds(e)}function cs(e){e.D||(e.D=!0,au(e,"complete"),au(e,"error"))}function fs(e){if(e.h&&void 0!==Bi&&(!e.C[1]||4!=ps(e)||2!=e.ba()))if(e.v&&4==ps(e))bu(e.Fa,0,e);else if(au(e,"readystatechange"),4==ps(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(vo)[1]||null;if(!a&&qi.self&&qi.self.location){var u=qi.self.location.protocol;a=u.substr(0,u.length-1)}i=!us.test(a?a.toLowerCase():"")}t=i}if(t)au(e,"complete"),au(e,"success");else{e.m=6;try{var o=2<ps(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.ba()+"]",cs(e)}}finally{ds(e)}}}function ds(e,t){if(e.g){hs(e);var n=e.g,r=e.C[0]?Hi:null;e.g=null,e.C=null,t||au(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function hs(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(qi.clearTimeout(e.A),e.A=null)}function ps(e){return e.g?e.g.readyState:0}function vs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case as:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ys(e,t,n){e:{for(d in n){break e}d=!0}d||(n=function(e){var t="";return ha(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):xo(e,t,n))}function ms(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gs(e){this.za=0,this.l=[],this.h=new Iu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ms("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ms("baseRetryDelayMs",5e3,e),this.$a=ms("retryDelaySeedMs",1e4,e),this.Ya=ms("forwardChannelMaxRetries",2,e),this.ra=ms("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Vo(e&&e.concurrentRequestLimit),this.Ca=new Qo,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ks(e){if(ws(e),3==e.G){var t=e.V++,n=mo(e.F);xo(n,"SID",e.J),xo(n,"RID",t),xo(n,"TYPE","terminate"),_s(e,n),(t=new Qu(e,e.h,t,void 0)).K=2,t.v=Eo(mo(n)),n=!1,qi.navigator&&qi.navigator.sendBeacon&&(n=qi.navigator.sendBeacon(t.v.toString(),"")),!n&&qi.Image&&((new Image).src=t.v,n=!0),n||(t.g=Us(t.l,null),t.g.ea(t.v)),t.F=Date.now(),io(t)}Ps(e)}function bs(e){e.g&&(Ns(e),e.g.cancel(),e.g=null)}function ws(e){bs(e),e.u&&(qi.clearTimeout(e.u),e.u=null),Rs(e),e.i.cancel(),e.m&&("number"==typeof e.m&&qi.clearTimeout(e.m),e.m=null)}function xs(e,t){e.l.push(new Fo(e.Za++,t)),3==e.G&&Es(e)}function Es(e){zo(e.i)||e.m||(e.m=!0,pu(e.Ha,e),e.C=0)}function Ss(e,t){var n;n=t?t.m:e.V++;var r=mo(e.F);xo(r,"SID",e.J),xo(r,"RID",n),xo(r,"AID",e.U),_s(e,r),e.o&&e.s&&ys(r,e.o,e.s),n=new Qu(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ts(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ho(e.i,n),Zu(n,r,t)}function _s(e,t){e.j&&co({},(function(e,n){xo(t,n,e)}))}function Ts(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Xi(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var u=["count="+n];-1==a?0<n?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);for(var o=!0,s=0;s<n;s++){var l=i[s].h,c=i[s].g;if(0>(l-=a))a=Math.max(0,i[s].h-100),o=!1;else try{$o(c,u,"req"+l+"_")}catch(e){r&&r(c)}}if(o){r=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Is(e){e.g||e.u||(e.Y=1,pu(e.Ga,e),e.A=0)}function Cs(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Uu(Xi(e.Ga,e),Os(e,e.A)),e.A++,!0)}function Ns(e){null!=e.B&&(qi.clearTimeout(e.B),e.B=null)}function As(e){e.g=new Qu(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=mo(e.oa);xo(t,"RID","rpc"),xo(t,"SID",e.J),xo(t,"CI",e.N?"0":"1"),xo(t,"AID",e.U),_s(e,t),xo(t,"TYPE","xmlhttp"),e.o&&e.s&&ys(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Eo(mo(t)),n.s=null,n.U=!0,eo(n,e)}function Rs(e){null!=e.v&&(qi.clearTimeout(e.v),e.v=null)}function Ds(e,t){var n=null;if(e.g==t){Rs(e),Ns(e),e.g=null;var r=2}else{if(!qo(e.i,t))return;n=t.D,Ko(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;au(r=Ru(),new Mu(r,n,t,i)),Es(e)}else Is(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Bo(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Uu(Xi(e.Ha,e,t),Os(e,e.C)),e.C++,0)))}(e,t)||2==r&&Cs(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ls(e,5);break;case 4:Ls(e,10);break;case 3:Ls(e,6);break;default:Ls(e,2)}}function Os(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ls(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Xi(e.jb,e);n||(n=new yo("//www.google.com/images/cleardot.gif"),qi.location&&"http"==qi.location.protocol||go(n,"https"),Eo(n)),function(e,t){var n=new Iu;if(qi.Image){var r=new Image;r.onload=Ji(Yo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ji(Yo,n,r,"TestLoadImage: error",!1,t),r.onabort=Ji(Yo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ji(Yo,n,r,"TestLoadImage: timeout",!1,t),qi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Pu(2);e.G=0,e.j&&e.j.va(t),Ps(e),ws(e)}function Ps(e){e.G=0,e.I=-1,e.j&&(0==Wo(e.i).length&&0==e.l.length||(e.i.i.length=0,aa(e.l),e.l.length=0),e.j.ua())}function Ms(e,t,n){var r=function(e){return e instanceof yo?mo(e):new yo(e,void 0)}(n);if(""!=r.i)t&&ko(r,t+"."+r.i),bo(r,r.m);else{var i=qi.location;r=function(e,t,n,r){var i=new yo(null,void 0);return e&&go(i,e),t&&ko(i,t),n&&bo(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ha(e.aa,(function(e,t){xo(r,t,e)})),t=e.D,n=e.sa,t&&n&&xo(r,t,n),xo(r,"VER",e.ma),_s(e,r),r}function Us(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new is(new Xo({ib:!0})):new is(e.qa)).L=e.H,t}function Fs(){}function Vs(){if(wa&&!(10<=Number(La)))throw Error("Environmental error: no available transport.")}function js(e,t){iu.call(this),this.g=new gs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ua(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ua(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new qs(this)}function zs(e){Ku.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Bs(){Wu.call(this),this.status=1}function qs(e){this.g=e}(Pi=is.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qu.g(),this.C=this.u?zu(this.u):zu(qu),this.g.onreadystatechange=Xi(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void ls(this,e)}e=n||"";var i=new fo(this.headers);r&&co(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ss,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=qi.FormData&&e instanceof qi.FormData,!(0<=na(os,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hs(this),0<this.B&&((this.K=function(e){return wa&&Da()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xi(this.pa,this)):this.A=bu(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){ls(this,e)}},Pi.pa=function(){void 0!==Bi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,au(this,"timeout"),this.abort(8))},Pi.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,au(this,"complete"),au(this,"abort"),ds(this))},Pi.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ds(this,!0)),is.Z.M.call(this)},Pi.Fa=function(){this.s||(this.F||this.v||this.l?fs(this):this.cb())},Pi.cb=function(){fs(this)},Pi.ba=function(){try{return 2<ps(this)?this.g.status:-1}catch(e){return-1}},Pi.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Pi.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),rs(t)}},Pi.Da=function(){return this.m},Pi.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Pi=gs.prototype).ma=8,Pi.G=1,Pi.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},Pi.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Qu(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ya(n=pa(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ts(this,t,r),xo(i=mo(this.F),"RID",e),xo(i,"CVER",22),this.D&&xo(i,"X-HTTP-Session-Id",this.D),_s(this,i),this.o&&n&&ys(i,this.o,n),Ho(this.i,t),this.Ra&&xo(i,"TYPE","init"),this.ja?(xo(i,"$req",r),xo(i,"SID","null"),t.$=!0,Zu(t,i,null)):Zu(t,i,r),this.G=2}}else 3==this.G&&(e?Ss(this,e):0==this.l.length||zo(this.i)||Ss(this))},Pi.Ga=function(){if(this.u=null,As(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Uu(Xi(this.bb,this),e)}},Pi.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pu(10),bs(this),As(this))},Pi.ab=function(){null!=this.v&&(this.v=null,bs(this),Cs(this),Pu(19))},Pi.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Pu(2)):(this.h.info("Failed to ping google.com"),Pu(1))},(Pi=Fs.prototype).xa=function(){},Pi.wa=function(){},Pi.va=function(){},Pi.ua=function(){},Pi.Oa=function(){},Vs.prototype.g=function(e,t){return new js(e,t)},Zi(js,iu),js.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),pu(Xi(e.hb,e,t))),Pu(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ms(e,null,e.W),Es(e)},js.prototype.close=function(){ks(this.g)},js.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,xs(this.g,t)}else this.v?((t={}).__data__=ou(e),xs(this.g,t)):xs(this.g,e)},js.prototype.M=function(){this.g.j=null,delete this.j,ks(this.g),delete this.g,js.Z.M.call(this)},Zi(zs,Ku),Zi(Bs,Wu),Zi(qs,Fs),qs.prototype.xa=function(){au(this.g,"a")},qs.prototype.wa=function(e){au(this.g,new zs(e))},qs.prototype.va=function(e){au(this.g,new Bs(e))},qs.prototype.ua=function(){au(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,js.prototype.send=js.prototype.u,js.prototype.open=js.prototype.m,js.prototype.close=js.prototype.close,Fu.NO_ERROR=0,Fu.TIMEOUT=8,Fu.HTTP_ERROR=6,Vu.COMPLETE="complete",Bu.EventType=Hu,Hu.OPEN="a",Hu.CLOSE="b",Hu.ERROR="c",Hu.MESSAGE="d",iu.prototype.listen=iu.prototype.N,is.prototype.listenOnce=is.prototype.O,is.prototype.getLastError=is.prototype.La,is.prototype.getLastErrorCode=is.prototype.Da,is.prototype.getStatus=is.prototype.ba,is.prototype.getResponseJson=is.prototype.Qa,is.prototype.getResponseText=is.prototype.ga,is.prototype.send=is.prototype.ea;var Hs,Ks,Ws=zi.createWebChannelTransport=function(){return new Vs},Gs=zi.getStatEventTarget=function(){return Ru()},Qs=zi.ErrorCode=Fu,$s=zi.EventType=Vu,Ys=zi.Event=Nu,Xs=zi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Js=zi.FetchXmlHttpFactory=Xo,Zs=zi.WebChannel=Bu,el=zi.XhrIo=is,tl={};function nl(){throw new Error("setTimeout has not been defined")}function rl(){throw new Error("clearTimeout has not been defined")}function il(e){if(Hs===setTimeout)return setTimeout(e,0);if((Hs===nl||!Hs)&&setTimeout)return Hs=setTimeout,setTimeout(e,0);try{return Hs(e,0)}catch(t){try{return Hs.call(null,e,0)}catch(t){return Hs.call(this,e,0)}}}!function(){try{Hs="function"==typeof setTimeout?setTimeout:nl}catch(e){Hs=nl}try{Ks="function"==typeof clearTimeout?clearTimeout:rl}catch(e){Ks=rl}}();var al,ul=[],ol=!1,sl=-1;function ll(){ol&&al&&(ol=!1,al.length?ul=al.concat(ul):sl=-1,ul.length&&cl())}function cl(){if(!ol){var e=il(ll);ol=!0;for(var t=ul.length;t;){for(al=ul,ul=[];++sl<t;)al&&al[sl].run();sl=-1,t=ul.length}al=null,ol=!1,function(e){if(Ks===clearTimeout)return clearTimeout(e);if((Ks===rl||!Ks)&&clearTimeout)return Ks=clearTimeout,clearTimeout(e);try{Ks(e)}catch(t){try{return Ks.call(null,e)}catch(t){return Ks.call(this,e)}}}(e)}}function fl(e,t){this.fun=e,this.array=t}function dl(){}tl.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];ul.push(new fl(e,t)),1!==ul.length||ol||il(cl)},fl.prototype.run=function(){this.fun.apply(null,this.array)},tl.title="browser",tl.browser=!0,tl.env={},tl.argv=[],tl.version="",tl.versions={},tl.on=dl,tl.addListener=dl,tl.once=dl,tl.off=dl,tl.removeListener=dl,tl.removeAllListeners=dl,tl.emit=dl,tl.prependListener=dl,tl.prependOnceListener=dl,tl.listeners=function(e){return[]},tl.binding=function(e){throw new Error("process.binding is not supported")},tl.cwd=function(){return"/"},tl.chdir=function(e){throw new Error("process.chdir is not supported")},tl.umask=function(){return 0};var hl="@firebase/firestore",pl=function(){"use strict";function e(t){f.default(this,e),this.uid=t}return h.default(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pl.UNAUTHENTICATED=new pl(null),pl.GOOGLE_CREDENTIALS=new pl("google-credentials-uid"),pl.FIRST_PARTY=new pl("first-party-uid"),pl.MOCK_USER=new pl("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vl="9.6.11",yl=new oe("@firebase/firestore");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(){return yl.logLevel}function gl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(yl.logLevel<=ee.DEBUG){var i,a=n.map(wl);(i=yl).debug.apply(i,["Firestore (".concat(vl,"): ").concat(e)].concat(y.default(a)))}}function kl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(yl.logLevel<=ee.ERROR){var i,a=n.map(wl);(i=yl).error.apply(i,["Firestore (".concat(vl,"): ").concat(e)].concat(y.default(a)))}}function bl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(yl.logLevel<=ee.WARN){var i,a=n.map(wl);(i=yl).warn.apply(i,["Firestore (".concat(vl,"): ").concat(e)].concat(y.default(a)))}}function wl(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(vl,") INTERNAL ASSERTION FAILED: ")+e;throw kl(t),new Error(t)}function El(e,t){e||xl()}function Sl(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Tl=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r){var i;return f.default(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},Ui.default(i)}return n}(L),Il=function e(){"use strict";var t=this;f.default(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Cl=function e(t,n){"use strict";f.default(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))},Nl=function(){"use strict";function e(){f.default(this,e)}return h.default(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(pl.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Al=function(){"use strict";function e(t){f.default(this,e),this.t=t,this.currentUser=pl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return h.default(e,[{key:"start",value:function(e,n){var r=this,i=this.i,a=function(e){return r.i!==i?(i=r.i,n(e)):Promise.resolve()},u=new Il;this.o=function(){var t=r;r.i++,r.currentUser=r.u(),u.resolve(),u=new Il,e.enqueueRetryable((function(){return a(t.currentUser)}))};var o=function(){var n=u,i=r;e.enqueueRetryable(v.default(t(m).mark((function e(){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.promise;case 2:return e.next=4,a(i.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){gl("FirebaseAuthCredentialsProvider","Auth detected"),r.auth=e,r.auth.addAuthTokenListener(r.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!r.auth){var e=r.t.getImmediate({optional:!0});e?s(e):(gl("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Il)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(gl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(El("string"==typeof n.accessToken),new Cl(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return El(null===e||"string"==typeof e),new pl(e)}}]),e}(),Rl=function e(t,n,r){"use strict";f.default(this,e),this.type="FirstParty",this.user=pl.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)},Dl=function(){"use strict";function e(t,n,r){f.default(this,e),this.h=t,this.l=n,this.m=r}return h.default(e,[{key:"getToken",value:function(){return Promise.resolve(new Rl(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(pl.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ol=function e(t){"use strict";f.default(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)},Ll=function(){"use strict";function e(t){f.default(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return h.default(e,[{key:"start",value:function(e,t){var n=this;this.o=function(r){e.enqueueRetryable((function(){return function(e){null!=e.error&&gl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,gl("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()}(r)}))};var r=function(e){gl("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):gl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(El("string"==typeof t.token),e.p=t.token,new Ol(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Pl=function(){"use strict";function e(t,n){var r=this;f.default(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return h.default(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ml(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pl.A=-1;var Ul=function(){"use strict";function e(){f.default(this,e)}return h.default(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ml(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Fl(e,t){return e<t?-1:e>t?1:0}function Vl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var jl=function(){"use strict";function e(t,n){if(f.default(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Tl(_l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tl(_l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Tl(_l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tl(_l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return h.default(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Fl(this.nanoseconds,e.nanoseconds):Fl(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),zl=function(){"use strict";function e(t){f.default(this,e),this.timestamp=t}return h.default(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new jl(0,0))}},{key:"max",value:function(){return new e(new jl(253402300799,999999999))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Bl(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ql(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Hl(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kl=function(){"use strict";function e(t,n,r){f.default(this,e),void 0===n?n=0:n>t.length&&xl(),void 0===r?r=t.length-n:r>t.length-n&&xl(),this.segments=t,this.offset=n,this.len=r}return h.default(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Wl=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(){return f.default(this,n),t.apply(this,arguments)}return h.default(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=[],a=!0,u=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c,f=s.value;if(f.indexOf("//")>=0)throw new Tl(_l.INVALID_ARGUMENT,"Invalid segment (".concat(f,"). Paths must not contain // in them."));(c=i).push.apply(c,y.default(f.split("/").filter((function(e){return e.length>0}))))}}catch(e){u=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(u)throw o}}return new n(i)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Kl),Gl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ql=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(){return f.default(this,n),t.apply(this,arguments)}return h.default(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Gl.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Tl(_l.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},u=!1;i<e.length;){var o=e[i];if("\\"===o){if(i+1===e.length)throw new Tl(_l.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Tl(_l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===o?(u=!u,i++):"."!==o||u?(r+=o,i++):(a(),i++)}if(a(),u)throw new Tl(_l.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Kl),$l=function(){"use strict";function e(t){f.default(this,e),this.fields=t,t.sort(Ql.comparator)}return h.default(e,[{key:"covers",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this.fields[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){if(i.value.isPrefixOf(e))return!0}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return!1}},{key:"isEqual",value:function(e){return Vl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Yl=Symbol.iterator,Xl=function(){"use strict";function e(t){f.default(this,e),this.binaryString=t}return h.default(e,[{key:Yl,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){var e;return e=this.binaryString,btoa(e)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Fl(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xl.EMPTY_BYTE_STRING=new Xl("");var Jl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zl(e){if(El(!!e),"string"==typeof e){var t=0,n=Jl.exec(e);if(El(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ec(e.seconds),nanos:ec(e.nanos)}}function ec(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function tc(e){return"string"==typeof e?Xl.fromBase64String(e):Xl.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rc(e){var t=e.mapValue.fields.__previous_value__;return nc(t)?rc(t):t}function ic(e){var t=Zl(e.mapValue.fields.__local_write_time__.timestampValue);return new jl(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ac=function e(t,n,r,i,a,u,o,s){"use strict";f.default(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=o,this.useFetchStreams=s},uc=function(){"use strict";function e(t,n){f.default(this,e),this.projectId=t,this.database=n||"(default)"}return h.default(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function oc(e){return null==e}function sc(e){return 0===e&&1/e==-1/0}function lc(e){return"number"==typeof e&&Number.isInteger(e)&&!sc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cc=function(){"use strict";function e(t){f.default(this,e),this.path=t}return h.default(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Wl.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Wl.fromString(t))}},{key:"fromName",value:function(t){return new e(Wl.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Wl.emptyPath())}},{key:"comparator",value:function(e,t){return Wl.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Wl(t.slice()))}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nc(e)?4:_c(e)?9:10:xl()}function dc(e,t){if(e===t)return!0;var n,r=fc(e);if(r!==fc(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ic(e).isEqual(ic(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Zl(e.timestampValue),r=Zl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return n=t,tc(e.bytesValue).isEqual(tc(n.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ec(e.geoPointValue.latitude)===ec(t.geoPointValue.latitude)&&ec(e.geoPointValue.longitude)===ec(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ec(e.integerValue)===ec(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ec(e.doubleValue),r=ec(t.doubleValue);return n===r?sc(n)===sc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Vl(e.arrayValue.values||[],t.arrayValue.values||[],dc);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bl(n)!==Bl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!dc(n[i],r[i])))return!1;return!0}(e,t);default:return xl()}}function hc(e,t){return void 0!==(e.values||[]).find((function(e){return dc(e,t)}))}function pc(e,t){if(e===t)return 0;var n,r,i,a,u=fc(e),o=fc(t);if(u!==o)return Fl(u,o);switch(u){case 0:case 9007199254740991:return 0;case 1:return Fl(e.booleanValue,t.booleanValue);case 2:return r=t,i=ec((n=e).integerValue||n.doubleValue),a=ec(r.integerValue||r.doubleValue),i<a?-1:i>a?1:i===a?0:isNaN(i)?isNaN(a)?0:-1:1;case 3:return vc(e.timestampValue,t.timestampValue);case 4:return vc(ic(e),ic(t));case 5:return Fl(e.stringValue,t.stringValue);case 6:return function(e,t){var n=tc(e),r=tc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Fl(n[i],r[i]);if(0!==a)return a}return Fl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Fl(ec(e.latitude),ec(t.latitude));return 0!==n?n:Fl(ec(e.longitude),ec(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=pc(n[i],r[i]);if(a)return a}return Fl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var u=0;u<r.length&&u<a.length;++u){var o=Fl(r[u],a[u]);if(0!==o)return o;var s=pc(n[r[u]],i[a[u]]);if(0!==s)return s}return Fl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw xl()}}function vc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Fl(e,t);var n=Zl(e),r=Zl(t),i=Fl(n.seconds,r.seconds);return 0!==i?i:Fl(n.nanos,r.nanos)}function yc(e){return mc(e)}function mc(e){var t,n,r,i;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(r=e.timestampValue,i=Zl(r),"time(".concat(i.seconds,",").concat(i.nanos,")")):"stringValue"in e?e.stringValue:"bytesValue"in e?tc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,cc.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t="[",n=!0,r=!0,i=!1,a=void 0;try{for(var u,o=(e.values||[])[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var s=u.value;n?n=!1:t+=",",t+=mc(s)}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return t+"]"}(e.arrayValue):"mapValue"in e?function(e){var t=Object.keys(e.fields||{}).sort(),n="{",r=!0,i=!0,a=!1,u=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;r?r=!1:n+=",",n+="".concat(l,":").concat(mc(e.fields[l]))}}catch(e){a=!0,u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}return n+"}"}(e.mapValue):xl()}function gc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function kc(e){return!!e&&"integerValue"in e}function bc(e){return!!e&&"arrayValue"in e}function wc(e){return!!e&&"nullValue"in e}function xc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ec(e){return!!e&&"mapValue"in e}function Sc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ql(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Sc(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Sc(e.arrayValue.values[r]);return n}return Object.assign({},e)}function _c(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Tc=function(){"use strict";function e(t){f.default(this,e),this.value=t}return h.default(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ec(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(t)}},{key:"setAll",value:function(e){var t=this,n=Ql.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var u=t.getFieldsMap(n);t.applyChanges(u,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Sc(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ec(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return dc(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ec(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ql(t,(function(t,n){return e[t]=n}));var r=!0,i=!1,a=void 0;try{for(var u,o=n[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var s=u.value;delete e[s]}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}}},{key:"clone",value:function(){return new e(Sc(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ic(e){var t=[];return ql(e.fields,(function(e,n){var r=new Ql([e]);if(Ec(n)){var i=Ic(n.mapValue).fields,a=!0,u=!1,o=void 0;if(0===i.length)t.push(r);else try{for(var s,l=i[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;t.push(r.child(c))}}catch(e){u=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(u)throw o}}}else t.push(r)})),new $l(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Cc=function(){"use strict";function e(t,n,r,i,a,u){f.default(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=u}return h.default(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Tc.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Tc.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,zl.min(),zl.min(),Tc.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,zl.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,zl.min(),Tc.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,zl.min(),Tc.empty(),2)}}]),e}(),Nc=function e(t,n,r,i){"use strict";f.default(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i};Nc.UNKNOWN_ID=-1;function Ac(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=zl.fromTimestamp(1e9===r?new jl(n+1,0):new jl(n,r));return new Dc(i,cc.empty(),t)}function Rc(e){return new Dc(e.readTime,e.key,-1)}var Dc=function(){"use strict";function e(t,n,r){f.default(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return h.default(e,null,[{key:"min",value:function(){return new e(zl.min(),cc.empty(),-1)}},{key:"max",value:function(){return new e(zl.max(),cc.empty(),-1)}}]),e}();function Oc(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=cc.comparator(e.documentKey,t.documentKey))?n:Fl(e.largestBatchId,t.largestBatchId)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lc=function e(t){"use strict";var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;f.default(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=o,this.P=null};function Pc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Lc(e,t,n,r,i,a,u)}function Mc(e){var t=Sl(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){var t;return(t=e).field.canonicalString()+t.op.toString()+yc(t.value)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return(t=e).field.canonicalString()+t.dir;var t})).join(","),oc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return yc(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return yc(e)})).join(",")),t.P=n}return t.P}function Uc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Yc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!dc(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Jc(e.startAt,t.startAt)&&Jc(e.endAt,t.endAt)}function Fc(e){return cc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Vc=function(e){"use strict";k.default(n,(function e(){f.default(this,e)}));var t=b.default(n);function n(e,r,i){var a;return f.default(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,Ui.default(a)}return h.default(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(pc(t,this.value)):null!==t&&fc(this.value)===fc(t)&&this.v(pc(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xl()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new jc(e,t,r):"array-contains"===t?new Hc(e,r):"in"===t?new Kc(e,r):"not-in"===t?new Wc(e,r):"array-contains-any"===t?new Gc(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new zc(e,n):new Bc(e,n)}}]),n}(),jc=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r,i){var a;return f.default(this,n),(a=t.call(this,e,r,i)).key=cc.fromName(i.referenceValue),Ui.default(a)}return h.default(n,[{key:"matches",value:function(e){var t=cc.comparator(e.key,this.key);return this.v(t)}}]),n}(Vc),zc=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r){var i;return f.default(this,n),(i=t.call(this,e,"in",r)).keys=qc("in",r),Ui.default(i)}return h.default(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Vc),Bc=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r){var i;return f.default(this,n),(i=t.call(this,e,"not-in",r)).keys=qc("not-in",r),Ui.default(i)}return h.default(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Vc);function qc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return cc.fromName(e.referenceValue)}))}var Hc=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r){return f.default(this,n),t.call(this,e,"array-contains",r)}return h.default(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return bc(t)&&hc(t.arrayValue,this.value)}}]),n}(Vc),Kc=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r){return f.default(this,n),t.call(this,e,"in",r)}return h.default(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&hc(this.value.arrayValue,t)}}]),n}(Vc),Wc=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r){return f.default(this,n),t.call(this,e,"not-in",r)}return h.default(n,[{key:"matches",value:function(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!hc(this.value.arrayValue,t)}}]),n}(Vc),Gc=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r){return f.default(this,n),t.call(this,e,"array-contains-any",r)}return h.default(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!bc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return hc(t.value.arrayValue,e)}))}}]),n}(Vc),Qc=function e(t,n){"use strict";f.default(this,e),this.position=t,this.inclusive=n},$c=function e(t){"use strict";var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";f.default(this,e),this.field=t,this.dir=n};function Yc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Xc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],u=e.position[i];if(r=a.field.isKeyField()?cc.comparator(cc.fromName(u.referenceValue),n.key):pc(u,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Jc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!dc(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zc=function e(t){"use strict";var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;f.default(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=o,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt};function ef(e,t,n,r,i,a,u,o){return new Zc(e,t,n,r,i,a,u,o)}function tf(e){return new Zc(e)}function nf(e){return!oc(e.limit)&&"F"===e.limitType}function rf(e){return!oc(e.limit)&&"L"===e.limitType}function af(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function uf(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.filters[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value;if(u.S())return u.field}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return null}function of(e){return null!==e.collectionGroup}function sf(e){var t=Sl(e);if(null===t.D){t.D=[];var n=uf(t),r=af(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new $c(n)),t.D.push(new $c(Ql.keyField(),"asc"));else{var i=!1,a=!0,u=!1,o=void 0;try{for(var s,l=t.explicitOrderBy[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;t.D.push(c),c.field.isKeyField()&&(i=!0)}}catch(e){u=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(u)throw o}}if(!i){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new $c(Ql.keyField(),f))}}}return t.D}function lf(e){var t=Sl(e);if(!t.C)if("F"===t.limitType)t.C=Pc(t.path,t.collectionGroup,sf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n=[],r=!0,i=!1,a=void 0;try{for(var u,o=sf(t)[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var s=u.value,l="desc"===s.dir?"asc":"desc";n.push(new $c(s.field,l))}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}var c=t.endAt?new Qc(t.endAt.position,!t.endAt.inclusive):null,f=t.startAt?new Qc(t.startAt.position,!t.startAt.inclusive):null;t.C=Pc(t.path,t.collectionGroup,n,t.filters,t.limit,c,f)}return t.C}function cf(e,t,n){return new Zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ff(e,t){return Uc(lf(e),lf(t))&&e.limitType===t.limitType}function df(e){return"".concat(Mc(lf(e)),"|lt:").concat(e.limitType)}function hf(e){return"Query(target=".concat((t=lf(e),n=t.path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: [".concat(t.filters.map((function(e){var t;return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(yc(t.value))})).join(", "),"]")),oc(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: [".concat(t.orderBy.map((function(e){return"".concat((t=e).field.canonicalString()," (").concat(t.dir,")");var t})).join(", "),"]")),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return yc(e)})).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return yc(e)})).join(",")),"Target(".concat(n,")")),"; limitType=").concat(e.limitType,")");var t,n}function pf(e,t){return t.isFoundDocument()&&(i=e,u=(a=t).key.path,null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):cc.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u))&&function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,u=e.explicitOrderBy[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var o=a.value;if(!o.field.isKeyField()&&null===t.data.field(o.field))return!1}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return!0}(e,t)&&function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,u=e.filters[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){if(!a.value.matches(t))return!1}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){var r=Xc(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,sf(n),r)||n.endAt&&!function(e,t,n){var r=Xc(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,sf(n),r)));var n,r,i,a,u}function vf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function yf(e){return function(t,n){var r=!1,i=!0,a=!1,u=void 0;try{for(var o,s=sf(e)[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value,c=mf(l,t,n);if(0!==c)return c;r=r||l.field.isKeyField()}}catch(e){a=!0,u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}return 0}}function mf(e,t,n){var r,i,a,u,o=e.field.isKeyField()?cc.comparator(t.key,n.key):(r=e.field,i=n,a=t.data.field(r),u=i.data.field(r),null!==a&&null!==u?pc(a,u):xl());switch(e.dir){case"asc":return o;case"desc":return-1*o;default:return xl()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(t)?"-0":t}}function kf(e){return{integerValue:""+e}}function bf(e,t){return lc(t)?kf(t):gf(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wf=function e(){"use strict";f.default(this,e),this._=void 0};function xf(e,t,n){return e instanceof _f?(i=t,a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(a.fields.__previous_value__=i),{mapValue:a}):e instanceof Tf?If(e,t):e instanceof Cf?Nf(e,t):function(e,t){var n=Sf(e,t),r=Rf(n)+Rf(e.k);return kc(n)&&kc(e.k)?kf(r):gf(e.M,r)}(e,t);var r,i,a}function Ef(e,t,n){return e instanceof Tf?If(e,t):e instanceof Cf?Nf(e,t):n}function Sf(e,t){var n,r;return e instanceof Af?kc(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null}var _f=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(){return f.default(this,n),t.apply(this,arguments)}return n}(wf),Tf=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e){var r;return f.default(this,n),(r=t.call(this)).elements=e,Ui.default(r)}return n}(wf);function If(e,t){var n=Df(t),r=!0,i=!1,a=void 0;try{for(var u,o=function(e,t){var r=t.value;n.some((function(e){return dc(e,r)}))||n.push(r)},s=e.elements[Symbol.iterator]();!(r=(u=s.next()).done);r=!0)o(0,u)}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return{arrayValue:{values:n}}}var Cf=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e){var r;return f.default(this,n),(r=t.call(this)).elements=e,Ui.default(r)}return n}(wf);function Nf(e,t){var n=Df(t),r=!0,i=!1,a=void 0;try{for(var u,o=function(e,t){var r=t.value;n=n.filter((function(e){return!dc(e,r)}))},s=e.elements[Symbol.iterator]();!(r=(u=s.next()).done);r=!0)o(0,u)}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return{arrayValue:{values:n}}}var Af=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r){var i;return f.default(this,n),(i=t.call(this)).M=e,i.k=r,Ui.default(i)}return n}(wf);function Rf(e){return ec(e.integerValue||e.doubleValue)}function Df(e){return bc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Of=function e(t,n){"use strict";f.default(this,e),this.version=t,this.transformResults=n},Lf=function(){"use strict";function e(t,n){f.default(this,e),this.updateTime=t,this.exists=n}return h.default(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Pf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Mf=function e(){"use strict";f.default(this,e)};function Uf(e,t,n){var r,i,a,u,o;e instanceof Bf?(i=t,a=n,u=(r=e).value.clone(),o=Kf(r.fieldTransforms,i,a.transformResults),u.setAll(o),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()):e instanceof qf?function(e,t,n){if(Pf(e.precondition,t)){var r=Kf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Hf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ff(e,t,n){var r;e instanceof Bf?function(e,t,n){if(Pf(e.precondition,t)){var r=e.value.clone(),i=Wf(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(zf(t),r).setHasLocalMutations()}}(e,t,n):e instanceof qf?function(e,t,n){if(Pf(e.precondition,t)){var r=Wf(e.fieldTransforms,n,t),i=t.data;i.setAll(Hf(e)),i.setAll(r),t.convertToFoundDocument(zf(t),i).setHasLocalMutations()}}(e,t,n):(r=t,Pf(e.precondition,r)&&r.convertToNoDocument(zl.min()))}function Vf(e,t){var n=null,r=!0,i=!1,a=void 0;try{for(var u,o=e.fieldTransforms[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var s=u.value,l=t.data.field(s.field),c=Sf(s.transform,l||null);null!=c&&(null==n&&(n=Tc.empty()),n.set(s.field,c))}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n||null}function jf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Vl(n,r,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof Tf&&r instanceof Tf||n instanceof Cf&&r instanceof Cf?Vl(n.elements,r.elements,dc):n instanceof Af&&r instanceof Af?dc(n.k,r.k):n instanceof _f&&r instanceof _f);var n,r}(e,t)}))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function zf(e){return e.isFoundDocument()?e.version:zl.min()}var Bf=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r,i){var a,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return f.default(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=u,a.type=0,Ui.default(a)}return n}(Mf),qf=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r,i,a){var u,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return f.default(this,n),(u=t.call(this)).key=e,u.data=r,u.fieldMask=i,u.precondition=a,u.fieldTransforms=o,u.type=1,Ui.default(u)}return n}(Mf);function Hf(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Kf(e,t,n){var r=new Map;El(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],u=a.transform,o=t.data.field(a.field);r.set(a.field,Ef(u,o,n[i]))}return r}function Wf(e,t,n){var r=new Map,i=!0,a=!1,u=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value,c=l.transform,f=n.data.field(l.field);r.set(l.field,xf(c,f,t))}}catch(e){a=!0,u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}return r}var Gf,Qf,$f=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r){var i;return f.default(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],Ui.default(i)}return n}(Mf),Yf=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r){var i;return f.default(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],Ui.default(i)}return n}(Mf),Xf=function e(t){"use strict";f.default(this,e),this.count=t};function Jf(e){switch(e){default:return xl();case _l.CANCELLED:case _l.UNKNOWN:case _l.DEADLINE_EXCEEDED:case _l.RESOURCE_EXHAUSTED:case _l.INTERNAL:case _l.UNAVAILABLE:case _l.UNAUTHENTICATED:return!1;case _l.INVALID_ARGUMENT:case _l.NOT_FOUND:case _l.ALREADY_EXISTS:case _l.PERMISSION_DENIED:case _l.FAILED_PRECONDITION:case _l.ABORTED:case _l.OUT_OF_RANGE:case _l.UNIMPLEMENTED:case _l.DATA_LOSS:return!0}}function Zf(e){if(void 0===e)return kl("GRPC error has no .code"),_l.UNKNOWN;switch(e){case Gf.OK:return _l.OK;case Gf.CANCELLED:return _l.CANCELLED;case Gf.UNKNOWN:return _l.UNKNOWN;case Gf.DEADLINE_EXCEEDED:return _l.DEADLINE_EXCEEDED;case Gf.RESOURCE_EXHAUSTED:return _l.RESOURCE_EXHAUSTED;case Gf.INTERNAL:return _l.INTERNAL;case Gf.UNAVAILABLE:return _l.UNAVAILABLE;case Gf.UNAUTHENTICATED:return _l.UNAUTHENTICATED;case Gf.INVALID_ARGUMENT:return _l.INVALID_ARGUMENT;case Gf.NOT_FOUND:return _l.NOT_FOUND;case Gf.ALREADY_EXISTS:return _l.ALREADY_EXISTS;case Gf.PERMISSION_DENIED:return _l.PERMISSION_DENIED;case Gf.FAILED_PRECONDITION:return _l.FAILED_PRECONDITION;case Gf.ABORTED:return _l.ABORTED;case Gf.OUT_OF_RANGE:return _l.OUT_OF_RANGE;case Gf.UNIMPLEMENTED:return _l.UNIMPLEMENTED;case Gf.DATA_LOSS:return _l.DATA_LOSS;default:return xl()}}(Qf=Gf||(Gf={}))[Qf.OK=0]="OK",Qf[Qf.CANCELLED=1]="CANCELLED",Qf[Qf.UNKNOWN=2]="UNKNOWN",Qf[Qf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qf[Qf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qf[Qf.NOT_FOUND=5]="NOT_FOUND",Qf[Qf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qf[Qf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qf[Qf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qf[Qf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qf[Qf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qf[Qf.ABORTED=10]="ABORTED",Qf[Qf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qf[Qf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qf[Qf.INTERNAL=13]="INTERNAL",Qf[Qf.UNAVAILABLE=14]="UNAVAILABLE",Qf[Qf.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ed=function(){"use strict";function e(t,n){f.default(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return h.default(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r=!0,i=!1,a=void 0;try{for(var u,o=n[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var s=c.default(u.value,2),l=s[0],f=s[1];if(this.equalsFn(l,e))return f}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ql(this.inner,(function(t,n){var r=!0,i=!1,a=void 0;try{for(var u,o=n[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var s=c.default(u.value,2),l=s[0],f=s[1];e(l,f)}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}}))}},{key:"isEmpty",value:function(){return Hl(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),td=function(){"use strict";function e(t,n){f.default(this,e),this.comparator=t,this.root=n||rd.EMPTY}return h.default(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rd.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rd.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new nd(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new nd(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new nd(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new nd(this.root,e,this.comparator,!0)}}]),e}(),nd=function(){"use strict";function e(t,n,r,i){f.default(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return h.default(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),rd=function(){"use strict";function e(t,n,r,i,a){f.default(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return h.default(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw xl();if(this.right.isRed())throw xl();var e=this.left.check();if(e!==this.right.check())throw xl();return e+(this.isRed()?0:1)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rd.EMPTY=null,rd.RED=!0,rd.BLACK=!1,rd.EMPTY=new(function(){"use strict";function e(){f.default(this,e),this.size=0}return h.default(e,[{key:"key",get:function(){throw xl()}},{key:"value",get:function(){throw xl()}},{key:"color",get:function(){throw xl()}},{key:"left",get:function(){throw xl()}},{key:"right",get:function(){throw xl()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new rd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var id=function(){"use strict";function e(t){f.default(this,e),this.comparator=t,this.data=new td(this.comparator)}return h.default(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ad(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ad(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ad=function(){"use strict";function e(t){f.default(this,e),this.iter=t}return h.default(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ud=new td(cc.comparator);function od(){return ud}var sd=new td(cc.comparator);function ld(){return sd}function cd(){return new ed((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var fd=new td(cc.comparator),dd=new id(cc.comparator);function hd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=dd,i=!0,a=!1,u=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;r=r.add(l)}}catch(e){a=!0,u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}return r}var pd=new id(Fl);function vd(){return pd}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yd=function(){"use strict";function e(t,n,r,i,a){f.default(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return h.default(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,md.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(zl.min(),r,vd(),od(),hd())}}]),e}(),md=function(){"use strict";function e(t,n,r,i,a){f.default(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return h.default(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Xl.EMPTY_BYTE_STRING,n,hd(),hd(),hd())}}]),e}(),gd=function e(t,n,r,i){"use strict";f.default(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i},kd=function e(t,n){"use strict";f.default(this,e),this.targetId=t,this.$=n},bd=function e(t,n){"use strict";var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xl.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f.default(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i},wd=function(){"use strict";function e(){f.default(this,e),this.B=0,this.L=Sd(),this.U=Xl.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return h.default(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=hd(),t=hd(),n=hd();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:xl()}})),new md(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Sd()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),xd=function(){"use strict";function e(t){f.default(this,e),this.nt=t,this.st=new Map,this.it=od(),this.rt=Ed(),this.ot=new id(Fl)}return h.default(e,[{key:"ut",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.O[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value;e.F&&e.F.isFoundDocument()?this.at(u,e.F):this.ct(u,e.key,e.F)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}var o=!0,s=!1,l=void 0;try{for(var c,f=e.removedTargetIds[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var d=c.value;this.ct(d,e.key,e.F)}}catch(e){s=!0,l=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw l}}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:xl()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Fc(i))if(0===n){var a=new cc(i.path);this.ct(t,a,Cc.newNoDocument(a,zl.min()))}else El(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Fc(a.target)){var u=new cc(a.target.path);null!==t.it.get(u)||t.It(i,u)||t.ct(i,u,Cc.newNoDocument(u,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=hd();this.rt.forEach((function(e,n){var i=t,a=!0;n.forEachWhile((function(e){var t=i.wt(e);return!t||2===t.purpose||(a=!1,!1)})),a&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new yd(e,n,this.ot,this.it,r);return this.it=od(),this.rt=Ed(),this.ot=new id(Fl),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new wd,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new id(Fl),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||gl("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new wd),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ed(){return new td(cc.comparator)}function Sd(){return new td(cc.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _d={asc:"ASCENDING",desc:"DESCENDING"},Td={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Id=function e(t,n){"use strict";f.default(this,e),this.databaseId=t,this.N=n};function Cd(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nd(e,t){return e.N?t.toBase64():t.toUint8Array()}function Ad(e,t){return Cd(e,t.toTimestamp())}function Rd(e){return El(!!e),zl.fromTimestamp((t=Zl(e),new jl(t.seconds,t.nanos)));var t}function Dd(e,t){return(n=e,new Wl(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function Od(e){var t=Wl.fromString(e);return El(Xd(t)),t}function Ld(e,t){return Dd(e.databaseId,t.path)}function Pd(e,t){var n=Od(t);if(n.get(1)!==e.databaseId.projectId)throw new Tl(_l.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Tl(_l.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cc(Vd(n))}function Md(e,t){return Dd(e.databaseId,t)}function Ud(e){var t=Od(e);return 4===t.length?Wl.emptyPath():Vd(t)}function Fd(e){return new Wl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vd(e){return El(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jd(e,t,n){return{name:Ld(e,t),fields:n.value.mapValue.fields}}function zd(e,t){var n,r,i;if(t instanceof Bf)n={update:jd(e,t.key,t.value)};else if(t instanceof $f)n={delete:Ld(e,t.key)};else if(t instanceof qf)n={update:jd(e,t.key,t.data),updateMask:(r=t.fieldMask,i=[],r.fields.forEach((function(e){return i.push(e.canonicalString())})),{fieldPaths:i})};else{if(!(t instanceof Yf))return xl();n={verify:Ld(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof _f)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Cf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Af)return{fieldPath:t.field.canonicalString(),increment:n.k};throw xl()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ad(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xl()}(e,t.precondition)),n}function Bd(e,t){return{documents:[Md(e,t.path)]}}function qd(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Md(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Md(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(xc(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NAN"}};if(wc(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xc(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NOT_NAN"}};if(wc(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qd(e.field),op:Gd(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return{field:Qd((t=e).field),direction:Wd(t.dir)};var t}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var u,o,s,l=(u=e,o=t.limit,u.N||oc(o)?o:{value:o});return null!==l&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Hd(e){var t=Ud(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){El(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var u=[];n.where&&(u=Kd(n.where));var o=[];n.orderBy&&(o=n.orderBy.map((function(e){return new $c($d((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));var s,l,c=null;n.limit&&(s=n.limit,c=oc(l="object"==typeof s?s.value:s)?null:l);var f=null;n.startAt&&(f=function(e){var t=!!e.before,n=e.values||[];return new Qc(n,t)}(n.startAt));var d=null;return n.endAt&&(d=function(e){var t=!e.before,n=e.values||[];return new Qc(n,t)}(n.endAt)),ef(t,i,o,u,c,"F",f,d)}function Kd(e){return e?void 0!==e.unaryFilter?[Yd(e)]:void 0!==e.fieldFilter?[(t=e,Vc.create($d(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xl()}}(t.fieldFilter.op),t.fieldFilter.value))]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Kd(e)})).reduce((function(e,t){return e.concat(t)})):xl():[];var t}function Wd(e){return _d[e]}function Gd(e){return Td[e]}function Qd(e){return{fieldPath:e.canonicalString()}}function $d(e){return Ql.fromServerFormat(e.fieldPath)}function Yd(e){switch(e.unaryFilter.op){case"IS_NAN":var t=$d(e.unaryFilter.field);return Vc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=$d(e.unaryFilter.field);return Vc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=$d(e.unaryFilter.field);return Vc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=$d(e.unaryFilter.field);return Vc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return xl()}}function Xd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zd=(y.default(Jd).concat(["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),eh=(y.default(Zd).concat(["indexConfiguration","indexState","indexEntries"]),"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),th=function(){"use strict";function e(){f.default(this,e),this.onCommittedListeners=[]}return h.default(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),nh=function(){"use strict";function e(t){var n=this;f.default(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return h.default(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&xl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){var a=r;r.nextCallback=function(n){a.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){a.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n=e.resolve(!1),r=!0,i=!1,a=void 0;try{for(var u,o=function(t,r){var i=r.value;n=n.next((function(t){return t?e.resolve(t):i()}))},s=t[Symbol.iterator]();!(r=(u=s.next()).done);r=!0)o(0,u)}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ih=function(){"use strict";function e(t,n,r,i){f.default(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return h.default(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Uf(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this.baseMutations[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value;u.key.isEqual(e.key)&&Ff(u,e,this.localWriteTime)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}var o=!0,s=!1,l=void 0;try{for(var c,f=this.mutations[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var d=c.value;d.key.isEqual(e.key)&&Ff(d,e,this.localWriteTime)}}catch(e){s=!0,l=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw l}}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(zl.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),hd())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(function(e,t){return jf(e,t)}))&&Vl(this.baseMutations,e.baseMutations,(function(e,t){return jf(e,t)}))}}]),e}(),ah=function(){"use strict";function e(t,n,r,i){f.default(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return h.default(e,null,[{key:"from",value:function(t,n,r){El(t.mutations.length===r.length);for(var i=fd,a=t.mutations,u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new e(t,n,r,i)}}]),e}(),uh=function(){"use strict";function e(t,n){f.default(this,e),this.largestBatchId=t,this.mutation=n}return h.default(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),oh=function(){"use strict";function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zl.min(),u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:zl.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xl.EMPTY_BYTE_STRING;f.default(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=o}return h.default(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),sh=function e(t){"use strict";f.default(this,e),this.Jt=t};function lh(e){var t=Hd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?cf(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ch=function(){"use strict";function e(){f.default(this,e)}return h.default(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ec(e.integerValue));else if("doubleValue"in e){var n=ec(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),sc(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(tc(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?_c(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):xl()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);var r=!0,i=!1,a=void 0;try{for(var u,o=Object.keys(n)[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var s=u.value;this.re(s,t),this.te(n[s],t)}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r=!0,i=!1,a=void 0;try{for(var u,o=n[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var s=u.value;this.te(s,t)}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),cc.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();ch.fe=new ch;
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fh=function(){"use strict";function e(){f.default(this,e),this.qe=new dh}return h.default(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),nh.resolve()}},{key:"getCollectionParents",value:function(e,t){return nh.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return nh.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return nh.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return nh.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return nh.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return nh.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return nh.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return nh.resolve()}},{key:"updateIndexEntries",value:function(e,t){return nh.resolve()}}]),e}(),dh=function(){"use strict";function e(){f.default(this,e),this.index={}}return h.default(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new id(Wl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new id(Wl.comparator)).toArray()}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Uint8Array(0);
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var hh=function(){"use strict";function e(t,n,r){f.default(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return h.default(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hh.DEFAULT_COLLECTION_PERCENTILE=10,hh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hh.DEFAULT=new hh(41943040,hh.DEFAULT_COLLECTION_PERCENTILE,hh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hh.DISABLED=new hh(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ph=function(){"use strict";function e(t){f.default(this,e),this.mn=t}return h.default(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(e){return yh.apply(this,arguments)}function yh(){return(yh=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
v.default(t(m).mark((function e(n){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code===_l.FAILED_PRECONDITION&&n.message===eh){e.next=2;break}throw n;case 2:gl("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var mh=function(){"use strict";function e(){f.default(this,e),this.changes=new ed((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return h.default(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Cc.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?nh.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gh=function(){"use strict";function e(t,n,r){f.default(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return h.default(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t=!0,r=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(t=(a=u.next()).done);t=!0){a.value.applyToLocalView(e)}}catch(e){r=!0,i=e}finally{try{t||null==u.return||u.return()}finally{if(r)throw i}}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r=!0,i=!1,a=void 0;try{for(var u,o=t[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){u.value.applyToLocalView(n)}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return r=t,cc.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.js(e,t.path):of(t)?this.Ws(e,t,n):this.zs(e,t,n);var r}},{key:"js",value:function(e,t){return this.Ls(e,new cc(t)).next((function(e){var t=ld();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ld();return this.indexManager.getCollectionParents(e,i).next((function(u){return nh.forEach(u,(function(u){var o,s,l=(o=t,s=u.child(i),new Zc(s,null,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt));return r.zs(e,l,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t=!0,n=!1,i=void 0,a=!0,u=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;try{for(var f,d=c.mutations[Symbol.iterator]();!(t=(f=d.next()).done);t=!0){var h=f.value,p=h.key,v=r.get(p);null==v&&(v=Cc.newInvalidDocument(p),r=r.insert(p,v)),Ff(h,v,c.localWriteTime),v.isFoundDocument()||(r=r.remove(p))}}catch(e){n=!0,i=e}finally{try{t||null==d.return||d.return()}finally{if(n)throw i}}}}catch(e){u=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(u)throw o}}})).next((function(){return r.forEach((function(e,n){pf(t,n)||(r=r.remove(e))})),r}))}}]),e}(),kh=function(){"use strict";function e(t,n,r,i){f.default(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return h.default(e,null,[{key:"Ys",value:function(t,n){var r=hd(),i=hd(),a=!0,u=!1,o=void 0;try{for(var s,l=n.docChanges[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}}}catch(e){u=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(u)throw o}}return new e(t,n.fromCache,r,i)}}]),e}(),bh=function(){"use strict";function e(){f.default(this,e)}return h.default(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i,a=this;return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(zl.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(i){var u=a.ei(t,i);return(nf(t)||rf(t))&&a.ni(t.limitType,u,r,n)?a.ti(e,t):(ml()<=ee.DEBUG&&gl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),hf(t)),a.Zs.Qs(e,t,Ac(n,-1)).next((function(e){return u.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new id(yf(e));return t.forEach((function(t,r){pf(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return ml()<=ee.DEBUG&&gl("QueryEngine","Using full collection scan to execute query:",hf(t)),this.Zs.Qs(e,t,Dc.min())}}]),e}(),wh=function(){"use strict";function e(t,n,r,i){f.default(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new td(Fl),this.ri=new ed((function(e){return Mc(e)}),Uc),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return h.default(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new gh(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(e,t,n,r){return new wh(e,t,n,r)}function Eh(e,t){return Sh.apply(this,arguments)}function Sh(){return Sh=v.default(t(m).mark((function e(n,r){var i;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sl(n),e.next=3,i.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return i.Bs.getAllMutationBatches(e).next((function(n){return t=n,i.ai(r),i.Bs.getAllMutationBatches(e)})).next((function(n){var r=[],a=[],u=hd(),o=!0,s=!1,l=void 0;try{for(var c,f=t[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var d=c.value;r.push(d.batchId);var h=!0,p=!1,v=void 0;try{for(var y,m=d.mutations[Symbol.iterator]();!(h=(y=m.next()).done);h=!0){var g=y.value;u=u.add(g.key)}}catch(e){p=!0,v=e}finally{try{h||null==m.return||m.return()}finally{if(p)throw v}}}}catch(e){s=!0,l=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw l}}var k=!0,b=!1,w=void 0;try{for(var x,E=n[Symbol.iterator]();!(k=(x=E.next()).done);k=!0){var S=x.value;a.push(S.batchId);var _=!0,T=!1,I=void 0;try{for(var C,N=S.mutations[Symbol.iterator]();!(_=(C=N.next()).done);_=!0){var A=C.value;u=u.add(A.key)}}catch(e){T=!0,I=e}finally{try{_||null==N.return||N.return()}finally{if(T)throw I}}}}catch(e){b=!0,w=e}finally{try{k||null==E.return||E.return()}finally{if(b)throw w}}return i.ci.Ks(e,u).next((function(e){return{hi:e,removedBatchIds:r,addedBatchIds:a}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Sh.apply(this,arguments)}function _h(e,t){var n=Sl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),u=nh.resolve();return a.forEach((function(e){u=u.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);El(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),u.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function Th(e){var t=Sl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Ih(e,t){var n=Sl(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var u=[];t.targetChanges.forEach((function(a,o){var s=i.get(o);if(s){u.push(n.fs.removeMatchingKeys(e,a.removedDocuments,o).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,o)})));var l,c,f,d=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(o)?d=d.withResumeToken(Xl.EMPTY_BYTE_STRING,zl.min()).withLastLimboFreeSnapshotVersion(zl.min()):a.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(a.resumeToken,r)),i=i.insert(o,d),c=d,f=a,(0===(l=s).resumeToken.approximateByteSize()||c.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size>0)&&u.push(n.fs.updateTargetData(e,d))}}));var o=od();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),u.push(Ch(e,a,t.documentUpdates).next((function(e){o=e}))),!r.isEqual(zl.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));u.push(s)}return nh.waitFor(u).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,o)})).next((function(){return o}))})).then((function(e){return n.ii=i,e}))}function Ch(e,t,n){var r=hd();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=od();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(zl.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):gl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Nh(e,t){var n=Sl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function Ah(e,t){var n=Sl(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,nh.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new oh(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function Rh(e,t,n){return Dh.apply(this,arguments)}function Dh(){return(Dh=v.default(t(m).mark((function e(n,r,i){var a,u,o;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Sl(n),u=a.ii.get(r),o=i?"readwrite":"readwrite-primary",e.prev=1,e.t0=i,e.t0){e.next=6;break}return e.next=6,a.persistence.runTransaction("Release target",o,(function(e){return a.persistence.referenceDelegate.removeTarget(e,u)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),rh(e.t1)){e.next=12;break}throw e.t1;case 12:gl("LocalStore","Failed to update sequence numbers for target ".concat(r,": ").concat(e.t1));case 13:a.ii=a.ii.remove(r),a.ri.delete(u.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Oh(e,t,n){var r=Sl(e),i=zl.min(),a=hd();return r.persistence.runTransaction("Execute query","readonly",(function(e){return(u=r,o=e,s=lf(t),l=Sl(u),c=l.ri.get(s),void 0!==c?nh.resolve(l.ii.get(c)):l.fs.getTargetData(o,s)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:zl.min(),n?a:hd())})).next((function(e){return Lh(r,vf(t),e),{documents:e,li:a}}));var u,o,s,l,c}))}function Lh(e,t,n){var r=zl.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ph=function(){"use strict";function e(t){f.default(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return h.default(e,[{key:"getBundleMetadata",value:function(e,t){return nh.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:Rd(n.createTime)}),nh.resolve()}},{key:"getNamedQuery",value:function(e,t){return nh.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,{name:(n=t).name,query:lh(n.bundledQuery),readTime:Rd(n.readTime)}),nh.resolve();var n}}]),e}(),Mh=function(){"use strict";function e(){f.default(this,e),this.overlays=new td(cc.comparator),this.gi=new Map}return h.default(e,[{key:"getOverlay",value:function(e,t){return nh.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),nh.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),nh.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=cd(),i=t.length+1,a=new cc(t.child("")),u=this.overlays.getIteratorFrom(a);u.hasNext();){var o=u.getNext().value,s=o.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&o.largestBatchId>n&&r.set(o.getKey(),o)}return nh.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new td((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var u=a.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>n){var o=i.get(u.largestBatchId);null===o&&(o=cd(),i=i.insert(u.largestBatchId,o)),o.set(u.getKey(),u)}}for(var s=cd(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return nh.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new uh(t,n));var a=this.gi.get(t);void 0===a&&(a=hd(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),Uh=function(){"use strict";function e(){f.default(this,e),this.yi=new id(Fh.pi),this.Ii=new id(Fh.Ti)}return h.default(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Fh(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new Fh(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new cc(new Wl([])),r=new Fh(n,e),i=new Fh(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new cc(new Wl([])),n=new Fh(t,e),r=new Fh(t,e+1),i=hd();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Fh(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Fh=function(){"use strict";function e(t,n){f.default(this,e),this.key=t,this.vi=n}return h.default(e,null,[{key:"pi",value:function(e,t){return cc.comparator(e.key,t.key)||Fl(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return Fl(e.vi,t.vi)||cc.comparator(e.key,t.key)}}]),e}(),Vh=function(){"use strict";function e(t,n){f.default(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new id(Fh.pi)}return h.default(e,[{key:"checkEmpty",value:function(e){return nh.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new ih(i,t,n,r);this.Bs.push(a);var u=!0,o=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(u=(l=c.next()).done);u=!0){var f=l.value;this.Di=this.Di.add(new Fh(f.key,i)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast())}}catch(e){o=!0,s=e}finally{try{u||null==c.return||c.return()}finally{if(o)throw s}}return nh.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return nh.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return nh.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return nh.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return nh.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Fh(t,0),i=new Fh(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),nh.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new id(Fl);return t.forEach((function(e){var t=new Fh(e,0),i=new Fh(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),nh.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;cc.isDocumentKey(i)||(i=i.child(""));var a=new Fh(new cc(i),0),u=new id(Fl);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(u=u.add(e.vi)),!0)}),a),nh.resolve(this.Ni(u))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;El(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return nh.forEach(t.mutations,(function(i){var a=new Fh(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Fh(t,0),r=this.Di.firstAfterOrEqual(n);return nh.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,nh.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),jh=function(){"use strict";function e(t){f.default(this,e),this.Mi=t,this.docs=new td(cc.comparator),this.size=0}return h.default(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return nh.resolve(n?n.document.mutableCopy():Cc.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=od();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Cc.newInvalidDocument(e))})),nh.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=od(),i=new cc(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var u=a.getNext(),o=u.key,s=u.value.document;if(!t.isPrefixOf(o.path))break;o.path.length>t.length+1||Oc(Rc(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return nh.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){xl()}},{key:"Oi",value:function(e,t){return nh.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new zh(this)}},{key:"getSize",value:function(e){return nh.resolve(this.size)}}]),e}(),zh=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e){var r;return f.default(this,n),(r=t.call(this)).Kn=e,Ui.default(r)}return h.default(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),nh.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(mh),Bh=function(){"use strict";function e(t){f.default(this,e),this.persistence=t,this.Fi=new ed((function(e){return Mc(e)}),Uc),this.lastRemoteSnapshotVersion=zl.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Uh,this.targetCount=0,this.Li=ph.gn()}return h.default(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),nh.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return nh.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return nh.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),nh.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),nh.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new ph(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,nh.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),nh.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,nh.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(u,o){o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r.Fi.delete(u),a.push(r.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),nh.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return nh.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return nh.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),nh.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),nh.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),nh.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return nh.resolve(n)}},{key:"containsKey",value:function(e,t){return nh.resolve(this.Bi.containsKey(t))}}]),e}(),qh=function(){"use strict";function e(t,n){var r=this;f.default(this,e),this.Ui={},this.overlays={},this.es=new Pl(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Bh(this),this.indexManager=new fh,this.ds=new jh((function(e){return r.referenceDelegate.qi(e)})),this.M=new sh(n),this._s=new Ph(this.M)}return h.default(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Mh,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new Vh(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;gl("MemoryPersistence","Starting transaction:",e);var i=new Hh(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return nh.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Hh=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e){var r;return f.default(this,n),(r=t.call(this)).currentSequenceNumber=e,Ui.default(r)}return n}(th),Kh=function(){"use strict";function e(t){f.default(this,e),this.persistence=t,this.ji=new Uh,this.Wi=null}return h.default(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw xl()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),nh.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),nh.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),nh.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){var t=n;e.forEach((function(e){return t.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nh.forEach(this.Hi,(function(r){var i=cc.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,zl.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return nh.or([function(){return nh.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wh=function(){"use strict";function e(){f.default(this,e),this.activeTargetIds=vd()}return h.default(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Gh=function(){"use strict";function e(){f.default(this,e),this.$r=new Wh,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return h.default(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new Wh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Qh=function(){"use strict";function e(){f.default(this,e)}return h.default(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),$h=function(){"use strict";function e(){var t=this;f.default(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return h.default(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){gl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e=!0,t=!1,n=void 0;try{for(var r,i=this.Qr[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){(0,r.value)(0)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"Gr",value:function(){gl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e=!0,t=!1,n=void 0;try{for(var r,i=this.Qr[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){(0,r.value)(1)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Yh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Xh=function(){"use strict";function e(t){f.default(this,e),this.Wr=t.Wr,this.zr=t.zr}return h.default(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),Jh=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e){var r;return f.default(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,Ui.default(r)}return h.default(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var u=new el;u.listenOnce($s.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Qs.NO_ERROR:var t=u.getResponseJson();gl("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Qs.TIMEOUT:gl("Connection",'RPC "'+e+'" timed out'),a(new Tl(_l.DEADLINE_EXCEEDED,"Request time out"));break;case Qs.HTTP_ERROR:var n=u.getStatus();if(gl("Connection",'RPC "'+e+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var o=(s=r.status,l=s.toLowerCase().replace(/_/g,"-"),Object.values(_l).indexOf(l)>=0?l:_l.UNKNOWN);a(new Tl(o,r.message))}else a(new Tl(_l.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Tl(_l.UNAVAILABLE,"Connection failed."));break;default:xl()}}finally{gl("Connection",'RPC "'+e+'" completed.')}var s,l}));var o=JSON.stringify(r);u.send(t,"POST",o,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ws(),a=Gs(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new Js({})),this.ao(u.initMessageHeaders,t,n),N()||R()||C().indexOf("Electron/")>=0||D()||C().indexOf("MSAppHost/")>=0||A()||(u.httpHeadersOverwriteParam="$httpHeaders");var o=r.join("");gl("Connection","Creating WebChannel: "+o,u);var s=i.createWebChannel(o,u),l=!1,c=!1,f=new Xh({Wr:function(e){c?gl("Connection","Not sending because WebChannel is closed:",e):(l||(gl("Connection","Opening WebChannel transport."),s.open(),l=!0),gl("Connection","WebChannel sending:",e),s.send(e))},zr:function(){return s.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(s,Zs.EventType.OPEN,(function(){c||gl("Connection","WebChannel transport opened.")})),d(s,Zs.EventType.CLOSE,(function(){c||(c=!0,gl("Connection","WebChannel transport closed"),f.no())})),d(s,Zs.EventType.ERROR,(function(e){c||(c=!0,bl("Connection","WebChannel transport errored:",e),f.no(new Tl(_l.UNAVAILABLE,"The operation could not be completed")))})),d(s,Zs.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];El(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){gl("Connection","WebChannel received error:",i);var a=i.status,u=function(e){var t=Gf[e];if(void 0!==t)return Zf(t)}(a),o=i.message;void 0===u&&(u=_l.INTERNAL,o="Unknown error status: "+a+" with message "+i.message),c=!0,f.no(new Tl(u,o)),s.close()}else gl("Connection","WebChannel received:",n),f.so(n)}})),d(a,Ys.STAT_EVENT,(function(e){e.stat===Xs.PROXY?gl("Connection","Detected buffering proxy"):e.stat===Xs.NOPROXY&&gl("Connection","Detected no buffering proxy")})),setTimeout((function(){f.eo()}),0),f}}]),n}(function(){"use strict";function e(t){f.default(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return h.default(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);gl("RestConnection","Sending: ",a,n);var u={};return this.ao(u,r,i),this.co(e,a,u,n).then((function(e){return gl("RestConnection","Received: ",e),e}),(function(t){throw bl("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+vl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=Yh[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function Zh(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(e){return new Id(e,!0)}var tp=function(){"use strict";function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;f.default(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return h.default(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&gl("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),np=function(){"use strict";function e(t,n,r,i,a,u,o,s){f.default(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new tp(t,n)}return h.default(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=this;return v.default(t(m).mark((function n(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.Co(),!t.t0){t.next=4;break}return t.next=4,e.close(0);case 4:case"end":return t.stop()}}),n)})))()}},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=this;return v.default(t(m).mark((function n(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.xo()){t.next=2;break}return t.abrupt("return",e.close(0));case 2:case"end":return t.stop()}}),n)})))()}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(e,n){var r=this;return v.default(t(m).mark((function i(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():n&&n.code===_l.RESOURCE_EXHAUSTED?(kl(n.toString()),kl("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):n&&n.code===_l.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,t.next=9,r.listener.Yr(n);case 9:case"end":return t.stop()}}),i)})))()}},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c.default(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){var r=e;t((function(){var e=new Tl(_l.UNKNOWN,"Fetching auth token failed: "+n.message);return r.Ko(e)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){var e=n;r((function(){return e.state=2,e.So=e.Yn.enqueueAfterDelay(e.Po,1e4,(function(){return e.xo()&&(e.state=3),Promise.resolve()})),e.listener.Hr()}))})),this.stream.Yr((function(e){var t=n;r((function(){return t.Ko(e)}))})),this.stream.onMessage((function(e){var t=n;r((function(){return t.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(v.default(t(m).mark((function n(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),n)}))))}},{key:"Ko",value:function(e){return gl("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){var r=t;t.Yn.enqueueAndForget((function(){return r.Vo===e?n():(gl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),rp=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r,i,a,u,o){var s;return f.default(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,o)).M=u,Ui.default(s)}return h.default(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n,r;if("targetChange"in t){t.targetChange;var i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:xl(),a=t.targetChange.targetIds||[],u=function(e,t){return e.N?(El(void 0===t||"string"==typeof t),Xl.fromBase64String(t||"")):(El(void 0===t||t instanceof Uint8Array),Xl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?_l.UNKNOWN:Zf(e.code);return new Tl(t,e.message||"")}(o);n=new bd(i,a,u,s||null)}else if("documentChange"in t){t.documentChange;var l=t.documentChange;l.document,l.document.name,l.document.updateTime;var c=Pd(e,l.document.name),f=Rd(l.document.updateTime),d=new Tc({mapValue:{fields:l.document.fields}}),h=Cc.newFoundDocument(c,f,d),p=l.targetIds||[],v=l.removedTargetIds||[];n=new gd(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=Pd(e,y.document),g=y.readTime?Rd(y.readTime):zl.min(),k=Cc.newNoDocument(m,g),b=y.removedTargetIds||[];n=new gd([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Pd(e,w.document),E=w.removedTargetIds||[];n=new gd([],E,x,null)}else{if(!("filter"in t))return xl();t.filter;var S=t.filter;S.targetId;var _=S.count||0,T=new Xf(_),I=S.targetId;n=new kd(I,T)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return zl.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?zl.min():t.readTime?Rd(t.readTime):zl.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t,n,r,i,a={};a.database=Fd(this.M),a.addTarget=(t=this.M,i=(n=e).target,(r=Fc(i)?{documents:Bd(t,i)}:{query:qd(t,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=Nd(t,n.resumeToken):n.snapshotVersion.compareTo(zl.min())>0&&(r.readTime=Cd(t,n.snapshotVersion.toTimestamp())),r);var u=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xl()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);u&&(a.labels=u),this.Fo(a)}},{key:"Wo",value:function(e){var t={};t.database=Fd(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(np),ip=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r,i,a,u,o){var s;return f.default(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,o)).M=u,s.zo=!1,Ui.default(s)}return h.default(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,je.default(ze.default(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(El(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=(r=e.writeResults,i=e.commitTime,r&&r.length>0?(El(void 0!==i),r.map((function(e){return n=i,(r=(t=e).updateTime?Rd(t.updateTime):Rd(n)).isEqual(zl.min())&&(r=Rd(n)),new Of(r,t.transformResults||[]);var t,n,r}))):[]),n=Rd(e.commitTime);return this.listener.Yo(n,t)}var r,i;return El(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=Fd(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return zd(t.M,e)}))};this.Fo(n)}}]),n}(np),ap=function(e){"use strict";k.default(n,(function e(){f.default(this,e)}));var t=b.default(n);function n(e,r,i,a){var u;return f.default(this,n),(u=t.call(this)).authCredentials=e,u.appCheckCredentials=r,u.bo=i,u.M=a,u.tu=!1,Ui.default(u)}return h.default(n,[{key:"eu",value:function(){if(this.tu)throw new Tl(_l.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c.default(i,2),u=a[0],o=a[1];return r.bo.oo(e,t,n,u,o)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_l.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Tl(_l.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c.default(i,2),u=a[0],o=a[1];return r.bo.ho(e,t,n,u,o)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_l.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Tl(_l.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(),up=function(){"use strict";function e(t,n){f.default(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return h.default(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(kl(t),this.iu=!1):gl("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),op=function e(n,r,i,a,u){"use strict";var o=this;f.default(this,e),this.localStore=n,this.datastore=r,this.asyncQueue=i,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=u,this._u.Lr((function(e){var n=o;i.enqueueAndForget(v.default(t(m).mark((function e(){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=gp(n),!e.t0){e.next=5;break}return gl("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=v.default(t(m).mark((function e(n){var r;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Sl(n)).fu.add(4),e.next=4,cp(r);case 4:return r.wu.set("Unknown"),r.fu.delete(4),e.next=8,sp(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(n);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new up(i,a)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(e){return lp.apply(this,arguments)}function lp(){return(lp=v.default(t(m).mark((function e(n){var r,i,a,u,o,s;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!0,i=!1,a=void 0,!gp(n)){e.next=25;break}e.prev=2,u=n.du[Symbol.iterator]();case 4:if(r=(o=u.next()).done){e.next=11;break}return s=o.value,e.next=8,s(!0);case 8:r=!0,e.next=4;break;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),i=!0,a=e.t0;case 17:e.prev=17,e.prev=18,r||null==u.return||u.return();case 20:if(e.prev=20,!i){e.next=23;break}throw a;case 23:return e.finish(20);case 24:return e.finish(17);case 25:case"end":return e.stop()}}),e,null,[[2,13,17,25],[18,,20,24]])})))).apply(this,arguments)}function cp(e){return fp.apply(this,arguments)}function fp(){return(fp=v.default(t(m).mark((function e(n){var r,i,a,u,o,s;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,i=!1,a=void 0,e.prev=1,u=n.du[Symbol.iterator]();case 3:if(r=(o=u.next()).done){e.next=10;break}return s=o.value,e.next=7,s(!1);case 7:r=!0,e.next=3;break;case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),i=!0,a=e.t0;case 16:e.prev=16,e.prev=17,r||null==u.return||u.return();case 19:if(e.prev=19,!i){e.next=22;break}throw a;case 22:return e.finish(19);case 23:return e.finish(16);case 24:case"end":return e.stop()}}),e,null,[[1,12,16,24],[17,,19,23]])})))).apply(this,arguments)}function dp(e,t){var n=Sl(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),mp(n)?yp(n):Gp(n).xo()&&pp(n,t))}function hp(e,t){var n=Sl(e),r=Gp(n);n.lu.delete(t),r.xo()&&vp(n,t),0===n.lu.size&&(r.xo()?r.Mo():gp(n)&&n.wu.set("Unknown"))}function pp(e,t){e.mu.Z(t.targetId),Gp(e).jo(t)}function vp(e,t){e.mu.Z(t),Gp(e).Wo(t)}function yp(e){e.mu=new xd({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),Gp(e).start(),e.wu.ru()}function mp(e){return gp(e)&&!Gp(e).Co()&&e.lu.size>0}function gp(e){return 0===Sl(e).fu.size}function kp(e){e.mu=void 0}function bp(e){return wp.apply(this,arguments)}function wp(){return(wp=v.default(t(m).mark((function e(n){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.lu.forEach((function(e,t){pp(n,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xp(e,t){return Ep.apply(this,arguments)}function Ep(){return(Ep=v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kp(n),mp(n)?(n.wu.au(r),yp(n)):n.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sp(e,t,n){return _p.apply(this,arguments)}function _p(){return _p=v.default(t(m).mark((function e(n,r,i){var a;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.wu.set("Online"),!(r instanceof bd&&2===r.state&&r.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=v.default(t(m).mark((function e(n,r){var i,a,u,o,s,l,c;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.cause,a=!0,u=!1,o=void 0,e.prev=2,s=r.targetIds[Symbol.iterator]();case 4:if(a=(l=s.next()).done){e.next=15;break}if(c=l.value,e.t0=n.lu.has(c),!e.t0){e.next=12;break}return e.next=10,n.remoteSyncer.rejectListen(c,i);case 10:n.lu.delete(c),n.mu.removeTarget(c);case 12:a=!0,e.next=4;break;case 15:e.next=21;break;case 17:e.prev=17,e.t1=e.catch(2),u=!0,o=e.t1;case 21:e.prev=21,e.prev=22,a||null==s.return||s.return();case 24:if(e.prev=24,!u){e.next=27;break}throw o;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}}),e,null,[[2,17,21,29],[22,,24,28]])})));return function(t,n){return e.apply(this,arguments)}}()(n,r);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),gl("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),e.t0),e.next=11,Tp(n,e.t0);case 11:case 22:e.next=29;break;case 13:if(r instanceof gd?n.mu.ut(r):r instanceof kd?n.mu._t(r):n.mu.ht(r),i.isEqual(zl.min())){e.next=29;break}return e.prev=14,e.next=17,Th(n.localStore);case 17:if(a=e.sent,e.t1=i.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(Xl.EMPTY_BYTE_STRING,n.snapshotVersion)),vp(e,t);var r=new oh(n.target,t,1,n.sequenceNumber);pp(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(n,i);case 24:return e.prev=24,e.t2=e.catch(14),gl("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Tp(n,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),_p.apply(this,arguments)}function Tp(e,t,n){return Ip.apply(this,arguments)}function Ip(){return(Ip=v.default(t(m).mark((function e(n,r,i){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rh(r)){e.next=2;break}throw r;case 2:return n.fu.add(1),e.next=5,cp(n);case 5:n.wu.set("Offline"),i||(i=function(){return Th(n.localStore)}),n.asyncQueue.enqueueRetryable(v.default(t(m).mark((function e(){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gl("RemoteStore","Retrying IndexedDB access"),e.next=3,i();case 3:return n.fu.delete(1),e.next=6,sp(n);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cp(e,t){return t().catch((function(n){return Tp(e,n,t)}))}function Np(e){return Ap.apply(this,arguments)}function Ap(){return(Ap=v.default(t(m).mark((function e(n){var r,i,a,u;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Sl(n),i=Qp(r),a=r.hu.length>0?r.hu[r.hu.length-1].batchId:-1;case 2:if(!Rp(r)){e.next=19;break}return e.prev=3,e.next=6,Nh(r.localStore,a);case 6:if(null!==(u=e.sent)){e.next=10;break}return 0===r.hu.length&&i.Mo(),e.abrupt("break",19);case 10:a=u.batchId,Dp(r,u),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Tp(r,e.t0);case 17:e.next=2;break;case 19:Op(r)&&Lp(r);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Rp(e){return gp(e)&&e.hu.length<10}function Dp(e,t){e.hu.push(t);var n=Qp(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function Op(e){return gp(e)&&!Qp(e).Co()&&e.hu.length>0}function Lp(e){Qp(e).start()}function Pp(e){return Mp.apply(this,arguments)}function Mp(){return(Mp=v.default(t(m).mark((function e(n){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qp(n).Zo();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Up(e){return Fp.apply(this,arguments)}function Fp(){return(Fp=v.default(t(m).mark((function e(n){var r,i,a,u,o,s,l;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=Qp(n),i=!0,a=!1,u=void 0,e.prev=2,o=n.hu[Symbol.iterator]();!(i=(s=o.next()).done);i=!0)l=s.value,r.Jo(l.mutations);e.next=10;break;case 6:e.prev=6,e.t0=e.catch(2),a=!0,u=e.t0;case 10:e.prev=10,e.prev=11,i||null==o.return||o.return();case 13:if(e.prev=13,!a){e.next=16;break}throw u;case 16:return e.finish(13);case 17:return e.finish(10);case 18:case"end":return e.stop()}}),e,null,[[2,6,10,18],[11,,13,17]])})))).apply(this,arguments)}function Vp(e,t,n){return jp.apply(this,arguments)}function jp(){return(jp=v.default(t(m).mark((function e(n,r,i){var a,u;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.hu.shift(),u=ah.from(a,r,i),e.next=3,Cp(n,(function(){return n.remoteSyncer.applySuccessfulWrite(u)}));case 3:return e.next=5,Np(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zp(e,t){return Bp.apply(this,arguments)}function Bp(){return Bp=v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r&&Qp(n).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=v.default(t(m).mark((function e(n,r){var i,a;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jf(a=r.code)||a===_l.ABORTED){e.next=7;break}return i=n.hu.shift(),Qp(n).ko(),e.next=5,Cp(n,(function(){return n.remoteSyncer.rejectFailedWrite(i.batchId,r)}));case 5:return e.next=7,Np(n);case 7:case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n,r);case 4:Op(n)&&Lp(n);case 5:case"end":return e.stop()}}),e)}))),Bp.apply(this,arguments)}function qp(e,t){return Hp.apply(this,arguments)}function Hp(){return(Hp=v.default(t(m).mark((function e(n,r){var i,a;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=Sl(n)).asyncQueue.verifyOperationInProgress(),gl("RemoteStore","RemoteStore received new credentials"),a=gp(i),i.fu.add(3),e.next=6,cp(i);case 6:return a&&i.wu.set("Unknown"),e.next=9,i.remoteSyncer.handleCredentialChange(r);case 9:return i.fu.delete(3),e.next=12,sp(i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kp(e,t){return Wp.apply(this,arguments)}function Wp(){return(Wp=v.default(t(m).mark((function e(n,r){var i;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Sl(n),!r){e.next=7;break}return i.fu.delete(2),e.next=5,sp(i);case 5:e.next=13;break;case 7:if(e.t0=r,e.t0){e.next=13;break}return i.fu.add(2),e.next=12,cp(i);case 12:i.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gp(e){return e.gu||(e.gu=(r=e.datastore,i=e.asyncQueue,a={Hr:bp.bind(null,e),Yr:xp.bind(null,e),Qo:Sp.bind(null,e)},(u=Sl(r)).eu(),new rp(i,u.bo,u.authCredentials,u.appCheckCredentials,u.M,a)),e.du.push((n=v.default(t(m).mark((function n(r){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=4;break}e.gu.ko(),mp(e)?yp(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:kp(e);case 7:case"end":return t.stop()}}),n)}))),function(e){return n.apply(this,arguments)}))),e.gu;var n,r,i,a,u}function Qp(e){return e.yu||(e.yu=(r=e.datastore,i=e.asyncQueue,a={Hr:Pp.bind(null,e),Yr:zp.bind(null,e),Xo:Up.bind(null,e),Yo:Vp.bind(null,e)},(u=Sl(r)).eu(),new ip(i,u.bo,u.authCredentials,u.appCheckCredentials,u.M,a)),e.du.push((n=v.default(t(m).mark((function n(r){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}return e.yu.ko(),t.next=4,Np(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(gl("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),n)}))),function(e){return n.apply(this,arguments)}))),e.yu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */;var n,r,i,a,u}var $p=function(){"use strict";function e(t,n,r,i,a){f.default(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Il,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return h.default(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tl(_l.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var u=new e(t,n,Date.now()+r,i,a);return u.start(r),u}}]),e}();function Yp(e,t){if(kl("AsyncQueue","".concat(t,": ").concat(e)),rh(e))return new Tl(_l.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xp=function(){"use strict";function e(t){f.default(this,e),this.comparator=t?function(e,n){return t(e,n)||cc.comparator(e.key,n.key)}:function(e,t){return cc.comparator(e.key,t.key)},this.keyedMap=ld(),this.sortedSet=new td(this.comparator)}return h.default(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Jp=function(){"use strict";function e(){f.default(this,e),this.pu=new td(cc.comparator)}return h.default(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):xl():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Zp=function(){"use strict";function e(t,n,r,i,a,u,o,s){f.default(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=o,this.excludesMetadataChanges=s}return h.default(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Xp.emptySet(n),a,r,i,!0,!1)}}]),e}(),ev=function e(){"use strict";f.default(this,e),this.Tu=void 0,this.listeners=[]},tv=function e(){"use strict";f.default(this,e),this.queries=new ed((function(e){return df(e)}),ff),this.onlineState="Unknown",this.Eu=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(e,t){return rv.apply(this,arguments)}function rv(){return(rv=v.default(t(m).mark((function e(n,r){var i,a,u,o,s;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Sl(n),a=r.query,u=!1,(o=i.queries.get(a))||(u=!0,o=new ev),!u){e.next=13;break}return e.prev=3,e.next=6,i.onListen(a);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Yp(e.t0,"Initialization of query '".concat(hf(r.query),"' failed")),e.abrupt("return",void r.onError(s));case 13:i.queries.set(a,o),o.listeners.push(r),r.Au(i.onlineState),o.Tu&&r.Ru(o.Tu)&&sv(i);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function iv(e,t){return av.apply(this,arguments)}function av(){return(av=v.default(t(m).mark((function e(n,r){var i,a,u,o,s;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Sl(n),a=r.query,u=!1,(o=i.queries.get(a))&&(s=o.listeners.indexOf(r))>=0&&(o.listeners.splice(s,1),u=0===o.listeners.length),!u){e.next=6;break}return e.abrupt("return",(i.queries.delete(a),i.onUnlisten(a)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uv(e,t){var n=Sl(e),r=!1,i=!0,a=!1,u=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value,c=l.query,f=n.queries.get(c);if(f){var d=!0,h=!1,p=void 0;try{for(var v,y=f.listeners[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){v.value.Ru(l)&&(r=!0)}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}f.Tu=l}}}catch(e){a=!0,u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}r&&sv(n)}function ov(e,t,n){var r=Sl(e),i=r.queries.get(t),a=!0,u=!1,o=void 0;if(i)try{for(var s,l=i.listeners[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){s.value.onError(n)}}catch(e){u=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(u)throw o}}r.queries.delete(t)}function sv(e){e.Eu.forEach((function(e){e.next()}))}var lv=function(){"use strict";function e(t,n,r){f.default(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return h.default(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t=[],n=!0,r=!1,i=void 0;try{for(var a,u=e.docChanges[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var o=a.value;3!==o.type&&t.push(o)}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}e=new Zp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var s=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),s=!0):this.Su(e,this.onlineState)&&(this.Du(e),s=!0),this.Vu=e,s}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.Cu&&n||e.docs.isEmpty()&&"Offline"!==t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=Zp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cv=function e(t){"use strict";f.default(this,e),this.key=t},fv=function e(t){"use strict";f.default(this,e),this.key=t},dv=function(){"use strict";function e(t,n){f.default(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=hd(),this.mutatedKeys=hd(),this.Uu=yf(t),this.qu=new Xp(this.Uu)}return h.default(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new Jp,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,u=i,o=!1,s=nf(this.query)&&i.size===this.query.limit?i.last():null,l=rf(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=pf(n.query,t)?t:null,d=!!c&&n.mutatedKeys.has(c.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.ju(c,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Uu(f,s)>0||l&&n.Uu(f,l)<0)&&(o=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(s||l)&&(o=!0)),p&&(f?(u=u.add(f),a=h?a.add(e):a.delete(e)):(u=u.delete(e),a=a.delete(e)))})),nf(this.query)||rf(this.query))for(;u.size>this.query.limit;){var c=nf(this.query)?u.last():u.first();u=u.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{qu:u,Qu:r,ni:o,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return n=e.type,i=t.type,(a=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xl()}})(n)-a(i)||r.Uu(e.doc,t.doc);var n,i,a})),this.Wu(n);var u=t?this.zu():[],o=0===this.Lu.size&&this.current?1:0,s=o!==this.Bu;return this.Bu=o,0!==a.length||s?{snapshot:new Zp(this.query,e.qu,i,a,e.mutatedKeys,0===o,s,!1),Hu:u}:{Hu:u}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Jp,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=hd(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new fv(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new cv(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=hd();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return Zp.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),hv=function e(t,n,r){"use strict";f.default(this,e),this.query=t,this.targetId=n,this.view=r},pv=function e(t){"use strict";f.default(this,e),this.key=t,this.Zu=!1},vv=function(){"use strict";function e(t,n,r,i,a,u){f.default(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.ta={},this.ea=new ed((function(e){return df(e)}),ff),this.na=new Map,this.sa=new Set,this.ia=new td(cc.comparator),this.ra=new Map,this.oa=new Uh,this.ua={},this.aa=new Map,this.ca=ph.yn(),this.onlineState="Unknown",this.ha=void 0}return h.default(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function yv(e,t){return mv.apply(this,arguments)}function mv(){return(mv=v.default(t(m).mark((function e(n,r){var i,a,u,o,s,l;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Kv(n),!(o=i.ea.get(r))){e.next=7;break}a=o.targetId,i.sharedClientState.addLocalQueryTarget(a),u=o.view.Xu(),e.next=16;break;case 7:return e.next=9,Ah(i.localStore,lf(r));case 9:return s=e.sent,i.isPrimaryClient&&dp(i.remoteStore,s),l=i.sharedClientState.addLocalQueryTarget(s.targetId),a=s.targetId,e.next=15,gv(i,r,a,"current"===l);case 15:u=e.sent;case 16:return e.abrupt("return",u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gv(e,t,n,r){return kv.apply(this,arguments)}function kv(){return kv=v.default(t(m).mark((function e(n,r,i,a){var u,o,s,l,c,f;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.la=function(e,r,i){return(a=v.default(t(m).mark((function e(n,r,i,a){var u,o,s;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.view.Gu(i),e.t0=u.ni,!e.t0){e.next=6;break}return e.next=5,Oh(n.localStore,r.query,!1).then((function(e){var t=e.documents;return r.view.Gu(t,u)}));case 5:u=e.sent;case 6:return o=a&&a.targetChanges.get(r.targetId),s=r.view.applyChanges(u,n.isPrimaryClient,o),e.abrupt("return",(Uv(n,r.targetId,s.Hu),s.snapshot));case 8:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return a.apply(this,arguments)})(n,e,r,i);var a},e.next=3,Oh(n.localStore,r,!0);case 3:return u=e.sent,o=new dv(r,u.li),s=o.Gu(u.documents),l=md.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==n.onlineState),c=o.applyChanges(s,n.isPrimaryClient,l),Uv(n,i,c.Hu),f=new hv(r,i,o),e.abrupt("return",(n.ea.set(r,f),n.na.has(i)?n.na.get(i).push(r):n.na.set(i,[r]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),kv.apply(this,arguments)}function bv(e,t){return wv.apply(this,arguments)}function wv(){return(wv=v.default(t(m).mark((function e(n,r){var i,a,u;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Sl(n),a=i.ea.get(r),!((u=i.na.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(i.na.set(a.targetId,u.filter((function(e){return!ff(e,r)}))),void i.ea.delete(r)));case 3:if(!i.isPrimaryClient){e.next=11;break}if(i.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=i.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,Rh(i.localStore,a.targetId,!1).then((function(){i.sharedClientState.clearQueryState(a.targetId),hp(i.remoteStore,a.targetId),Pv(i,a.targetId)})).catch(vh);case 9:e.next=14;break;case 11:return Pv(i,a.targetId),e.next=14,Rh(i.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xv(e,t,n){return Ev.apply(this,arguments)}function Ev(){return Ev=v.default(t(m).mark((function e(n,r,i){var a,u,o;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wv(n),e.prev=1,e.next=4,function(e,t){var n,r=Sl(e),i=jl.now(),a=t.reduce((function(e,t){return e.add(t.key)}),hd());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var u=[],o=!0,s=!1,l=void 0;try{for(var c,f=t[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var d=c.value,h=Vf(d,n.get(d.key));null!=h&&u.push(new qf(d.key,h,Ic(h.value.mapValue),Lf.exists(!0)))}}catch(e){s=!0,l=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw l}}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(a.localStore,r);case 4:return u=e.sent,a.sharedClientState.addPendingMutation(u.batchId),t=a,s=u.batchId,l=i,c=void 0,(c=t.ua[t.currentUser.toKey()])||(c=new td(Fl)),c=c.insert(s,l),t.ua[t.currentUser.toKey()]=c,e.next=9,jv(a,u.changes);case 9:return e.next=11,Np(a.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Yp(e.t0,"Failed to persist write"),i.reject(o);case 17:case"end":return e.stop()}var t,s,l,c}),e,null,[[1,13]])}))),Ev.apply(this,arguments)}function Sv(e,t){return _v.apply(this,arguments)}function _v(){return(_v=v.default(t(m).mark((function e(n,r){var i,a;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sl(n),e.prev=1,e.next=4,Ih(i.localStore,r);case 4:return a=e.sent,r.targetChanges.forEach((function(e,t){var n=i.ra.get(t);n&&(El(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?El(n.Zu):e.removedDocuments.size>0&&(El(n.Zu),n.Zu=!1))})),e.next=8,jv(i,a,r);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,vh(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function Tv(e,t,n){var r=Sl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Sl(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i=!0,a=!1,u=void 0;try{for(var o,s=n.listeners[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){o.value.Au(t)&&(r=!0)}}catch(e){a=!0,u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}})),r&&sv(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Iv(e,t,n){return Cv.apply(this,arguments)}function Cv(){return(Cv=v.default(t(m).mark((function e(n,r,i){var a,u,o,s,l,c;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=Sl(n)).sharedClientState.updateQueryState(r,"rejected",i),u=a.ra.get(r),!(o=u&&u.key)){e.next=14;break}return s=(s=new td(cc.comparator)).insert(o,Cc.newNoDocument(o,zl.min())),l=hd().add(o),c=new yd(zl.min(),new Map,new id(Fl),s,l),e.next=9,Sv(a,c);case 9:a.ia=a.ia.remove(o),a.ra.delete(r),Vv(a),e.next=16;break;case 14:return e.next=16,Rh(a.localStore,r,!1).then((function(){return Pv(a,r,i)})).catch(vh);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nv(e,t){return Av.apply(this,arguments)}function Av(){return(Av=v.default(t(m).mark((function e(n,r){var i,a,u;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sl(n),a=r.batch.batchId,e.prev=1,e.next=4,_h(i.localStore,r);case 4:return u=e.sent,Lv(i,a,null),Ov(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),e.next=10,jv(i,u);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Rv(e,t,n){return Dv.apply(this,arguments)}function Dv(){return(Dv=v.default(t(m).mark((function e(n,r,i){var a,u;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Sl(n),e.prev=1,e.next=4,function(e,t){var n=Sl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return El(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(a.localStore,r);case 4:return u=e.sent,Lv(a,r,i),Ov(a,r),a.sharedClientState.updateMutationState(r,"rejected",i),e.next=10,jv(a,u);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Ov(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function Lv(e,t,n){var r=Sl(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function Pv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r=!0,i=!1,a=void 0;try{for(var u,o=e.na.get(t)[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var s=u.value;e.ea.delete(s),n&&e.ta.fa(s,n)}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||Mv(e,t)}))}function Mv(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(hp(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),Vv(e))}function Uv(e,t,n){var r=!0,i=!1,a=void 0;try{for(var u,o=n[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var s=u.value;s instanceof cv?(e.oa.addReference(s.key,t),Fv(e,s)):s instanceof fv?(gl("SyncEngine","Document no longer in limbo: "+s.key),e.oa.removeReference(s.key,t),e.oa.containsKey(s.key)||Mv(e,s.key)):xl()}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}}function Fv(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(gl("SyncEngine","New document in limbo: "+n),e.sa.add(r),Vv(e))}function Vv(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new cc(Wl.fromString(t)),r=e.ca.next();e.ra.set(r,new pv(n)),e.ia=e.ia.insert(n,r),dp(e.remoteStore,new oh(lf(tf(n.path)),r,2,Pl.A))}}function jv(e,t,n){return zv.apply(this,arguments)}function zv(){return zv=v.default(t(m).mark((function e(n,r,i){var a,u,o,s;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Sl(n),u=[],o=[],s=[],e.t0=a.ea.isEmpty(),e.t0){e.next=9;break}return a.ea.forEach((function(e,t){s.push(a.la(t,r,i).then((function(e){if(e){a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),u.push(e);var n=kh.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return a.ta.Qo(u),e.next=9,function(){var e=v.default(t(m).mark((function e(n,r){var i,a,u,o,s,l,c,f,d,h,p;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sl(n),e.prev=1,e.next=4,i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return nh.forEach(r,(function(t){return nh.forEach(t.Hs,(function(n){return i.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return nh.forEach(t.Js,(function(n){return i.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),rh(e.t0)){e.next=10;break}throw e.t0;case 10:gl("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:for(a=!0,u=!1,o=void 0,e.prev=12,s=r[Symbol.iterator]();!(a=(l=s.next()).done);a=!0)c=l.value,f=c.targetId,c.fromCache||(d=i.ii.get(f),h=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(h),i.ii=i.ii.insert(f,p));e.next=20;break;case 16:e.prev=16,e.t1=e.catch(12),u=!0,o=e.t1;case 20:e.prev=20,e.prev=21,a||null==s.return||s.return();case 23:if(e.prev=23,!u){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}}),e,null,[[1,6],[12,16,20,28],[21,,23,27]])})));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,o);case 9:case"end":return e.stop()}}),e)}))),zv.apply(this,arguments)}function Bv(e,t){return qv.apply(this,arguments)}function qv(){return(qv=v.default(t(m).mark((function e(n,r){var i,a;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Sl(n)).currentUser.isEqual(r)){e.next=11;break}return gl("SyncEngine","User change. New user:",r.toKey()),e.next=5,Eh(i.localStore,r);case 5:return a=e.sent,i.currentUser=r,(t=i).aa.forEach((function(e){e.forEach((function(e){e.reject(new Tl(_l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.aa.clear(),i.sharedClientState.handleUserChange(r,a.removedBatchIds,a.addedBatchIds),e.next=11,jv(i,a.hi);case 11:case"end":return e.stop()}var t}),e)})))).apply(this,arguments)}function Hv(e,t){var n=Sl(e),r=n.ra.get(t);if(r&&r.Zu)return hd().add(r.key);var i=hd(),a=n.na.get(t);if(!a)return i;var u=!0,o=!1,s=void 0;try{for(var l,c=a[Symbol.iterator]();!(u=(l=c.next()).done);u=!0){var f=l.value,d=n.ea.get(f);i=i.unionWith(d.view.Ku)}}catch(e){o=!0,s=e}finally{try{u||null==c.return||c.return()}finally{if(o)throw s}}return i}function Kv(e){var t=Sl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Sv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Iv.bind(null,t),t.ta.Qo=uv.bind(null,t.eventManager),t.ta.fa=ov.bind(null,t.eventManager),t}function Wv(e){var t=Sl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Rv.bind(null,t),t}var Gv=function(){"use strict";function e(){f.default(this,e),this.synchronizeTabs=!1}return h.default(e,[{key:"initialize",value:function(e){var n=this;return v.default(t(m).mark((function r(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.M=ep(e.databaseInfo.databaseId),n.sharedClientState=n._a(e),n.persistence=n.wa(e),t.next=5,n.persistence.start();case 5:n.gcScheduler=n.ma(e),n.localStore=n.ga(e);case 7:case"end":return t.stop()}}),r)})))()}},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return xh(this.persistence,new bh,e.initialUser,this.M)}},{key:"wa",value:function(e){return new qh(Kh.zi,this.M)}},{key:"_a",value:function(e){return new Gh}},{key:"terminate",value:function(){var e=this;return v.default(t(m).mark((function n(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.gcScheduler&&e.gcScheduler.stop(),t.next=3,e.sharedClientState.shutdown();case 3:return t.next=5,e.persistence.shutdown();case 5:case"end":return t.stop()}}),n)})))()}}]),e}(),Qv=function(){"use strict";function e(){f.default(this,e)}return h.default(e,[{key:"initialize",value:function(e,n){var r=this;return v.default(t(m).mark((function i(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=r.localStore,t.t0){t.next=12;break}return r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=function(e){return Tv(r.syncEngine,e,1)},r.remoteStore.remoteSyncer.handleCredentialChange=Bv.bind(null,r.syncEngine),t.next=12,Kp(r.remoteStore,r.syncEngine.isPrimaryClient);case 12:case"end":return t.stop()}}),i)})))()}},{key:"createEventManager",value:function(e){return new tv}},{key:"createDatastore",value:function(e){var t,n,r,i=ep(e.databaseInfo.databaseId),a=(t=e.databaseInfo,new Jh(t));return n=e.authCredentials,r=e.appCheckCredentials,new ap(n,r,a,i)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,u=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Tv(u.syncEngine,e,0)},a=$h.vt()?new $h:new Qh,new op(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,u){var o=new vv(e,t,n,r,i,a);return u&&(o.ha=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return(e=v.default(t(m).mark((function e(n){var r;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sl(n),gl("RemoteStore","RemoteStore shutting down."),r.fu.add(5),e.next=5,cp(r);case 5:r._u.shutdown(),r.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $v=function(){"use strict";function e(t){f.default(this,e),this.observer=t,this.muted=!1}return h.default(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Yv=function(){"use strict";function e(n,r,i,a){var u=this;f.default(this,e);var o,s=this;this.authCredentials=n,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=a,this.user=pl.UNAUTHENTICATED,this.clientId=Ul.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(i,(o=v.default(t(m).mark((function e(n){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gl("FirestoreClient","Received user=",n.uid),e.next=3,s.authCredentialListener(n);case 3:s.user=n;case 4:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})),this.appCheckCredentials.start(i,(function(e){return gl("FirestoreClient","Received new app check token=",e),u.appCheckCredentialListener(e,u.user)}))}return h.default(e,[{key:"getConfiguration",value:function(){var e=this;return v.default(t(m).mark((function n(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100});case 1:case"end":return t.stop()}}),n)})))()}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Tl(_l.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){this.asyncQueue.enterRestrictedMode();var e=new Il,n=this;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v.default(t(m).mark((function r(){var i;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,t.t0=n.onlineComponents,!t.t0){t.next=5;break}return t.next=5,n.onlineComponents.terminate();case 5:if(t.t1=n.offlineComponents,!t.t1){t.next=9;break}return t.next=9,n.offlineComponents.terminate();case 9:n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),e.resolve(),t.next=18;break;case 14:t.prev=14,t.t2=t.catch(0),i=Yp(t.t2,"Failed to shutdown persistence"),e.reject(i);case 18:case"end":return t.stop()}}),r,null,[[0,14]])})))),e.promise}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(e,t){return Jv.apply(this,arguments)}function Jv(){return Jv=v.default(t(m).mark((function e(n,r){var i,a;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.asyncQueue.verifyOperationInProgress(),gl("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,n.getConfiguration();case 3:return i=e.sent,e.next=6,r.initialize(i);case 6:a=i.initialUser,n.setCredentialChangeListener(function(){var e=v.default(t(m).mark((function e(n){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(n),e.t0){e.next=5;break}return e.next=4,Eh(r.localStore,n);case 4:a=n;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener((function(){return n.terminate()})),n.offlineComponents=r;case 8:case"end":return e.stop()}}),e)}))),Jv.apply(this,arguments)}function Zv(e,t){return ey.apply(this,arguments)}function ey(){return(ey=v.default(t(m).mark((function e(n,r){var i,a;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.asyncQueue.verifyOperationInProgress(),e.next=3,ty(n);case 3:return i=e.sent,gl("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,n.getConfiguration();case 7:return a=e.sent,e.next=10,r.initialize(i,a);case 10:n.setCredentialChangeListener((function(e){return qp(r.remoteStore,e)})),n.setAppCheckTokenChangeListener((function(e,t){return qp(r.remoteStore,t)})),n.onlineComponents=r;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ty(e){return ny.apply(this,arguments)}function ny(){return(ny=v.default(t(m).mark((function e(n){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.offlineComponents,e.t0){e.next=5;break}return gl("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Xv(n,new Gv);case 5:return e.abrupt("return",(e.t0||e.sent,n.offlineComponents));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ry(e){return iy.apply(this,arguments)}function iy(){return(iy=v.default(t(m).mark((function e(n){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.onlineComponents,e.t0){e.next=5;break}return gl("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Zv(n,new Qv);case 5:return e.abrupt("return",(e.t0||e.sent,n.onlineComponents));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ay(e){return ry(e).then((function(e){return e.syncEngine}))}function uy(e){return oy.apply(this,arguments)}function oy(){return(oy=v.default(t(m).mark((function e(n){var r,i;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ry(n);case 2:return r=e.sent,i=r.eventManager,e.abrupt("return",(i.onListen=yv.bind(null,r.syncEngine),i.onUnlisten=bv.bind(null,r.syncEngine),i));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sy(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new Il;return e.asyncQueue.enqueueAndForget(v.default(t(m).mark((function a(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t,n,r,i){var a=new $v({next:function(n){t.enqueueAndForget((function(){return iv(e,u)})),n.fromCache&&"server"===r.source?i.reject(new Tl(_l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),u=new lv(n,a,{includeMetadataChanges:!0,Cu:!0});return nv(e,u)},t.next=3,uy(e);case 3:return t.t1=t.sent,t.t2=e.asyncQueue,t.t3=n,t.t4=r,t.t5=i,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4,t.t5));case 9:case"end":return t.stop()}}),a)})))),i.promise}var ly=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(e,t,n){if(!n)throw new Tl(_l.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function fy(e){if(!cc.isDocumentKey(e))throw new Tl(_l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function dy(e){if(cc.isDocumentKey(e))throw new Tl(_l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function hy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=(n=e).constructor?n.constructor.name:null;return t?"a custom ".concat(t," object"):"an object"}var n;return"function"==typeof e?"a function":xl()}function py(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Tl(_l.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=hy(e);throw new Tl(_l.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vy=function(){"use strict";function e(t){var n;if(f.default(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Tl(_l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Tl(_l.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Tl(_l.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return h.default(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),yy=function(){"use strict";function e(t,n,r){f.default(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vy({}),this._settingsFrozen=!1,t instanceof uc?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Tl(_l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uc(e.options.projectId)}(t))}return h.default(e,[{key:"app",get:function(){if(!this._app)throw new Tl(_l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Tl(_l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vy(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Nl;switch(e.type){case"gapi":var t=e.client;return El(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Dl(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Tl(_l.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return e=this,(t=ly.get(e))&&(gl("ComponentProvider","Removing Datastore"),ly.delete(e),t.terminate()),Promise.resolve();var e,t}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var my=function(){"use strict";function e(t,n,r){f.default(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return h.default(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ky(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),gy=function(){"use strict";function e(t,n,r){f.default(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return h.default(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ky=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r,i){var a;return f.default(this,n),(a=t.call(this,e,r,tf(i)))._path=i,a.type="collection",Ui.default(a)}return h.default(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new my(this.firestore,null,new cc(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(gy);function by(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=K(e),cy("collection","path",t),e instanceof yy){var a,u=(a=Wl).fromString.apply(a,[t].concat(y.default(r)));return dy(u),new ky(e,null,u)}var o;if(!(e instanceof my||e instanceof ky))throw new Tl(_l.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=e._path.child((o=Wl).fromString.apply(o,[t].concat(y.default(r))));return dy(s),new ky(e.firestore,null,s)}function wy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=K(e),1===arguments.length&&(t=Ul.R()),cy("doc","path",t),e instanceof yy){var a,u=(a=Wl).fromString.apply(a,[t].concat(y.default(r)));return fy(u),new my(e,null,new cc(u))}var o;if(!(e instanceof my||e instanceof ky))throw new Tl(_l.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=e._path.child((o=Wl).fromString.apply(o,[t].concat(y.default(r))));return fy(s),new my(e.firestore,e instanceof ky?e.converter:null,new cc(s))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xy=function(){"use strict";function e(){var t=this;f.default(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new tp(this,"async_queue_retry"),this.qa=function(){var e=Zh();e&&gl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=Zh();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return h.default(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=Zh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new Il;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=this;return v.default(t(m).mark((function n(){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.Ma.length){t.next=14;break}return t.prev=1,t.next=4,e.Ma[0]();case 4:e.Ma.shift(),e.Do.reset(),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(1),rh(t.t0)){t.next=12;break}throw t.t0;case 12:gl("AsyncQueue","Operation failed with retryable error: "+t.t0);case 13:e.Ma.length>0&&e.Do.To((function(){return e.Qa()}));case 14:case"end":return t.stop()}}),n,null,[[1,8]])})))()}},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){var n,r;throw t.$a=e,t.Ba=!1,kl("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=$p.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&xl()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=this;return v.default(t(m).mark((function n(){var r;return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:return r=e.ka,t.next=4,r;case 4:if(r!==e.ka){t.next=1;break}case 5:case"end":return t.stop()}}),n)})))()}},{key:"za",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this.Fa[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){if(i.value.timerId===e)return!0}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n=!0,r=!1,i=void 0;try{for(var a,u=t.Fa[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var o=a.value;if(o.skipDelay(),"all"!==e&&o.timerId===e)break}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();var Ey=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r,i){var a;return f.default(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new xy,a._persistenceKey="name"in e?e.name:"[DEFAULT]",Ui.default(a)}return h.default(n,[{key:"_terminate",value:function(){return this._firestoreClient||_y(this),this._firestoreClient.terminate()}}]),n}(yy);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(e){return e._firestoreClient||_y(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function _y(e){var t,n,r,i,a,u=e._freezeSettings(),o=(n=e._databaseId,r=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",i=e._persistenceKey,new ac(n,r,i,(a=u).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));e._firestoreClient=new Yv(e._authCredentials,e._appCheckCredentials,e._queue,o)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ty=function(){"use strict";function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];f.default(this,e);for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Tl(_l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ql(n)}return h.default(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Iy=function(){"use strict";function e(t){f.default(this,e),this._byteString=t}return h.default(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Xl.fromBase64String(t))}catch(e){throw new Tl(_l.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}},{key:"fromUint8Array",value:function(t){return new e(Xl.fromUint8Array(t))}}]),e}(),Cy=function e(t){"use strict";f.default(this,e),this._methodName=t},Ny=function(){"use strict";function e(t,n){if(f.default(this,e),!isFinite(t)||t<-90||t>90)throw new Tl(_l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Tl(_l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return h.default(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Fl(this._lat,e._lat)||Fl(this._long,e._long)}}]),e}(),Ay=/^__.*__$/,Ry=function(){"use strict";function e(t,n,r){f.default(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h.default(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new qf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bf(e,this.data,t,this.fieldTransforms)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xl()}}var Oy=function(){"use strict";function e(t,n,r,i,a,u){f.default(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=u||[]}return h.default(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return Ky(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(Dy(this.Xa)&&Ay.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),Ly=function(){"use strict";function e(t,n,r){f.default(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||ep(t)}return h.default(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Oy({Xa:e,methodName:t,uc:n,path:Ql.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function Py(e){var t=e._freezeSettings(),n=ep(e._databaseId);return new Ly(e._databaseId,!!t.ignoreUndefinedProperties,n)}function My(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=e.ac(a.merge||a.mergeFields?2:0,t,n,i);zy("Data must be an object, but it was:",u,r);var o,s,l=Vy(r,u);if(a.merge)o=new $l(u.fieldMask),s=u.fieldTransforms;else if(a.mergeFields){var c=[],f=!0,d=!1,h=void 0;try{for(var p,v=a.mergeFields[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var y=p.value,m=By(t,y,n);if(!u.contains(m))throw new Tl(_l.INVALID_ARGUMENT,"Field '".concat(m,"' is specified in your field mask but missing from your input data."));Wy(c,m)||c.push(m)}}catch(e){d=!0,h=e}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}o=new $l(c),s=u.fieldTransforms.filter((function(e){return o.covers(e.field)}))}else o=null,s=u.fieldTransforms;return new Ry(new Tc(l),o,s)}function Uy(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Fy(n,e.ac(r?4:3,t))}function Fy(e,t){if(jy(e=K(e)))return zy("Unsupported field value:",t,e),Vy(e,t);if(e instanceof Cy)return function(e,t){if(!Dy(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n=[],r=0,i=!0,a=!1,u=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=Fy(o.value,t.ic(r));null==l&&(l={nullValue:"NULL_VALUE"}),n.push(l),r++}}catch(e){a=!0,u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=K(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bf(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=jl.fromDate(e);return{timestampValue:Cd(t.M,n)}}if(e instanceof jl){var r=new jl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cd(t.M,r)}}if(e instanceof Ny)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Iy)return{bytesValue:Nd(t.M,e._byteString)};if(e instanceof my){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Dd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(hy(e)))}(e,t)}function Vy(e,t){var n={};return Hl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ql(e,(function(e,r){var i=Fy(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof jl||e instanceof Ny||e instanceof Iy||e instanceof my||e instanceof Cy)}function zy(e,t,n){if(!jy(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=hy(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}var i}function By(e,t,n){if((t=K(t))instanceof Ty)return t._internalPath;if("string"==typeof t)return Hy(e,t);throw Ky("Field path arguments must be of type string or ",e,!1,void 0,n)}var qy=new RegExp("[~\\*/\\[\\]]");function Hy(e,t,n){if(t.search(qy)>=0)throw Ky("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Fi.default(Ty,y.default(t.split(".")))._internalPath}catch(r){throw Ky("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ky(e,t,n,r,i){var a=r&&!r.isEmpty(),u=void 0!==i,o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";var s="";return(a||u)&&(s+=" (found",a&&(s+=" in field ".concat(r)),u&&(s+=" in document ".concat(i)),s+=")"),new Tl(_l.INVALID_ARGUMENT,o+e+s)}function Wy(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gy=function(){"use strict";function e(t,n,r,i,a){f.default(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return h.default(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new my(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Qy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field($y("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Qy=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(){return f.default(this,n),t.apply(this,arguments)}return h.default(n,[{key:"data",value:function(){return je.default(ze.default(n.prototype),"data",this).call(this)}}]),n}(Gy);function $y(e,t){return"string"==typeof t?Hy(e,t):t instanceof Ty?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yy=function(){"use strict";function e(t,n){f.default(this,e),this.hasPendingWrites=t,this.fromCache=n}return h.default(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Xy=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r,i,a,u,o){var s;return f.default(this,n),(s=t.call(this,e,r,i,a,o))._firestore=e,s._firestoreImpl=e,s.metadata=u,Ui.default(s)}return h.default(n,[{key:"exists",value:function(){return je.default(ze.default(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Jy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field($y("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Gy),Jy=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(){return f.default(this,n),t.apply(this,arguments)}return h.default(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return je.default(ze.default(n.prototype),"data",this).call(this,e)}}]),n}(Xy),Zy=function(){"use strict";function e(t,n,r,i){f.default(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yy(i.hasPendingWrites,i.fromCache),this.query=r}return h.default(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Jy(n._firestore,n._userDataWriter,r.key,r,new Yy(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Tl(_l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Jy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Jy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:em(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function em(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xl()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tm(e){if(rf(e)&&0===e.explicitOrderBy.length)throw new Tl(_l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nm=function e(){"use strict";f.default(this,e)};function rm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=!0,a=!1,u=void 0;try{for(var o,s=n[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;e=l._apply(e)}}catch(e){a=!0,u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}return e}var im=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r,i){var a;return f.default(this,n),(a=t.call(this)).lc=e,a.fc=r,a.dc=i,a.type="where",Ui.default(a)}return h.default(n,[{key:"_apply",value:function(e){var t,n,r,i=Py(e.firestore),a=function(e,t,n,r,i,a,u){var o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Tl(_l.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){sm(u,a);var s=[],l=!0,c=!1,f=void 0;try{for(var d,h=u[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;s.push(om(r,e,p))}}catch(e){c=!0,f=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw f}}o={arrayValue:{values:s}}}else o=om(r,e,u)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||sm(u,a),o=Uy(n,"where",u,"in"===a||"not-in"===a);var v=Vc.create(i,a,o);return function(e,t){if(t.S()){var n=uf(e);if(null!==n&&!n.isEqual(t.field))throw new Tl(_l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=af(e);null!==r&&lm(e,t.field,r)}var i=function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,u=e.filters[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var o=a.value;if(t.indexOf(o.op)>=0)return o.op}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Tl(_l.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Tl(_l.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,v),v}(e._query,0,i,e.firestore._databaseId,this.lc,this.fc,this.dc);return new gy(e.firestore,e.converter,(t=e._query,n=a,r=t.filters.concat([n]),new Zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)))}}]),n}(nm);var am=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e,r){var i;return f.default(this,n),(i=t.call(this)).lc=e,i._c=r,i.type="orderBy",Ui.default(i)}return h.default(n,[{key:"_apply",value:function(e){var t,n,r,i=function(e,t,n){if(null!==e.startAt)throw new Tl(_l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Tl(_l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new $c(t,n);return function(e,t){if(null===af(e)){var n=uf(e);null!==n&&lm(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new gy(e.firestore,e.converter,(t=e._query,n=i,r=t.explicitOrderBy.concat([n]),new Zc(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))}}]),n}(nm);function um(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=$y("orderBy",e);return new am(r,n)}function om(e,t,n){if("string"==typeof(n=K(n))){if(""===n)throw new Tl(_l.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!of(t)&&-1!==n.indexOf("/"))throw new Tl(_l.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Wl.fromString(n));if(!cc.isDocumentKey(r))throw new Tl(_l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return gc(e,new cc(r))}if(n instanceof my)return gc(e,n._key);throw new Tl(_l.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(hy(n),"."))}function sm(e,t){if(!Array.isArray(e)||0===e.length)throw new Tl(_l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Tl(_l.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function lm(e,t,n){if(!n.isEqual(t))throw new Tl(_l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cm=function(){"use strict";function e(){f.default(this,e)}return h.default(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(fc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ec(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xl()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ql(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Ny(ec(e.latitude),ec(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=rc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ic(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Zl(e);return new jl(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Wl.fromString(e);El(Xd(n));var r=new uc(n.get(1),n.get(3)),i=new cc(n.popFirst(5));return r.isEqual(t)||kl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var dm=function(e){"use strict";k.default(n,e);var t=b.default(n);function n(e){var r;return f.default(this,n),(r=t.call(this)).firestore=e,Ui.default(r)}return h.default(n,[{key:"convertBytes",value:function(e){return new Iy(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new my(this.firestore,null,t)}}]),n}(cm);function hm(e){e=py(e,gy);var t=py(e.firestore,Ey),n=Sy(t),r=new dm(t);return tm(e._query),sy(n,e._query).then((function(n){return new Zy(t,r,e,n)}))}function pm(e,t,n){e=py(e,my);var r=py(e.firestore,Ey),i=fm(e.converter,t,n);return ym(r,[My(Py(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Lf.none())])}function vm(e,t){var n=py(e.firestore,Ey),r=wy(e),i=fm(e.converter,t);return ym(n,[My(Py(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Lf.exists(!1))]).then((function(){return r}))}function ym(e,n){return r=Sy(e),i=n,a=new Il,r.asyncQueue.enqueueAndForget(v.default(t(m).mark((function e(){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=xv,e.next=3,ay(r);case 3:return e.t1=e.sent,e.t2=i,e.t3=a,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),e)})))),a.promise;var r,i,a}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];vl="9.7.0",ge(new X("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Ey(i,new Al(e.getProvider("auth-internal")),new Ll(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),_e(hl,"3.4.8",e),_e(hl,"3.4.8","esm2017")}();var mm,gm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof t){var n=t;t={name:n}}var r=Object.assign({name:he,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw we.create("bad-app-name",{appName:String(i)});var a=ve.get(i);if(a){if(F(e,a.options)&&F(r,a.config))return a;throw we.create("duplicate-app",{appName:i})}var u=new te(i),o=!0,s=!1,l=void 0;try{for(var c,f=ye.values()[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var d=c.value;u.addComponent(d)}}catch(e){s=!0,l=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw l}}var h=new xe(e,r,u);return ve.set(i,h),h}({apiKey:"AIzaSyBvHCpKNrfKfc2AZZLP8D0K1AGlUFcX1aE",authDomain:"test-budget-38b21.firebaseapp.com",databaseURL:"https://test-budget-38b21.firebaseio.com",projectId:"test-budget-38b21",storageBucket:"test-budget-38b21.appspot.com",messagingSenderId:"1067130269246",appId:"1:1067130269246:web:504d76c1afc05bcbf12b6f"}),km=(mm=
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se(),t=ke(e,"auth");return t.isInitialized()?t.getImmediate():it(e,{popupRedirectResolver:Ci,persistence:[Er,Zn,tr]})}(gm),{signIn:v.default(t(m).mark((function e(){var n,r,i,a,u;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Mn).setCustomParameters({prompt:"select_account"}),e.prev=2,e.next=5,Qr(mm,n);case 5:r=e.sent,i=r.user,console.log(i.displayName,i.email,i.photoURL),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),a=e.t0.code,u=e.t0.message,console.log(a,u);case 15:case"end":return e.stop()}}),e,null,[[2,10]])}))),signOut:function(){!function(e){K(e).signOut()}(mm)},onAuthStateChanged:function(e){return function(e,t,n,r){return K(e).onAuthStateChanged(t,n,r)}(mm,e)}}),bm=km.signIn,wm=km.signOut,xm=km.onAuthStateChanged,Em=function(e){var n,r=function(){return ke(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se(),"firestore").getImmediate()}(e);return{getBudgets:(n=v.default(t(m).mark((function e(n){var i,a;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rm(by(r,"budgets"),(t="uid",u="==",o=n.uid,s=void 0,l=void 0,s=u,l=$y("where",t),new im(l,s,o)),um("createdAt")),e.next=3,hm(i);case 3:return a=e.sent,e.abrupt("return",a.docs.map((function(e){return Mi.default({id:e.id},e.data())})));case 5:case"end":return e.stop()}var t,u,o,s,l}),e)}))),function(e){return n.apply(this,arguments)}),updateBudget:function(){var e=v.default(t(m).mark((function e(n,i,a){var u;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=by(r,"budgets"),e.next=3,pm(wy(u,n),{amount:i,weekly_amount:a},{merge:!0});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),createBudget:function(){var e=v.default(t(m).mark((function e(n,i,a){var u;return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vm(by(r,"budgets"),{amount:0,createdAt:new Date,name:i,uid:n.uid,weekly_amount:0,weekly_budget:a});case 2:u=e.sent,console.log("Document written with ID: ",u.id);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}}(gm),Sm=Em.getBudgets,_m=Em.updateBudget,Tm=Em.createBudget,Im=function(e){return new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(e)},Cm=function(e){var t=e.user;return null!==t?u.jsxs("button",{className:"btn btn-outline-danger",onClick:function(e){e.preventDefault(),wm()},children:[u.jsx("i",{className:"bi bi-box-arrow-in-left"})," ",u.jsx("em",{children:t.displayName})]}):u.jsx("button",{className:"btn btn-outline-success",onClick:function(e){e.preventDefault(),bm()},children:u.jsx("i",{className:"bi bi-box-arrow-in-right"})})},Nm=function(e){return u.jsx("div",{style:{marginTop:"50px"},className:"d-flex justify-content-center",children:u.jsx("div",{style:{width:"3rem",height:"3rem"},className:"spinner-border",role:"status",children:u.jsx("span",{className:"visually-hidden",children:"Loading..."})})})},Am=function(e){return u.jsx("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark",children:u.jsxs("div",{className:"container-fluid",children:[u.jsx("span",{className:"navbar-brand",children:"My Budgets"}),u.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation",children:u.jsx("span",{className:"navbar-toggler-icon"})}),u.jsxs("div",{className:"collapse navbar-collapse",id:"navbarCollapse",children:[u.jsx("ul",{className:"navbar-nav me-auto mb-2 mb-md-0"}),u.jsx("form",{className:"d-flex",children:u.jsx(Cm,{user:null})})]})]})})};l=a("jE8J5"),v=a("cd1mK"),Mi=a("hEJBC"),y=a("fZ0h0"),Vi=a("gVWln"),l=a("jE8J5");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function Rm(e,t,n,r){return new(n||(n=Promise))((function(i,a){function u(e){try{s(r.next(e))}catch(e){a(e)}}function o(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,o)}s((r=r.apply(e,t||[])).next())}))}function Dm(e,t){var n,r,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(i=u.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){u.label=a[1];break}if(6===a[0]&&u.label<i[1]){u.label=i[1],i=a;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(a);break}i[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}var Om,Lm=function(){},Pm=Lm(),Mm=Object,Um=function(e){return e===Pm},Fm=function(e){return"function"==typeof e},Vm=function(e,t){return Mm.assign({},e,t)},jm="undefined",zm=function(){return("undefined"==typeof window?"undefined":Vi.default(window))!=jm},Bm=new WeakMap,qm=0,Hm=function(e){var t,n,r=void 0===e?"undefined":Vi.default(e),i=e&&e.constructor,a=i==Date;if(Mm(e)!==e||a||i==RegExp)t=a?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=Bm.get(e))return t;if(t=++qm+"~",Bm.set(e,t),i==Array){for(t="@",n=0;n<e.length;n++)t+=Hm(e[n])+",";Bm.set(e,t)}if(i==Mm){t="#";for(var u=Mm.keys(e).sort();!Um(n=u.pop());)Um(e[n])||(t+=n+":"+Hm(e[n])+",");Bm.set(e,t)}}return t},Km=!0,Wm=zm(),Gm=("undefined"==typeof document?"undefined":Vi.default(document))!=jm,Qm=Wm&&window.addEventListener?window.addEventListener.bind(window):Lm,$m=Gm?document.addEventListener.bind(document):Lm,Ym=Wm&&window.removeEventListener?window.removeEventListener.bind(window):Lm,Xm=Gm?document.removeEventListener.bind(document):Lm,Jm={isOnline:function(){return Km},isVisible:function(){var e=Gm&&document.visibilityState;return Um(e)||"hidden"!==e}},Zm={initFocus:function(e){return $m("visibilitychange",e),Qm("focus",e),function(){Xm("visibilitychange",e),Ym("focus",e)}},initReconnect:function(e){var t=function(){Km=!0,e()},n=function(){Km=!1};return Qm("online",t),Qm("offline",n),function(){Ym("online",t),Ym("offline",n)}}},eg=!zm()||"Deno"in window,tg=function(e){return zm()&&Vi.default(window.requestAnimationFrame)!=jm?window.requestAnimationFrame(e):setTimeout(e,1)},ng=eg?l.useEffect:l.useLayoutEffect,rg="undefined"!=typeof navigator&&navigator.connection,ig=!eg&&rg&&(["slow-2g","2g"].includes(rg.effectiveType)||rg.saveData),ag=function(e){if(Fm(e))try{e=e()}catch(t){e=""}var t=[].concat(e);return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?Hm(e):"",t,e?"$swr$"+e:""]},ug=new WeakMap,og=function(e,t,n,r,i,a,u){void 0===u&&(u=!0);var o=ug.get(e),s=o[0],l=o[1],c=o[3],f=s[t],d=l[t];if(u&&d)for(var h=0;h<d.length;++h)d[h](n,r,i);return a&&(delete c[t],f&&f[0])?f[0](2).then((function(){return e.get(t)})):e.get(t)},sg=0,lg=function(){return++sg},cg=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Rm(void 0,void 0,void 0,(function(){var t,n,r,i,a,u,o,s,l,c,f,d,h,p,v,y,m,g,k,b,w;return Dm(this,(function(x){switch(x.label){case 0:if(t=e[0],n=e[1],r=e[2],i=e[3],u=!!Um((a="boolean"==typeof i?{revalidate:i}:i||{}).populateCache)||a.populateCache,o=!1!==a.revalidate,s=!1!==a.rollbackOnError,l=a.optimisticData,c=ag(n),f=c[0],d=c[2],!f)return[2];if(h=ug.get(t),p=h[2],e.length<3)return[2,og(t,f,t.get(f),Pm,Pm,o,!0)];if(v=r,m=lg(),p[f]=[m,0],g=!Um(l),k=t.get(f),g&&(b=Fm(l)?l(k):l,t.set(f,b),og(t,f,b)),Fm(v))try{v=v(t.get(f))}catch(e){y=e}return v&&Fm(v.then)?[4,v.catch((function(e){y=e}))]:[3,2];case 1:if(v=x.sent(),m!==p[f][0]){if(y)throw y;return[2,v]}y&&g&&s&&(u=!0,v=k,t.set(f,k)),x.label=2;case 2:return u&&(y||(Fm(u)&&(v=u(v,k)),t.set(f,v)),t.set(d,Vm(t.get(d),{error:y}))),p[f][1]=lg(),[4,og(t,f,v,y,Pm,o,!!u)];case 3:if(w=x.sent(),y)throw y;return[2,u?w:v]}}))}))},fg=function(e,t){for(var n in e)e[n][0]&&e[n][0](t)},dg=function(e,t){if(!ug.has(e)){var n=Vm(Zm,t),r={},i=cg.bind(Pm,e),a=Lm;if(ug.set(e,[r,{},{},{},i]),!eg){var u=n.initFocus(setTimeout.bind(Pm,fg.bind(Pm,r,0))),o=n.initReconnect(setTimeout.bind(Pm,fg.bind(Pm,r,1)));a=function(){u&&u(),o&&o(),ug.delete(e)}}return[e,i,a]}return[e,ug.get(e)[4]]},hg=dg(new Map),pg=hg[0],vg=hg[1],yg=Vm({onLoadingSlow:Lm,onSuccess:Lm,onError:Lm,onErrorRetry:function(e,t,n,r,i){var a=n.errorRetryCount,u=i.retryCount,o=~~((Math.random()+.5)*(1<<(u<8?u:8)))*n.errorRetryInterval;!Um(a)&&u>a||setTimeout(r,o,i)},onDiscarded:Lm,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ig?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:ig?5e3:3e3,compare:function(e,t){return Hm(e)==Hm(t)},isPaused:function(){return!1},cache:pg,mutate:vg,fallback:{}},Jm),mg=function(e,t){var n=Vm(e,t);if(t){var r=e.use,i=e.fallback,a=t.use,u=t.fallback;r&&a&&(n.use=r.concat(a)),i&&u&&(n.fallback=Vm(i,u))}return n},gg=l.createContext({}),kg=function(e){return Fm(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},bg=function(){return Vm(yg,l.useContext(gg))},wg=function(e,t,n){var r=t[e]||(t[e]=[]);return r.push(n),function(){var e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}},xg={dedupe:!0},Eg=(Mm.defineProperty((function(e){var t=e.value,n=mg(l.useContext(gg),t),r=t&&t.provider,i=l.useState((function(){return r?dg(r(n.cache||pg),t):Pm}))[0];return i&&(n.cache=i[0],n.mutate=i[1]),ng((function(){return i?i[2]:Pm}),[]),l.createElement(gg.Provider,Vm(e,{value:n}))}),"default",{value:yg}),Om=function(e,t,n){var r=n.cache,i=n.compare,a=n.fallbackData,u=n.suspense,o=n.revalidateOnMount,s=n.refreshInterval,c=n.refreshWhenHidden,f=n.refreshWhenOffline,d=ug.get(r),h=d[0],p=d[1],v=d[2],y=d[3],m=ag(e),g=m[0],k=m[1],b=m[2],w=l.useRef(!1),x=l.useRef(!1),E=l.useRef(g),S=l.useRef(t),_=l.useRef(n),T=function(){return _.current},I=function(){return T().isVisible()&&T().isOnline()},C=function(e){return r.set(b,Vm(r.get(b),e))},N=r.get(g),A=Um(a)?n.fallback[g]:a,R=Um(N)?A:N,D=r.get(b)||{},O=D.error,L=!w.current,P=function(){return L&&!Um(o)?o:!T().isPaused()&&(u?!Um(R)&&n.revalidateIfStale:Um(R)||n.revalidateIfStale)},M=!(!g||!t)&&(!!D.isValidating||L&&P()),U=function(e,t){var n=l.useState({})[1],r=l.useRef(e),i=l.useRef({data:!1,error:!1,isValidating:!1}),a=l.useCallback((function(e){var a=!1,u=r.current;for(var o in e){var s=o;u[s]!==e[s]&&(u[s]=e[s],i.current[s]&&(a=!0))}a&&!t.current&&n({})}),[]);return ng((function(){r.current=e})),[r,i.current,a]}({data:R,error:O,isValidating:M},x),F=U[0],V=U[1],j=U[2],z=l.useCallback((function(e){return Rm(void 0,void 0,void 0,(function(){var t,a,u,o,s,l,c,f,d,h,p,m,b;return Dm(this,(function(_){switch(_.label){case 0:if(t=S.current,!g||!t||x.current||T().isPaused())return[2,!1];o=!0,s=e||{},l=!y[g]||!s.dedupe,c=function(){return!x.current&&g===E.current&&w.current},f=function(){var e=y[g];e&&e[1]===u&&delete y[g]},d={isValidating:!1},h=function(){C({isValidating:!1}),c()&&j(d)},C({isValidating:!0}),j({isValidating:!0}),_.label=1;case 1:return _.trys.push([1,3,,4]),l&&(og(r,g,F.current.data,F.current.error,!0),n.loadingTimeout&&!r.get(g)&&setTimeout((function(){o&&c()&&T().onLoadingSlow(g,n)}),n.loadingTimeout),y[g]=[t.apply(void 0,k),lg()]),b=y[g],a=b[0],u=b[1],[4,a];case 2:return a=_.sent(),l&&setTimeout(f,n.dedupingInterval),y[g]&&y[g][1]===u?(C({error:Pm}),d.error=Pm,p=v[g],!Um(p)&&(u<=p[0]||u<=p[1]||0===p[1])?(h(),l&&c()&&T().onDiscarded(g),[2,!1]):(i(F.current.data,a)?d.data=F.current.data:d.data=a,i(r.get(g),a)||r.set(g,a),l&&c()&&T().onSuccess(a,g,n),[3,4])):(l&&c()&&T().onDiscarded(g),[2,!1]);case 3:return m=_.sent(),f(),T().isPaused()||(C({error:m}),d.error=m,l&&c()&&(T().onError(m,g,n),("boolean"==typeof n.shouldRetryOnError&&n.shouldRetryOnError||Fm(n.shouldRetryOnError)&&n.shouldRetryOnError(m))&&I()&&T().onErrorRetry(m,g,n,z,{retryCount:(s.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return o=!1,h(),c()&&l&&og(r,g,d.data,d.error,!1),[2,!0]}}))}))}),[g]),B=l.useCallback(cg.bind(Pm,r,(function(){return E.current})),[]);if(ng((function(){S.current=t,_.current=n})),ng((function(){if(g){var e=g!==E.current,t=z.bind(Pm,xg),n=0,r=wg(g,p,(function(e,t,n){j(Vm({error:t,isValidating:n},i(F.current.data,e)?Pm:{data:e}))})),a=wg(g,h,(function(e){if(0==e){var r=Date.now();T().revalidateOnFocus&&r>n&&I()&&(n=r+T().focusThrottleInterval,t())}else if(1==e)T().revalidateOnReconnect&&I()&&t();else if(2==e)return z()}));return x.current=!1,E.current=g,w.current=!0,e&&j({data:R,error:O,isValidating:M}),P()&&(Um(R)||eg?t():tg(t)),function(){x.current=!0,r(),a()}}}),[g,z]),ng((function(){var e;function t(){var t=Fm(s)?s(R):s;t&&-1!==e&&(e=setTimeout(n,t))}function n(){F.current.error||!c&&!T().isVisible()||!f&&!T().isOnline()?t():z(xg).then(t)}return t(),function(){e&&(clearTimeout(e),e=-1)}}),[s,c,f,z]),l.useDebugValue(R),u&&Um(R)&&g)throw S.current=t,_.current=n,x.current=!1,Um(O)?z(xg):O;return{mutate:B,get data(){return V.data=!0,R},get error(){return V.error=!0,O},get isValidating(){return V.isValidating=!0,M}}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=bg(),r=kg(e),i=r[0],a=r[1],u=r[2],o=mg(n,u),s=Om,l=o.use;if(l)for(var c=l.length;c-- >0;)s=l[c](s);return s(i,a||o.fetcher,o)}),Sg=function(e){var n,r=Eg(["budgets",e.uid],(function(e,t){return console.assert("budgets"===e),Sm({uid:t})})),i=r.data,a=r.error,u=r.isValidating,o=r.mutate;return{data:i,error:a,isValidating:u,Methods:{spend:(n=v.default(t(m).mark((function e(n,r){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(i.map((function(e){return n.id===e.id?Mi.default({},n,{amount:n.amount-r,weekly_amount:n.weekly_amount+r}):e})),!1),e.next=3,_m(n.id,n.amount-r,n.weekly_amount+r);case 3:o();case 4:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)}),recharge:function(){var e=v.default(t(m).mark((function e(n){return t(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o((function(e){return e.map((function(e){return n.id===e.id?Mi.default({},n,{amount:n.amount+n.weekly_budget,weekly_amount:0}):e}))}),!1),e.next=3,_m(n.id,n.amount+n.weekly_budget,0);case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var n=v.default(t(m).mark((function n(r){return t(m).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(y.default(i).concat([{amount:0,id:"temporary_id",name:"".concat(r.name," (").concat(r.description,")"),weekly_amount:0,weekly_budget:r.budget}]),!1),t.next=3,Tm(e,"".concat(r.name," (").concat(r.description,")"),r.budget);case 3:o();case 4:case"end":return t.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}},_g=(c=a("bC9U7"),l=a("jE8J5"),c=a("bC9U7"),l=a("jE8J5"),document.body.appendChild(document.createElement("div"))),Tg=function(e){var n=e.opened,r=e.setOpened,i=e.children,a=c.default(t(l).useState(!1),2),o=a[0],f=a[1],d=t(l).useRef(null),h=t(l).useRef(null);return t(l).useEffect((function(){h.current=new bootstrap.Modal(d.current),d.current.addEventListener("hidden.bs.modal",(function(e){f(!1),r(!1)})),d.current.addEventListener("shown.bs.modal",(function(){f(!0)}))}),[]),t(l).useEffect((function(){n?h.current.show():(f(!1),h.current.hide())}),[n]),t(s).createPortal(u.jsx("div",{ref:d,className:"modal fade",tabIndex:"-1","aria-hidden":"true",children:u.jsx("div",{className:"modal-dialog",children:u.jsx("div",{className:"modal-content",children:o?i:null})})}),_g)},Ig=(c=a("bC9U7"),l=a("jE8J5"),function(e){var n=e.setOpened,r=e.budget,i=e.action,a=t(l).useRef(null);t(l).useEffect((function(){a.current.focus()}),[]);var o=c.default(t(l).useState(""),2),s=o[0],f=o[1];return u.jsxs(t(l).Fragment,{children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h5",{className:"modal-title",children:r.name}),u.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),u.jsxs("form",{onSubmit:function(e){e.preventDefault(),i(parseFloat(s)),n(!1)},children:[u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"form-floating",children:[u.jsx("input",{ref:a,id:"floatingInput",type:"number",className:"form-control",value:s,step:"0.01",onChange:function(e){f(e.target.value)},placeholder:"3.14",required:!0}),u.jsx("label",{htmlFor:"floatingInput",children:"Quanto hai speso?"})]}),u.jsxs("small",{className:"form-text text-muted",children:["Il tuo budget è ",Im(r.amount)]})]}),u.jsx("div",{className:"modal-footer",children:u.jsx("button",{type:"submit",className:"btn btn-outline-primary",children:"Sure!"})})]})]})}),Cg=function(e){var n=e.budget,r=e.spend,i=c.default(t(l).useState(!1),2),a=i[0],o=i[1];return u.jsxs("div",{className:"col-sm-6",children:[u.jsx(Tg,{opened:a,setOpened:o,children:u.jsx(Ig,{setOpened:o,budget:n,action:r})}),u.jsxs("div",{className:"card border-secondary",style:{margin:"10px"},children:[u.jsxs("div",{className:"card-header",children:[n.name," ",u.jsx("sub",{children:Im(n.weekly_budget)}),u.jsx("span",{className:"float-end",children:u.jsxs("form",{className:"row row-cols-auto align-items-center",children:[u.jsx("strong",{children:u.jsx("em",{children:Im(n.amount)})}),u.jsxs("div",{className:"dropdown",children:[u.jsx("button",{className:"btn btn-sm btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"⚙"}),u.jsxs("div",{className:"dropdown-menu dropdown-menu-end",children:[u.jsx("button",{className:"dropdown-item",onClick:function(e){e.preventDefault()},children:"TODO"}),u.jsx("button",{className:"dropdown-item",onClick:function(e){e.preventDefault()},children:"TODO"})]})]})]})})]}),u.jsx("div",{className:"card-body",children:u.jsxs("p",{style:{marginTop:"4px"},children:[u.jsx("span",{className:"card-subtitle mb-2 text-muted",children:Im(n.weekly_amount)}),u.jsx("button",{className:"btn btn-outline-primary float-end",onClick:function(){o(!0)},children:"Add cost"})]})})]})]},n.id)};a("jE8J5");var Ng=function(e,t){return 100*e/t},Ag=function(e){var t=e.amount,n=e.weekly_amount,r=Math.max(0,t-n),i=Ng(r,t);return u.jsx("div",{className:"progress",children:u.jsx("div",{className:"progress-bar",style:{width:"".concat(i,"%")},children:Im(r)})})};a("jE8J5");var Rg=function(e){var t=e.user;return Sg(t).isValidating?u.jsx("div",{className:"spinner-border",style:{position:"fixed",bottom:"1em",right:"1em"},role:"status",children:u.jsx("span",{className:"visually-hidden",children:"Loading..."})}):null};c=a("bC9U7"),l=a("jE8J5");a("jE8J5");var Dg=function(e){var t=e.opened,n=e.setOpened,r=e.action;return u.jsxs(Tg,{opened:t,setOpened:n,children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h5",{className:"modal-title",children:"Recharge All"}),u.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),u.jsx("div",{className:"modal-body",children:"Sicuro di voler ricaricare tutti i budget?"}),u.jsx("div",{className:"modal-footer",style:{display:"block"},children:u.jsx("button",{className:"btn btn-outline-danger float-end",onClick:function(){r(),n(!1)},children:"Ok"})})]})},Og=(c=a("bC9U7"),l=a("jE8J5"),function(e){var n=e.action,r=t(l).useRef(null);t(l).useEffect((function(){r.current.focus()}),[]);var i=c.default(t(l).useState(""),2),a=i[0],o=i[1],s=c.default(t(l).useState(""),2),f=s[0],d=s[1],h=c.default(t(l).useState(""),2),p=h[0],v=h[1],y=function(e){"budget"===e.target.name?v(parseFloat(e.target.value)):(0,{name:o,description:d}[e.target.name])(e.target.value)};return u.jsxs(t(l).Fragment,{children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h5",{className:"modal-title",children:"New Budget"}),u.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),u.jsxs("form",{onSubmit:function(e){e.preventDefault(),n({name:a,description:f,budget:p})},children:[u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"form-floating mb-3",children:[u.jsx("input",{ref:r,className:"form-control",name:"name",placeholder:" ",value:a,onChange:y,required:!0}),u.jsx("label",{children:"Name"})]}),u.jsxs("div",{className:"form-floating mb-3",children:[u.jsx("textarea",{className:"form-control",name:"description",rows:"3",placeholder:" ",style:{height:"100px"},value:f,onChange:y}),u.jsx("label",{children:"Description"})]}),u.jsxs("div",{className:"form-floating mb-3",children:[u.jsx("input",{type:"number",min:"0.01",step:"0.01",className:"form-control",value:p,onChange:y,name:"budget",placeholder:" ",required:!0}),u.jsx("label",{children:"Budget"})]})]}),u.jsx("div",{className:"modal-footer",style:{display:"block"},children:u.jsx("button",{type:"submit",className:"btn btn-outline-danger float-end",children:"Ok"})})]})]})}),Lg=function(e){var t=e.opened,n=e.setOpened,r=e.action;return u.jsx(Tg,{opened:t,setOpened:n,children:u.jsx(Og,{action:function(e){r(e),n(!1)}})})},Pg=function(e){var n=e.user,r=e.budgets,i=e.Methods,a=c.default(t(l).useState(!1),2),o=a[0],s=a[1],f=c.default(t(l).useState(!1),2),d=f[0],h=f[1],p=r.reduce((function(e,t){return e+t.weekly_budget}),0);return u.jsxs("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark",children:[u.jsx(Dg,{opened:o,setOpened:s,action:function(){r.forEach((function(e){i.recharge(e)}))}}),u.jsx(Lg,{opened:d,setOpened:h,action:function(e){i.create(e)}}),u.jsxs("div",{className:"container-fluid",children:[u.jsxs("span",{className:"navbar-brand",children:["My Budgets ",u.jsx("sub",{children:Im(p)})]}),u.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation",children:u.jsx("span",{className:"navbar-toggler-icon"})}),u.jsxs("div",{className:"collapse navbar-collapse",id:"navbarCollapse",children:[u.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-md-0",children:[u.jsx("li",{className:"nav-item",children:u.jsx("a",{className:"nav-link",href:"#",onClick:function(e){e.preventDefault(),s(!0)},children:"Recharge all"})}),u.jsx("li",{className:"nav-item",children:u.jsx("a",{className:"nav-link",href:"#",onClick:function(e){e.preventDefault(),h(!0)},children:"New budget"})})]}),u.jsx("form",{className:"d-flex",children:u.jsx(Cm,{user:n})})]})]})]})},Mg=function(e){var n=e.user,r=e.error;return u.jsxs(t(l).Fragment,{children:[u.jsx(Am,{user:n}),u.jsx("div",{className:"container",children:u.jsxs("div",{style:{marginTop:"10px"},className:"alert alert-danger",role:"alert",children:[u.jsx("p",{children:"Errore nel caricamento dei budget!"}),u.jsx("hr",{}),u.jsx("p",{children:u.jsx("em",{children:r.message})})]})})]})},Ug=function(e){var n=e.user,r=Sg(n),i=r.data,a=r.error,o=r.Methods;if(void 0!==a)return u.jsx(Mg,{user:n,error:a});if(void 0===i)return u.jsx(Nm,{});var s=i.reduce((function(e,t){return e+t.amount}),0),c=i.reduce((function(e,t){return e+t.weekly_amount}),0),f=i.map((function(e){return u.jsx(Cg,{budget:e,spend:function(t){o.spend(e,t)}},e.id)}));return u.jsxs(t(l).Fragment,{children:[u.jsx(Pg,{user:n,budgets:i,Methods:o}),u.jsxs("div",{className:"container",style:{paddingTop:"1em"},children:[u.jsx("div",{style:{marginTop:"4px"},children:u.jsx(Ag,{amount:s,weekly_amount:c})}),u.jsx("div",{className:"row",children:f})]}),u.jsx(Rg,{user:n})]})},Fg=function(){return u.jsxs(t(l).Fragment,{children:[u.jsx(Am,{}),u.jsxs("div",{className:"container",children:[u.jsx("div",{style:{marginTop:"10px"},className:"alert alert-danger",role:"alert",children:u.jsx("p",{children:"Please authenticate!"})}),u.jsxs("p",{children:["You need to"," ",u.jsx("a",{href:"#",onClick:function(e){e.preventDefault()},children:"authenticate"})," ","with a Google Account in order to use this app."]})]})]})},Vg=function(e){var n=function(){var e=c.default(t(l).useState(void 0),2),n=e[0],r=e[1];return t(l).useEffect((function(){return xm(r)}),[]),n}();return void 0===n?u.jsx(Nm,{}):null===n?u.jsx(Fg,{}):u.jsx(Ug,{user:n})};o(document.getElementById("app")).render(u.jsx(Vg,{}))}();