!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},a=n.parcelRequirebb14;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},n.parcelRequirebb14=a),a.register("2nacn",(function(t,n){var r,i,o;e(t.exports,"Fragment",(function(){return r}),(function(e){return r=e})),e(t.exports,"jsx",(function(){return i}),(function(e){return i=e})),e(t.exports,"jsxs",(function(){return o}),(function(e){return o=e}));var u=a("jE8J5"),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,f=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,n){var r,i={},a=null,o=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(o=t.ref),t)c.call(t,r)&&!h.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:a,ref:o,props:i,_owner:f.current}}r=l,i=d,o=d})),a.register("jE8J5",(function(e,t){"use strict";e.exports=a("gxKzV")})),a.register("gxKzV",(function(n,r){e(n.exports,"Children",(function(){return i}),(function(e){return i=e})),e(n.exports,"Component",(function(){return o}),(function(e){return o=e})),e(n.exports,"Fragment",(function(){return u}),(function(e){return u=e})),e(n.exports,"Profiler",(function(){return s}),(function(e){return s=e})),e(n.exports,"PureComponent",(function(){return l}),(function(e){return l=e})),e(n.exports,"StrictMode",(function(){return c}),(function(e){return c=e})),e(n.exports,"Suspense",(function(){return f}),(function(e){return f=e})),e(n.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return h}),(function(e){return h=e})),e(n.exports,"cloneElement",(function(){return d}),(function(e){return d=e})),e(n.exports,"createContext",(function(){return p}),(function(e){return p=e})),e(n.exports,"createElement",(function(){return v}),(function(e){return v=e})),e(n.exports,"createFactory",(function(){return y}),(function(e){return y=e})),e(n.exports,"createRef",(function(){return m}),(function(e){return m=e})),e(n.exports,"forwardRef",(function(){return g}),(function(e){return g=e})),e(n.exports,"isValidElement",(function(){return k}),(function(e){return k=e})),e(n.exports,"lazy",(function(){return b}),(function(e){return b=e})),e(n.exports,"memo",(function(){return w}),(function(e){return w=e})),e(n.exports,"startTransition",(function(){return x}),(function(e){return x=e})),e(n.exports,"unstable_act",(function(){return E}),(function(e){return E=e})),e(n.exports,"useCallback",(function(){return S}),(function(e){return S=e})),e(n.exports,"useContext",(function(){return _}),(function(e){return _=e})),e(n.exports,"useDebugValue",(function(){return T}),(function(e){return T=e})),e(n.exports,"useDeferredValue",(function(){return I}),(function(e){return I=e})),e(n.exports,"useEffect",(function(){return C}),(function(e){return C=e})),e(n.exports,"useId",(function(){return N}),(function(e){return N=e})),e(n.exports,"useImperativeHandle",(function(){return A}),(function(e){return A=e})),e(n.exports,"useInsertionEffect",(function(){return R}),(function(e){return R=e})),e(n.exports,"useLayoutEffect",(function(){return O}),(function(e){return O=e})),e(n.exports,"useMemo",(function(){return D}),(function(e){return D=e})),e(n.exports,"useReducer",(function(){return P}),(function(e){return P=e})),e(n.exports,"useRef",(function(){return L}),(function(e){return L=e})),e(n.exports,"useState",(function(){return M}),(function(e){return M=e})),e(n.exports,"useSyncExternalStore",(function(){return U}),(function(e){return U=e})),e(n.exports,"useTransition",(function(){return F}),(function(e){return F=e})),e(n.exports,"version",(function(){return j}),(function(e){return j=e}));var i,o,u,s,l,c,f,h,d,p,v,y,m,g,k,b,w,x,E,S,_,T,I,C,N,A,R,O,D,P,L,M,U,F,j,V=a("8ztJZ"),z=Symbol.for("react.element"),B=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),G=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),$=Symbol.iterator;var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,te={};function ne(e,t,n){this.props=e,this.context=t,this.refs=te,this.updater=n||Z}function re(){}function ie(e,t,n){this.props=e,this.context=t,this.refs=te,this.updater=n||Z}ne.prototype.isReactComponent={},ne.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},ne.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},re.prototype=ne.prototype;var ae=ie.prototype=new re;ae.constructor=ie,ee(ae,ne.prototype),ae.isPureReactComponent=!0;var oe=Array.isArray,ue=Object.prototype.hasOwnProperty,se={current:null},le={key:!0,ref:!0,__self:!0,__source:!0};function ce(e,t,n){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)ue.call(t,r)&&!le.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:z,type:e,key:a,ref:o,props:i,_owner:se.current}}function fe(e){return"object"==typeof e&&null!==e&&e.$$typeof===z}var he=/\/+/g;function de(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function pe(e,n,r,i,a){var o=void 0===e?"undefined":t(V)(e);"undefined"!==o&&"boolean"!==o||(e=null);var u,s=!1;if(null===e)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case z:case B:s=!0}}if(s)return a=a(s=e),e=""===i?"."+de(s,0):i,oe(a)?(r="",null!=e&&(r=e.replace(he,"$&/")+"/"),pe(a,n,r,"",(function(e){return e}))):null!=a&&(fe(a)&&(a=function(e,t){return{$$typeof:z,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(he,"$&/")+"/")+e)),n.push(a)),1;if(s=0,i=""===i?".":i+":",oe(e))for(var l=0;l<e.length;l++){var c=i+de(o=e[l],l);s+=pe(o,n,r,c,a)}else if("function"==typeof(c=null===(u=e)||"object"!=typeof u?null:"function"==typeof(u=$&&u[$]||u["@@iterator"])?u:null))for(e=c.call(e),l=0;!(o=e.next()).done;)s+=pe(o=o.value,n,r,c=i+de(o,l++),a);else if("object"===o)throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return s}function ve(e,t,n){if(null==e)return e;var r=[],i=0;return pe(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function ye(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var me={current:null},ge={transition:null};i={map:ve,forEach:function(e,t,n){ve(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return ve(e,(function(){t++})),t},toArray:function(e){return ve(e,(function(e){return e}))||[]},only:function(e){if(!fe(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},o=ne,u=q,s=K,l=ie,c=H,f=X,h={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:ge,ReactCurrentOwner:se},d=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ee({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=se.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(s in t)ue.call(t,s)&&!le.hasOwnProperty(s)&&(r[s]=void 0===t[s]&&void 0!==u?u[s]:t[s])}var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){u=Array(s);for(var l=0;l<s;l++)u[l]=arguments[l+2];r.children=u}return{$$typeof:z,type:e.type,key:i,ref:a,props:r,_owner:o}},p=function(e){return(e={$$typeof:G,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:W,_context:e},e.Consumer=e},v=ce,y=function(e){var t=ce.bind(null,e);return t.type=e,t},m=function(){return{current:null}},g=function(e){return{$$typeof:Q,render:e}},k=fe,b=function(e){return{$$typeof:J,_payload:{_status:-1,_result:e},_init:ye}},w=function(e,t){return{$$typeof:Y,type:e,compare:void 0===t?null:t}},x=function(e){var t=ge.transition;ge.transition={};try{e()}finally{ge.transition=t}},E=function(){throw Error("act(...) is not supported in production builds of React.")},S=function(e,t){return me.current.useCallback(e,t)},_=function(e){return me.current.useContext(e)},T=function(){},I=function(e){return me.current.useDeferredValue(e)},C=function(e,t){return me.current.useEffect(e,t)},N=function(){return me.current.useId()},A=function(e,t,n){return me.current.useImperativeHandle(e,t,n)},R=function(e,t){return me.current.useInsertionEffect(e,t)},O=function(e,t){return me.current.useLayoutEffect(e,t)},D=function(e,t){return me.current.useMemo(e,t)},P=function(e,t,n){return me.current.useReducer(e,t,n)},L=function(e){return me.current.useRef(e)},M=function(e){return me.current.useState(e)},U=function(e,t,n){return me.current.useSyncExternalStore(e,t,n)},F=function(){return me.current.useTransition()},j="18.1.0"})),a.register("8ztJZ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}})),a.register("2wM5b",(function(n,r){e(n.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return i}),(function(e){return i=e})),e(n.exports,"createPortal",(function(){return o}),(function(e){return o=e})),e(n.exports,"createRoot",(function(){return u}),(function(e){return u=e})),e(n.exports,"findDOMNode",(function(){return s}),(function(e){return s=e})),e(n.exports,"flushSync",(function(){return l}),(function(e){return l=e})),e(n.exports,"hydrate",(function(){return c}),(function(e){return c=e})),e(n.exports,"hydrateRoot",(function(){return f}),(function(e){return f=e})),e(n.exports,"render",(function(){return h}),(function(e){return h=e})),e(n.exports,"unmountComponentAtNode",(function(){return d}),(function(e){return d=e})),e(n.exports,"unstable_batchedUpdates",(function(){return p}),(function(e){return p=e})),e(n.exports,"unstable_renderSubtreeIntoContainer",(function(){return v}),(function(e){return v=e})),e(n.exports,"version",(function(){return y}),(function(e){return y=e}));var i,o,u,s,l,c,f,h,d,p,v,y,m=a("8ztJZ"),g=a("jE8J5"),k=a("hnwcm");function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w=new Set,x={};function E(e,t){S(e,t),S(e+"Capture",t)}function S(e,t){for(x[e]=t,e=0;e<t.length;e++)w.add(t[e])}var _=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),T=Object.prototype.hasOwnProperty,I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},N={};function A(e,n,r,i){if(null==n||function(e,n,r,i){if(null!==r&&0===r.type)return!1;switch(void 0===n?"undefined":t(m)(n)){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,r,i))return!0;if(i)return!1;if(null!==r)switch(r.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function R(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){O[e]=new R(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];O[t]=new R(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){O[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){O[e]=new R(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){O[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){O[e]=new R(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){O[e]=new R(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){O[e]=new R(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){O[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)}));var D=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}function L(e,t,n,r){var i=O.hasOwnProperty(t)?O[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(A(t,n,i,r)&&(n=null),r||null===i?function(e){return!!T.call(N,e)||!T.call(C,e)&&(I.test(e)?N[e]=!0:(C[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(D,P);O[t]=new R(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(D,P);O[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(D,P);O[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){O[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)})),O.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){O[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)}));var M=g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),F=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),q=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Q=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var X=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Y=Symbol.iterator;function J(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Y&&e[Y]||e["@@iterator"])?e:null}var $,Z=Object.assign;function ee(e){if(void 0===$)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||""}return"\n"+$+e}var te=!1;function ne(e,t){if(!e||te)return"";te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{te=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ee(e):""}function re(e){switch(e.tag){case 5:return ee(e.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1);case 11:return e=ne(e.type.render,!1);case 1:return e=ne(e.type,!0);default:return""}}function ie(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case j:return"Fragment";case F:return"Portal";case z:return"Profiler";case V:return"StrictMode";case K:return"Suspense";case W:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case q:return(e.displayName||"Context")+".Consumer";case B:return(e._context.displayName||"Context")+".Provider";case H:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case G:return null!==(t=e.displayName||null)?t:ie(e.type)||"Memo";case Q:t=e._payload,e=e._init;try{return ie(e(t))}catch(e){}}return null}function ae(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(t);case 8:return t===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function oe(e){switch(void 0===e?"undefined":t(m)(e)){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ue(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function se(e){e._valueTracker||(e._valueTracker=function(e){var t=ue(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function le(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ue(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ce(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fe(e,t){var n=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function he(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=oe(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function de(e,t){null!=(t=t.checked)&&L(e,"checked",t,!1)}function pe(e,t){de(e,t);var n=oe(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ye(e,t.type,n):t.hasOwnProperty("defaultValue")&&ye(e,t.type,oe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ve(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ye(e,t,n){"number"===t&&ce(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var me=Array.isArray;function ge(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+oe(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ke(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(b(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function be(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(b(92));if(me(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:oe(n)}}function we(e,t){var n=oe(t.value),r=oe(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function xe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function Ee(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ee(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var _e,Te,Ie=(Te=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((_e=_e||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_e.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Te(e,t)}))}:Te);function Ce(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ne={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ae=["Webkit","ms","Moz","O"];function Re(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Ne.hasOwnProperty(e)&&Ne[e]?(""+t).trim():t+"px"}function Oe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Re(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Ne).forEach((function(e){Ae.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ne[t]=Ne[e]}))}));var De=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pe(e,t){if(t){if(De[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(b(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(b(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(b(62))}}function Le(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Me=null;function Ue(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Fe=null,je=null,Ve=null;function ze(e){if(e=Oi(e)){if("function"!=typeof Fe)throw Error(b(280));var t=e.stateNode;t&&(t=Pi(t),Fe(e.stateNode,e.type,t))}}function Be(e){je?Ve?Ve.push(e):Ve=[e]:je=e}function qe(){if(je){var e=je,t=Ve;if(Ve=je=null,ze(e),t)for(e=0;e<t.length;e++)ze(t[e])}}function He(e,t){return e(t)}function Ke(){}var We=!1;function Ge(e,t,n){if(We)return e(t,n);We=!0;try{return He(e,t,n)}finally{We=!1,(null!==je||null!==Ve)&&(Ke(),qe())}}function Qe(e,n){var r=e.stateNode;if(null===r)return null;var i=Pi(r);if(null===i)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(b(231,n,void 0===r?"undefined":t(m)(r)));return r}var Xe=!1;if(_)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){Xe=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch(Te){Xe=!1}function Je(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var $e=!1,Ze=null,et=!1,tt=null,nt={onError:function(e){$e=!0,Ze=e}};function rt(e,t,n,r,i,a,o,u,s){$e=!1,Ze=null,Je.apply(nt,arguments)}function it(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function at(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ot(e){if(it(e)!==e)throw Error(b(188))}function ut(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=it(e)))throw Error(b(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ot(i),e;if(a===r)return ot(i),t;a=a.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=a;break}if(u===r){o=!0,r=i,n=a;break}u=u.sibling}if(!o){for(u=a.child;u;){if(u===n){o=!0,n=a,r=i;break}if(u===r){o=!0,r=a,n=i;break}u=u.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(3!==n.tag)throw Error(b(188));return n.stateNode.current===n?e:t}(e))?st(e):null}function st(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=st(e);if(null!==t)return t;e=e.sibling}return null}var lt=k.unstable_scheduleCallback,ct=k.unstable_cancelCallback,ft=k.unstable_shouldYield,ht=k.unstable_requestPaint,dt=k.unstable_now,pt=k.unstable_getCurrentPriorityLevel,vt=k.unstable_ImmediatePriority,yt=k.unstable_UserBlockingPriority,mt=k.unstable_NormalPriority,gt=k.unstable_LowPriority,kt=k.unstable_IdlePriority,bt=null,wt=null;var xt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Et(e)/St|0)|0},Et=Math.log,St=Math.LN2;var _t=64,Tt=4194304;function It(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=It(u):0!==(a&=o)&&(r=It(a))}else 0!==(o=n&~i)?r=It(o):0!==a&&(r=It(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-xt(t)),r|=e[n],t&=~i;return r}function Nt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function At(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Rt(){var e=_t;return 0==(4194240&(_t<<=1))&&(_t=64),e}function Ot(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=n}function Pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Lt=0;function Mt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Ut,Ft,jt,Vt,zt,Bt=!1,qt=[],Ht=null,Kt=null,Wt=null,Gt=new Map,Qt=new Map,Xt=[],Yt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jt(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":Gt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qt.delete(t.pointerId)}}function $t(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Oi(t))&&Ft(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Zt(e){var t=Ri(e.target);if(null!==t){var n=it(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=at(n)))return e.blockedOn=t,void zt(e.priority,(function(){jt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function en(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=hn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Oi(n))&&Ft(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Me=r,n.target.dispatchEvent(r),Me=null,t.shift()}return!0}function tn(e,t,n){en(e)&&n.delete(t)}function nn(){Bt=!1,null!==Ht&&en(Ht)&&(Ht=null),null!==Kt&&en(Kt)&&(Kt=null),null!==Wt&&en(Wt)&&(Wt=null),Gt.forEach(tn),Qt.forEach(tn)}function rn(e,t){e.blockedOn===t&&(e.blockedOn=null,Bt||(Bt=!0,k.unstable_scheduleCallback(k.unstable_NormalPriority,nn)))}function an(e){function t(t){return rn(t,e)}if(0<qt.length){rn(qt[0],e);for(var n=1;n<qt.length;n++){var r=qt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ht&&rn(Ht,e),null!==Kt&&rn(Kt,e),null!==Wt&&rn(Wt,e),Gt.forEach(t),Qt.forEach(t),n=0;n<Xt.length;n++)(r=Xt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&null===(n=Xt[0]).blockedOn;)Zt(n),null===n.blockedOn&&Xt.shift()}var on=M.ReactCurrentBatchConfig,un=!0;function sn(e,t,n,r){var i=Lt,a=on.transition;on.transition=null;try{Lt=1,cn(e,t,n,r)}finally{Lt=i,on.transition=a}}function ln(e,t,n,r){var i=Lt,a=on.transition;on.transition=null;try{Lt=4,cn(e,t,n,r)}finally{Lt=i,on.transition=a}}function cn(e,t,n,r){if(un){var i=hn(e,t,n,r);if(null===i)ri(e,t,r,fn,n),Jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ht=$t(Ht,e,t,n,r,i),!0;case"dragenter":return Kt=$t(Kt,e,t,n,r,i),!0;case"mouseover":return Wt=$t(Wt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Gt.set(a,$t(Gt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Qt.set(a,$t(Qt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Jt(e,r),4&t&&-1<Yt.indexOf(e)){for(;null!==i;){var a=Oi(i);if(null!==a&&Ut(a),null===(a=hn(e,t,n,r))&&ri(e,t,r,fn,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else ri(e,t,r,null,n)}}var fn=null;function hn(e,t,n,r){if(fn=null,null!==(e=Ri(e=Ue(r))))if(null===(t=it(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=at(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fn=e,null}function dn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pt()){case vt:return 1;case yt:return 4;case mt:case gt:return 16;case kt:return 536870912;default:return 16}default:return 16}}var pn=null,vn=null,yn=null;function mn(){if(yn)return yn;var e,t,n=vn,r=n.length,i="value"in pn?pn.value:pn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return yn=i.slice(e,1<t?1-t:void 0)}function gn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function kn(){return!0}function bn(){return!1}function wn(e){function n(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?kn:bn,this.isPropagationStopped=bn,this}return Z(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==t(m)(e.returnValue)&&(e.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==t(m)(e.cancelBubble)&&(e.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),n}var xn,En,Sn,_n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tn=wn(_n),In=Z({},_n,{view:0,detail:0}),Cn=wn(In),Nn=Z({},In,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sn&&(Sn&&"mousemove"===e.type?(xn=e.screenX-Sn.screenX,En=e.screenY-Sn.screenY):En=xn=0,Sn=e),xn)},movementY:function(e){return"movementY"in e?e.movementY:En}}),An=wn(Nn),Rn=wn(Z({},Nn,{dataTransfer:0})),On=wn(Z({},In,{relatedTarget:0})),Dn=wn(Z({},_n,{animationName:0,elapsedTime:0,pseudoElement:0})),Pn=wn(Z({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Ln=wn(Z({},_n,{data:0})),Mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Fn[e])&&!!t[e]}function Vn(){return jn}var zn=wn(Z({},In,{key:function(e){if(e.key){var t=Mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=gn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vn,charCode:function(e){return"keypress"===e.type?gn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?gn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Bn=wn(Z({},Nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),qn=wn(Z({},In,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vn})),Hn=wn(Z({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0})),Kn=wn(Z({},Nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Wn=[9,13,27,32],Gn=_&&"CompositionEvent"in window,Qn=null;_&&"documentMode"in document&&(Qn=document.documentMode);var Xn=_&&"TextEvent"in window&&!Qn,Yn=_&&(!Gn||Qn&&8<Qn&&11>=Qn),Jn=String.fromCharCode(32),$n=!1;function Zn(e,t){switch(e){case"keyup":return-1!==Wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function er(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var tr=!1;var nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nr[e.type]:"textarea"===t}function ir(e,t,n,r){Be(r),0<(t=ai(t,"onChange")).length&&(n=new Tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ar=null,or=null;function ur(e){Jr(e,0)}function sr(e){if(le(Di(e)))return e}function lr(e,t){if("change"===e)return t}var cr=!1;if(_){var fr;if(_){var hr="oninput"in document;if(!hr){var dr=document.createElement("div");dr.setAttribute("oninput","return;"),hr="function"==typeof dr.oninput}fr=hr}else fr=!1;cr=fr&&(!document.documentMode||9<document.documentMode)}function pr(){ar&&(ar.detachEvent("onpropertychange",vr),or=ar=null)}function vr(e){if("value"===e.propertyName&&sr(or)){var t=[];ir(t,or,e,Ue(e)),Ge(ur,t)}}function yr(e,t,n){"focusin"===e?(pr(),or=n,(ar=t).attachEvent("onpropertychange",vr)):"focusout"===e&&pr()}function mr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return sr(or)}function gr(e,t){if("click"===e)return sr(t)}function kr(e,t){if("input"===e||"change"===e)return sr(t)}var br="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function wr(e,t){if(br(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!T.call(t,i)||!br(e[i],t[i]))return!1}return!0}function xr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Er(e,t){var n,r=xr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xr(r)}}function Sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function _r(){for(var e=window,t=ce();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ce((e=t.contentWindow).document)}return t}function Tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ir(e){var t=_r(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sr(n.ownerDocument.documentElement,n)){if(null!==r&&Tr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Er(n,a);var o=Er(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cr=_&&"documentMode"in document&&11>=document.documentMode,Nr=null,Ar=null,Rr=null,Or=!1;function Dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Or||null==Nr||Nr!==ce(r)||("selectionStart"in(r=Nr)&&Tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Rr&&wr(Rr,r)||(Rr=r,0<(r=ai(Ar,"onSelect")).length&&(t=new Tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nr)))}function Pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lr={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionend:Pr("Transition","TransitionEnd")},Mr={},Ur={};function Fr(e){if(Mr[e])return Mr[e];if(!Lr[e])return e;var t,n=Lr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ur)return Mr[e]=n[t];return e}_&&(Ur=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);var jr=Fr("animationend"),Vr=Fr("animationiteration"),zr=Fr("animationstart"),Br=Fr("transitionend"),qr=new Map,Hr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(e,t){qr.set(e,t),E(t,[e])}for(var Wr=0;Wr<Hr.length;Wr++){var Gr=Hr[Wr];Kr(Gr.toLowerCase(),"on"+(Gr[0].toUpperCase()+Gr.slice(1)))}Kr(jr,"onAnimationEnd"),Kr(Vr,"onAnimationIteration"),Kr(zr,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(Br,"onTransitionEnd"),S("onMouseEnter",["mouseout","mouseover"]),S("onMouseLeave",["mouseout","mouseover"]),S("onPointerEnter",["pointerout","pointerover"]),S("onPointerLeave",["pointerout","pointerover"]),E("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),E("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),E("onBeforeInput",["compositionend","keypress","textInput","paste"]),E("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),E("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),E("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qr));function Yr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,u,s){if(rt.apply(this,arguments),$e){if(!$e)throw Error(b(198));var l=Ze;$e=!1,Ze=null,et||(et=!0,tt=l)}}(r,t,void 0,e),e.currentTarget=null}function Jr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Yr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Yr(i,u,l),a=s}}}if(et)throw e=tt,et=!1,tt=null,e}function $r(e,t){var n=t[Ci];void 0===n&&(n=t[Ci]=new Set);var r=e+"__bubble";n.has(r)||(ni(t,e,2,!1),n.add(r))}function Zr(e,t,n){var r=0;t&&(r|=4),ni(n,e,r,t)}var ei="_reactListening"+Math.random().toString(36).slice(2);function ti(e){if(!e[ei]){e[ei]=!0,w.forEach((function(t){"selectionchange"!==t&&(Xr.has(t)||Zr(t,!1,e),Zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ei]||(t[ei]=!0,Zr("selectionchange",!1,t))}}function ni(e,t,n,r){switch(dn(t)){case 1:var i=sn;break;case 4:i=ln;break;default:i=cn}n=i.bind(null,t,n,e),i=void 0,!Xe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ri(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=Ri(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ge((function(){var r=a,i=Ue(n),o=[];e:{var u=qr.get(e);if(void 0!==u){var s=Tn,l=e;switch(e){case"keypress":if(0===gn(n))break e;case"keydown":case"keyup":s=zn;break;case"focusin":l="focus",s=On;break;case"focusout":l="blur",s=On;break;case"beforeblur":case"afterblur":s=On;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=Rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=qn;break;case jr:case Vr:case zr:s=Dn;break;case Br:s=Hn;break;case"scroll":s=Cn;break;case"wheel":s=Kn;break;case"copy":case"cut":case"paste":s=Pn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Bn}var c=0!=(4&t),f=!c&&"scroll"===e,h=c?null!==u?u+"Capture":null:u;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Qe(p,h))&&c.push(ii(p,v,d)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0==(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===Me||!(l=n.relatedTarget||n.fromElement)||!Ri(l)&&!l[Ii])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?Ri(l):null)&&(l!==(f=it(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=An,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Bn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:Di(s),d=null==l?u:Di(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,Ri(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(h=l,p=0,d=c=s;d;d=oi(d))p++;for(d=0,v=h;v;v=oi(v))d++;for(;0<p-d;)c=oi(c),p--;for(;0<d-p;)h=oi(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=oi(c),h=oi(h)}c=null}else c=null;null!==s&&ui(o,u,s,c,!1),null!==l&&null!==f&&ui(o,f,l,c,!0)}if("select"===(s=(u=r?Di(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=lr;else if(rr(u))if(cr)y=kr;else{y=mr;var m=yr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=gr);switch(y&&(y=y(e,r))?ir(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ye(u,"number",u.value)),m=r?Di(r):window,e){case"focusin":(rr(m)||"true"===m.contentEditable)&&(Nr=m,Ar=r,Rr=null);break;case"focusout":Rr=Ar=Nr=null;break;case"mousedown":Or=!0;break;case"contextmenu":case"mouseup":case"dragend":Or=!1,Dr(o,n,i);break;case"selectionchange":if(Cr)break;case"keydown":case"keyup":Dr(o,n,i)}var g;if(Gn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else tr?Zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Yn&&"ko"!==n.locale&&(tr||"onCompositionStart"!==k?"onCompositionEnd"===k&&tr&&(g=mn()):(vn="value"in(pn=i)?pn.value:pn.textContent,tr=!0)),0<(m=ai(r,k)).length&&(k=new Ln(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=er(n))&&(k.data=g))),(g=Xn?function(e,t){switch(e){case"compositionend":return er(t);case"keypress":return 32!==t.which?null:($n=!0,Jn);case"textInput":return(e=t.data)===Jn&&$n?null:e;default:return null}}(e,n):function(e,t){if(tr)return"compositionend"===e||!Gn&&Zn(e,t)?(e=mn(),yn=vn=pn=null,tr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ai(r,"onBeforeInput")).length&&(i=new Ln("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Jr(o,t)}))}function ii(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ai(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Qe(e,n))&&r.unshift(ii(e,a,i)),null!=(a=Qe(e,t))&&r.push(ii(e,a,i))),e=e.return}return r}function oi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ui(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=Qe(n,a))&&o.unshift(ii(n,s,u)):i||null!=(s=Qe(n,a))&&o.push(ii(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var si=/\r\n?/g,li=/\u0000|\uFFFD/g;function ci(e){return("string"==typeof e?e:""+e).replace(si,"\n").replace(li,"")}function fi(e,t,n){if(t=ci(t),ci(e)!==t&&n)throw Error(b(425))}function hi(){}var di=null,pi=null;function vi(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yi="function"==typeof setTimeout?setTimeout:void 0,mi="function"==typeof clearTimeout?clearTimeout:void 0,gi="function"==typeof Promise?Promise:void 0,ki="function"==typeof queueMicrotask?queueMicrotask:void 0!==gi?function(e){return gi.resolve(null).then(e).catch(bi)}:yi;function bi(e){setTimeout((function(){throw e}))}function wi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void an(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);an(t)}function xi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Ei(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Si=Math.random().toString(36).slice(2),_i="__reactFiber$"+Si,Ti="__reactProps$"+Si,Ii="__reactContainer$"+Si,Ci="__reactEvents$"+Si,Ni="__reactListeners$"+Si,Ai="__reactHandles$"+Si;function Ri(e){var t=e[_i];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ii]||n[_i]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ei(e);null!==e;){if(n=e[_i])return n;e=Ei(e)}return t}n=(e=n).parentNode}return null}function Oi(e){return!(e=e[_i]||e[Ii])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Di(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(b(33))}function Pi(e){return e[Ti]||null}var Li=[],Mi=-1;function Ui(e){return{current:e}}function Fi(e){0>Mi||(e.current=Li[Mi],Li[Mi]=null,Mi--)}function ji(e,t){Mi++,Li[Mi]=e.current,e.current=t}var Vi={},zi=Ui(Vi),Bi=Ui(!1),qi=Vi;function Hi(e,t){var n=e.type.contextTypes;if(!n)return Vi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ki(e){return null!=(e=e.childContextTypes)}function Wi(){Fi(Bi),Fi(zi)}function Gi(e,t,n){if(zi.current!==Vi)throw Error(b(168));ji(zi,t),ji(Bi,n)}function Qi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(b(108,ae(e)||"Unknown",i));return Z({},n,r)}function Xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vi,qi=zi.current,ji(zi,e),ji(Bi,Bi.current),!0}function Yi(e,t,n){var r=e.stateNode;if(!r)throw Error(b(169));n?(e=Qi(e,t,qi),r.__reactInternalMemoizedMergedChildContext=e,Fi(Bi),Fi(zi),ji(zi,e)):Fi(Bi),ji(Bi,n)}var Ji=null,$i=!1,Zi=!1;function ea(e){null===Ji?Ji=[e]:Ji.push(e)}function ta(){if(!Zi&&null!==Ji){Zi=!0;var e=0,t=Lt;try{var n=Ji;for(Lt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ji=null,$i=!1}catch(t){throw null!==Ji&&(Ji=Ji.slice(e+1)),lt(vt,ta),t}finally{Lt=t,Zi=!1}}return null}var na=M.ReactCurrentBatchConfig;function ra(e,t){if(e&&e.defaultProps){for(var n in t=Z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ia=Ui(null),aa=null,oa=null,ua=null;function sa(){ua=oa=aa=null}function la(e){var t=ia.current;Fi(ia),e._currentValue=t}function ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fa(e,t){aa=e,ua=oa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Pu=!0),e.firstContext=null)}function ha(e){var t=e._currentValue;if(ua!==e)if(e={context:e,memoizedValue:t,next:null},null===oa){if(null===aa)throw Error(b(308));oa=e,aa.dependencies={lanes:0,firstContext:e}}else oa=oa.next=e;return t}var da=null,pa=!1;function va(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ya(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ma(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ga(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,pl(e)?(null===(e=n.interleaved)?(t.next=t,null===da?da=[n]:da.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ka(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pt(e,n)}}function ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wa(e,t,n,r){var i=e.updateQueue;pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,c=l=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"==typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=v.payload)?p.call(d,f,h):p))break e;f=Z({},f,h);break e;case 2:pa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=d,s=f):c=c.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ws|=o,e.lanes=o,e.memoizedState=f}}function xa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(b(191,i));i.call(r)}}}var Ea=(new g.Component).refs;function Sa(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:Z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var _a={isMounted:function(e){return!!(e=e._reactInternals)&&it(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cl(),i=fl(e),a=ma(r,i);a.payload=t,null!=n&&(a.callback=n),ga(e,a),null!==(t=hl(e,i,r))&&ka(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cl(),i=fl(e),a=ma(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),ga(e,a),null!==(t=hl(e,i,r))&&ka(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cl(),r=fl(e),i=ma(n,r);i.tag=2,null!=t&&(i.callback=t),ga(e,i),null!==(t=hl(e,r,n))&&ka(t,e,r)}};function Ta(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!wr(n,r)||!wr(i,a))}function Ia(e,t,n){var r=!1,i=Vi,a=t.contextType;return"object"==typeof a&&null!==a?a=ha(a):(i=Ki(t)?qi:zi.current,a=(r=null!=(r=t.contextTypes))?Hi(e,i):Vi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=_a,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ca(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_a.enqueueReplaceState(t,t.state,null)}function Na(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ea,va(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=ha(a):(a=Ki(t)?qi:zi.current,i.context=Hi(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Sa(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&_a.enqueueReplaceState(i,i.state,null),wa(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var Aa=[],Ra=0,Oa=null,Da=0,Pa=[],La=0,Ma=null,Ua=1,Fa="";function ja(e,t){Aa[Ra++]=Da,Aa[Ra++]=Oa,Oa=e,Da=t}function Va(e,t,n){Pa[La++]=Ua,Pa[La++]=Fa,Pa[La++]=Ma,Ma=e;var r=Ua;e=Fa;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var a=32-xt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ua=1<<32-xt(t)+i|n<<i|r,Fa=a+e}else Ua=1<<a|n<<i|r,Fa=e}function za(e){null!==e.return&&(ja(e,1),Va(e,1,0))}function Ba(e){for(;e===Oa;)Oa=Aa[--Ra],Aa[Ra]=null,Da=Aa[--Ra],Aa[Ra]=null;for(;e===Ma;)Ma=Pa[--La],Pa[La]=null,Fa=Pa[--La],Pa[La]=null,Ua=Pa[--La],Pa[La]=null}var qa=null,Ha=null,Ka=!1,Wa=null;function Ga(e,t){var n=ql(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,qa=e,Ha=xi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,qa=e,Ha=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ma?{id:Ua,overflow:Fa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ql(18,null,null,0)).stateNode=t,n.return=e,e.child=n,qa=e,Ha=null,!0);default:return!1}}function Xa(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Ya(e){if(Ka){var t=Ha;if(t){var n=t;if(!Qa(e,t)){if(Xa(e))throw Error(b(418));t=xi(n.nextSibling);var r=qa;t&&Qa(e,t)?Ga(r,n):(e.flags=-4097&e.flags|2,Ka=!1,qa=e)}}else{if(Xa(e))throw Error(b(418));e.flags=-4097&e.flags|2,Ka=!1,qa=e}}}function Ja(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;qa=e}function $a(e){if(e!==qa)return!1;if(!Ka)return Ja(e),Ka=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!vi(e.type,e.memoizedProps)),t&&(t=Ha)){if(Xa(e)){for(e=Ha;e;)e=xi(e.nextSibling);throw Error(b(418))}for(;t;)Ga(e,t),t=xi(t.nextSibling)}if(Ja(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ha=xi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ha=null}}else Ha=qa?xi(e.stateNode.nextSibling):null;return!0}function Za(){Ha=qa=null,Ka=!1}function eo(e){null===Wa?Wa=[e]:Wa.push(e)}function to(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;t===Ea&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function no(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ro(e){return(0,e._init)(e._payload)}function io(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Kl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function s(e,t,n,r){var a=n.type;return a===j?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===Q&&ro(a)===t.type)?((r=i(t,n.props)).ref=to(e,t,n),r.return=e,r):((r=Wl(n.type,n.key,n.props,null,e.mode,r)).ref=to(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,a){return null===t||7!==t.tag?((t=Gl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Xl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case U:return(n=Wl(t.type,t.key,t.props,null,e.mode,n)).ref=to(e,null,t),n.return=e,n;case F:return(t=Yl(t,e.mode,n)).return=e,t;case Q:return f(e,(0,t._init)(t._payload),n)}if(me(t)||J(t))return(t=Gl(t,e.mode,n,null)).return=e,t;no(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case U:return n.key===i?s(e,t,n,r):null;case F:return n.key===i?l(e,t,n,r):null;case Q:return h(e,t,(i=n._init)(n._payload),r)}if(me(n)||J(n))return null!==i?null:c(e,t,n,r,null);no(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case U:return s(t,e=e.get(null===r.key?n:r.key)||null,r,i);case F:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Q:return d(e,t,n,(0,r._init)(r._payload),i)}if(me(r)||J(r))return c(t,e=e.get(n)||null,r,i,null);no(t,r)}return null}return function u(s,l,c,p){if("object"==typeof c&&null!==c&&c.type===j&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case U:e:{for(var v=c.key,y=l;null!==y;){if(y.key===v){if((v=c.type)===j){if(7===y.tag){n(s,y.sibling),(l=i(y,c.props.children)).return=s,s=l;break e}}else if(y.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===Q&&ro(v)===y.type){n(s,y.sibling),(l=i(y,c.props)).ref=to(s,y,c),l.return=s,s=l;break e}n(s,y);break}t(s,y),y=y.sibling}c.type===j?((l=Gl(c.props.children,s.mode,p,c.key)).return=s,s=l):((p=Wl(c.type,c.key,c.props,null,s.mode,p)).ref=to(s,l,c),p.return=s,s=p)}return o(s);case F:e:{for(y=c.key;null!==l;){if(l.key===y){if(4===l.tag&&l.stateNode.containerInfo===c.containerInfo&&l.stateNode.implementation===c.implementation){n(s,l.sibling),(l=i(l,c.children||[])).return=s,s=l;break e}n(s,l);break}t(s,l),l=l.sibling}(l=Yl(c,s.mode,p)).return=s,s=l}return o(s);case Q:return u(s,l,(y=c._init)(c._payload),p)}if(me(c))return function(i,o,u,s){for(var l=null,c=null,p=o,v=o=0,y=null;null!==p&&v<u.length;v++){p.index>v?(y=p,p=null):y=p.sibling;var m=h(i,p,u[v],s);if(null===m){null===p&&(p=y);break}e&&p&&null===m.alternate&&t(i,p),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m,p=y}if(v===u.length)return n(i,p),Ka&&ja(i,v),l;if(null===p){for(;v<u.length;v++)null!==(p=f(i,u[v],s))&&(o=a(p,o,v),null===c?l=p:c.sibling=p,c=p);return Ka&&ja(i,v),l}for(p=r(i,p);v<u.length;v++)null!==(y=d(p,i,v,u[v],s))&&(e&&null!==y.alternate&&p.delete(null===y.key?v:y.key),o=a(y,o,v),null===c?l=y:c.sibling=y,c=y);return e&&p.forEach((function(e){return t(i,e)})),Ka&&ja(i,v),l}(s,l,c,p);if(J(c))return function(i,o,u,s){var l=J(u);if("function"!=typeof l)throw Error(b(150));if(null==(u=l.call(u)))throw Error(b(151));for(var c=l=null,p=o,v=o=0,y=null,m=u.next();null!==p&&!m.done;v++,m=u.next()){p.index>v?(y=p,p=null):y=p.sibling;var g=h(i,p,m.value,s);if(null===g){null===p&&(p=y);break}e&&p&&null===g.alternate&&t(i,p),o=a(g,o,v),null===c?l=g:c.sibling=g,c=g,p=y}if(m.done)return n(i,p),Ka&&ja(i,v),l;if(null===p){for(;!m.done;v++,m=u.next())null!==(m=f(i,m.value,s))&&(o=a(m,o,v),null===c?l=m:c.sibling=m,c=m);return Ka&&ja(i,v),l}for(p=r(i,p);!m.done;v++,m=u.next())null!==(m=d(p,i,v,m.value,s))&&(e&&null!==m.alternate&&p.delete(null===m.key?v:m.key),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m);return e&&p.forEach((function(e){return t(i,e)})),Ka&&ja(i,v),l}(s,l,c,p);no(s,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==l&&6===l.tag?(n(s,l.sibling),(l=i(l,c)).return=s,s=l):(n(s,l),(l=Xl(c,s.mode,p)).return=s,s=l),o(s)):n(s,l)}}var ao=io(!0),oo=io(!1),uo={},so=Ui(uo),lo=Ui(uo),co=Ui(uo);function fo(e){if(e===uo)throw Error(b(174));return e}function ho(e,t){switch(ji(co,t),ji(lo,e),ji(so,uo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Se(null,"");break;default:t=Se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Fi(so),ji(so,t)}function po(){Fi(so),Fi(lo),Fi(co)}function vo(e){fo(co.current);var t=fo(so.current),n=Se(t,e.type);t!==n&&(ji(lo,e),ji(so,n))}function yo(e){lo.current===e&&(Fi(so),Fi(lo))}var mo=Ui(0);function go(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ko=[];function bo(){for(var e=0;e<ko.length;e++)ko[e]._workInProgressVersionPrimary=null;ko.length=0}var wo=M.ReactCurrentDispatcher,xo=M.ReactCurrentBatchConfig,Eo=0,So=null,_o=null,To=null,Io=!1,Co=!1,No=0,Ao=0;function Ro(){throw Error(b(321))}function Oo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!br(e[n],t[n]))return!1;return!0}function Do(e,t,n,r,i,a){if(Eo=a,So=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wo.current=null===e||null===e.memoizedState?yu:mu,e=n(r,i),Co){a=0;do{if(Co=!1,No=0,25<=a)throw Error(b(301));a+=1,To=_o=null,t.updateQueue=null,wo.current=gu,e=n(r,i)}while(Co)}if(wo.current=vu,t=null!==_o&&null!==_o.next,Eo=0,To=_o=So=null,Io=!1,t)throw Error(b(300));return e}function Po(){var e=0!==No;return No=0,e}function Lo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===To?So.memoizedState=To=e:To=To.next=e,To}function Mo(){if(null===_o){var e=So.alternate;e=null!==e?e.memoizedState:null}else e=_o.next;var t=null===To?So.memoizedState:To.next;if(null!==t)To=t,_o=e;else{if(null===e)throw Error(b(310));e={memoizedState:(_o=e).memoizedState,baseState:_o.baseState,baseQueue:_o.baseQueue,queue:_o.queue,next:null},null===To?So.memoizedState=To=e:To=To.next=e}return To}function Uo(e,t){return"function"==typeof t?t(e):t}function Fo(e){var t=Mo(),n=t.queue;if(null===n)throw Error(b(311));n.lastRenderedReducer=e;var r=_o,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=o=null,s=null,l=a;do{var c=l.lane;if((Eo&c)===c)null!==s&&(s=s.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===s?(u=s=f,o=r):s=s.next=f,So.lanes|=c,Ws|=c}l=l.next}while(null!==l&&l!==a);null===s?o=r:s.next=u,br(r,t.memoizedState)||(Pu=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,So.lanes|=a,Ws|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jo(e){var t=Mo(),n=t.queue;if(null===n)throw Error(b(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);br(a,t.memoizedState)||(Pu=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Vo(){}function zo(e,t){var n=So,r=Mo(),i=t(),a=!br(r.memoizedState,i);if(a&&(r.memoizedState=i,Pu=!0),r=r.queue,$o(Ho.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==To&&1&To.memoizedState.tag){if(n.flags|=2048,Go(9,qo.bind(null,n,r,i,t),void 0,null),null===js)throw Error(b(349));0!=(30&Eo)||Bo(n,t,i)}return i}function Bo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=So.updateQueue)?(t={lastEffect:null,stores:null},So.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function qo(e,t,n,r){t.value=n,t.getSnapshot=r,Ko(t)&&hl(e,1,-1)}function Ho(e,t,n){return n((function(){Ko(t)&&hl(e,1,-1)}))}function Ko(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!br(e,n)}catch(e){return!0}}function Wo(e){var t=Lo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:e},t.queue=e,e=e.dispatch=cu.bind(null,So,e),[t.memoizedState,e]}function Go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=So.updateQueue)?(t={lastEffect:null,stores:null},So.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Qo(){return Mo().memoizedState}function Xo(e,t,n,r){var i=Lo();So.flags|=e,i.memoizedState=Go(1|t,n,void 0,void 0===r?null:r)}function Yo(e,t,n,r){var i=Mo();r=void 0===r?null:r;var a=void 0;if(null!==_o){var o=_o.memoizedState;if(a=o.destroy,null!==r&&Oo(r,o.deps))return void(i.memoizedState=Go(t,n,a,r))}So.flags|=e,i.memoizedState=Go(1|t,n,a,r)}function Jo(e,t){return Xo(8390656,8,e,t)}function $o(e,t){return Yo(2048,8,e,t)}function Zo(e,t){return Yo(4,2,e,t)}function eu(e,t){return Yo(4,4,e,t)}function tu(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function nu(e,t,n){return n=null!=n?n.concat([e]):null,Yo(4,4,tu.bind(null,t,e),n)}function ru(){}function iu(e,t){var n=Mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Oo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function au(e,t){var n=Mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Oo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ou(e,t,n){return 0==(21&Eo)?(e.baseState&&(e.baseState=!1,Pu=!0),e.memoizedState=n):(br(n,t)||(n=Rt(),So.lanes|=n,Ws|=n,e.baseState=!0),t)}function uu(e,t){var n=Lt;Lt=0!==n&&4>n?n:4,e(!0);var r=xo.transition;xo.transition={};try{e(!1),t()}finally{Lt=n,xo.transition=r}}function su(){return Mo().memoizedState}function lu(e,t,n){var r=fl(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fu(e)?hu(t,n):(du(e,t,n),null!==(e=hl(e,r,n=cl()))&&pu(e,t,r))}function cu(e,t,n){var r=fl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fu(e))hu(t,i);else{du(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,br(u,o))return}catch(e){}null!==(e=hl(e,r,n=cl()))&&pu(e,t,r)}}function fu(e){var t=e.alternate;return e===So||null!==t&&t===So}function hu(e,t){Co=Io=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function du(e,t,n){pl(e)?(null===(e=t.interleaved)?(n.next=n,null===da?da=[t]:da.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function pu(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pt(e,n)}}var vu={readContext:ha,useCallback:Ro,useContext:Ro,useEffect:Ro,useImperativeHandle:Ro,useInsertionEffect:Ro,useLayoutEffect:Ro,useMemo:Ro,useReducer:Ro,useRef:Ro,useState:Ro,useDebugValue:Ro,useDeferredValue:Ro,useTransition:Ro,useMutableSource:Ro,useSyncExternalStore:Ro,useId:Ro,unstable_isNewReconciler:!1},yu={readContext:ha,useCallback:function(e,t){return Lo().memoizedState=[e,void 0===t?null:t],e},useContext:ha,useEffect:Jo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Xo(4194308,4,tu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xo(4,2,e,t)},useMemo:function(e,t){var n=Lo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lu.bind(null,So,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Lo().memoizedState=e},useState:Wo,useDebugValue:ru,useDeferredValue:function(e){return Lo().memoizedState=e},useTransition:function(){var e=Wo(!1),t=e[0];return e=uu.bind(null,e[1]),Lo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=So,i=Lo();if(Ka){if(void 0===n)throw Error(b(407));n=n()}else{if(n=t(),null===js)throw Error(b(349));0!=(30&Eo)||Bo(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Jo(Ho.bind(null,r,a,e),[e]),r.flags|=2048,Go(9,qo.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Lo(),t=js.identifierPrefix;if(Ka){var n=Fa;t=":"+t+"R"+(n=(Ua&~(1<<32-xt(Ua)-1)).toString(32)+n),0<(n=No++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ao++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mu={readContext:ha,useCallback:iu,useContext:ha,useEffect:$o,useImperativeHandle:nu,useInsertionEffect:Zo,useLayoutEffect:eu,useMemo:au,useReducer:Fo,useRef:Qo,useState:function(){return Fo(Uo)},useDebugValue:ru,useDeferredValue:function(e){return ou(Mo(),_o.memoizedState,e)},useTransition:function(){return[Fo(Uo)[0],Mo().memoizedState]},useMutableSource:Vo,useSyncExternalStore:zo,useId:su,unstable_isNewReconciler:!1},gu={readContext:ha,useCallback:iu,useContext:ha,useEffect:$o,useImperativeHandle:nu,useInsertionEffect:Zo,useLayoutEffect:eu,useMemo:au,useReducer:jo,useRef:Qo,useState:function(){return jo(Uo)},useDebugValue:ru,useDeferredValue:function(e){var t=Mo();return null===_o?t.memoizedState=e:ou(t,_o.memoizedState,e)},useTransition:function(){return[jo(Uo)[0],Mo().memoizedState]},useMutableSource:Vo,useSyncExternalStore:zo,useId:su,unstable_isNewReconciler:!1};function ku(e,t){try{var n="",r=t;do{n+=re(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function bu(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var wu,xu,Eu,Su="function"==typeof WeakMap?WeakMap:Map;function _u(e,t,n){(n=ma(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){el||(el=!0,tl=r),bu(0,t)},n}function Tu(e,t,n){(n=ma(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){bu(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){bu(0,t),"function"!=typeof r&&(null===nl?nl=new Set([this]):nl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Iu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Su;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ul.bind(null,e,t,n),t.then(e,e))}function Cu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Nu(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ma(-1,1)).tag=2,ga(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Au(e,t){if(!Ka)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ru(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ou(e,t,n){var r=t.pendingProps;switch(Ba(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ru(t),null;case 1:case 17:return Ki(t.type)&&Wi(),Ru(t),null;case 3:return r=t.stateNode,po(),Fi(Bi),Fi(zi),bo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||($a(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==Wa&&(gl(Wa),Wa=null))),Ru(t),null;case 5:yo(t);var i=fo(co.current);if(n=t.type,null!==e&&null!=t.stateNode)xu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(b(166));return Ru(t),null}if(e=fo(so.current),$a(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[_i]=t,r[Ti]=a,e=0!=(1&t.mode),n){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(i=0;i<Qr.length;i++)$r(Qr[i],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":he(r,a),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},$r("invalid",r);break;case"textarea":be(r,a),$r("invalid",r)}for(var o in Pe(n,a),i=null,a)if(a.hasOwnProperty(o)){var u=a[o];"children"===o?"string"==typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&fi(r.textContent,u,e),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&fi(r.textContent,u,e),i=["children",""+u]):x.hasOwnProperty(o)&&null!=u&&"onScroll"===o&&$r("scroll",r)}switch(n){case"input":se(r),ve(r,a,!0);break;case"textarea":se(r),xe(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=hi)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=Ee(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[_i]=t,e[Ti]=r,wu(e,t),t.stateNode=e;e:{switch(o=Le(n,r),n){case"dialog":$r("cancel",e),$r("close",e),i=r;break;case"iframe":case"object":case"embed":$r("load",e),i=r;break;case"video":case"audio":for(i=0;i<Qr.length;i++)$r(Qr[i],e);i=r;break;case"source":$r("error",e),i=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),i=r;break;case"details":$r("toggle",e),i=r;break;case"input":he(e,r),i=fe(e,r),$r("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Z({},r,{value:void 0}),$r("invalid",e);break;case"textarea":be(e,r),i=ke(e,r),$r("invalid",e)}for(a in Pe(n,i),u=i)if(u.hasOwnProperty(a)){var s=u[a];"style"===a?Oe(e,s):"dangerouslySetInnerHTML"===a?null!=(s=s?s.__html:void 0)&&Ie(e,s):"children"===a?"string"==typeof s?("textarea"!==n||""!==s)&&Ce(e,s):"number"==typeof s&&Ce(e,""+s):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(x.hasOwnProperty(a)?null!=s&&"onScroll"===a&&$r("scroll",e):null!=s&&L(e,a,s,o))}switch(n){case"input":se(e),ve(e,r,!1);break;case"textarea":se(e),xe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+oe(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ge(e,!!r.multiple,a,!1):null!=r.defaultValue&&ge(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=hi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ru(t),null;case 6:if(e&&null!=t.stateNode)Eu(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(b(166));if(n=fo(co.current),fo(so.current),$a(t)){if(r=t.stateNode,n=t.memoizedProps,r[_i]=t,(a=r.nodeValue!==n)&&null!==(e=qa))switch(e.tag){case 3:fi(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&fi(r.nodeValue,n,0!=(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[_i]=t,t.stateNode=r}return Ru(t),null;case 13:if(Fi(mo),r=t.memoizedState,Ka&&null!==Ha&&0!=(1&t.mode)&&0==(128&t.flags)){for(r=Ha;r;)r=xi(r.nextSibling);return Za(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=$a(t),null===e){if(!r)throw Error(b(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(b(317));r[_i]=t}else Za(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ru(t),null}return null!==Wa&&(gl(Wa),Wa=null),0!=(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?$a(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&mo.current)?0===Hs&&(Hs=3):Il())),null!==t.updateQueue&&(t.flags|=4),Ru(t),null);case 4:return po(),null===e&&ti(t.stateNode.containerInfo),Ru(t),null;case 10:return la(t.type._context),Ru(t),null;case 19:if(Fi(mo),null===(a=t.memoizedState))return Ru(t),null;if(r=0!=(128&t.flags),null===(o=a.rendering))if(r)Au(a,!1);else{if(0!==Hs||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=go(e))){for(t.flags|=128,Au(a,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(o=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ji(mo,1&mo.current|2),t.child}e=e.sibling}null!==a.tail&&dt()>$s&&(t.flags|=128,r=!0,Au(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=go(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Au(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!Ka)return Ru(t),null}else 2*dt()-a.renderingStartTime>$s&&1073741824!==n&&(t.flags|=128,r=!0,Au(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=a.last)?n.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=dt(),t.sibling=null,n=mo.current,ji(mo,r?1&n|2:1&n),t):(Ru(t),null);case 22:case 23:return El(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Bs)&&(Ru(t),6&t.subtreeFlags&&(t.flags|=8192)):Ru(t),null;case 24:case 25:return null}throw Error(b(156,t.tag))}wu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,fo(so.current);var a,o=null;switch(n){case"input":i=fe(e,i),r=fe(e,r),o=[];break;case"select":i=Z({},i,{value:void 0}),r=Z({},r,{value:void 0}),o=[];break;case"textarea":i=ke(e,i),r=ke(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=hi)}for(l in Pe(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(x.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var s=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&s!==u&&(null!=s||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&u[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(o||(o=[]),o.push(l,n)),n=s;else"dangerouslySetInnerHTML"===l?(s=s?s.__html:void 0,u=u?u.__html:void 0,null!=s&&u!==s&&(o=o||[]).push(l,s)):"children"===l?"string"!=typeof s&&"number"!=typeof s||(o=o||[]).push(l,""+s):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(x.hasOwnProperty(l)?(null!=s&&"onScroll"===l&&$r("scroll",e),o||u===s||(o=[])):(o=o||[]).push(l,s))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Eu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Du=M.ReactCurrentOwner,Pu=!1;function Lu(e,t,n,r){t.child=null===e?oo(t,null,n,r):ao(t,e.child,n,r)}function Mu(e,t,n,r,i){n=n.render;var a=t.ref;return fa(t,i),r=Do(e,t,n,r,a,i),n=Po(),null===e||Pu?(Ka&&n&&za(t),t.flags|=1,Lu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,rs(e,t,i))}function Uu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Hl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fu(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:wr)(o,r)&&e.ref===t.ref)return rs(e,t,i)}return t.flags|=1,(e=Kl(a,r)).ref=t.ref,e.return=t,t.child=e}function Fu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(wr(a,r)&&e.ref===t.ref){if(Pu=!1,t.pendingProps=r=a,0==(e.lanes&i))return t.lanes=e.lanes,rs(e,t,i);0!=(131072&e.flags)&&(Pu=!0)}}return zu(e,t,n,r,i)}function ju(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ji(qs,Bs),Bs|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ji(qs,Bs),Bs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,ji(qs,Bs),Bs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ji(qs,Bs),Bs|=r;return Lu(e,t,i,n),t.child}function Vu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zu(e,t,n,r,i){var a=Ki(n)?qi:zi.current;return a=Hi(t,a),fa(t,i),n=Do(e,t,n,r,a,i),r=Po(),null===e||Pu?(Ka&&r&&za(t),t.flags|=1,Lu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,rs(e,t,i))}function Bu(e,t,n,r,i){if(Ki(n)){var a=!0;Xi(t)}else a=!1;if(fa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ia(t,n,r),Na(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"==typeof l&&null!==l?l=ha(l):l=Hi(t,l=Ki(n)?qi:zi.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;f||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(u!==r||s!==l)&&Ca(t,o,r,l),pa=!1;var h=t.memoizedState;o.state=h,wa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Bi.current||pa?("function"==typeof c&&(Sa(t,n,c,r),s=t.memoizedState),(u=pa||Ta(t,n,u,r,h,s,l))?(f||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ya(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:ra(t.type,u),o.props=l,f=t.pendingProps,h=o.context,"object"==typeof(s=n.contextType)&&null!==s?s=ha(s):s=Hi(t,s=Ki(n)?qi:zi.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ca(t,o,r,s),pa=!1,h=t.memoizedState,o.state=h,wa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Bi.current||pa?("function"==typeof d&&(Sa(t,n,d,r),p=t.memoizedState),(l=pa||Ta(t,n,l,r,h,p,s)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!=typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return qu(e,t,n,r,a,i)}function qu(e,t,n,r,i,a){Vu(e,t);var o=0!=(128&t.flags);if(!r&&!o)return i&&Yi(t,n,!1),rs(e,t,a);r=t.stateNode,Du.current=t;var u=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ao(t,e.child,null,a),t.child=ao(t,null,u,a)):Lu(e,t,u,a),t.memoizedState=r.state,i&&Yi(t,n,!0),t.child}function Hu(e){var t=e.stateNode;t.pendingContext?Gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Gi(0,t.context,!1),ho(e,t.containerInfo)}function Ku(e,t,n,r,i){return Za(),eo(i),t.flags|=256,Lu(e,t,n,r),t.child}var Wu={dehydrated:null,treeContext:null,retryLane:0};function Gu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qu(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Xu(e,t,n){var r,i=t.pendingProps,a=mo.current,o=!1,u=0!=(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ji(mo,1&a),null===e)return Ya(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,o?(i=t.mode,o=t.child,a={mode:"hidden",children:a},0==(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=Ql(a,i,0,null),e=Gl(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Gu(n),t.memoizedState=Wu,e):Yu(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Zu(e,t,n,Error(b(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,a=t.mode,i=Ql({mode:"visible",children:i.children},a,0,null),(o=Gl(o,a,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!=(1&t.mode)&&ao(t,e.child,null,n),t.child.memoizedState=Gu(n),t.memoizedState=Wu,o);if(0==(1&t.mode))t=Zu(e,t,n,null);else if("$!"===r.data)t=Zu(e,t,n,Error(b(419)));else if(i=0!=(n&e.childLanes),Pu||i){if(null!==(i=js)){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(i=0!=(o&(i.suspendedLanes|n))?0:o)&&i!==a.retryLane&&(a.retryLane=i,hl(e,i,-1))}Il(),t=Zu(e,t,n,Error(b(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=jl.bind(null,e),r._reactRetry=t,t=null):(n=a.treeContext,Ha=xi(r.nextSibling),qa=t,Ka=!0,Wa=null,null!==n&&(Pa[La++]=Ua,Pa[La++]=Fa,Pa[La++]=Ma,Ua=n.id,Fa=n.overflow,Ma=t),(t=Yu(t,t.pendingProps.children)).flags|=4096);return t}return o?(i=$u(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Gu(n):Qu(a,n),o.childLanes=e.childLanes&~n,t.memoizedState=Wu,i):(n=Ju(e,t,i.children,n),t.memoizedState=null,n)}return o?(i=$u(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Gu(n):Qu(a,n),o.childLanes=e.childLanes&~n,t.memoizedState=Wu,i):(n=Ju(e,t,i.children,n),t.memoizedState=null,n)}function Yu(e,t){return(t=Ql({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ju(e,t,n,r){var i=e.child;return e=i.sibling,n=Kl(i,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function $u(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0==(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Kl(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Kl(o,r):(r=Gl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Zu(e,t,n,r){return null!==r&&eo(r),ao(t,e.child,null,n),(e=Yu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function es(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ca(e.return,t,n)}function ts(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ns(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Lu(e,t,r.children,n),0!=(2&(r=mo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&es(e,n,t);else if(19===e.tag)es(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ji(mo,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===go(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ts(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===go(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ts(t,!0,n,null,a);break;case"together":ts(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ws|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(b(153));if(null!==t.child){for(n=Kl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Kl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function is(e,t){switch(Ba(t),t.tag){case 1:return Ki(t.type)&&Wi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return po(),Fi(Bi),Fi(zi),bo(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return yo(t),null;case 13:if(Fi(mo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(b(340));Za()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Fi(mo),null;case 4:return po(),null;case 10:return la(t.type._context),null;case 22:case 23:return El(),null;default:return null}}var as=!1,os=!1,us="function"==typeof WeakSet?WeakSet:Set,ss=null;function ls(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ml(e,t,n)}else n.current=null}function cs(e,t,n){try{n()}catch(n){Ml(e,t,n)}}var fs=!1;function hs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&cs(t,n,a)}i=i.next}while(i!==r)}}function ds(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ps(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function vs(e){var t=e.alternate;null!==t&&(e.alternate=null,vs(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[_i],delete t[Ti],delete t[Ci],delete t[Ni],delete t[Ai])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function ms(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ys(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=hi));else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function ks(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}var bs=null,ws=!1;function xs(e,t,n){for(n=n.child;null!==n;)Es(e,t,n),n=n.sibling}function Es(e,t,n){if(wt&&"function"==typeof wt.onCommitFiberUnmount)try{wt.onCommitFiberUnmount(bt,n)}catch(e){}switch(n.tag){case 5:os||ls(n,t);case 6:var r=bs,i=ws;bs=null,xs(e,t,n),ws=i,null!==(bs=r)&&(ws?(e=bs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):bs.removeChild(n.stateNode));break;case 18:null!==bs&&(ws?(e=bs,n=n.stateNode,8===e.nodeType?wi(e.parentNode,n):1===e.nodeType&&wi(e,n),an(e)):wi(bs,n.stateNode));break;case 4:r=bs,i=ws,bs=n.stateNode.containerInfo,ws=!0,xs(e,t,n),bs=r,ws=i;break;case 0:case 11:case 14:case 15:if(!os&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!=(2&a)||0!=(4&a))&&cs(n,t,o),i=i.next}while(i!==r)}xs(e,t,n);break;case 1:if(!os&&(ls(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Ml(n,t,e)}xs(e,t,n);break;case 21:xs(e,t,n);break;case 22:1&n.mode?(os=(r=os)||null!==n.memoizedState,xs(e,t,n),os=r):xs(e,t,n);break;default:xs(e,t,n)}}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach((function(t){var r=Vl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function _s(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,u=o;e:for(;null!==u;){switch(u.tag){case 5:bs=u.stateNode,ws=!1;break e;case 3:case 4:bs=u.stateNode.containerInfo,ws=!0;break e}u=u.return}if(null===bs)throw Error(b(160));Es(a,o,i),bs=null,ws=!1;var s=i.alternate;null!==s&&(s.return=null),i.return=null}catch(e){Ml(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Ts(t,e),t=t.sibling}function Ts(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_s(t,e),Is(e),4&r){try{hs(3,e,e.return),ds(3,e)}catch(t){Ml(e,e.return,t)}try{hs(5,e,e.return)}catch(t){Ml(e,e.return,t)}}break;case 1:_s(t,e),Is(e),512&r&&null!==n&&ls(n,n.return);break;case 5:if(_s(t,e),Is(e),512&r&&null!==n&&ls(n,n.return),32&e.flags){var i=e.stateNode;try{Ce(i,"")}catch(t){Ml(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,u=e.type,s=e.updateQueue;if(e.updateQueue=null,null!==s)try{"input"===u&&"radio"===a.type&&null!=a.name&&de(i,a),Le(u,o);var l=Le(u,a);for(o=0;o<s.length;o+=2){var c=s[o],f=s[o+1];"style"===c?Oe(i,f):"dangerouslySetInnerHTML"===c?Ie(i,f):"children"===c?Ce(i,f):L(i,c,f,l)}switch(u){case"input":pe(i,a);break;case"textarea":we(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;null!=d?ge(i,!!a.multiple,d,!1):h!==!!a.multiple&&(null!=a.defaultValue?ge(i,!!a.multiple,a.defaultValue,!0):ge(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ti]=a}catch(t){Ml(e,e.return,t)}}break;case 6:if(_s(t,e),Is(e),4&r){if(null===e.stateNode)throw Error(b(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(t){Ml(e,e.return,t)}}break;case 3:if(_s(t,e),Is(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{an(t.containerInfo)}catch(t){Ml(e,e.return,t)}break;case 4:default:_s(t,e),Is(e);break;case 13:_s(t,e),Is(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Js=dt()),4&r&&Ss(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(os=(c=os)||l,_s(t,e),os=c):_s(t,e),Is(e),8192&r){c=null!==e.memoizedState;e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=h.stateNode,o=null!=(s=h.memoizedProps.style)&&s.hasOwnProperty("display")?s.display:null,u.style.display=Re("display",o))}catch(t){Ml(e,e.return,t)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(t){Ml(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}if(c&&!l&&0!=(1&e.mode))for(ss=e,e=e.child;null!==e;){for(l=ss=e;null!==ss;){switch(f=(c=ss).child,c.tag){case 0:case 11:case 14:case 15:hs(4,c,c.return);break;case 1:if(ls(c,c.return),"function"==typeof(a=c.stateNode).componentWillUnmount){h=c,d=c.return;try{i=h,a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(e){Ml(h,d,e)}}break;case 5:ls(c,c.return);break;case 22:if(null!==c.memoizedState){Rs(l);continue}}null!==f?(f.return=c,ss=f):Rs(l)}e=e.sibling}}break;case 19:_s(t,e),Is(e),4&r&&Ss(e);case 21:}}function Is(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ys(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(Ce(i,""),r.flags&=-33),ks(e,ms(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;gs(e,ms(e),a);break;default:throw Error(b(161))}}catch(t){Ml(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Cs(e,t,n){ss=e,Ns(e,t,n)}function Ns(e,t,n){for(var r=0!=(1&e.mode);null!==ss;){var i=ss,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||as;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||os;u=as;var l=os;if(as=o,(os=s)&&!l)for(ss=i;null!==ss;)s=(o=ss).child,22===o.tag&&null!==o.memoizedState?Os(i):null!==s?(s.return=o,ss=s):Os(i);for(;null!==a;)ss=a,Ns(a,t,n),a=a.sibling;ss=i,as=u,os=l}As(e)}else 0!=(8772&i.subtreeFlags)&&null!==a?(a.return=i,ss=a):As(e)}}function As(e){for(;null!==ss;){var t=ss;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:os||ds(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!os)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ra(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&xa(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}xa(t,o,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var c=l.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&an(f)}}}break;default:throw Error(b(163))}os||512&t.flags&&ps(t)}catch(e){Ml(t,t.return,e)}}if(t===e){ss=null;break}if(null!==(n=t.sibling)){n.return=t.return,ss=n;break}ss=t.return}}function Rs(e){for(;null!==ss;){var t=ss;if(t===e){ss=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ss=n;break}ss=t.return}}function Os(e){for(;null!==ss;){var t=ss;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ds(4,t)}catch(e){Ml(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Ml(t,i,e)}}var a=t.return;try{ps(t)}catch(e){Ml(t,a,e)}break;case 5:var o=t.return;try{ps(t)}catch(e){Ml(t,o,e)}}}catch(e){Ml(t,t.return,e)}if(t===e){ss=null;break}var u=t.sibling;if(null!==u){u.return=t.return,ss=u;break}ss=t.return}}var Ds,Ps=Math.ceil,Ls=M.ReactCurrentDispatcher,Ms=M.ReactCurrentOwner,Us=M.ReactCurrentBatchConfig,Fs=0,js=null,Vs=null,zs=0,Bs=0,qs=Ui(0),Hs=0,Ks=null,Ws=0,Gs=0,Qs=0,Xs=null,Ys=null,Js=0,$s=1/0,Zs=null,el=!1,tl=null,nl=null,rl=!1,il=null,al=0,ol=0,ul=null,sl=-1,ll=0;function cl(){return 0!=(6&Fs)?dt():-1!==sl?sl:sl=dt()}function fl(e){return 0==(1&e.mode)?1:0!=(2&Fs)&&0!==zs?zs&-zs:null!==na.transition?(0===ll&&(ll=Rt()),ll):0!==(e=Lt)?e:e=void 0===(e=window.event)?16:dn(e.type)}function hl(e,t,n){if(50<ol)throw ol=0,ul=null,Error(b(185));var r=dl(e,t);return null===r?null:(Dt(r,t,n),0!=(2&Fs)&&r===js||(r===js&&(0==(2&Fs)&&(Gs|=t),4===Hs&&kl(r,zs)),vl(r,n),1===t&&0===Fs&&0==(1&e.mode)&&($s=dt()+500,$i&&ta())),r)}function dl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function pl(e){return(null!==js||null!==da)&&0!=(1&e.mode)&&0==(2&Fs)}function vl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-xt(a),u=1<<o,s=i[o];-1===s?0!=(u&n)&&0==(u&r)||(i[o]=Nt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r,i=Ct(e,e===js?zs:0);if(0===i)null!==n&&ct(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&ct(n),1===t)0===e.tag?(r=bl.bind(null,e),$i=!0,ea(r)):ea(bl.bind(null,e)),ki((function(){0===Fs&&ta()})),n=null;else{switch(Mt(i)){case 1:n=vt;break;case 4:n=yt;break;case 16:default:n=mt;break;case 536870912:n=kt}n=zl(n,yl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yl(e,t){if(sl=-1,ll=0,0!=(6&Fs))throw Error(b(327));var n=e.callbackNode;if(Pl()&&e.callbackNode!==n)return null;var r=Ct(e,e===js?zs:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=Cl(e,r);else{t=r;var i=Fs;Fs|=2;var a=Tl();for(js===e&&zs===t||(Zs=null,$s=dt()+500,Sl(e,t));;)try{Al();break}catch(t){_l(e,t)}sa(),Ls.current=a,Fs=i,null!==Vs?t=0:(js=null,zs=0,t=Hs)}if(0!==t){if(2===t&&(0!==(i=At(e))&&(r=i,t=ml(e,i))),1===t)throw n=Ks,Sl(e,0),kl(e,r),vl(e,dt()),n;if(6===t)kl(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!br(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Cl(e,r))&&(0!==(a=At(e))&&(r=a,t=ml(e,a))),1===t))throw n=Ks,Sl(e,0),kl(e,r),vl(e,dt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(b(345));case 2:case 5:Dl(e,Ys,Zs);break;case 3:if(kl(e,r),(130023424&r)===r&&10<(t=Js+500-dt())){if(0!==Ct(e,0))break;if(((i=e.suspendedLanes)&r)!==r){cl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=yi(Dl.bind(null,e,Ys,Zs),t);break}Dl(e,Ys,Zs);break;case 4:if(kl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-xt(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=dt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ps(r/1960))-r)){e.timeoutHandle=yi(Dl.bind(null,e,Ys,Zs),r);break}Dl(e,Ys,Zs);break;default:throw Error(b(329))}}}return vl(e,dt()),e.callbackNode===n?yl.bind(null,e):null}function ml(e,t){var n=Xs;return e.current.memoizedState.isDehydrated&&(Sl(e,t).flags|=256),2!==(e=Cl(e,t))&&(t=Ys,Ys=n,null!==t&&gl(t)),e}function gl(e){null===Ys?Ys=e:Ys.push.apply(Ys,e)}function kl(e,t){for(t&=~Qs,t&=~Gs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function bl(e){if(0!=(6&Fs))throw Error(b(327));Pl();var t=Ct(e,0);if(0==(1&t))return vl(e,dt()),null;var n=Cl(e,t);if(0!==e.tag&&2===n){var r=At(e);0!==r&&(t=r,n=ml(e,r))}if(1===n)throw n=Ks,Sl(e,0),kl(e,t),vl(e,dt()),n;if(6===n)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dl(e,Ys,Zs),vl(e,dt()),null}function wl(e,t){var n=Fs;Fs|=1;try{return e(t)}finally{0===(Fs=n)&&($s=dt()+500,$i&&ta())}}function xl(e){null!==il&&0===il.tag&&0==(6&Fs)&&Pl();var t=Fs;Fs|=1;var n=Us.transition,r=Lt;try{if(Us.transition=null,Lt=1,e)return e()}finally{Lt=r,Us.transition=n,0==(6&(Fs=t))&&ta()}}function El(){Bs=qs.current,Fi(qs)}function Sl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,mi(n)),null!==Vs)for(n=Vs.return;null!==n;){var r=n;switch(Ba(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Wi();break;case 3:po(),Fi(Bi),Fi(zi),bo();break;case 5:yo(r);break;case 4:po();break;case 13:case 19:Fi(mo);break;case 10:la(r.type._context);break;case 22:case 23:El()}n=n.return}if(js=e,Vs=e=Kl(e.current,null),zs=Bs=t,Hs=0,Ks=null,Qs=Gs=Ws=0,Ys=Xs=null,null!==da){for(t=0;t<da.length;t++)if(null!==(r=(n=da[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}da=null}return e}function _l(e,t){for(;;){var n=Vs;try{if(sa(),wo.current=vu,Io){for(var r=So.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Io=!1}if(Eo=0,To=_o=So=null,Co=!1,No=0,Ms.current=null,null===n||null===n.return){Hs=1,Ks=t,Vs=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=zs,u.flags|=32768,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s,c=u,f=c.tag;if(0==(1&c.mode)&&(0===f||11===f||15===f)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Cu(o);if(null!==d){d.flags&=-257,Nu(d,o,u,0,t),1&d.mode&&Iu(a,l,t),s=l;var p=(t=d).updateQueue;if(null===p){var v=new Set;v.add(s),t.updateQueue=v}else p.add(s);break e}if(0==(1&t)){Iu(a,l,t),Il();break e}s=Error(b(426))}else if(Ka&&1&u.mode){var y=Cu(o);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),Nu(y,o,u,0,t),eo(s);break e}}a=s,4!==Hs&&(Hs=2),null===Xs?Xs=[a]:Xs.push(a),s=ku(s,u),u=o;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,ba(u,_u(0,s,t));break e;case 1:a=s;var m=u.type,g=u.stateNode;if(0==(128&u.flags)&&("function"==typeof m.getDerivedStateFromError||null!==g&&"function"==typeof g.componentDidCatch&&(null===nl||!nl.has(g)))){u.flags|=65536,t&=-t,u.lanes|=t,ba(u,Tu(u,a,t));break e}}u=u.return}while(null!==u)}Ol(n)}catch(e){t=e,Vs===n&&null!==n&&(Vs=n=n.return);continue}break}}function Tl(){var e=Ls.current;return Ls.current=vu,null===e?vu:e}function Il(){0!==Hs&&3!==Hs&&2!==Hs||(Hs=4),null===js||0==(268435455&Ws)&&0==(268435455&Gs)||kl(js,zs)}function Cl(e,t){var n=Fs;Fs|=2;var r=Tl();for(js===e&&zs===t||(Zs=null,Sl(e,t));;)try{Nl();break}catch(t){_l(e,t)}if(sa(),Fs=n,Ls.current=r,null!==Vs)throw Error(b(261));return js=null,zs=0,Hs}function Nl(){for(;null!==Vs;)Rl(Vs)}function Al(){for(;null!==Vs&&!ft();)Rl(Vs)}function Rl(e){var t=Ds(e.alternate,e,Bs);e.memoizedProps=e.pendingProps,null===t?Ol(e):Vs=t,Ms.current=null}function Ol(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ou(n,t,Bs)))return void(Vs=n)}else{if(null!==(n=is(n,t)))return n.flags&=32767,void(Vs=n);if(null===e)return Hs=6,void(Vs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Vs=t);Vs=t=e}while(null!==t);0===Hs&&(Hs=5)}function Dl(e,t,n){var r=Lt,i=Us.transition;try{Us.transition=null,Lt=1,function(e,t,n,r){do{Pl()}while(null!==il);if(0!=(6&Fs))throw Error(b(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===js&&(Vs=js=null,zs=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||rl||(rl=!0,zl(mt,(function(){return Pl(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=Us.transition,Us.transition=null;var o=Lt;Lt=1;var u=Fs;Fs|=4,Ms.current=null,function(e,t){if(di=un,Tr(e=_r())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var o=0,u=-1,s=-1,l=0,c=0,f=e,h=null;t:for(;;){for(var d;f!==n||0!==i&&3!==f.nodeType||(u=o+i),f!==a||0!==r&&3!==f.nodeType||(s=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(d=f.firstChild);)h=f,f=d;for(;;){if(f===e)break t;if(h===n&&++l===i&&(u=o),h===a&&++c===r&&(s=o),null!==(d=f.nextSibling))break;h=(f=h).parentNode}f=d}n=-1===u||-1===s?null:{start:u,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(pi={focusedElem:e,selectionRange:n},un=!1,ss=t;null!==ss;)if(e=(t=ss).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,ss=e;else for(;null!==ss;){t=ss;try{var p=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var v=p.memoizedProps,y=p.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ra(t.type,v),y);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var k=t.stateNode.containerInfo;if(1===k.nodeType)k.textContent="";else if(9===k.nodeType){var w=k.body;null!=w&&(w.textContent="")}break;default:throw Error(b(163))}}catch(e){Ml(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,ss=e;break}ss=t.return}p=fs,fs=!1}(e,n),Ts(n,e),Ir(pi),un=!!di,pi=di=null,e.current=n,Cs(n,e,i),ht(),Fs=u,Lt=o,Us.transition=a}else e.current=n;if(rl&&(rl=!1,il=e,al=i),0===(a=e.pendingLanes)&&(nl=null),function(e){if(wt&&"function"==typeof wt.onCommitFiberRoot)try{wt.onCommitFiberRoot(bt,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),vl(e,dt()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(el)throw el=!1,e=tl,tl=null,e;0!=(1&al)&&0!==e.tag&&Pl(),0!=(1&(a=e.pendingLanes))?e===ul?ol++:(ol=0,ul=e):ol=0,ta()}(e,t,n,r)}finally{Us.transition=i,Lt=r}return null}function Pl(){if(null!==il){var e=Mt(al),t=Us.transition,n=Lt;try{if(Us.transition=null,Lt=16>e?16:e,null===il)var r=!1;else{if(e=il,il=null,al=0,0!=(6&Fs))throw Error(b(331));var i=Fs;for(Fs|=4,ss=e.current;null!==ss;){var a=ss,o=a.child;if(0!=(16&ss.flags)){var u=a.deletions;if(null!==u){for(var s=0;s<u.length;s++){var l=u[s];for(ss=l;null!==ss;){var c=ss;switch(c.tag){case 0:case 11:case 15:hs(8,c,a)}var f=c.child;if(null!==f)f.return=c,ss=f;else for(;null!==ss;){var h=(c=ss).sibling,d=c.return;if(vs(c),c===l){ss=null;break}if(null!==h){h.return=d,ss=h;break}ss=d}}}var p=a.alternate;if(null!==p){var v=p.child;if(null!==v){p.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}ss=a}}if(0!=(2064&a.subtreeFlags)&&null!==o)o.return=a,ss=o;else e:for(;null!==ss;){if(0!=(2048&(a=ss).flags))switch(a.tag){case 0:case 11:case 15:hs(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,ss=m;break e}ss=a.return}}var g=e.current;for(ss=g;null!==ss;){var k=(o=ss).child;if(0!=(2064&o.subtreeFlags)&&null!==k)k.return=o,ss=k;else e:for(o=g;null!==ss;){if(0!=(2048&(u=ss).flags))try{switch(u.tag){case 0:case 11:case 15:ds(9,u)}}catch(e){Ml(u,u.return,e)}if(u===o){ss=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,ss=w;break e}ss=u.return}}if(Fs=i,ta(),wt&&"function"==typeof wt.onPostCommitFiberRoot)try{wt.onPostCommitFiberRoot(bt,e)}catch(e){}r=!0}return r}finally{Lt=n,Us.transition=t}}return!1}function Ll(e,t,n){ga(e,t=_u(0,t=ku(n,t),1)),t=cl(),null!==(e=dl(e,1))&&(Dt(e,1,t),vl(e,t))}function Ml(e,t,n){if(3===e.tag)Ll(e,e,n);else for(;null!==t;){if(3===t.tag){Ll(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===nl||!nl.has(r))){ga(t,e=Tu(t,e=ku(n,e),1)),e=cl(),null!==(t=dl(t,1))&&(Dt(t,1,e),vl(t,e));break}}t=t.return}}function Ul(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cl(),e.pingedLanes|=e.suspendedLanes&n,js===e&&(zs&n)===n&&(4===Hs||3===Hs&&(130023424&zs)===zs&&500>dt()-Js?Sl(e,0):Qs|=n),vl(e,t)}function Fl(e,t){0===t&&(0==(1&e.mode)?t=1:(t=Tt,0==(130023424&(Tt<<=1))&&(Tt=4194304)));var n=cl();null!==(e=dl(e,t))&&(Dt(e,t,n),vl(e,n))}function jl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Fl(e,n)}function Vl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(b(314))}null!==r&&r.delete(t),Fl(e,n)}function zl(e,t){return lt(e,t)}function Bl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ql(e,t,n,r){return new Bl(e,t,n,r)}function Hl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Kl(e,t){var n=e.alternate;return null===n?((n=ql(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wl(e,n,r,i,a,o){var u=2;if(i=e,"function"==typeof e)Hl(e)&&(u=1);else if("string"==typeof e)u=5;else e:switch(e){case j:return Gl(r.children,a,o,n);case V:u=8,a|=8;break;case z:return(e=ql(12,r,n,2|a)).elementType=z,e.lanes=o,e;case K:return(e=ql(13,r,n,a)).elementType=K,e.lanes=o,e;case W:return(e=ql(19,r,n,a)).elementType=W,e.lanes=o,e;case X:return Ql(r,a,o,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case B:u=10;break e;case q:u=9;break e;case H:u=11;break e;case G:u=14;break e;case Q:u=16,i=null;break e}throw Error(b(130,null==e?e:void 0===e?"undefined":t(m)(e),""))}return(n=ql(u,r,n,a)).elementType=e,n.type=i,n.lanes=o,n}function Gl(e,t,n,r){return(e=ql(7,e,r,t)).lanes=n,e}function Ql(e,t,n,r){return(e=ql(22,e,r,t)).elementType=X,e.lanes=n,e.stateNode={},e}function Xl(e,t,n){return(e=ql(6,e,null,t)).lanes=n,e}function Yl(e,t,n){return(t=ql(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ot(0),this.expirationTimes=Ot(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ot(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $l(e,t,n,r,i,a,o,u,s){return e=new Jl(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=ql(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},va(a),e}function Zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:F,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e){if(!e)return Vi;e:{if(it(e=e._reactInternals)!==e||1!==e.tag)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ki(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(b(171))}if(1===e.tag){var n=e.type;if(Ki(n))return Qi(e,n,t)}return t}function tc(e,t,n,r,i,a,o,u,s){return(e=$l(n,r,!0,e,0,a,0,u,s)).context=ec(null),n=e.current,(a=ma(r=cl(),i=fl(n))).callback=null!=t?t:null,ga(n,a),e.current.lanes=i,Dt(e,i,r),vl(e,r),e}function nc(e,t,n,r){var i=t.current,a=cl(),o=fl(i);return n=ec(n),null===t.context?t.context=n:t.pendingContext=n,(t=ma(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ga(i,t),null!==(e=hl(i,o,a))&&ka(e,i,o),o}function rc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ic(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ac(e,t){ic(e,t),(e=e.alternate)&&ic(e,t)}Ds=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Bi.current)Pu=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return Pu=!1,function(e,t,n){switch(t.tag){case 3:Hu(t),Za();break;case 5:vo(t);break;case 1:Ki(t.type)&&Xi(t);break;case 4:ho(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ji(ia,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ji(mo,1&mo.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Xu(e,t,n):(ji(mo,1&mo.current),null!==(e=rs(e,t,n))?e.sibling:null);ji(mo,1&mo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return ns(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ji(mo,mo.current),r)break;return null;case 22:case 23:return t.lanes=0,ju(e,t,n)}return rs(e,t,n)}(e,t,n);Pu=0!=(131072&e.flags)}else Pu=!1,Ka&&0!=(1048576&t.flags)&&Va(t,Da,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Hi(t,zi.current);fa(t,n),i=Do(null,t,r,e,i,n);var a=Po();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ki(r)?(a=!0,Xi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,va(t),i.updater=_a,t.stateNode=i,i._reactInternals=t,Na(t,r,e,n),t=qu(null,t,r,!0,a,n)):(t.tag=0,Ka&&a&&za(t),Lu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Hl(e)?1:0;if(null!=e){if((e=e.$$typeof)===H)return 11;if(e===G)return 14}return 2}(r),e=ra(r,e),i){case 0:t=zu(null,t,r,e,n);break e;case 1:t=Bu(null,t,r,e,n);break e;case 11:t=Mu(null,t,r,e,n);break e;case 14:t=Uu(null,t,r,ra(r.type,e),n);break e}throw Error(b(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,zu(e,t,r,i=t.elementType===r?i:ra(r,i),n);case 1:return r=t.type,i=t.pendingProps,Bu(e,t,r,i=t.elementType===r?i:ra(r,i),n);case 3:e:{if(Hu(t),null===e)throw Error(b(387));r=t.pendingProps,i=(a=t.memoizedState).element,ya(e,t),wa(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ku(e,t,r,n,i=Error(b(423)));break e}if(r!==i){t=Ku(e,t,r,n,i=Error(b(424)));break e}for(Ha=xi(t.stateNode.containerInfo.firstChild),qa=t,Ka=!0,Wa=null,n=oo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Za(),r===i){t=rs(e,t,n);break e}Lu(e,t,r,n)}t=t.child}return t;case 5:return vo(t),null===e&&Ya(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,vi(r,i)?o=null:null!==a&&vi(r,a)&&(t.flags|=32),Vu(e,t),Lu(e,t,o,n),t.child;case 6:return null===e&&Ya(t),null;case 13:return Xu(e,t,n);case 4:return ho(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ao(t,null,r,n):Lu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Mu(e,t,r,i=t.elementType===r?i:ra(r,i),n);case 7:return Lu(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ji(ia,r._currentValue),r._currentValue=o,null!==a)if(br(a.value,o)){if(a.children===i.children&&!Bi.current){t=rs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){o=a.child;for(var s=u.firstContext;null!==s;){if(s.context===r){if(1===a.tag){(s=ma(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var c=(l=l.shared).pending;null===c?s.next=s:(s.next=c.next,c.next=s),l.pending=s}}a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),ca(a.return,n,t),u.lanes|=n;break}s=s.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(b(341));o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),ca(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Lu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fa(t,n),r=r(i=ha(i)),t.flags|=1,Lu(e,t,r,n),t.child;case 14:return i=ra(r=t.type,t.pendingProps),Uu(e,t,r,i=ra(r.type,i),n);case 15:return Fu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ra(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ki(r)?(e=!0,Xi(t)):e=!1,fa(t,n),Ia(t,r,i),Na(t,r,i,n),qu(null,t,r,!0,e,n);case 19:return ns(e,t,n);case 22:return ju(e,t,n)}throw Error(b(156,t.tag))};var oc="function"==typeof reportError?reportError:function(e){console.error(e)};function uc(e){this._internalRoot=e}function sc(e){this._internalRoot=e}function lc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function cc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function fc(){}function hc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"==typeof i){var u=i;i=function(){var e=rc(o);u.call(e)}}nc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=rc(o);a.call(e)}}var o=tc(t,r,e,0,null,!1,0,"",fc);return e._reactRootContainer=o,e[Ii]=o.current,ti(8===e.nodeType?e.parentNode:e),xl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var u=r;r=function(){var e=rc(s);u.call(e)}}var s=$l(e,0,!1,null,0,!1,0,"",fc);return e._reactRootContainer=s,e[Ii]=s.current,ti(8===e.nodeType?e.parentNode:e),xl((function(){nc(t,s,n,r)})),s}(n,t,e,i,r);return rc(o)}sc.prototype.render=uc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(b(409));nc(e,t,null,null)},sc.prototype.unmount=uc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;xl((function(){nc(null,e,null,null)})),t[Ii]=null}},sc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&0!==t&&t<Xt[n].priority;n++);Xt.splice(n,0,e),0===n&&Zt(e)}},Ut=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=It(t.pendingLanes);0!==n&&(Pt(t,1|n),vl(t,dt()),0==(6&Fs)&&($s=dt()+500,ta()))}break;case 13:var r=cl();xl((function(){return hl(e,1,r)})),ac(e,1)}},Ft=function(e){13===e.tag&&(hl(e,134217728,cl()),ac(e,134217728))},jt=function(e){if(13===e.tag){var t=cl(),n=fl(e);hl(e,n,t),ac(e,n)}},Vt=function(){return Lt},zt=function(e,t){var n=Lt;try{return Lt=e,t()}finally{Lt=n}},Fe=function(e,t,n){switch(t){case"input":if(pe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pi(r);if(!i)throw Error(b(90));le(r),pe(r,i)}}}break;case"textarea":we(e,n);break;case"select":null!=(t=n.value)&&ge(e,!!n.multiple,t,!1)}},He=wl,Ke=xl;var dc={usingClientEntryPoint:!1,Events:[Oi,Di,Pi,Be,qe,wl]},pc={findFiberByHostInstance:Ri,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},vc={bundleType:pc.bundleType,version:pc.version,rendererPackageName:pc.rendererPackageName,rendererConfig:pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ut(e))?null:e.stateNode},findFiberByHostInstance:pc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{bt=yc.inject(vc),wt=yc}catch(Te){}}i=dc,o=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lc(t))throw Error(b(200));return Zl(e,t,null,n)},u=function(e,t){if(!lc(e))throw Error(b(299));var n=!1,r="",i=oc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=$l(e,1,!1,null,0,n,0,r,i),e[Ii]=t.current,ti(8===e.nodeType?e.parentNode:e),new uc(t)},s=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(b(188));throw e=Object.keys(e).join(","),Error(b(268,e))}return e=null===(e=ut(t))?null:e.stateNode},l=function(e){return xl(e)},c=function(e,t,n){if(!cc(t))throw Error(b(200));return hc(null,e,t,!0,n)},f=function(e,t,n){if(!lc(e))throw Error(b(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=oc;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=tc(t,null,e,1,null!=n?n:null,i,0,a,o),e[Ii]=t.current,ti(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sc(t)},h=function(e,t,n){if(!cc(t))throw Error(b(200));return hc(null,e,t,!1,n)},d=function(e){if(!cc(e))throw Error(b(40));return!!e._reactRootContainer&&(xl((function(){hc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Ii]=null}))})),!0)},p=wl,v=function(e,t,n,r){if(!cc(n))throw Error(b(200));if(null==e||void 0===e._reactInternals)throw Error(b(38));return hc(e,t,n,!1,r)},y="18.1.0-next-22edb9f77-20220426"})),a.register("hnwcm",(function(e,t){"use strict";e.exports=a("7yTEO")})),a.register("7yTEO",(function(t,n){var r,i,a,o,u,s,l,c,f,h,d,p,v,y,m,g,k,b,w;function x(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return 0===e.length?null:e[0]}function S(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,u=e[o],s=o+1,l=e[s];if(0>_(u,n))s<i&&0>_(l,u)?(e[r]=l,e[s]=n,r=s):(e[r]=u,e[o]=n,r=o);else{if(!(s<i&&0>_(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e(t.exports,"unstable_now",(function(){return r}),(function(e){return r=e})),e(t.exports,"unstable_IdlePriority",(function(){return i}),(function(e){return i=e})),e(t.exports,"unstable_ImmediatePriority",(function(){return a}),(function(e){return a=e})),e(t.exports,"unstable_LowPriority",(function(){return o}),(function(e){return o=e})),e(t.exports,"unstable_NormalPriority",(function(){return u}),(function(e){return u=e})),e(t.exports,"unstable_Profiling",(function(){return s}),(function(e){return s=e})),e(t.exports,"unstable_UserBlockingPriority",(function(){return l}),(function(e){return l=e})),e(t.exports,"unstable_cancelCallback",(function(){return c}),(function(e){return c=e})),e(t.exports,"unstable_continueExecution",(function(){return f}),(function(e){return f=e})),e(t.exports,"unstable_forceFrameRate",(function(){return h}),(function(e){return h=e})),e(t.exports,"unstable_getCurrentPriorityLevel",(function(){return d}),(function(e){return d=e})),e(t.exports,"unstable_getFirstCallbackNode",(function(){return p}),(function(e){return p=e})),e(t.exports,"unstable_next",(function(){return v}),(function(e){return v=e})),e(t.exports,"unstable_pauseExecution",(function(){return y}),(function(e){return y=e})),e(t.exports,"unstable_requestPaint",(function(){return m}),(function(e){return m=e})),e(t.exports,"unstable_runWithPriority",(function(){return g}),(function(e){return g=e})),e(t.exports,"unstable_scheduleCallback",(function(){return k}),(function(e){return k=e})),e(t.exports,"unstable_shouldYield",(function(){return b}),(function(e){return b=e})),e(t.exports,"unstable_wrapCallback",(function(){return w}),(function(e){return w=e})),"object"==typeof performance&&"function"==typeof performance.now){var T=performance;r=function(){return T.now()}}else{var I=Date,C=I.now();r=function(){return I.now()-C}}var N=[],A=[],R=1,O=null,D=3,P=!1,L=!1,M=!1,U="function"==typeof setTimeout?setTimeout:null,F="function"==typeof clearTimeout?clearTimeout:null,j="undefined"!=typeof setImmediate?setImmediate:null;function V(e){for(var t=E(A);null!==t;){if(null===t.callback)S(A);else{if(!(t.startTime<=e))break;S(A),t.sortIndex=t.expirationTime,x(N,t)}t=E(A)}}function z(e){if(M=!1,V(e),!L)if(null!==E(N))L=!0,Z(B);else{var t=E(A);null!==t&&ee(z,t.startTime-e)}}function B(e,t){L=!1,M&&(M=!1,F(W),W=-1),P=!0;var n=D;try{for(V(t),O=E(N);null!==O&&(!(O.expirationTime>t)||e&&!X());){var i=O.callback;if("function"==typeof i){O.callback=null,D=O.priorityLevel;var a=i(O.expirationTime<=t);t=r(),"function"==typeof a?O.callback=a:O===E(N)&&S(N),V(t)}else S(N);O=E(N)}if(null!==O)var o=!0;else{var u=E(A);null!==u&&ee(z,u.startTime-t),o=!1}return o}finally{O=null,D=n,P=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var q,H=!1,K=null,W=-1,G=5,Q=-1;function X(){return!(r()-Q<G)}function Y(){if(null!==K){var e=r();Q=e;var t=!0;try{t=K(!0,e)}finally{t?q():(H=!1,K=null)}}else H=!1}if("function"==typeof j)q=function(){j(Y)};else if("undefined"!=typeof MessageChannel){var J=new MessageChannel,$=J.port2;J.port1.onmessage=Y,q=function(){$.postMessage(null)}}else q=function(){U(Y,0)};function Z(e){K=e,H||(H=!0,q())}function ee(e,t){W=U((function(){e(r())}),t)}i=5,a=1,o=4,u=3,s=null,l=2,c=function(e){e.callback=null},f=function(){L||P||(L=!0,Z(B))},h=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<e?Math.floor(1e3/e):5},d=function(){return D},p=function(){return E(N)},v=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},y=function(){},m=function(){},g=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},k=function(e,t,n){var i=r();switch("object"==typeof n&&null!==n?n="number"==typeof(n=n.delay)&&0<n?i+n:i:n=i,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:R++,callback:t,priorityLevel:e,startTime:n,expirationTime:a=n+a,sortIndex:-1},n>i?(e.sortIndex=n,x(A,e),null===E(N)&&e===E(A)&&(M?(F(W),W=-1):M=!0,ee(z,n-i))):(e.sortIndex=a,x(N,e),L||P||(L=!0,Z(B))),e},b=X,w=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}})),a.register("hAwlQ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return e}})),a.register("bXhcs",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),a.register("a7moy",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),a.register("72tp9",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return r.default(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r.default(e,t)};var n,r=(n=a("hflLr"))&&n.__esModule?n:{default:n}})),a.register("hflLr",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}})),a.register("7qUTJ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}})),a.register("a73b6",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return r.default(e)};var n,r=(n=a("hflLr"))&&n.__esModule?n:{default:n}})),a.register("kdjo4",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),a.register("5oUC1",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}})),a.register("dsKik",(function(e,t){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return n(e,t)}})),a.register("bI5Ef",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){return o.apply(null,arguments)};var n,r=(n=a("dsKik"))&&n.__esModule?n:{default:n};function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,n){return(o=i()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r.default(a,n.prototype),a}).apply(null,arguments)}})),a.register("85EVU",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}})),a.register("jvq8u",(function(e,t){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return n(e)}})),a.register("k8KPm",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}})),a.register("gFU0G",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return!t||"object"!==r.default(t)&&"function"!=typeof t?n.default(e):t};var n=i(a("5oUC1")),r=i(a("8ztJZ"));function i(e){return e&&e.__esModule?e:{default:e}}})),a.register("exu4E",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r.default(e)););return e};var n,r=(n=a("jvq8u"))&&n.__esModule?n:{default:n}}));var o;o=a("2nacn");var u,s,l=a("jE8J5");!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),u=(s=a("2wM5b")).createRoot,s.hydrateRoot;var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e,t){return f.default(e)||h.default(e,t)||p.default(e,t)||d.default()};var f=v(a("hAwlQ")),h=v(a("bXhcs")),d=v(a("a7moy")),p=v(a("72tp9"));function v(e){return e&&e.__esModule?e:{default:e}}l=a("jE8J5");var y={};function m(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){m(a,r,i,o,u,"next",e)}function u(e){m(a,r,i,o,u,"throw",e)}o(void 0)}))}};var g={};Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var k={};function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(e,t,n){t&&b(e.prototype,t);n&&b(e,n);return e};var w=a("7qUTJ"),x={};Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(e){return E.default(e)||S.default(e)||T.default(e)||_.default()};var E=I(a("a73b6")),S=I(a("bXhcs")),_=I(a("kdjo4")),T=I(a("72tp9"));function I(e){return e&&e.__esModule?e:{default:e}}var C={},N=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=c(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=y.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=g,s(x,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(C);try{regeneratorRuntime=N}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=N:Function("r","regeneratorRuntime = r")(N)}var A=a("5oUC1"),R={};Object.defineProperty(R,"__esModule",{value:!0}),R.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D.default(e,t)};var O,D=(O=a("dsKik"))&&O.__esModule?O:{default:O};var P={};Object.defineProperty(P,"__esModule",{value:!0}),P.default=function(e){return V(e)};var L=j(a("bI5Ef")),M=j(a("85EVU")),U=j(a("jvq8u")),F=j(a("dsKik"));function j(e){return e&&e.__esModule?e:{default:e}}function V(e){var t="function"==typeof Map?new Map:void 0;return V=function(e){if(null===e||!M.default(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return L.default(e,arguments,U.default(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),F.default(n,e)},V(e)}var z={};Object.defineProperty(z,"__esModule",{value:!0}),z.default=function(e){var t=B.default();return function(){var n,r=q.default(e);if(t){var i=q.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return H.default(this,n)}};var B=K(a("k8KPm")),q=K(a("jvq8u")),H=K(a("gFU0G"));function K(e){return e&&e.__esModule?e:{default:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},G={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(W(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Q=function(e){return function(e){var t=W(e);return G.encodeByteArray(t,!0)}(e).replace(/\./g,"")},X=function(e){try{return G.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Y=function(){"use strict";function e(){var n=this;t(g)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return t(k)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function J(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function Z(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function te(){var e=J();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ne(){return"object"==typeof indexedDB}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var re=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i,a){var o;return t(g)(this,r),(o=n.call(this,i)).code=e,o.customData=a,o.name="FirebaseError",Object.setPrototypeOf(t(A)(o),r.prototype),Error.captureStackTrace&&Error.captureStackTrace(t(A)(o),ie.prototype.create),o}return r}(t(P)(Error)),ie=function(){"use strict";function e(n,r,i){t(g)(this,e),this.service=n,this.serviceName=r,this.errors=i}return t(k)(e,[{key:"create",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0]||{},a="".concat(this.service,"/").concat(e),o=this.errors[e],u=o?ae(o,i):"Error",s="".concat(this.serviceName,": ").concat(u," (").concat(a,")."),l=new re(a,s,i);return l}}]),e}();function ae(e,t){return e.replace(oe,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var oe=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function se(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t),i=!0,a=!1,o=void 0;try{for(var u,s=n[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value;if(!r.includes(l))return!1;var c=e[l],f=t[l];if(le(c)&&le(f)){if(!se(c,f))return!1}else if(c!==f)return!1}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}var h=!0,d=!1,p=void 0;try{for(var v,y=r[Symbol.iterator]();!(h=(v=y.next()).done);h=!0){var m=v.value;if(!n.includes(m))return!1}}catch(e){d=!0,p=e}finally{try{h||null==y.return||y.return()}finally{if(d)throw p}}return!0}function le(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=function(e,r){var i=t(c)(r.value,2),a=i[0],o=i[1];Array.isArray(o)?o.forEach((function(e){n.push(encodeURIComponent(a)+"="+encodeURIComponent(e))})):n.push(encodeURIComponent(a)+"="+encodeURIComponent(o))},s=Object.entries(e)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)u(0,o)}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n.length?"&"+n.join("&"):""}function fe(e){var n={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var r=t(c)(e.split("="),2),i=r[0],a=r[1];n[decodeURIComponent(i)]=decodeURIComponent(a)}})),n}function he(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de=function(){"use strict";function e(n,r){var i=this;t(g)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then((function(){n(i)})).catch((function(e){i.error(e)}))}return t(k)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;var n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;if(u in e&&"function"==typeof e[u])return!0}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=pe),void 0===r.error&&(r.error=pe),void 0===r.complete&&(r.complete=pe);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function pe(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ve(e){return e&&e._delegate?e._delegate:e}var ye=function(){"use strict";function e(n,r,i){t(g)(this,e),this.name=n,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t(k)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),me="[DEFAULT]",ge=function(){"use strict";function e(n,r){t(g)(this,e),this.name=n,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t(k)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Y;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:me})}catch(e){}var n=!0,r=!1,i=void 0;try{for(var a,o=this.instancesDeferred.entries()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=t(c)(a.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);try{var h=this.getOrInitializeService({instanceIdentifier:f});l.resolve(h)}catch(e){}}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=this;return t(y)(t(C).mark((function n(){var r;return t(C).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Array.from(e.instances.values()),n.next=3,Promise.all(t(x)(r.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))).concat(t(x)(r.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return n.stop()}}),n)})))()}},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error("".concat(this.name,"(").concat(i,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a=this.getOrInitializeService({instanceIdentifier:i,options:r}),o=!0,u=!1,s=void 0;try{for(var l,f=this.instancesDeferred.entries()[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var h=t(c)(l.value,2),d=h[0],p=h[1],v=this.normalizeInstanceIdentifier(d);i===v&&p.resolve(a)}}catch(e){u=!0,s=e}finally{try{o||null==f.return||f.return()}finally{if(u)throw s}}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r=!0,i=!1,a=void 0;try{for(var o,u=n[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value;try{s(e,t)}catch(e){}}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===me?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(e){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me;return this.component?this.component.multipleInstances?e:me:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke,be,we=function(){"use strict";function e(n){t(g)(this,e),this.name=n,this.providers=new Map}return t(k)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ge(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),xe=(w=a("7qUTJ"),[]);(be=ke||(ke={}))[be.DEBUG=0]="DEBUG",be[be.VERBOSE=1]="VERBOSE",be[be.INFO=2]="INFO",be[be.WARN=3]="WARN",be[be.ERROR=4]="ERROR",be[be.SILENT=5]="SILENT";var Ee,Se={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},_e=ke.INFO,Te=(Ee={},t(w)(Ee,ke.DEBUG,"log"),t(w)(Ee,ke.VERBOSE,"log"),t(w)(Ee,ke.INFO,"info"),t(w)(Ee,ke.WARN,"warn"),t(w)(Ee,ke.ERROR,"error"),Ee),Ie=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var o;if(!(n<e.logLevel)){var u=(new Date).toISOString(),s=Te[n];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(n,")"));(o=console)[s].apply(o,["[".concat(u,"]  ").concat(e.name,":")].concat(t(x)(i)))}},Ce=function(){"use strict";function e(n){t(g)(this,e),this.name=n,this._logLevel=_e,this._logHandler=Ie,this._userLogHandler=null,xe.push(this)}return t(k)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ke))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?Se[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,ke.DEBUG].concat(t(x)(n))),this._logHandler.apply(this,[this,ke.DEBUG].concat(t(x)(n)))}},{key:"log",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,ke.VERBOSE].concat(t(x)(n))),this._logHandler.apply(this,[this,ke.VERBOSE].concat(t(x)(n)))}},{key:"info",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,ke.INFO].concat(t(x)(n))),this._logHandler.apply(this,[this,ke.INFO].concat(t(x)(n)))}},{key:"warn",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,ke.WARN].concat(t(x)(n))),this._logHandler.apply(this,[this,ke.WARN].concat(t(x)(n)))}},{key:"error",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,ke.ERROR].concat(t(x)(n))),this._logHandler.apply(this,[this,ke.ERROR].concat(t(x)(n)))}}]),e}();var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ae.default(e,t,n[t])}))}return e};var Ae=function(e){return e&&e.__esModule?e:{default:e}}(a("7qUTJ"));var Re,Oe;var De=new WeakMap,Pe=new WeakMap,Le=new WeakMap,Me=new WeakMap,Ue=new WeakMap;var Fe={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Pe.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Le.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ze(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function je(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Oe||(Oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Be(this),n),ze(De.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ze(e.apply(Be(this),n))}:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o,u=(o=e).call.apply(o,[Be(this),n].concat(t(x)(i)));return Le.set(u,n.sort?n.sort():[n]),ze(u)}}function Ve(e){return"function"==typeof e?je(e):(e instanceof IDBTransaction&&function(e){if(!Pe.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Pe.set(e,t)}}(e),t=e,(Re||(Re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Fe):e);var t}function ze(e){if(e instanceof IDBRequest)return t=e,(n=new Promise((function(e,n){var r=function(){t.removeEventListener("success",i),t.removeEventListener("error",a)},i=function(){e(ze(t.result)),r()},a=function(){n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)}))).then((function(e){e instanceof IDBCursor&&De.set(e,t)})).catch((function(){})),Ue.set(n,t),n;var t,n;if(Me.has(e))return Me.get(e);var r=Ve(e);return r!==e&&(Me.set(e,r),Ue.set(r,e)),r}var Be=function(e){return Ue.get(e)};function qe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=ze(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(ze(u.result),e.oldVersion,e.newVersion,ze(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}var He=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],We=new Map;function Ge(e,n){if(e instanceof IDBDatabase&&!(n in e)&&"string"==typeof n){if(We.get(n))return We.get(n);var r=n.replace(/FromIndex$/,""),i=n!==r,a=Ke.includes(r);if(r in(i?IDBIndex:IDBObjectStore).prototype&&(a||He.includes(r))){var o,u=(o=t(y)(t(C).mark((function e(n){var o,u,s,l,c,f,h=arguments;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=h.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=h[s];return c=this.transaction(n,a?"readwrite":"readonly"),f=c.store,i&&(f=f.index(u.shift())),e.next=7,Promise.all([(l=f)[r].apply(l,t(x)(u)),a&&c.done]);case 7:return e.abrupt("return",e.sent[0]);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)});return We.set(n,u),u}}}Fe=function(e){return t(Ne)({},e,{get:function(t,n,r){return Ge(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ge(t,n)||e.has(t,n)}})}(Fe);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Qe=function(){"use strict";function e(n){t(g)(this,e),this.container=n}return t(k)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Xe,Ye,Je="@firebase/app",$e="0.7.25",Ze=new Ce("@firebase/app"),et="[DEFAULT]",tt=(Xe={},t(w)(Xe,Je,"fire-core"),t(w)(Xe,"@firebase/app-compat","fire-core-compat"),t(w)(Xe,"@firebase/analytics","fire-analytics"),t(w)(Xe,"@firebase/analytics-compat","fire-analytics-compat"),t(w)(Xe,"@firebase/app-check","fire-app-check"),t(w)(Xe,"@firebase/app-check-compat","fire-app-check-compat"),t(w)(Xe,"@firebase/auth","fire-auth"),t(w)(Xe,"@firebase/auth-compat","fire-auth-compat"),t(w)(Xe,"@firebase/database","fire-rtdb"),t(w)(Xe,"@firebase/database-compat","fire-rtdb-compat"),t(w)(Xe,"@firebase/functions","fire-fn"),t(w)(Xe,"@firebase/functions-compat","fire-fn-compat"),t(w)(Xe,"@firebase/installations","fire-iid"),t(w)(Xe,"@firebase/installations-compat","fire-iid-compat"),t(w)(Xe,"@firebase/messaging","fire-fcm"),t(w)(Xe,"@firebase/messaging-compat","fire-fcm-compat"),t(w)(Xe,"@firebase/performance","fire-perf"),t(w)(Xe,"@firebase/performance-compat","fire-perf-compat"),t(w)(Xe,"@firebase/remote-config","fire-rc"),t(w)(Xe,"@firebase/remote-config-compat","fire-rc-compat"),t(w)(Xe,"@firebase/storage","fire-gcs"),t(w)(Xe,"@firebase/storage-compat","fire-gcs-compat"),t(w)(Xe,"@firebase/firestore","fire-fst"),t(w)(Xe,"@firebase/firestore-compat","fire-fst-compat"),t(w)(Xe,"fire-js","fire-js"),t(w)(Xe,"firebase","fire-js-all"),Xe),nt=new Map,rt=new Map;function it(e,t){try{e.container.addComponent(t)}catch(n){Ze.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function at(e){var t=e.name;if(rt.has(t))return Ze.debug("There were multiple attempts to register component ".concat(t,".")),!1;rt.set(t,e);var n=!0,r=!1,i=void 0;try{for(var a,o=nt.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){it(a.value,e)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return!0}function ot(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ut=(Ye={},t(w)(Ye,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),t(w)(Ye,"bad-app-name","Illegal App name: '{$appName}"),t(w)(Ye,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),t(w)(Ye,"app-deleted","Firebase App named '{$appName}' already deleted"),t(w)(Ye,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),t(w)(Ye,"invalid-log-argument","First argument to `onLog` must be null or a function."),t(w)(Ye,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),t(w)(Ye,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),t(w)(Ye,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),t(w)(Ye,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Ye),st=new ie("app","Firebase",ut),lt=function(){"use strict";function e(n,r,i){var a=this;t(g)(this,e),this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ye("app",(function(){return a}),"PUBLIC"))}return t(k)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw st.create("app-deleted",{appName:this._name})}}]),e}(),ct="9.8.2";function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=nt.get(e);if(!t)throw st.create("no-app",{appName:e});return t}function ht(e,t,n){var r,i=null!==(r=tt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ze.warn(u.join(" "))}at(new ye("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var dt="firebase-heartbeat-store",pt=null;function vt(){return pt||(pt=qe("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(dt)}}).catch((function(e){throw st.create("storage-open",{originalErrorMessage:e.message})}))),pt}function yt(e){return mt.apply(this,arguments)}function mt(){return(mt=t(y)(t(C).mark((function e(n){var r;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt();case 3:return r=e.sent,e.abrupt("return",r.transaction(dt).objectStore(dt).get(bt(n)));case 7:throw e.prev=7,e.t0=e.catch(0),st.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function gt(e,t){return kt.apply(this,arguments)}function kt(){return(kt=t(y)(t(C).mark((function e(n,r){var i,a,o;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt();case 3:return i=e.sent,a=i.transaction(dt,"readwrite"),o=a.objectStore(dt),e.next=8,o.put(r,bt(n));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),st.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function bt(e){return"".concat(e.name,"!").concat(e.options.appId)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt=function(){"use strict";function e(n){var r=this;t(g)(this,e),this.container=n,this._heartbeatsCache=null;var i=this.container.getProvider("app").getImmediate();this._storage=new _t(i),this._heartbeatsCachePromise=this._storage.read().then((function(e){return r._heartbeatsCache=e,e}))}return t(k)(e,[{key:"triggerHeartbeat",value:function(){var e=this;return t(y)(t(C).mark((function n(){var r,i,a;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),a=xt(),null!==e._heartbeatsCache){t.next=7;break}return t.next=6,e._heartbeatsCachePromise;case 6:e._heartbeatsCache=t.sent;case 7:if(e._heartbeatsCache.lastSentHeartbeatDate!==a&&!e._heartbeatsCache.heartbeats.some((function(e){return e.date===a}))){t.next=11;break}return t.abrupt("return");case 11:e._heartbeatsCache.heartbeats.push({date:a,agent:i});case 12:return e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),t.abrupt("return",e._storage.overwrite(e._heartbeatsCache));case 14:case"end":return t.stop()}}),n)})))()}},{key:"getHeartbeatsHeader",value:function(){var e=this;return t(y)(t(C).mark((function n(){var r,i,a,o,u;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e._heartbeatsCache){t.next=3;break}return t.next=3,e._heartbeatsCachePromise;case 3:if(null!==e._heartbeatsCache&&0!==e._heartbeatsCache.heartbeats.length){t.next=5;break}return t.abrupt("return","");case 5:if(r=xt(),i=Et(e._heartbeatsCache.heartbeats),a=i.heartbeatsToSend,o=i.unsentEntries,u=Q(JSON.stringify({version:2,heartbeats:a})),e._heartbeatsCache.lastSentHeartbeatDate=r,!(o.length>0)){t.next=15;break}return e._heartbeatsCache.heartbeats=o,t.next=13,e._storage.overwrite(e._heartbeatsCache);case 13:t.next=16;break;case 15:e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache);case 16:return t.abrupt("return",u);case 17:case"end":return t.stop()}}),n)})))()}}]),e}();function xt(){return(new Date).toISOString().substring(0,10)}function Et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=[],r=e.slice(),i=!0,a=!1,o=void 0;try{for(var u,s=function(e,i){var a=i.value,o=n.find((function(e){return e.agent===a.agent}));if(o){if(o.dates.push(a.date),Tt(n)>t)return o.dates.pop(),"break"}else if(n.push({agent:a.agent,dates:[a.date]}),Tt(n)>t)return n.pop(),"break";r=r.slice(1)},l=e[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=s(l,u);if("break"===c)break}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return{heartbeatsToSend:n,unsentEntries:r}}var St,_t=function(){"use strict";function e(n){t(g)(this,e),this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return t(k)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){return t(y)(t(C).mark((function e(){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})))()}},{key:"read",value:function(){var e=this;return t(y)(t(C).mark((function n(){var r;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._canUseIndexedDBPromise;case 2:if(t.sent){t.next=7;break}return t.abrupt("return",{heartbeats:[]});case 7:return t.next=9,yt(e.app);case 9:return r=t.sent,t.abrupt("return",r||{heartbeats:[]});case 11:case"end":return t.stop()}}),n)})))()}},{key:"overwrite",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i,a;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,n._canUseIndexedDBPromise;case 3:if(t.sent){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,n.read();case 10:return a=t.sent,t.abrupt("return",gt(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:a.lastSentHeartbeatDate,heartbeats:e.heartbeats}));case 12:case"end":return t.stop()}}),r)})))()}},{key:"add",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i,a;return t(C).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,n._canUseIndexedDBPromise;case 3:if(r.sent){r.next=8;break}return r.abrupt("return");case 8:return r.next=10,n.read();case 10:return a=r.sent,r.abrupt("return",gt(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:a.lastSentHeartbeatDate,heartbeats:t(x)(a.heartbeats).concat(t(x)(e.heartbeats))}));case 12:case"end":return r.stop()}}),r)})))()}}]),e}();function Tt(e){return Q(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */St="",at(new ye("platform-logger",(function(e){return new Qe(e)}),"PRIVATE")),at(new ye("heartbeat",(function(e){return new wt(e)}),"PRIVATE")),ht(Je,$e,St),ht(Je,$e,"esm2017"),ht("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
ht("firebase","9.8.2","app");A=a("5oUC1"),w=a("7qUTJ");var It={};Object.defineProperty(It,"__esModule",{value:!0}),It.default=function(e,t,n){return Nt(e,t,n)};var Ct=function(e){return e&&e.__esModule?e:{default:e}}(a("exu4E"));function Nt(e,t,n){return(Nt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ct.default(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n||e):i.value}})(e,t,n)}var At=a("jvq8u");function Rt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;function Ot(){return t(w)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Dt=Ot,Pt=new ie("auth","Firebase",Ot()),Lt=new Ce("@firebase/auth");function Mt(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a;Lt.logLevel<=ke.ERROR&&(a=Lt).error.apply(a,["Auth (".concat(ct,"): ").concat(e)].concat(t(x)(r)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];throw zt.apply(void 0,[e].concat(t(x)(r)))}function Ft(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return zt.apply(void 0,[e].concat(t(x)(r)))}function jt(e,n,r){var i=Object.assign(Object.assign({},Dt()),t(w)({},n,r));return new ie("auth","Firebase",i).create(n,{appName:e.name})}function Vt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ut(e,"argument-error"),jt(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function zt(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a;if("string"!=typeof e){var o,u=r[0],s=t(x)(r.slice(1));return s[0]&&(s[0].appName=e.name),(o=e._errorFactory).create.apply(o,[u].concat(t(x)(s)))}return(a=Pt).create.apply(a,[e].concat(t(x)(r)))}function Bt(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(!e)throw zt.apply(void 0,[n].concat(t(x)(i)))}function qt(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Mt(t),new Error(t)}function Ht(e,t){e||qt(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt=new Map;function Wt(e){Ht(e instanceof Function,"Expected a class definition");var t=Kt.get(e);return t?(Ht(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Kt.set(e,t),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(e,t){var n=ot(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(se(n.getOptions(),null!=t?t:{}))return r;Ut(r,"already-initialized")}return n.initialize({options:t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qt(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xt(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Jt=function(){"use strict";function e(n,r){t(g)(this,e),this.shortDelay=n,this.longDelay=r,Ht(r>n,"Short delay should be less than long delay!"),this.isMobile=$()||ee()}return t(k)(e,[{key:"get",value:function(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xt()||Z()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(e,t){Ht(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,en=function(){"use strict";function e(){t(g)(this,e)}return t(k)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void qt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void qt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void qt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),tn=(Zt={},t(w)(Zt,"CREDENTIAL_MISMATCH","custom-token-mismatch"),t(w)(Zt,"MISSING_CUSTOM_TOKEN","internal-error"),t(w)(Zt,"INVALID_IDENTIFIER","invalid-email"),t(w)(Zt,"MISSING_CONTINUE_URI","internal-error"),t(w)(Zt,"INVALID_PASSWORD","wrong-password"),t(w)(Zt,"MISSING_PASSWORD","internal-error"),t(w)(Zt,"EMAIL_EXISTS","email-already-in-use"),t(w)(Zt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),t(w)(Zt,"INVALID_IDP_RESPONSE","invalid-credential"),t(w)(Zt,"INVALID_PENDING_TOKEN","invalid-credential"),t(w)(Zt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),t(w)(Zt,"MISSING_REQ_TYPE","internal-error"),t(w)(Zt,"EMAIL_NOT_FOUND","user-not-found"),t(w)(Zt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),t(w)(Zt,"EXPIRED_OOB_CODE","expired-action-code"),t(w)(Zt,"INVALID_OOB_CODE","invalid-action-code"),t(w)(Zt,"MISSING_OOB_CODE","internal-error"),t(w)(Zt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),t(w)(Zt,"INVALID_ID_TOKEN","invalid-user-token"),t(w)(Zt,"TOKEN_EXPIRED","user-token-expired"),t(w)(Zt,"USER_NOT_FOUND","user-token-expired"),t(w)(Zt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),t(w)(Zt,"INVALID_CODE","invalid-verification-code"),t(w)(Zt,"INVALID_SESSION_INFO","invalid-verification-id"),t(w)(Zt,"INVALID_TEMPORARY_PROOF","invalid-credential"),t(w)(Zt,"MISSING_SESSION_INFO","missing-verification-id"),t(w)(Zt,"SESSION_EXPIRED","code-expired"),t(w)(Zt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),t(w)(Zt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),t(w)(Zt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),t(w)(Zt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),t(w)(Zt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),t(w)(Zt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),t(w)(Zt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),t(w)(Zt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),t(w)(Zt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),t(w)(Zt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),t(w)(Zt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Zt),nn=new Jt(3e4,6e4);function rn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function an(e,t,n,r){return on.apply(this,arguments)}function on(){return on=t(y)(t(C).mark((function e(n,r,i,a){var o,u=arguments;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:{},e.abrupt("return",un(n,o,t(y)(t(C).mark((function e(){var o,u,s,l;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},u={},a&&("GET"===r?u=a:o={body:JSON.stringify(a)}),s=ce(Object.assign({key:n.config.apiKey},u)).slice(1),e.next=6,n._getAdditionalHeaders();case 6:return(l=e.sent)["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),e.abrupt("return",en.fetch()(fn(n,n.config.apiHost,i,s),Object.assign({method:r,headers:l,referrerPolicy:"no-referrer"},o)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),on.apply(this,arguments)}function un(e,t,n){return sn.apply(this,arguments)}function sn(){return(sn=t(y)(t(C).mark((function e(n,r,i){var a,o,u,s,l,f,h,d,p;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n._canInitEmulator=!1,a=Object.assign(Object.assign({},tn),r),e.prev=2,o=new hn(n),e.next=6,Promise.race([i(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw dn(n,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(l=u.ok?s.errorMessage:s.error.message,f=t(c)(l.split(" : "),2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw dn(n,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw dn(n,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw dn(n,"user-disabled",s);case 29:if(p=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw jt(n,p,d);case 34:Ut(n,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof re)){e.next=41;break}throw e.t0;case 41:Ut(n,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function ln(e,t,n,r){return cn.apply(this,arguments)}function cn(){return cn=t(y)(t(C).mark((function e(n,r,i,a){var o,u,s=arguments;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,an(n,r,i,a,o);case 3:return"mfaPendingCredential"in(u=e.sent)&&Ut(n,"multi-factor-auth-required",{_serverResponse:u}),e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)}))),cn.apply(this,arguments)}function fn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?$t(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var hn=function(){"use strict";function e(n){var r=this;t(g)(this,e),this.auth=n,this.timer=null,this.promise=new Promise((function(e,t){var n=r;r.timer=setTimeout((function(){return t(Ft(n.auth,"network-request-failed"))}),nn.get())}))}return t(k)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function dn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ft(e,t,r);return i.customData._tokenResponse=n,i}function pn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t(y)(t(C).mark((function e(n,r){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(n,"POST","/v1/accounts:delete",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e,t){return mn.apply(this,arguments)}function mn(){return(mn=t(y)(t(C).mark((function e(n,r){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(n,"POST","/v1/accounts:lookup",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return kn=t(y)(t(C).mark((function e(n){var r,i,a,o,u,s,l=arguments;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]&&l[1],i=ve(n),e.next=4,i.getIdToken(r);case 4:return a=e.sent,Bt((o=wn(a))&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error"),u="object"==typeof o.firebase?o.firebase:void 0,s=null==u?void 0:u.sign_in_provider,e.abrupt("return",{claims:o,token:a,authTime:gn(bn(o.auth_time)),issuedAtTime:gn(bn(o.iat)),expirationTime:gn(bn(o.exp)),signInProvider:s||null,signInSecondFactor:(null==u?void 0:u.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),kn.apply(this,arguments)}function bn(e){return 1e3*Number(e)}function wn(e){var n=t(c)(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Mt("JWT malformed, contained fewer than 3 sections"),null;try{var o=X(i);return o?JSON.parse(o):(Mt("Failed to decode base64 JWT payload"),null)}catch(e){return Mt("Caught error parsing JWT payload as JSON",e),null}}function xn(e,t){return En.apply(this,arguments)}function En(){return En=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t(y)(t(C).mark((function e(n,r){var i=arguments;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.length>2&&void 0!==i[2]&&i[2])){e.next=3;break}return e.abrupt("return",r);case 3:return e.prev=3,e.next=6,r;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof re&&Sn(e.t0))){e.next=15;break}if(n.auth.currentUser!==n){e.next=15;break}return e.next=15,n.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),En.apply(this,arguments)}function Sn(e){var t=e.code;return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n=function(){"use strict";function e(n){t(g)(this,e),this.user=n,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return t(k)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(e),r=this;this.timerId=setTimeout(t(y)(t(C).mark((function e(){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.iteration();case 2:case"end":return e.stop()}}),e)}))),n)}}},{key:"iteration",value:function(){var e=this;return t(y)(t(C).mark((function n(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.user.getIdToken(!0);case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),"auth/network-request-failed"===t.t0.code&&e.schedule(!0),t.abrupt("return");case 9:e.schedule();case 10:case"end":return t.stop()}}),n,null,[[0,5]])})))()}}]),e}(),Tn=function(){"use strict";function e(n,r){t(g)(this,e),this.createdAt=n,this.lastLoginAt=r,this._initializeTime()}return t(k)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=gn(this.lastLoginAt),this.creationTime=gn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(e){return Cn.apply(this,arguments)}function Cn(){return(Cn=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t(y)(t(C).mark((function e(n){var r,i,a,o,u,s,l,c,f,h,d;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.auth,e.next=4,n.getIdToken();case 4:return a=e.sent,e.next=7,xn(n,yn(i,{idToken:a}));case 7:Bt(null==(o=e.sent)?void 0:o.users.length,i,"internal-error"),u=o.users[0],n._notifyReloadListener(u),s=(null===(r=u.providerUserInfo)||void 0===r?void 0:r.length)?Rn(u.providerUserInfo):[],l=An(n.providerData,s),c=n.isAnonymous,f=!(n.email&&u.passwordHash||(null==l?void 0:l.length)),h=!!c&&f,d={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:l,metadata:new Tn(u.createdAt,u.lastLoginAt),isAnonymous:h},Object.assign(n,d);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nn(){return(Nn=t(y)(t(C).mark((function e(n){var r;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ve(n),e.next=3,In(r);case 3:return e.next=5,r.auth._persistUserIfCurrent(r);case 5:r.auth._notifyListenersIfCurrent(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e,n){var r=e.filter((function(e){return!n.some((function(t){return t.providerId===e.providerId}))}));return t(x)(r).concat(t(x)(n))}function Rn(e){return e.map((function(e){var t=e.providerId,n=Rt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function On(e,t){return Dn.apply(this,arguments)}function Dn(){return(Dn=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t(y)(t(C).mark((function e(n,r){var i;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,un(n,{},t(y)(t(C).mark((function e(){var i,a,o,u,s,l;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ce({grant_type:"refresh_token",refresh_token:r}).slice(1),a=n.config,o=a.tokenApiHost,u=a.apiKey,s=fn(n,o,"/v1/token","key=".concat(u)),e.next=5,n._getAdditionalHeaders();case 5:return(l=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",en.fetch()(s,{method:"POST",headers:l,body:i}));case 8:case"end":return e.stop()}}),e)}))));case 2:return i=e.sent,e.abrupt("return",{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn=function(){"use strict";function e(){t(g)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return t(k)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Bt(e.idToken,"internal-error"),Bt(void 0!==e.idToken,"internal-error"),Bt(void 0!==e.refreshToken,"internal-error");var t,n,r="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):(t=e.idToken,Bt(n=wn(t),"internal-error"),Bt(void 0!==n.exp,"internal-error"),Bt(void 0!==n.iat,"internal-error"),Number(n.exp)-Number(n.iat));this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}},{key:"getToken",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return t(y)(t(C).mark((function i(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Bt(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired){t.next=3;break}return t.abrupt("return",r.accessToken);case 3:if(!r.refreshToken){t.next=7;break}return t.next=6,r.refresh(e,r.refreshToken);case 6:return t.abrupt("return",r.accessToken);case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),i)})))()}},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(e,n){var r=this;return t(y)(t(C).mark((function i(){var a,o,u,s;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,On(e,n);case 2:a=t.sent,o=a.accessToken,u=a.refreshToken,s=a.expiresIn,r.updateTokensAndExpiration(o,u,Number(s));case 7:case"end":return t.stop()}}),i)})))()}},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return qt("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Bt("string"==typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Bt("string"==typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Bt("number"==typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(e,t){Bt("string"==typeof e||void 0===e,"internal-error",{appName:t})}var Mn=function(){"use strict";function e(n){t(g)(this,e);var r=n.uid,i=n.auth,a=n.stsTokenManager,o=Rt(n,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?t(x)(o.providerData):[],this.metadata=new Tn(o.createdAt||void 0,o.lastLoginAt||void 0)}return t(k)(e,[{key:"getIdToken",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xn(n,n.stsTokenManager.getToken(n.auth,e));case 2:if(Bt(i=t.sent,n.auth,"internal-error"),n.accessToken===i){t.next=9;break}return n.accessToken=i,t.next=8,n.auth._persistUserIfCurrent(n);case 8:n.auth._notifyListenersIfCurrent(n);case 9:return t.abrupt("return",i);case 10:case"end":return t.stop()}}),r)})))()}},{key:"getIdTokenResult",value:function(e){return function(e){return kn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Nn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return t(y)(t(C).mark((function i(){var a;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!1,e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),a=!0),!n){t.next=5;break}return t.next=5,In(r);case 5:return t.next=7,r.auth._persistUserIfCurrent(r);case 7:a&&r.auth._notifyListenersIfCurrent(r);case 8:case"end":return t.stop()}}),i)})))()}},{key:"delete",value:function(){var e=this;return t(y)(t(C).mark((function n(){var r;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getIdToken();case 2:return r=t.sent,t.next=5,xn(e,pn(e.auth,{idToken:r}));case 5:return e.stsTokenManager.clearRefreshToken(),t.abrupt("return",e.auth.signOut());case 7:case"end":return t.stop()}}),n)})))()}},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,l,c,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;Bt(k&&E,t,"internal-error");var S=Pn.fromJSON(this.name,E);Bt("string"==typeof k,t,"internal-error"),Ln(f,t.name),Ln(h,t.name),Bt("boolean"==typeof b,t,"internal-error"),Bt("boolean"==typeof w,t,"internal-error"),Ln(d,t.name),Ln(p,t.name),Ln(v,t.name),Ln(y,t.name),Ln(m,t.name),Ln(g,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(_._redirectEventId=y),_}},{key:"_fromIdTokenResponse",value:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t(y)(t(C).mark((function a(){var o,u;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=new Pn).updateFromServerResponse(r),u=new e({uid:r.localId,auth:n,stsTokenManager:o,isAnonymous:i}),t.next=5,In(u);case 5:return t.abrupt("return",u);case 6:case"end":return t.stop()}}),a)})))()}}]),e}(),Un=function(){"use strict";function e(){t(g)(this,e),this.type="NONE",this.storage={}}return t(k)(e,[{key:"_isAvailable",value:function(){return t(y)(t(C).mark((function e(){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))()}},{key:"_set",value:function(e,n){var r=this;return t(y)(t(C).mark((function i(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.storage[e]=n;case 1:case"end":return t.stop()}}),i)})))()}},{key:"_get",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.storage[e],t.abrupt("return",void 0===i?null:i);case 2:case"end":return t.stop()}}),r)})))()}},{key:"_remove",value:function(e){var n=this;return t(y)(t(C).mark((function r(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:delete n.storage[e];case 1:case"end":return t.stop()}}),r)})))()}},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.type="NONE";var Fn=Un;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(e,t,n){return"firebase:".concat(e,":").concat(t,":").concat(n)}var Vn=function(){"use strict";function e(n,r,i){t(g)(this,e),this.persistence=n,this.auth=r,this.userKey=i;var a=this.auth,o=a.config,u=a.name;this.fullUserKey=jn(this.userKey,o.apiKey,u),this.fullPersistenceKey=jn("persistence",o.apiKey,u),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return t(k)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=this;return t(y)(t(C).mark((function n(){var r;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.persistence._get(e.fullUserKey);case 2:return r=t.sent,t.abrupt("return",r?Mn._fromJSON(e.auth,r):null);case 4:case"end":return t.stop()}}),n)})))()}},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.persistence!==e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,n.getCurrentUser();case 4:return i=t.sent,t.next=7,n.removeCurrentUser();case 7:if(n.persistence=e,!i){t.next=10;break}return t.abrupt("return",n.setCurrentUser(i));case 10:case"end":return t.stop()}}),r)})))()}},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";return t(y)(t(C).mark((function a(){var o,u,s,l,c,f,h,d,p,v,m,g,k;return t(C).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.length){a.next=2;break}return a.abrupt("return",new e(Wt(Fn),n,i));case 2:return a.next=4,Promise.all(r.map(function(){var e=t(y)(t(C).mark((function e(n){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",n);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:o=a.sent.filter((function(e){return e})),u=o[0]||Wt(Fn),s=jn(i,n.config.apiKey,n.name),l=null,c=!0,f=!1,h=void 0,a.prev=9,d=r[Symbol.iterator]();case 11:if(c=(p=d.next()).done){a.next=29;break}return v=p.value,a.prev=13,a.next=16,v._get(s);case 16:if(!(m=a.sent)){a.next=22;break}return g=Mn._fromJSON(n,m),v!==u&&(l=g),u=v,a.abrupt("break",29);case 22:a.next=26;break;case 24:a.prev=24,a.t0=a.catch(13);case 26:c=!0,a.next=11;break;case 29:a.next=35;break;case 31:a.prev=31,a.t1=a.catch(9),f=!0,h=a.t1;case 35:a.prev=35,a.prev=36,c||null==d.return||d.return();case 38:if(a.prev=38,!f){a.next=41;break}throw h;case 41:return a.finish(38);case 42:return a.finish(35);case 43:if(k=o.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&k.length){a.next=46;break}return a.abrupt("return",new e(u,n,i));case 46:if(u=k[0],!l){a.next=50;break}return a.next=50,u._set(s,l.toJSON());case 50:return a.next=52,Promise.all(r.map(function(){var e=t(y)(t(C).mark((function e(n){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n===u){e.next=8;break}return e.prev=1,e.next=4,n._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 52:return a.abrupt("return",new e(u,n,i));case 53:case"end":return a.stop()}}),a,null,[[9,31,35,43],[13,24],[36,,38,42]])})))()}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Bn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Gn(t))return"Blackberry";if(Qn(t))return"Webos";if(qn(t))return"Safari";if((t.includes("chrome/")||Hn(t))&&!t.includes("edge/"))return"Chrome";if(Wn(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null==n?void 0:n.length)?n[1]:"Other"}function Bn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J();return/firefox\//i.test(e)}function qn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Hn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J();return/crios\//i.test(e)}function Kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J();return/iemobile/i.test(e)}function Wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J();return/android/i.test(e)}function Gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J();return/blackberry/i.test(e)}function Qn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J();return/webos/i.test(e)}function Xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J();return/iphone|ipad|ipod/i.test(e)}function Yn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J();return Xn(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Jn(){return te()&&10===document.documentMode}function $n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J();return Xn(e)||Wn(e)||Qn(e)||Gn(e)||/windows phone/i.test(e)||Kn(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=zn(J());break;case"Worker":t="".concat(zn(J()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ct,"/").concat(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er=function(){"use strict";function e(n){t(g)(this,e),this.auth=n,this.queue=[]}return t(k)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(e){r(e)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i,a,o,u,s,l,c,f,h,d,p,v,y;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.auth.currentUser!==e){t.next=2;break}return t.abrupt("return");case 2:i=[],t.prev=3,a=!0,o=!1,u=void 0,t.prev=5,s=n.queue[Symbol.iterator]();case 7:if(a=(l=s.next()).done){t.next=15;break}return c=l.value,t.next=11,c(e);case 11:c.onAbort&&i.push(c.onAbort);case 12:a=!0,t.next=7;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(5),o=!0,u=t.t0;case 21:t.prev=21,t.prev=22,a||null==s.return||s.return();case 24:if(t.prev=24,!o){t.next=27;break}throw u;case 27:return t.finish(24);case 28:return t.finish(21);case 29:t.next=52;break;case 31:for(t.prev=31,t.t1=t.catch(3),i.reverse(),f=!0,h=!1,d=void 0,t.prev=35,p=i[Symbol.iterator]();!(f=(v=p.next()).done);f=!0){y=v.value;try{y()}catch(e){}}t.next=43;break;case 39:t.prev=39,t.t2=t.catch(35),h=!0,d=t.t2;case 43:t.prev=43,t.prev=44,f||null==p.return||p.return();case 46:if(t.prev=46,!h){t.next=49;break}throw d;case 49:return t.finish(46);case 50:return t.finish(43);case 51:throw n.auth._errorFactory.create("login-blocked",{originalMessage:t.t1.message});case 52:case"end":return t.stop()}}),r,null,[[3,31],[5,17,21,29],[22,,24,28],[35,39,43,51],[44,,46,50]])})))()}}]),e}(),tr=function(){"use strict";function e(n,r,i){t(g)(this,e),this.app=n,this.heartbeatServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rr(this),this.idTokenSubscription=new rr(this),this.beforeStateQueue=new er(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=n.name,this.clientVersion=i.sdkClientVersion}return t(k)(e,[{key:"_initializeWithPersistence",value:function(e,n){n&&(this._popupRedirectResolver=Wt(n));var r=this;return this._initializationPromise=this.queue(t(y)(t(C).mark((function i(){var a,o;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r._deleted){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Vn.create(r,e);case 5:if(r.persistenceManager=t.sent,!r._deleted){t.next=8;break}return t.abrupt("return");case 8:if(!(null===(a=r._popupRedirectResolver)||void 0===a?void 0:a._shouldInitProactively)){t.next=16;break}return t.prev=9,t.next=12,r._popupRedirectResolver._initialize(r);case 12:t.next=16;break;case 14:t.prev=14,t.t0=t.catch(9);case 16:return t.next=18,r.initializeCurrentUser(n);case 18:if(r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted){t.next=21;break}return t.abrupt("return");case 21:r._isInitialized=!0;case 22:case"end":return t.stop()}}),i,null,[[9,14]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=this;return t(y)(t(C).mark((function n(){var r;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._deleted){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.assertedPersistence.getCurrentUser();case 4:if(r=t.sent,e.currentUser||r){t.next=7;break}return t.abrupt("return");case 7:if(!e.currentUser||!r||e.currentUser.uid!==r.uid){t.next=12;break}return e._currentUser._assign(r),t.next=11,e.currentUser.getIdToken();case 11:return t.abrupt("return");case 12:return t.next=14,e._updateCurrentUser(r,!0);case 14:case"end":return t.stop()}}),n)})))()}},{key:"initializeCurrentUser",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i,a,o,u,s,l,c;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,n.assertedPersistence.getCurrentUser();case 3:if(a=t.sent,o=a,u=!1,!e||!n.config.authDomain){t.next=15;break}return t.next=9,n.getOrInitRedirectPersistenceManager();case 9:return s=null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId,l=null==o?void 0:o._redirectEventId,t.next=13,n.tryRedirectSignIn(e);case 13:c=t.sent,s&&s!==l||!(null==c?void 0:c.user)||(o=c.user,u=!0);case 15:if(o){t.next=17;break}return t.abrupt("return",n.directlySetCurrentUser(null));case 17:if(o._redirectEventId){t.next=33;break}if(!u){t.next=28;break}return t.prev=19,t.next=22,n.beforeStateQueue.runMiddleware(o);case 22:t.next=28;break;case 24:t.prev=24,t.t0=t.catch(19),o=a,n._popupRedirectResolver._overrideRedirectResult(n,(function(){return Promise.reject(t.t0)}));case 28:if(!o){t.next=32;break}return t.abrupt("return",n.reloadAndSetCurrentUserOrClear(o));case 32:return t.abrupt("return",n.directlySetCurrentUser(null));case 33:return Bt(n._popupRedirectResolver,n,"argument-error"),t.next=36,n.getOrInitRedirectPersistenceManager();case 36:if(!n.redirectUser||n.redirectUser._redirectEventId!==o._redirectEventId){t.next=38;break}return t.abrupt("return",n.directlySetCurrentUser(o));case 38:return t.abrupt("return",n.reloadAndSetCurrentUserOrClear(o));case 39:case"end":return t.stop()}}),r,null,[[19,24]])})))()}},{key:"tryRedirectSignIn",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=null,t.prev=1,t.next=4,n._popupRedirectResolver._completeRedirectFn(n,e,!0);case 4:i=t.sent,t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(1),t.next=11,n._setRedirectUser(null);case 11:return t.abrupt("return",i);case 12:case"end":return t.stop()}}),r,null,[[1,7]])})))()}},{key:"reloadAndSetCurrentUserOrClear",value:function(e){var n=this;return t(y)(t(C).mark((function r(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,In(e);case 3:t.next=9;break;case 5:if(t.prev=5,t.t0=t.catch(0),"auth/network-request-failed"===t.t0.code){t.next=9;break}return t.abrupt("return",n.directlySetCurrentUser(null));case 9:return t.abrupt("return",n.directlySetCurrentUser(e));case 10:case"end":return t.stop()}}),r,null,[[0,5]])})))()}},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"==typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=this;return t(y)(t(C).mark((function n(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e._deleted=!0;case 1:case"end":return t.stop()}}),n)})))()}},{key:"updateCurrentUser",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=e?ve(e):null)&&Bt(i.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),t.abrupt("return",n._updateCurrentUser(i&&i._clone(n)));case 3:case"end":return t.stop()}}),r)})))()}},{key:"_updateCurrentUser",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return t(y)(t(C).mark((function i(){return t(C).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!r._deleted){i.next=2;break}return i.abrupt("return");case 2:if(e&&Bt(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n){i.next=6;break}return i.next=6,r.beforeStateQueue.runMiddleware(e);case 6:return i.abrupt("return",r.queue(t(y)(t(C).mark((function n(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.directlySetCurrentUser(e);case 2:r.notifyAuthListeners();case 3:case"end":return t.stop()}}),n)})))));case 7:case"end":return i.stop()}}),i)})))()}},{key:"signOut",value:function(){var e=this;return t(y)(t(C).mark((function n(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.beforeStateQueue.runMiddleware(null);case 2:if(!e.redirectPersistenceManager&&!e._popupRedirectResolver){t.next=5;break}return t.next=5,e._setRedirectUser(null);case 5:return t.abrupt("return",e._updateCurrentUser(null,!0));case 6:case"end":return t.stop()}}),n)})))()}},{key:"setPersistence",value:function(e){var n=this;return this.queue(t(y)(t(C).mark((function r(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.assertedPersistence.setPersistence(Wt(e));case 2:case"end":return t.stop()}}),r)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ie("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(e,n){var r=this;return t(y)(t(C).mark((function i(){var a;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getOrInitRedirectPersistenceManager(n);case 2:return a=t.sent,t.abrupt("return",null===e?a.removeCurrentUser():a.setCurrentUser(e));case 4:case"end":return t.stop()}}),i)})))()}},{key:"getOrInitRedirectPersistenceManager",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.redirectPersistenceManager){t.next=9;break}return Bt(i=e&&Wt(e)||n._popupRedirectResolver,n,"argument-error"),t.next=5,Vn.create(n,[Wt(i._redirectPersistence)],"redirectUser");case 5:return n.redirectPersistenceManager=t.sent,t.next=8,n.redirectPersistenceManager.getCurrentUser();case 8:n.redirectUser=t.sent;case 9:return t.abrupt("return",n.redirectPersistenceManager);case 10:case"end":return t.stop()}}),r)})))()}},{key:"_redirectUserForId",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i,a;return t(C).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._isInitialized){r.next=4;break}return r.next=4,n.queue(t(y)(t(C).mark((function e(){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 4:if((null===(i=n._currentUser)||void 0===i?void 0:i._redirectEventId)!==e){r.next=6;break}return r.abrupt("return",n._currentUser);case 6:if((null===(a=n.redirectUser)||void 0===a?void 0:a._redirectEventId)!==e){r.next=8;break}return r.abrupt("return",n.redirectUser);case 8:return r.abrupt("return",null);case 9:case"end":return r.stop()}}),r)})))()}},{key:"_persistUserIfCurrent",value:function(e){var n=this;return t(y)(t(C).mark((function r(){return t(C).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e!==n.currentUser){r.next=2;break}return r.abrupt("return",n.queue(t(y)(t(C).mark((function r(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.directlySetCurrentUser(e));case 1:case"end":return t.stop()}}),r)})))));case 2:case"end":return r.stop()}}),r)})))()}},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Bt(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(e){var n=this;return t(y)(t(C).mark((function r(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,!e){t.next=7;break}return t.next=5,n.assertedPersistence.setCurrentUser(e);case 5:t.next=9;break;case 7:return t.next=9,n.assertedPersistence.removeCurrentUser();case 9:case"end":return t.stop()}}),r)})))()}},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zn(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=this;return t(y)(t(C).mark((function n(){var r,i,a;return t(C).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t(w)({},"X-Client-Version",e.clientVersion),e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId),n.next=5,null===(r=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===r?void 0:r.getHeartbeatsHeader();case 5:return(a=n.sent)&&(i["X-Firebase-Client"]=a),n.abrupt("return",i);case 8:case"end":return n.stop()}}),n)})))()}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(e){return ve(e)}var rr=function(){"use strict";function e(n){var r,i,a=this;t(g)(this,e),this.auth=n,this.observer=null,this.addObserver=(i=new de((function(e){return a.observer=e}),r)).subscribe.bind(i)}return t(k)(e,[{key:"next",get:function(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ir=function(){"use strict";function e(n,r){t(g)(this,e),this.providerId=n,this.signInMethod=r}return t(k)(e,[{key:"toJSON",value:function(){return qt("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return qt("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return qt("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return qt("not implemented")}}]),e}();function ar(e,t){return or.apply(this,arguments)}function or(){return(or=t(y)(t(C).mark((function e(n,r){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(n,"POST","/v1/accounts:update",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ur(e,t){return sr.apply(this,arguments)}function sr(){return(sr=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t(y)(t(C).mark((function e(n,r){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(n,"POST","/v1/accounts:signInWithPassword",rn(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lr(e,t){return cr.apply(this,arguments)}function cr(){return(cr=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t(y)(t(C).mark((function e(n,r){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(n,"POST","/v1/accounts:signInWithEmailLink",rn(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fr(e,t){return hr.apply(this,arguments)}function hr(){return(hr=t(y)(t(C).mark((function e(n,r){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(n,"POST","/v1/accounts:signInWithEmailLink",rn(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i,a){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t(g)(this,r),(o=n.call(this,"password",a))._email=e,o._password=i,o._tenantId=u,o}return t(k)(r,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(e){var n=this;return t(y)(t(C).mark((function r(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n.signInMethod,t.next="password"===t.t0?3:"emailLink"===t.t0?4:5;break;case 3:return t.abrupt("return",ur(e,{returnSecureToken:!0,email:n._email,password:n._password}));case 4:return t.abrupt("return",lr(e,{email:n._email,oobCode:n._password}));case 5:Ut(e,"internal-error");case 6:case"end":return t.stop()}}),r)})))()}},{key:"_linkToIdToken",value:function(e,n){var r=this;return t(y)(t(C).mark((function i(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=r.signInMethod,t.next="password"===t.t0?3:"emailLink"===t.t0?4:5;break;case 3:return t.abrupt("return",ar(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password}));case 4:return t.abrupt("return",fr(e,{idToken:n,email:r._email,oobCode:r._password}));case 5:Ut(e,"internal-error");case 6:case"end":return t.stop()}}),i)})))()}},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new r(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new r(e,t,"emailLink",n)}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),r}(ir);function pr(e,t){return vr.apply(this,arguments)}function vr(){return(vr=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t(y)(t(C).mark((function e(n,r){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(n,"POST","/v1/accounts:signInWithIdp",rn(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(){var e;return t(g)(this,r),(e=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))).pendingToken=null,e}return t(k)(r,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return pr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,pr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,pr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ce(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ut("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=t.providerId,i=t.signInMethod,a=Rt(t,["providerId","signInMethod"]);if(!n||!i)return null;var o=new r(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),r}(ir);function mr(e,t){return gr.apply(this,arguments)}function gr(){return(gr=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t(y)(t(C).mark((function e(n,r){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(n,"POST","/v1/accounts:sendVerificationCode",rn(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kr(){return(kr=t(y)(t(C).mark((function e(n,r){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(n,"POST","/v1/accounts:signInWithPhoneNumber",rn(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function br(){return(br=t(y)(t(C).mark((function e(n,r){var i;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(n,"POST","/v1/accounts:signInWithPhoneNumber",rn(n,r));case 2:if(!(i=e.sent).temporaryProof){e.next=5;break}throw dn(n,"account-exists-with-different-credential",i);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wr=t(w)({},"USER_NOT_FOUND","user-not-found");function xr(){return(xr=t(y)(t(C).mark((function e(n,r){var i;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object.assign(Object.assign({},r),{operation:"REAUTH"}),e.abrupt("return",ln(n,"POST","/v1/accounts:signInWithPhoneNumber",rn(n,i),wr));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Er=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e){var i;return t(g)(this,r),(i=n.call(this,"phone","phone")).params=e,i}return t(k)(r,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return kr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return br.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return xr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new r({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new r({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"==typeof e&&(e=JSON.parse(e));var t=e.verificationId,n=e.verificationCode,i=e.phoneNumber,a=e.temporaryProof;return n||t||i||a?new r({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:a}):null}}]),r}(ir);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr=function(){"use strict";function e(n){var r,i,a,o,u,s;t(g)(this,e);var l=fe(he(n)),c=null!==(r=l.apiKey)&&void 0!==r?r:null,f=null!==(i=l.oobCode)&&void 0!==i?i:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(a=l.mode)&&void 0!==a?a:null);Bt(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(u=l.languageCode)&&void 0!==u?u:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}return t(k)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=fe(he(e)).link,n=t?fe(he(t)).deep_link_id:null,r=fe(he(e)).deep_link_id;return(r?fe(he(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(e){return null}}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _r=function(){"use strict";function e(){t(g)(this,e),this.providerId=e.PROVIDER_ID}return t(k)(e,null,[{key:"credential",value:function(e,t){return dr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Sr.parseLink(t);return Bt(n,"argument-error"),dr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();_r.PROVIDER_ID="password",_r.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_r.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Tr=function(){"use strict";function e(n){t(g)(this,e),this.providerId=n,this.defaultLanguageCode=null,this.customParameters={}}return t(k)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ir=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(){var e;return t(g)(this,r),(e=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))).scopes=[],e}return t(k)(r,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return t(x)(this.scopes)}}]),r}(Tr),Cr=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(){return t(g)(this,r),n.call(this,"facebook.com")}return t(k)(r,null,[{key:"credential",value:function(e){return yr._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return r.credential(t.oauthAccessToken)}catch(e){return null}}}]),r}(Ir);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Cr.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Nr=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(){var e;return t(g)(this,r),(e=n.call(this,"google.com")).addScope("profile"),e}return t(k)(r,null,[{key:"credential",value:function(e,t){return yr._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.oauthIdToken,i=t.oauthAccessToken;if(!n&&!i)return null;try{return r.credential(n,i)}catch(e){return null}}}]),r}(Ir);Nr.GOOGLE_SIGN_IN_METHOD="google.com",Nr.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ar=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(){return t(g)(this,r),n.call(this,"github.com")}return t(k)(r,null,[{key:"credential",value:function(e){return yr._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return r.credential(t.oauthAccessToken)}catch(e){return null}}}]),r}(Ir);Ar.GITHUB_SIGN_IN_METHOD="github.com",Ar.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Rr=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(){return t(g)(this,r),n.call(this,"twitter.com")}return t(k)(r,null,[{key:"credential",value:function(e,t){return yr._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.oauthAccessToken,i=t.oauthTokenSecret;if(!n||!i)return null;try{return r.credential(n,i)}catch(e){return null}}}]),r}(Ir);Rr.TWITTER_SIGN_IN_METHOD="twitter.com",Rr.PROVIDER_ID="twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Or=function(){"use strict";function e(n){t(g)(this,e),this.user=n.user,this.providerId=n.providerId,this._tokenResponse=n._tokenResponse,this.operationType=n.operationType}return t(k)(e,null,[{key:"_fromIdTokenResponse",value:function(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t(y)(t(C).mark((function o(){var u,s,l;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mn._fromIdTokenResponse(n,i,a);case 2:return u=t.sent,s=Dr(i),l=new e({user:u,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",l);case 6:case"end":return t.stop()}}),o)})))()}},{key:"_forOperation",value:function(n,r,i){return t(y)(t(C).mark((function a(){var o;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return o=Dr(i),t.abrupt("return",new e({user:n,providerId:o,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),a)})))()}}]),e}();function Dr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pr=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i,a,o){var u,s;return t(g)(this,r),(u=n.call(this,i.code,i.message)).operationType=a,u.user=o,Object.setPrototypeOf(t(A)(u),r.prototype),u.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:i.customData._serverResponse,operationType:a},u}return t(k)(r,null,[{key:"_fromErrorAndOperation",value:function(e,t,n,i){return new r(e,t,n,i)}}]),r}(re);function Lr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if("auth/multi-factor-auth-required"===n.code)throw Pr._fromErrorAndOperation(e,n,t,r);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(e,t){return Ur.apply(this,arguments)}function Ur(){return Ur=t(y)(t(C).mark((function e(n,r){var i,a,o=arguments;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>2&&void 0!==o[2]&&o[2],e.t0=xn,e.t1=n,e.t2=r,e.t3=n.auth,e.next=7,n.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=i,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return a=e.sent,e.abrupt("return",Or._forOperation(n,"link",a));case 14:case"end":return e.stop()}}),e)}))),Ur.apply(this,arguments)}function Fr(e,t){return jr.apply(this,arguments)}function jr(){return jr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t(y)(t(C).mark((function e(n,r){var i,a,o,u,s,l,c=arguments;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>2&&void 0!==c[2]&&c[2],a=n.auth,o="reauthenticate",e.prev=3,e.next=6,xn(n,Lr(a,o,r,n),i);case 6:return Bt((u=e.sent).idToken,a,"internal-error"),Bt(s=wn(u.idToken),a,"internal-error"),l=s.sub,Bt(n.uid===l,a,"user-mismatch"),e.abrupt("return",Or._forOperation(n,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),"auth/user-not-found"===(null===e.t0||void 0===e.t0?void 0:e.t0.code)&&Ut(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),jr.apply(this,arguments)}function Vr(e,t){return zr.apply(this,arguments)}function zr(){return zr=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t(y)(t(C).mark((function e(n,r){var i,a,o,u,s=arguments;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],a="signIn",e.next=4,Lr(n,a,r);case 4:return o=e.sent,e.next=7,Or._fromIdTokenResponse(n,a,o);case 7:if(u=e.sent,i){e.next=11;break}return e.next=11,n._updateCurrentUser(u.user);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Br(e,t){return an(e,"POST","/v2/accounts/mfaEnrollment:start",rn(e,t))}new WeakMap;var qr="__sak",Hr=function(){"use strict";function e(n,r){t(g)(this,e),this.storageRetriever=n,this.type=r}return t(k)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(qr,"1"),this.storage.removeItem(qr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(){var e,i;return t(g)(this,r),(e=n.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=(qn(i=J())||Xn(i))&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=$n(),e._shouldAllowMigration=!0,e}return t(k)(r,[{key:"forAllChangedKeys",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=Object.keys(this.listeners)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,u=this.storage.getItem(o),s=this.localCache[o];u!==s&&e(o,s,u)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}},{key:"onStorageEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;if(e.key){var r=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!t)return}var a=function(){var e=n.storage.getItem(r);(t||n.localCache[r]!==e)&&n.notifyListeners(r,e)},o=this.storage.getItem(r);Jn()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else{var u=this;this.forAllChangedKeys((function(e,t,n){u.notifyListeners(e,n)}))}}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e],r=!0,i=!1,a=void 0;if(n)try{for(var o,u=Array.from(n)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){(0,o.value)(t?JSON.parse(t):t)}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){var t=e;e.forAllChangedKeys((function(e,n,r){t.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(e,n){var i=this,a=this;return t(y)(t(C).mark((function o(){return t(C).wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t(It)(t(At)(r.prototype),"_set",i).call(a,e,n);case 2:a.localCache[e]=JSON.stringify(n);case 3:case"end":return o.stop()}}),o)})))()}},{key:"_get",value:function(e){var n=this,i=this;return t(y)(t(C).mark((function a(){var o;return t(C).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(It)(t(At)(r.prototype),"_get",n).call(i,e);case 2:return o=a.sent,i.localCache[e]=JSON.stringify(o),a.abrupt("return",o);case 5:case"end":return a.stop()}}),a)})))()}},{key:"_remove",value:function(e){var n=this,i=this;return t(y)(t(C).mark((function a(){return t(C).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(It)(t(At)(r.prototype),"_remove",n).call(i,e);case 2:delete i.localCache[e];case 3:case"end":return a.stop()}}),a)})))()}}]),r}(Hr);Kr.type="LOCAL";var Wr=Kr,Gr=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(){return t(g)(this,r),n.call(this,(function(){return window.sessionStorage}),"SESSION")}return t(k)(r,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),r}(Hr);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr.type="SESSION";var Qr=Gr;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(e){return Promise.all(e.map((n=t(y)(t(C).mark((function e(n){var r;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n;case 3:return r=e.sent,e.abrupt("return",{fulfilled:!0,value:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e){return n.apply(this,arguments)})));var n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yr=function(){"use strict";function e(n){t(g)(this,e),this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return t(k)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i,a,o,u,s,l,c,f;return t(C).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=(i=e).data,o=a.eventId,u=a.eventType,s=a.data,null==(l=n.handlersMap[u])?void 0:l.size){r.next=5;break}return r.abrupt("return");case 5:return i.ports[0].postMessage({status:"ack",eventId:o,eventType:u}),c=Array.from(l).map(function(){var e=t(y)(t(C).mark((function e(n){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(i.origin,s));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.next=9,Xr(c);case 9:f=r.sent,i.ports[0].postMessage({status:"done",eventId:o,eventType:u,response:f});case 11:case"end":return r.stop()}}),r)})))()}},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Jr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr.receivers=[];var $r=function(){"use strict";function e(n){t(g)(this,e),this.target=n,this.handlers=new Set}return t(k)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,i=this;return t(y)(t(C).mark((function a(){var o,u,s;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o="undefined"!=typeof MessageChannel?new MessageChannel:null){t.next=3;break}throw new Error("connection_unavailable");case 3:return t.abrupt("return",new Promise((function(t,a){var l=Jr("",20);o.port1.start();var c=setTimeout((function(){a(new Error("unsupported_event"))}),r);s={messageChannel:o,onMessage:function(e){var n=e;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),u=setTimeout((function(){a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(u),t(n.data.response);break;default:clearTimeout(c),clearTimeout(u),a(new Error("invalid_response"))}}},i.handlers.add(s),o.port1.addEventListener("message",s.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])})).finally((function(){s&&i.removeMessageHandler(s)})));case 6:case"end":return t.stop()}}),a)})))()}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ei(){return void 0!==Zr().WorkerGlobalScope&&"function"==typeof Zr().importScripts}function ti(){return ni.apply(this,arguments)}function ni(){return(ni=t(y)(t(C).mark((function e(){var n;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return n=e.sent,e.abrupt("return",n.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ri="firebaseLocalStorageDb",ii="firebaseLocalStorage",ai="fbase_key",oi=function(){"use strict";function e(n){t(g)(this,e),this.request=n}return t(k)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){var r=e;e.request.addEventListener("success",(function(){t(r.request.result)})),e.request.addEventListener("error",(function(){n(r.request.error)}))}))}}]),e}();function ui(e,t){return e.transaction([ii],t?"readwrite":"readonly").objectStore(ii)}function si(){var e=indexedDB.deleteDatabase(ri);return new oi(e).toPromise()}function li(){var e=indexedDB.open(ri,1);return new Promise((function(n,r){e.addEventListener("error",(function(){r(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ii,{keyPath:ai})}catch(e){r(e)}})),e.addEventListener("success",t(y)(t(C).mark((function r(){var i;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=e.result).objectStoreNames.contains(ii)){t.next=12;break}return i.close(),t.next=5,si();case 5:return t.t0=n,t.next=8,li();case 8:t.t1=t.sent,(0,t.t0)(t.t1),t.next=13;break;case 12:n(i);case 13:case"end":return t.stop()}}),r)}))))}))}function ci(e,t,n){return fi.apply(this,arguments)}function fi(){return(fi=t(y)(t(C).mark((function e(n,r,i){var a,o;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ui(n,!0).put((a={},t(w)(a,ai,r),t(w)(a,"value",i),a)),e.abrupt("return",new oi(o).toPromise());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hi(e,t){return di.apply(this,arguments)}function di(){return(di=t(y)(t(C).mark((function e(n,r){var i,a;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ui(n,!1).get(r),e.next=3,new oi(i).toPromise();case 3:return a=e.sent,e.abrupt("return",void 0===a?null:a.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pi(e,t){var n=ui(e,!0).delete(t);return new oi(n).toPromise()}var vi=function(){"use strict";function e(){t(g)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return t(k)(e,[{key:"_openDb",value:function(){var e=this;return t(y)(t(C).mark((function n(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.db){t.next=2;break}return t.abrupt("return",e.db);case 2:return t.next=4,li();case 4:return e.db=t.sent,t.abrupt("return",e.db);case 6:case"end":return t.stop()}}),n)})))()}},{key:"_withRetries",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i,a;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:return t.prev=2,t.next=5,n._openDb();case 5:return a=t.sent,t.next=8,e(a);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(2),!(i++>3)){t.next=15;break}throw t.t0;case 15:n.db&&(n.db.close(),n.db=void 0);case 16:t.next=1;break;case 18:case"end":return t.stop()}}),r,null,[[2,11]])})))()}},{key:"initializeServiceWorkerMessaging",value:function(){var e=this;return t(y)(t(C).mark((function n(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ei()?e.initializeReceiver():e.initializeSender());case 1:case"end":return t.stop()}}),n)})))()}},{key:"initializeReceiver",value:function(){var e=this;return t(y)(t(C).mark((function n(){return t(C).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.receiver=Yr._getInstance(ei()?self:null),e.receiver._subscribe("keyChanged",function(){var n=t(y)(t(C).mark((function n(r,i){var a;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._poll();case 2:return a=t.sent,t.abrupt("return",{keyProcessed:a.includes(i.key)});case 4:case"end":return t.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=t(y)(t(C).mark((function e(n,r){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})))()}},{key:"initializeSender",value:function(){var e=this;return t(y)(t(C).mark((function n(){var r,i,a;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,ti();case 3:if(e.activeServiceWorker=t.sent,e.activeServiceWorker){t.next=6;break}return t.abrupt("return");case 6:return e.sender=new $r(e.activeServiceWorker),t.next=9,e.sender._send("ping",{},800);case 9:if(a=t.sent){t.next=12;break}return t.abrupt("return");case 12:(null===(r=a[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=a[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0);case 13:case"end":return t.stop()}}),n)})))()}},{key:"notifyServiceWorker",value:function(e){var n=this;return t(y)(t(C).mark((function r(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.sender&&n.activeServiceWorker&&(r=void 0,((null===(r=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===r?void 0:r.controller)||null)===n.activeServiceWorker)){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,n.sender._send("keyChanged",{key:e},n.serviceWorkerReceiverAvailable?800:50);case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:case"end":return t.stop()}var r}),r,null,[[2,7]])})))()}},{key:"_isAvailable",value:function(){return t(y)(t(C).mark((function e(){var n;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,li();case 5:return n=e.sent,e.next=8,ci(n,qr,"1");case 8:return e.next=10,pi(n,qr);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()}},{key:"_withPendingWrite",value:function(e){var n=this;return t(y)(t(C).mark((function r(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.pendingWrites++,t.prev=1,t.next=4,e();case 4:return t.prev=4,n.pendingWrites--,t.finish(4);case 7:case"end":return t.stop()}}),r,null,[[1,,4,7]])})))()}},{key:"_set",value:function(e,n){var r=this;return t(y)(t(C).mark((function i(){return t(C).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",r._withPendingWrite(t(y)(t(C).mark((function i(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._withRetries((function(t){return ci(t,e,n)}));case 2:return r.localCache[e]=n,t.abrupt("return",r.notifyServiceWorker(e));case 4:case"end":return t.stop()}}),i)})))));case 1:case"end":return i.stop()}}),i)})))()}},{key:"_get",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._withRetries((function(t){return hi(t,e)}));case 2:return i=t.sent,n.localCache[e]=i,t.abrupt("return",i);case 5:case"end":return t.stop()}}),r)})))()}},{key:"_remove",value:function(e){var n=this;return t(y)(t(C).mark((function r(){return t(C).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",n._withPendingWrite(t(y)(t(C).mark((function r(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._withRetries((function(t){return pi(t,e)}));case 2:return delete n.localCache[e],t.abrupt("return",n.notifyServiceWorker(e));case 4:case"end":return t.stop()}}),r)})))));case 1:case"end":return r.stop()}}),r)})))()}},{key:"_poll",value:function(){var e=this;return t(y)(t(C).mark((function n(){var r,i,a,o,u,s,l,c,f,h,d,p,v,y,m,g,k;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._withRetries((function(e){var t=ui(e,!1).getAll();return new oi(t).toPromise()}));case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",[]);case 5:if(0===e.pendingWrites){t.next=7;break}return t.abrupt("return",[]);case 7:for(i=[],a=new Set,o=!0,u=!1,s=void 0,t.prev=10,l=r[Symbol.iterator]();!(o=(c=l.next()).done);o=!0)f=c.value,h=f.fbase_key,d=f.value,a.add(h),JSON.stringify(e.localCache[h])!==JSON.stringify(d)&&(e.notifyListeners(h,d),i.push(h));t.next=18;break;case 14:t.prev=14,t.t0=t.catch(10),u=!0,s=t.t0;case 18:t.prev=18,t.prev=19,o||null==l.return||l.return();case 21:if(t.prev=21,!u){t.next=24;break}throw s;case 24:return t.finish(21);case 25:return t.finish(18);case 26:for(p=!0,v=!1,y=void 0,t.prev=27,m=Object.keys(e.localCache)[Symbol.iterator]();!(p=(g=m.next()).done);p=!0)k=g.value,e.localCache[k]&&!a.has(k)&&(e.notifyListeners(k,null),i.push(k));t.next=35;break;case 31:t.prev=31,t.t1=t.catch(27),v=!0,y=t.t1;case 35:t.prev=35,t.prev=36,p||null==m.return||m.return();case 38:if(t.prev=38,!v){t.next=41;break}throw y;case 41:return t.finish(38);case 42:return t.finish(35);case 43:return t.abrupt("return",i);case 44:case"end":return t.stop()}}),n,null,[[10,14,18,26],[19,,21,25],[27,31,35,43],[36,,38,42]])})))()}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e],r=!0,i=!1,a=void 0;if(n)try{for(var o,u=Array.from(n)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){(0,o.value)(t)}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"startPolling",value:function(){this.stopPolling();var e=this;this.pollTimer=setInterval(t(y)(t(C).mark((function n(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),n)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();vi.type="LOCAL";var yi=vi;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(e,t){return an(e,"POST","/v2/accounts/mfaSignIn:start",rn(e,t))}function gi(e){return new Promise((function(t,n){var r,i,a=document.createElement("script");a.setAttribute("src",e),a.onload=t,a.onerror=function(e){var t=Ft("internal-error");t.customData=e,n(t)},a.type="text/javascript",a.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(a)}))}function ki(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
ki("rcb"),new Jt(3e4,6e4);var bi="recaptcha";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(e,t,n){return xi.apply(this,arguments)}function xi(){return(xi=t(y)(t(C).mark((function e(n,r,i){var a,o,u,s,l,c,f,h;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,i.verify();case 3:if(o=e.sent,e.prev=4,Bt("string"==typeof o,n,"argument-error"),Bt(i.type===bi,n,"argument-error"),!("session"in(u="string"==typeof r?{phoneNumber:r}:r))){e.next=28;break}if(s=u.session,!("phoneNumber"in u)){e.next=19;break}return Bt("enroll"===s.type,n,"internal-error"),e.next=15,Br(n,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:u.phoneNumber,recaptchaToken:o}});case 15:return l=e.sent,e.abrupt("return",l.phoneSessionInfo.sessionInfo);case 19:return Bt("signin"===s.type,n,"internal-error"),Bt(c=(null===(a=u.multiFactorHint)||void 0===a?void 0:a.uid)||u.multiFactorUid,n,"missing-multi-factor-info"),e.next=24,mi(n,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:o}});case 24:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 26:e.next=32;break;case 28:return e.next=30,mr(n,{phoneNumber:u.phoneNumber,recaptchaToken:o});case 30:return h=e.sent.sessionInfo,e.abrupt("return",h);case 32:return e.prev=32,i._reset(),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[4,,32,35]])})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ei=function(){"use strict";function e(n){t(g)(this,e),this.providerId=e.PROVIDER_ID,this.auth=nr(n)}return t(k)(e,[{key:"verifyPhoneNumber",value:function(e,t){return wi(this.auth,e,ve(t))}}],[{key:"credential",value:function(e,t){return Er._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Er._fromTokenResponse(n,r):null}}]),e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Si(e,t){return t?Wt(t):(Bt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei.PROVIDER_ID="phone",Ei.PHONE_SIGN_IN_METHOD="phone";var _i=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e){var i;return t(g)(this,r),(i=n.call(this,"custom","custom")).params=e,i}return t(k)(r,[{key:"_getIdTokenResponse",value:function(e){return pr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return pr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return pr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),r}(ir);function Ti(e){return Vr(e.auth,new _i(e),e.bypassAuthState)}function Ii(e){var t=e.auth,n=e.user;return Bt(n,t,"internal-error"),Fr(n,new _i(e),e.bypassAuthState)}function Ci(e){return Ni.apply(this,arguments)}function Ni(){return(Ni=t(y)(t(C).mark((function e(n){var r,i;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.auth,Bt(i=n.user,r,"internal-error"),e.abrupt("return",Mr(i,new _i(n),n.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ai=function(){"use strict";function e(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t(g)(this,e),this.auth=n,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}return t(k)(e,[{key:"execute",value:function(){var e,n=this;return new Promise((e=t(y)(t(C).mark((function e(r,i){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pendingPromise={resolve:r,reject:i},e.prev=1,e.next=4,n.resolver._initialize(n.auth);case 4:return n.eventManager=e.sent,e.next=7,n.onExecution();case 7:n.eventManager.registerConsumer(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n.reject(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),function(t,n){return e.apply(this,arguments)}))}},{key:"onAuthEvent",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i,a,o,u,s,l,c;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.urlResponse,a=e.sessionId,o=e.postBody,u=e.tenantId,s=e.error,l=e.type,!s){t.next=4;break}return n.reject(s),t.abrupt("return");case 4:return c={auth:n.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState},t.prev=5,t.t0=n,t.next=9,n.getIdpTask(l)(c);case 9:t.t1=t.sent,t.t0.resolve.call(t.t0,t.t1),t.next=16;break;case 13:t.prev=13,t.t2=t.catch(5),n.reject(t.t2);case 16:case"end":return t.stop()}}),r,null,[[5,13]])})))()}},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ti;case"linkViaPopup":case"linkViaRedirect":return Ci;case"reauthViaPopup":case"reauthViaRedirect":return Ii;default:Ut(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ri=new Jt(2e3,1e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oi=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i,a,o,u){var s;return t(g)(this,r),(s=n.call(this,e,i,o,u)).provider=a,s.authWindow=null,s.pollId=null,r.currentPopupAction&&r.currentPopupAction.cancel(),r.currentPopupAction=t(A)(s),s}return t(k)(r,[{key:"executeNotNull",value:function(){var e=this;return t(y)(t(C).mark((function n(){var r;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.execute();case 2:return Bt(r=t.sent,e.auth,"internal-error"),t.abrupt("return",r);case 5:case"end":return t.stop()}}),n)})))()}},{key:"onExecution",value:function(){var e=this;return t(y)(t(C).mark((function n(){var r;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ht(1===e.filter.length,"Popup operations only handle one event"),r=Jr(),t.next=4,e.resolver._openPopup(e.auth,e.provider,e.filter[0],r);case 4:e.authWindow=t.sent,e.authWindow.associatedEvent=r,e.resolver._originValidation(e.auth).catch((function(t){e.reject(t)})),e.resolver._isIframeWebStorageSupported(e.auth,(function(t){t||e.reject(Ft(e.auth,"web-storage-unsupported"))})),e.pollUserCancellation();case 9:case"end":return t.stop()}}),n)})))()}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ft(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,r.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this,t=function(){var n,r;if(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed){var i=e;e.pollId=window.setTimeout((function(){i.pollId=null,i.reject(Ft(i.auth,"popup-closed-by-user"))}),2e3)}else e.pollId=window.setTimeout(t,Ri.get())};t()}}]),r}(Ai);Oi.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Di=new Map,Pi=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i){var a,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t(g)(this,r),(a=n.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,o)).eventId=null,a}return t(k)(r,[{key:"execute",value:function(){var e=this,n=this;return t(y)(t(C).mark((function i(){var a,o;return t(C).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=Di.get(n.auth._key())){i.next=21;break}return i.prev=2,i.next=5,Li(n.resolver,n.auth);case 5:if(!i.sent){i.next=12;break}return i.next=9,t(It)(t(At)(r.prototype),"execute",e).call(n);case 9:i.t0=i.sent,i.next=13;break;case 12:i.t0=null;case 13:o=i.t0,a=function(){return Promise.resolve(o)},i.next=20;break;case 17:i.prev=17,i.t1=i.catch(2),a=function(){return Promise.reject(i.t1)};case 20:Di.set(n.auth._key(),a);case 21:return n.bypassAuthState||Di.set(n.auth._key(),(function(){return Promise.resolve(null)})),i.abrupt("return",a());case 23:case"end":return i.stop()}}),i,null,[[2,17]])})))()}},{key:"onAuthEvent",value:function(e){var n=this,i=this,a=function(){return t(It)(t(At)(r.prototype),"onAuthEvent",n)};return t(y)(t(C).mark((function n(){var r;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("signInViaRedirect"!==e.type){t.next=4;break}return t.abrupt("return",a().call(i,e));case 4:if("unknown"!==e.type){t.next=7;break}return i.resolve(null),t.abrupt("return");case 7:if(!e.eventId){t.next=17;break}return t.next=10,i.auth._redirectUserForId(e.eventId);case 10:if(!(r=t.sent)){t.next=16;break}return i.user=r,t.abrupt("return",a().call(i,e));case 16:i.resolve(null);case 17:case"end":return t.stop()}}),n)})))()}},{key:"onExecution",value:function(){return t(y)(t(C).mark((function e(){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},{key:"cleanUp",value:function(){}}]),r}(Ai);function Li(e,t){return Mi.apply(this,arguments)}function Mi(){return(Mi=t(y)(t(C).mark((function e(n,r){var i,a,o;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zi(r),a=Vi(n),e.next=4,a._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,a._get(i);case 8:return e.t0=e.sent,o="true"===e.t0,e.next=12,a._remove(i);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ui(e,t){return Fi.apply(this,arguments)}function Fi(){return(Fi=t(y)(t(C).mark((function e(n,r){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(n)._set(zi(r),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ji(e,t){Di.set(e._key(),t)}function Vi(e){return Wt(e._redirectPersistence)}function zi(e){return jn("pendingRedirect",e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(e,t,n){return function(e,t,n){return qi.apply(this,arguments)}(e,t,n)}function qi(){return(qi=t(y)(t(C).mark((function e(n,r,i){var a,o;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=nr(n),Vt(n,r,Tr),o=Si(a,i),e.next=5,Ui(o,a);case 5:return e.abrupt("return",o._openRedirect(a,r,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(e,t){return Ki.apply(this,arguments)}function Ki(){return Ki=t(y)(t(C).mark((function e(n,r){var i,a,o,u,s,l=arguments;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>2&&void 0!==l[2]&&l[2],a=nr(n),o=Si(a,r),u=new Pi(a,o,i),e.next=6,u.execute();case 6:if(!(s=e.sent)||i){e.next=13;break}return delete s.user._redirectEventId,e.next=11,a._persistUserIfCurrent(s.user);case 11:return e.next=13,a._setRedirectUser(null,r);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Wi=function(){"use strict";function e(n){t(g)(this,e),this.auth=n,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return t(k)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Qi(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ft(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gi(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Gi(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Gi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Qi(e){var t=e.type,n=e.error;return"unknown"===t&&"auth/no-auth-event"===(null==n?void 0:n.code)}function Xi(e){return Yi.apply(this,arguments)}function Yi(){return Yi=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t(y)(t(C).mark((function e(n){var r,i=arguments;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",an(n,"GET","/v1/projects",r));case 2:case"end":return e.stop()}}),e)}))),Yi.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ji=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$i=/^https?/;function Zi(){return(Zi=t(y)(t(C).mark((function e(n){var r,i,a,o,u,s,l;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Xi(n);case 4:r=e.sent.authorizedDomains,i=!0,a=!1,o=void 0,e.prev=6,u=r[Symbol.iterator]();case 8:if(i=(s=u.next()).done){e.next=20;break}if(l=s.value,e.prev=10,!ea(l)){e.next=13;break}return e.abrupt("return");case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(10);case 17:i=!0,e.next=8;break;case 20:e.next=26;break;case 22:e.prev=22,e.t1=e.catch(6),a=!0,o=e.t1;case 26:e.prev=26,e.prev=27,i||null==u.return||u.return();case 29:if(e.prev=29,!a){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(26);case 34:Ut(n,"unauthorized-domain");case 35:case"end":return e.stop()}}),e,null,[[6,22,26,34],[10,15],[27,,29,33]])})))).apply(this,arguments)}function ea(e){var t=Qt(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!$i.test(r))return!1;if(Ji.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ta=new Jt(3e4,6e4);function na(){var e=Zr().___jsl,n=!0,r=!1,i=void 0;if(null==e?void 0:e.H)try{for(var a,o=Object.keys(e.H)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;if(e.H[u].r=e.H[u].r||[],e.H[u].L=e.H[u].L||[],e.H[u].r=t(x)(e.H[u].L),e.CP)for(var s=0;s<e.CP.length;s++)e.CP[s]=null}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}var ra=null;function ia(e){return ra=ra||function(e){return new Promise((function(t,n){var r,i,a;function o(){na(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){na(),n(Ft(e,"network-request-failed"))},timeout:ta.get()})}if(null===(i=null===(r=Zr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Zr().gapi)||void 0===a?void 0:a.load)){var u=ki("iframefcb");return Zr()[u]=function(){gapi.load?o():n(Ft(e,"network-request-failed"))},gi("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ra=null,e}))}(e),ra}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aa=new Jt(5e3,15e3),oa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ua=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sa(e){var t=e.config;Bt(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?$t(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ct},i=ua.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ce(r).slice(1))}function la(e){return ca.apply(this,arguments)}function ca(){return ca=t(y)(t(C).mark((function e(n){var r,i;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(n);case 2:return r=e.sent,Bt(i=Zr().gapi,n,"internal-error"),e.abrupt("return",r.open({where:document.body,url:sa(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oa,dontclear:!0},(function(e){return new Promise((r=t(y)(t(C).mark((function r(i,a){var o,u,s;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(){Zr().clearTimeout(u),i(e)},t.next=3,e.restyle({setHideOnLeave:!1});case 3:o=Ft(n,"network-request-failed"),u=Zr().setTimeout((function(){a(o)}),aa.get()),e.ping(s).then(s,(function(){a(o)}));case 7:case"end":return t.stop()}}),r)}))),function(e,t){return r.apply(this,arguments)}));var r})));case 6:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ha="_blank",da="http://localhost",pa=function(){"use strict";function e(n){t(g)(this,e),this.window=n,this.associatedEvent=null}return t(k)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function va(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString(),s="",l=Object.assign(Object.assign({},fa),{width:i.toString(),height:a.toString(),top:o,left:u}),f=J().toLowerCase();r&&(s=Hn(f)?ha:r),Bn(f)&&(n=n||da,l.scrollbars="yes");var h=Object.entries(l).reduce((function(e,n){var r=t(c)(n,2),i=r[0],a=r[1];return"".concat(e).concat(i,"=").concat(a,",")}),"");if(Yn(f)&&"_self"!==s)return ya(n||"",s),new pa(null);var d=window.open(n||"",s,h);Bt(d,e,"popup-blocked");try{d.focus()}catch(e){}return new pa(d)}function ya(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ma="__/auth/handler",ga="emulator/auth/handler";function ka(e,n,r,i,a,o){Bt(e.config.authDomain,e,"auth-domain-config-required"),Bt(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:i,v:ct,eventId:a};if(n instanceof Tr){n.setDefaultLanguage(e.languageCode),u.providerId=n.providerId||"",ue(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters()));var s=!0,l=!1,f=void 0;try{for(var h,d=Object.entries(o||{})[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var p=t(c)(h.value,2),v=p[0],y=p[1];u[v]=y}}catch(e){l=!0,f=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw f}}}if(n instanceof Ir){var m=n.getScopes().filter((function(e){return""!==e}));m.length>0&&(u.scopes=m.join(","))}e.tenantId&&(u.tid=e.tenantId);var g,k,b=u,w=!0,x=!1,E=void 0;try{for(var S,_=Object.keys(b)[Symbol.iterator]();!(w=(S=_.next()).done);w=!0){var T=S.value;void 0===b[T]&&delete b[T]}}catch(e){x=!0,E=e}finally{try{w||null==_.return||_.return()}finally{if(x)throw E}}return"".concat((g=e,k=g.config,k.emulator?$t(k,ga):"https://".concat(k.authDomain,"/").concat(ma)),"?").concat(ce(b).slice(1))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ba="webStorageSupport",wa=function(){"use strict";function e(){t(g)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qr,this._completeRedirectFn=Hi,this._overrideRedirectResult=ji}return t(k)(e,[{key:"_openPopup",value:function(e,n,r,i){var a=this;return t(y)(t(C).mark((function o(){var u,s;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ht(null===(u=a.eventManagers[e._key()])||void 0===u?void 0:u.manager,"_initialize() not called before _openPopup()"),s=ka(e,n,r,Qt(),i),t.abrupt("return",va(e,s,Jr()));case 4:case"end":return t.stop()}}),o)})))()}},{key:"_openRedirect",value:function(e,n,r,i){var a=this;return t(y)(t(C).mark((function o(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a._originValidation(e);case 2:return o=ka(e,n,r,Qt(),i),Zr().location.href=o,t.abrupt("return",new Promise((function(){})));case 4:case"end":return t.stop()}var o}),o)})))()}},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ht(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i,a;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,la(e);case 2:return i=t.sent,a=new Wi(e),i.register("authEvent",(function(t){return Bt(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:a.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:a},n.iframes[e._key()]=i,t.abrupt("return",a);case 8:case"end":return t.stop()}}),r)})))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ba,{type:ba},(function(n){var r,i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ut(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Zi.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return $n()||qn()||Xn()}}]),e}(),xa=wa,Ea=function(){"use strict";function e(n){t(g)(this,e),this.factorId=n}return t(k)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return qt("unexpected MultiFactorSessionType")}}}]),e}(),Sa=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e){var i;return t(g)(this,r),(i=n.call(this,"phone")).credential=e,i}return t(k)(r,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return an(e,"POST","/v2/accounts/mfaEnrollment:finalize",rn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return an(e,"POST","/v2/accounts/mfaSignIn:finalize",rn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new r(e)}}]),r}(Ea);(function(){"use strict";function e(){t(g)(this,e)}return t(k)(e,null,[{key:"assertion",value:function(e){return Sa._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var _a,Ta="@firebase/auth",Ia="0.20.2",Ca=function(){"use strict";function e(n){t(g)(this,e),this.auth=n,this.internalListeners=new Map}return t(k)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(e){var n=this;return t(y)(t(C).mark((function r(){var i;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.assertAuthConfigured(),t.next=3,n.auth._initializationPromise;case 3:if(n.auth.currentUser){t.next=5;break}return t.abrupt("return",null);case 5:return t.next=7,n.auth.currentUser.getIdToken(e);case 7:return i=t.sent,t.abrupt("return",{accessToken:i});case 9:case"end":return t.stop()}}),r)})))()}},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();_a="Browser",at(new ye("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Bt(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Bt(!(null==u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:_a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zn(_a)},i=new tr(e,t,r);return function(e,t){var n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wt);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),at(new ye("auth-internal",(function(e){var t=nr(e.getProvider("auth").getImmediate());return new Ca(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),ht(Ta,Ia,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_a)),ht(Ta,Ia,"esm2017");var Na,Aa=a("bI5Ef"),Ra=(At=a("jvq8u"),a("gFU0G")),Oa=a("8ztJZ"),Da=(At=a("jvq8u"),Oa=a("8ztJZ"),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{}),Pa={},La=La||{},Ma=Da||self;function Ua(){}function Fa(e){var n=void 0===e?"undefined":t(Oa)(e);return"array"==(n="object"!=n?n:e?Array.isArray(e)?"array":n:"null")||"object"==n&&"number"==typeof e.length}function ja(e){var n=void 0===e?"undefined":t(Oa)(e);return"object"==n&&null!=e||"function"==n}var Va="closure_uid_"+(1e9*Math.random()>>>0),za=0;function Ba(e,t,n){return e.call.apply(e.bind,arguments)}function qa(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ha(e,t,n){return(Ha=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ba:qa).apply(null,arguments)}function Ka(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Wa(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ga(){this.s=this.s,this.o=this.o}var Qa={};Ga.prototype.s=!1,Ga.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Va)&&e[Va]||(e[Va]=++za)}(this);delete Qa[e]}},Ga.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Xa=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ya=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ja(e){return Array.prototype.concat.apply([],arguments)}function $a(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Za(e){return/^[\s\xa0]*$/.test(e)}var eo,to=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function no(e,t){return-1!=e.indexOf(t)}function ro(e,t){return e<t?-1:e>t?1:0}e:{var io=Ma.navigator;if(io){var ao=io.userAgent;if(ao){eo=ao;break e}}eo=""}function oo(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function uo(e){var t={};for(var n in e)t[n]=e[n];return t}var so="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lo(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<so.length;a++)n=so[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function co(e){return co[" "](e),e}co[" "]=Ua;var fo,ho,po=no(eo,"Opera"),vo=no(eo,"Trident")||no(eo,"MSIE"),yo=no(eo,"Edge"),mo=yo||vo,go=no(eo,"Gecko")&&!(no(eo.toLowerCase(),"webkit")&&!no(eo,"Edge"))&&!(no(eo,"Trident")||no(eo,"MSIE"))&&!no(eo,"Edge"),ko=no(eo.toLowerCase(),"webkit")&&!no(eo,"Edge");function bo(){var e=Ma.document;return e?e.documentMode:void 0}e:{var wo="",xo=(ho=eo,go?/rv:([^\);]+)(\)|;)/.exec(ho):yo?/Edge\/([\d\.]+)/.exec(ho):vo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ho):ko?/WebKit\/(\S+)/.exec(ho):po?/(?:Version)[ \/]?(\S+)/.exec(ho):void 0);if(xo&&(wo=xo?xo[1]:""),vo){var Eo=bo();if(null!=Eo&&Eo>parseFloat(wo)){fo=String(Eo);break e}}fo=wo}var So,_o={};function To(){return function(e){var t=_o;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=to(String(fo)).split("."),n=to("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ro(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ro(0==a[2].length,0==o[2].length)||ro(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ma.document&&vo){var Io=bo();So=Io||(parseInt(fo,10)||void 0)}else So=void 0;var Co=So,No=function(){if(!Ma.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ma.addEventListener("test",Ua,t),Ma.removeEventListener("test",Ua,t)}catch(e){}return e}();function Ao(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ro(e,t){if(Ao.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(go){e:{try{co(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Oo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ro.Z.h.call(this)}}Ao.prototype.h=function(){this.defaultPrevented=!0},Wa(Ro,Ao);var Oo={2:"touch",3:"pen",4:"mouse"};Ro.prototype.h=function(){Ro.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Do="closure_listenable_"+(1e6*Math.random()|0),Po=0;function Lo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Po,this.ca=this.fa=!1}function Mo(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Uo(e){this.src=e,this.g={},this.h=0}function Fo(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Xa(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Mo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function jo(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Uo.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=jo(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Lo(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Vo="closure_lm_"+(1e6*Math.random()|0),zo={};function Bo(e,t,n,r,i){if(r&&r.once)return Ho(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Bo(e,t[a],n,r,i);return null}return n=Jo(n),e&&e[Do]?e.N(t,n,ja(r)?!!r.capture:!!r,i):qo(e,t,n,!1,r,i)}function qo(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ja(i)?!!i.capture:!!i,u=Xo(e);if(u||(e[Vo]=u=new Uo(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Qo;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)No||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Go(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ho(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ho(e,t[a],n,r,i);return null}return n=Jo(n),e&&e[Do]?e.O(t,n,ja(r)?!!r.capture:!!r,i):qo(e,t,n,!0,r,i)}function Ko(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ko(e,t[a],n,r,i);else r=ja(r)?!!r.capture:!!r,n=Jo(n),e&&e[Do]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=jo(a=e.g[t],n,r,i))&&(Mo(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Xo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=jo(t,n,r,i)),(n=-1<e?t[e]:null)&&Wo(n))}function Wo(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Do])Fo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Go(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Xo(t))?(Fo(n,e),0==n.h&&(n.src=null,t[Vo]=null)):Mo(e)}}}function Go(e){return e in zo?zo[e]:zo[e]="on"+e}function Qo(e,t){if(e.ca)e=!0;else{t=new Ro(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Wo(e),e=n.call(r,t)}return e}function Xo(e){return(e=e[Vo])instanceof Uo?e:null}var Yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jo(e){return"function"==typeof e?e:(e[Yo]||(e[Yo]=function(t){return e.handleEvent(t)}),e[Yo])}function $o(){Ga.call(this),this.i=new Uo(this),this.P=this,this.I=null}function Zo(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Ao(t,e);else if(t instanceof Ao)t.target=t.target||e;else{var i=t;lo(t=new Ao(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=eu(o,r,!0,t)&&i}if(i=eu(o=t.g=e,r,!0,t)&&i,i=eu(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=eu(o=t.g=n[a],r,!1,t)&&i}function eu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Fo(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Wa($o,Ga),$o.prototype[Do]=!0,$o.prototype.removeEventListener=function(e,t,n,r){Ko(this,e,t,n,r)},$o.prototype.M=function(){if($o.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Mo(n[r]);delete t.g[e],t.h--}}this.I=null},$o.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$o.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var tu=Ma.JSON.stringify;function nu(){var e=cu,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ru,iu=function(){"use strict";function e(){t(g)(this,e),this.h=this.g=null}return t(k)(e,[{key:"add",value:function(e,t){var n=au.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),au=new(function(){"use strict";function e(n,r){t(g)(this,e),this.i=n,this.j=r,this.h=0,this.g=null}return t(k)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ou}),(function(e){return e.reset()})),ou=function(){"use strict";function e(){t(g)(this,e),this.next=this.g=this.h=null}return t(k)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function uu(e){Ma.setTimeout((function(){throw e}),0)}function su(e,t){ru||function(){var e=Ma.Promise.resolve(void 0);ru=function(){e.then(fu)}}(),lu||(ru(),lu=!0),cu.add(e,t)}var lu=!1,cu=new iu;function fu(){for(var e;e=nu();){try{e.h.call(e.g)}catch(e){uu(e)}var t=au;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}lu=!1}function hu(e,t){$o.call(this),this.h=e||1,this.g=t||Ma,this.j=Ha(this.kb,this),this.l=Date.now()}function du(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function pu(e,t,n){if("function"==typeof e)n&&(e=Ha(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ha(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ma.setTimeout(e,t||0)}function vu(e){e.g=pu((function(){e.g=null,e.i&&(e.i=!1,vu(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Wa(hu,$o),(Na=hu.prototype).da=!1,Na.S=null,Na.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Zo(this,"tick"),this.da&&(du(this),this.start()))}},Na.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Na.M=function(){hu.Z.M.call(this),du(this),delete this.g};var yu=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i){var a;return t(g)(this,r),(a=n.call(this)).m=e,a.j=i,a.h=null,a.i=!1,a.g=null,a}return t(k)(r,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:vu(this)}},{key:"M",value:function(){t(It)(t(At)(r.prototype),"M",this).call(this),this.g&&(Ma.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),r}(Ga);function mu(e){Ga.call(this),this.h=e,this.g={}}Wa(mu,Ga);var gu=[];function ku(e,t,n,r){Array.isArray(n)||(n&&(gu[0]=n.toString()),n=gu);for(var i=0;i<n.length;i++){var a=Bo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function bu(e){oo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Wo(e)}),e),e.g={}}function wu(){this.g=!0}function xu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return tu(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}mu.prototype.M=function(){mu.Z.M.call(this),bu(this)},mu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wu.prototype.Aa=function(){this.g=!1},wu.prototype.info=function(){};var Eu={},Su=null;function _u(){return Su=Su||new $o}function Tu(e){Ao.call(this,Eu.Ma,e)}function Iu(e){var t=_u();Zo(t,new Tu(t,e))}function Cu(e,t){Ao.call(this,Eu.STAT_EVENT,e),this.stat=t}function Nu(e){var t=_u();Zo(t,new Cu(t,e))}function Au(e,t){Ao.call(this,Eu.Na,e),this.size=t}function Ru(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Ma.setTimeout((function(){e()}),t)}Eu.Ma="serverreachability",Wa(Tu,Ao),Eu.STAT_EVENT="statevent",Wa(Cu,Ao),Eu.Na="timingevent",Wa(Au,Ao);var Ou={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Du={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Pu(){}function Lu(e){return e.h||(e.h=e.i())}function Mu(){}Pu.prototype.h=null;var Uu,Fu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ju(){Ao.call(this,"d")}function Vu(){Ao.call(this,"c")}function zu(){}function Bu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new mu(this),this.P=Hu,e=mo?125:void 0,this.W=new hu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new qu}function qu(){this.i=null,this.g="",this.h=!1}Wa(ju,Ao),Wa(Vu,Ao),Wa(zu,Pu),zu.prototype.g=function(){return new XMLHttpRequest},zu.prototype.i=function(){return{}},Uu=new zu;var Hu=45e3,Ku={},Wu={};function Gu(e,t,n){e.K=1,e.v=ys(cs(t)),e.s=n,e.U=!0,Qu(e,null)}function Qu(e,t){e.F=Date.now(),$u(e),e.A=cs(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ns(n.h,"t",r),e.C=0,n=e.l.H,e.h=new qu,e.g=Al(e.l,n?t:null,!e.s),0<e.O&&(e.L=new yu(Ha(e.Ia,e,e.g),e.O)),ku(e.V,e.g,"readystatechange",e.gb),t=e.H?uo(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Iu(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var l=u[s].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Xu(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Yu(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ju(e,n))==Wu){4==t&&(e.o=4,Nu(14),i=!1),xu(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ku){e.o=4,Nu(15),xu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}xu(e.j,e.m,r,null),rs(e,r)}Xu(e)&&r!=Wu&&r!=Ku&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Nu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),xl(t),t.L=!0,Nu(11))):(xu(e.j,e.m,n,"[Invalid Chunked Response]"),ns(e),ts(e))}function Ju(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Wu:(n=Number(t.substring(n,r)),isNaN(n)?Ku:(r+=1)+n>t.length?Wu:(t=t.substr(r,n),e.C=r+n,t))}function $u(e){e.Y=Date.now()+e.P,Zu(e,e.P)}function Zu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ru(Ha(e.eb,e),t)}function es(e){e.B&&(Ma.clearTimeout(e.B),e.B=null)}function ts(e){0==e.l.G||e.I||_l(e.l,e)}function ns(e){es(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,du(e.W),bu(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function rs(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ms(n.i,e)))if(n.I=e.N,!e.J&&Ms(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Sl(n),dl(n)}wl(n),Nu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ru(Ha(n.ab,n),6e3));if(1>=Ls(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Il(n,11)}else if((e.J||n.g==e)&&Sl(n),!Za(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"==typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(no(c,"spdy")||no(c,"quic")||no(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Us(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,vs(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Nl(r,r.H?r.la:null,r.W),d.J){Fs(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(es(p),$u(p)),r.g=d}else bl(r);0<n.l.length&&yl(n)}else"stop"!=a[0]&&"close"!=a[0]||Il(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Il(n,7):hl(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Iu(4)}catch(a){}}function is(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Fa(e)||"string"==typeof e)Ya(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Fa(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Fa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function as(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof as)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function os(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];us(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)us(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function us(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Na=Bu.prototype).setTimeout=function(e){this.P=e},Na.gb=function(e){e=e.target;var t=this.L;t&&3==ul(e)?t.l():this.Ia(e)},Na.Ia=function(e){try{if(e==this.g)e:{var t=ul(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||mo||this.g&&(this.h.h||this.g.ga()||sl(this.g)))){this.I||4!=t||7==n||Iu(8==n||0>=r?3:2),es(this);var i=this.g.ba();this.N=i;t:if(Xu(this)){var a=sl(this.g);e="";var o=a.length,u=4==ul(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ns(this),ts(this);var s="";break t}this.h.i=new Ma.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Za(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Nu(12),ns(this),ts(this);break e}xu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rs(this,i)}this.U?(Yu(this,t,s),mo&&this.i&&3==t&&(ku(this.V,this.W,"tick",this.fb),this.W.start())):(xu(this.j,this.m,s,null),rs(this,s)),4==t&&ns(this),this.i&&!this.I&&(4==t?_l(this.l,this):(this.i=!1,$u(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Nu(12)):(this.o=0,Nu(13)),ns(this),ts(this)}}}catch(t){}},Na.fb=function(){if(this.g){var e=ul(this.g),t=this.g.ga();this.C<t.length&&(es(this),Yu(this,e,t),this.i&&4!=e&&$u(this))}},Na.cancel=function(){this.I=!0,ns(this)},Na.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Iu(3),Nu(17)),ns(this),this.o=2,ts(this)):Zu(this,this.Y-e)},(Na=as.prototype).R=function(){os(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Na.T=function(){return os(this),this.g.concat()},Na.get=function(e,t){return us(this.h,e)?this.h[e]:t},Na.set=function(e,t){us(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Na.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var ss=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ls(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ls){this.g=void 0!==t?t:e.g,fs(this,e.j),this.s=e.s,hs(this,e.i),ds(this,e.m),this.l=e.l,t=e.h;var n=new _s;n.i=t.i,t.g&&(n.g=new as(t.g),n.h=t.h),ps(this,n),this.o=e.o}else e&&(n=String(e).match(ss))?(this.g=!!t,fs(this,n[1]||"",!0),this.s=ms(n[2]||""),hs(this,n[3]||"",!0),ds(this,n[4]),this.l=ms(n[5]||"",!0),ps(this,n[6]||"",!0),this.o=ms(n[7]||"")):(this.g=!!t,this.h=new _s(null,this.g))}function cs(e){return new ls(e)}function fs(e,t,n){e.j=n?ms(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function hs(e,t,n){e.i=n?ms(t,!0):t}function ds(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ps(e,t,n){t instanceof _s?(e.h=t,function(e,t){t&&!e.j&&(Ts(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Is(this,t),Ns(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=gs(t,Es)),e.h=new _s(t,e.g))}function vs(e,t,n){e.h.set(t,n)}function ys(e){return vs(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ms(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function gs(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ks),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ks(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ls.prototype.toString=function(){var e=[],t=this.j;t&&e.push(gs(t,bs,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(gs(t,bs,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(gs(n,"/"==n.charAt(0)?xs:ws,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",gs(n,Ss)),e.join("")};var bs=/[#\/\?@]/g,ws=/[#\?:]/g,xs=/[#\?]/g,Es=/[#\?@]/g,Ss=/#/g;function _s(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ts(e){e.g||(e.g=new as,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Is(e,t){Ts(e),t=As(e,t),us(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,us((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&os(e)))}function Cs(e,t){return Ts(e),t=As(e,t),us(e.g.h,t)}function Ns(e,t,n){Is(e,t),0<n.length&&(e.i=null,e.g.set(As(e,t),$a(n)),e.h+=n.length)}function As(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Na=_s.prototype).add=function(e,t){Ts(this),this.i=null,e=As(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Na.forEach=function(e,t){Ts(this),this.g.forEach((function(n,r){Ya(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Na.T=function(){Ts(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Na.R=function(e){Ts(this);var t=[];if("string"==typeof e)Cs(this,e)&&(t=Ja(t,this.g.get(As(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ja(t,e[n])}return t},Na.set=function(e,t){return Ts(this),this.i=null,Cs(this,e=As(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Na.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Na.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Rs=function e(n,r){"use strict";t(g)(this,e),this.h=n,this.g=r};function Os(e){this.l=e||Ds,Ma.PerformanceNavigationTiming?e=0<(e=Ma.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ma.g&&Ma.g.Ea&&Ma.g.Ea()&&Ma.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ds=10;function Ps(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ls(e){return e.h?1:e.g?e.g.size:0}function Ms(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Us(e,t){e.g?e.g.add(t):e.h=t}function Fs(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function js(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t=e.i,n=!0,r=!1,i=void 0;try{for(var a,o=e.g.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;t=t.concat(u.D)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}return $a(e.i)}function Vs(){}function zs(){this.g=new Vs}function Bs(e,t,n){var r=n||"";try{is(e,(function(e,n){var i=e;ja(e)&&(i=tu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function qs(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Hs(e){this.l=e.$b||null,this.j=e.ib||!1}function Ks(e,t){$o.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ws,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Os.prototype.cancel=function(){if(this.i=js(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e=!0,t=!1,n=void 0;try{for(var r,i=this.g.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.cancel()}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.g.clear()}},Vs.prototype.stringify=function(e){return Ma.JSON.stringify(e,void 0)},Vs.prototype.parse=function(e){return Ma.JSON.parse(e,void 0)},Wa(Hs,Pu),Hs.prototype.g=function(){return new Ks(this.l,this.j)},Hs.prototype.i=function(e){return function(){return e}}({}),Wa(Ks,$o);var Ws=0;function Gs(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Qs(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Xs(e)}function Xs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Na=Ks.prototype).open=function(e,t){if(this.readyState!=Ws)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Xs(this)},Na.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ma).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Na.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qs(this)),this.readyState=Ws},Na.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xs(this)),this.g&&(this.readyState=3,Xs(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ma.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gs(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Na.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Qs(this):Xs(this),3==this.readyState&&Gs(this)}},Na.Ua=function(e){this.g&&(this.response=this.responseText=e,Qs(this))},Na.Ta=function(e){this.g&&(this.response=e,Qs(this))},Na.ha=function(){this.g&&Qs(this)},Na.setRequestHeader=function(e,t){this.v.append(e,t)},Na.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Na.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ys=Ma.JSON.parse;function Js(e){$o.call(this),this.headers=new as,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$s,this.K=this.L=!1}Wa(Js,$o);var $s="",Zs=/^https?$/i,el=["POST","PUT"];function tl(e){return"content-type"==e.toLowerCase()}function nl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,rl(e),al(e)}function rl(e){e.D||(e.D=!0,Zo(e,"complete"),Zo(e,"error"))}function il(e){if(e.h&&void 0!==La&&(!e.C[1]||4!=ul(e)||2!=e.ba()))if(e.v&&4==ul(e))pu(e.Fa,0,e);else if(Zo(e,"readystatechange"),4==ul(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ss)[1]||null;if(!a&&Ma.self&&Ma.self.location){var o=Ma.self.location.protocol;a=o.substr(0,o.length-1)}i=!Zs.test(a?a.toLowerCase():"")}t=i}if(t)Zo(e,"complete"),Zo(e,"success");else{e.m=6;try{var u=2<ul(e)?e.g.statusText:""}catch(e){u=""}e.j=u+" ["+e.ba()+"]",rl(e)}}finally{al(e)}}}function al(e,t){if(e.g){ol(e);var n=e.g,r=e.C[0]?Ua:null;e.g=null,e.C=null,t||Zo(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function ol(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ma.clearTimeout(e.A),e.A=null)}function ul(e){return e.g?e.g.readyState:0}function sl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case $s:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ll(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return oo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):vs(e,t,n))}function cl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function fl(e){this.za=0,this.l=[],this.h=new wu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=cl("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=cl("baseRetryDelayMs",5e3,e),this.$a=cl("retryDelaySeedMs",1e4,e),this.Ya=cl("forwardChannelMaxRetries",2,e),this.ra=cl("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Os(e&&e.concurrentRequestLimit),this.Ca=new zs,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function hl(e){if(pl(e),3==e.G){var t=e.V++,n=cs(e.F);vs(n,"SID",e.J),vs(n,"RID",t),vs(n,"TYPE","terminate"),gl(e,n),(t=new Bu(e,e.h,t,void 0)).K=2,t.v=ys(cs(n)),n=!1,Ma.navigator&&Ma.navigator.sendBeacon&&(n=Ma.navigator.sendBeacon(t.v.toString(),"")),!n&&Ma.Image&&((new Image).src=t.v,n=!0),n||(t.g=Al(t.l,null),t.g.ea(t.v)),t.F=Date.now(),$u(t)}Cl(e)}function dl(e){e.g&&(xl(e),e.g.cancel(),e.g=null)}function pl(e){dl(e),e.u&&(Ma.clearTimeout(e.u),e.u=null),Sl(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Ma.clearTimeout(e.m),e.m=null)}function vl(e,t){e.l.push(new Rs(e.Za++,t)),3==e.G&&yl(e)}function yl(e){Ps(e.i)||e.m||(e.m=!0,su(e.Ha,e),e.C=0)}function ml(e,t){var n;n=t?t.m:e.V++;var r=cs(e.F);vs(r,"SID",e.J),vs(r,"RID",n),vs(r,"AID",e.U),gl(e,r),e.o&&e.s&&ll(r,e.o,e.s),n=new Bu(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=kl(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Us(e.i,n),Gu(n,r,t)}function gl(e,t){e.j&&is({},(function(e,n){vs(t,n,e)}))}function kl(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ha(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var l=i[s].h,c=i[s].g;if(0>(l-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Bs(c,o,"req"+l+"_")}catch(e){r&&r(c)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function bl(e){e.g||e.u||(e.Y=1,su(e.Ga,e),e.A=0)}function wl(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Ru(Ha(e.Ga,e),Tl(e,e.A)),e.A++,!0)}function xl(e){null!=e.B&&(Ma.clearTimeout(e.B),e.B=null)}function El(e){e.g=new Bu(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=cs(e.oa);vs(t,"RID","rpc"),vs(t,"SID",e.J),vs(t,"CI",e.N?"0":"1"),vs(t,"AID",e.U),gl(e,t),vs(t,"TYPE","xmlhttp"),e.o&&e.s&&ll(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ys(cs(t)),n.s=null,n.U=!0,Qu(n,e)}function Sl(e){null!=e.v&&(Ma.clearTimeout(e.v),e.v=null)}function _l(e,t){var n=null;if(e.g==t){Sl(e),xl(e),e.g=null;var r=2}else{if(!Ms(e.i,t))return;n=t.D,Fs(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Zo(r=_u(),new Au(r,n,t,i)),yl(e)}else bl(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ls(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Ru(Ha(e.Ha,e,t),Tl(e,e.C)),e.C++,0)))}(e,t)||2==r&&wl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Il(e,5);break;case 4:Il(e,10);break;case 3:Il(e,6);break;default:Il(e,2)}}function Tl(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Il(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ha(e.jb,e);n||(n=new ls("//www.google.com/images/cleardot.gif"),Ma.location&&"http"==Ma.location.protocol||fs(n,"https"),ys(n)),function(e,t){var n=new wu;if(Ma.Image){var r=new Image;r.onload=Ka(qs,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ka(qs,n,r,"TestLoadImage: error",!1,t),r.onabort=Ka(qs,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ka(qs,n,r,"TestLoadImage: timeout",!1,t),Ma.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Nu(2);e.G=0,e.j&&e.j.va(t),Cl(e),pl(e)}function Cl(e){e.G=0,e.I=-1,e.j&&(0==js(e.i).length&&0==e.l.length||(e.i.i.length=0,$a(e.l),e.l.length=0),e.j.ua())}function Nl(e,t,n){var r=function(e){return e instanceof ls?cs(e):new ls(e,void 0)}(n);if(""!=r.i)t&&hs(r,t+"."+r.i),ds(r,r.m);else{var i=Ma.location;r=function(e,t,n,r){var i=new ls(null,void 0);return e&&fs(i,e),t&&hs(i,t),n&&ds(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&oo(e.aa,(function(e,t){vs(r,t,e)})),t=e.D,n=e.sa,t&&n&&vs(r,t,n),vs(r,"VER",e.ma),gl(e,r),r}function Al(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Js(new Hs({ib:!0})):new Js(e.qa)).L=e.H,t}function Rl(){}function Ol(){if(vo&&!(10<=Number(Co)))throw Error("Environmental error: no available transport.")}function Dl(e,t){$o.call(this),this.g=new fl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Za(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Za(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ml(this)}function Pl(e){ju.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ll(){Vu.call(this),this.status=1}function Ml(e){this.g=e}(Na=Js.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Uu.g(),this.C=this.u?Lu(this.u):Lu(Uu),this.g.onreadystatechange=Ha(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void nl(this,e)}e=n||"";var i=new as(this.headers);r&&is(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=tl,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Ma.FormData&&e instanceof Ma.FormData,!(0<=Xa(el,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ol(this),0<this.B&&((this.K=function(e){return vo&&To()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ha(this.pa,this)):this.A=pu(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){nl(this,e)}},Na.pa=function(){void 0!==La&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zo(this,"timeout"),this.abort(8))},Na.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Zo(this,"complete"),Zo(this,"abort"),al(this))},Na.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),al(this,!0)),Js.Z.M.call(this)},Na.Fa=function(){this.s||(this.F||this.v||this.l?il(this):this.cb())},Na.cb=function(){il(this)},Na.ba=function(){try{return 2<ul(this)?this.g.status:-1}catch(e){return-1}},Na.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Na.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ys(t)}},Na.Da=function(){return this.m},Na.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Na=fl.prototype).ma=8,Na.G=1,Na.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},Na.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Bu(this,this.h,e,void 0),n=this.s;if(this.P&&(n?lo(n=uo(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=kl(this,t,r),vs(i=cs(this.F),"RID",e),vs(i,"CVER",22),this.D&&vs(i,"X-HTTP-Session-Id",this.D),gl(this,i),this.o&&n&&ll(i,this.o,n),Us(this.i,t),this.Ra&&vs(i,"TYPE","init"),this.ja?(vs(i,"$req",r),vs(i,"SID","null"),t.$=!0,Gu(t,i,null)):Gu(t,i,r),this.G=2}}else 3==this.G&&(e?ml(this,e):0==this.l.length||Ps(this.i)||ml(this))},Na.Ga=function(){if(this.u=null,El(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ru(Ha(this.bb,this),e)}},Na.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nu(10),dl(this),El(this))},Na.ab=function(){null!=this.v&&(this.v=null,dl(this),wl(this),Nu(19))},Na.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Nu(2)):(this.h.info("Failed to ping google.com"),Nu(1))},(Na=Rl.prototype).xa=function(){},Na.wa=function(){},Na.va=function(){},Na.ua=function(){},Na.Oa=function(){},Ol.prototype.g=function(e,t){return new Dl(e,t)},Wa(Dl,$o),Dl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),su(Ha(e.hb,e,t))),Nu(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Nl(e,null,e.W),yl(e)},Dl.prototype.close=function(){hl(this.g)},Dl.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,vl(this.g,t)}else this.v?((t={}).__data__=tu(e),vl(this.g,t)):vl(this.g,e)},Dl.prototype.M=function(){this.g.j=null,delete this.j,hl(this.g),delete this.g,Dl.Z.M.call(this)},Wa(Pl,ju),Wa(Ll,Vu),Wa(Ml,Rl),Ml.prototype.xa=function(){Zo(this.g,"a")},Ml.prototype.wa=function(e){Zo(this.g,new Pl(e))},Ml.prototype.va=function(e){Zo(this.g,new Ll(e))},Ml.prototype.ua=function(){Zo(this.g,"b")},Ol.prototype.createWebChannel=Ol.prototype.g,Dl.prototype.send=Dl.prototype.u,Dl.prototype.open=Dl.prototype.m,Dl.prototype.close=Dl.prototype.close,Ou.NO_ERROR=0,Ou.TIMEOUT=8,Ou.HTTP_ERROR=6,Du.COMPLETE="complete",Mu.EventType=Fu,Fu.OPEN="a",Fu.CLOSE="b",Fu.ERROR="c",Fu.MESSAGE="d",$o.prototype.listen=$o.prototype.N,Js.prototype.listenOnce=Js.prototype.O,Js.prototype.getLastError=Js.prototype.La,Js.prototype.getLastErrorCode=Js.prototype.Da,Js.prototype.getStatus=Js.prototype.ba,Js.prototype.getResponseJson=Js.prototype.Qa,Js.prototype.getResponseText=Js.prototype.ga,Js.prototype.send=Js.prototype.ea;var Ul,Fl,jl=Pa.createWebChannelTransport=function(){return new Ol},Vl=Pa.getStatEventTarget=function(){return _u()},zl=Pa.ErrorCode=Ou,Bl=Pa.EventType=Du,ql=Pa.Event=Eu,Hl=Pa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Kl=Pa.FetchXmlHttpFactory=Hs,Wl=Pa.WebChannel=Mu,Gl=Pa.XhrIo=Js,Ql={};function Xl(){throw new Error("setTimeout has not been defined")}function Yl(){throw new Error("clearTimeout has not been defined")}function Jl(e){if(Ul===setTimeout)return setTimeout(e,0);if((Ul===Xl||!Ul)&&setTimeout)return Ul=setTimeout,setTimeout(e,0);try{return Ul(e,0)}catch(t){try{return Ul.call(null,e,0)}catch(t){return Ul.call(this,e,0)}}}!function(){try{Ul="function"==typeof setTimeout?setTimeout:Xl}catch(e){Ul=Xl}try{Fl="function"==typeof clearTimeout?clearTimeout:Yl}catch(e){Fl=Yl}}();var $l,Zl=[],ec=!1,tc=-1;function nc(){ec&&$l&&(ec=!1,$l.length?Zl=$l.concat(Zl):tc=-1,Zl.length&&rc())}function rc(){if(!ec){var e=Jl(nc);ec=!0;for(var t=Zl.length;t;){for($l=Zl,Zl=[];++tc<t;)$l&&$l[tc].run();tc=-1,t=Zl.length}$l=null,ec=!1,function(e){if(Fl===clearTimeout)return clearTimeout(e);if((Fl===Yl||!Fl)&&clearTimeout)return Fl=clearTimeout,clearTimeout(e);try{Fl(e)}catch(t){try{return Fl.call(null,e)}catch(t){return Fl.call(this,e)}}}(e)}}function ic(e,t){this.fun=e,this.array=t}function ac(){}Ql.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Zl.push(new ic(e,t)),1!==Zl.length||ec||Jl(rc)},ic.prototype.run=function(){this.fun.apply(null,this.array)},Ql.title="browser",Ql.browser=!0,Ql.env={},Ql.argv=[],Ql.version="",Ql.versions={},Ql.on=ac,Ql.addListener=ac,Ql.once=ac,Ql.off=ac,Ql.removeListener=ac,Ql.removeAllListeners=ac,Ql.emit=ac,Ql.prependListener=ac,Ql.prependOnceListener=ac,Ql.listeners=function(e){return[]},Ql.binding=function(e){throw new Error("process.binding is not supported")},Ql.cwd=function(){return"/"},Ql.chdir=function(e){throw new Error("process.chdir is not supported")},Ql.umask=function(){return 0};var oc="@firebase/firestore",uc=function(){"use strict";function e(n){t(g)(this,e),this.uid=n}return t(k)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uc.UNAUTHENTICATED=new uc(null),uc.GOOGLE_CREDENTIALS=new uc("google-credentials-uid"),uc.FIRST_PARTY=new uc("first-party-uid"),uc.MOCK_USER=new uc("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var sc="9.8.0",lc=new Ce("@firebase/firestore");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(){return lc.logLevel}function fc(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(lc.logLevel<=ke.DEBUG){var a,o=r.map(pc);(a=lc).debug.apply(a,["Firestore (".concat(sc,"): ").concat(e)].concat(t(x)(o)))}}function hc(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(lc.logLevel<=ke.ERROR){var a,o=r.map(pc);(a=lc).error.apply(a,["Firestore (".concat(sc,"): ").concat(e)].concat(t(x)(o)))}}function dc(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(lc.logLevel<=ke.WARN){var a,o=r.map(pc);(a=lc).warn.apply(a,["Firestore (".concat(sc,"): ").concat(e)].concat(t(x)(o)))}}function pc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(sc,") INTERNAL ASSERTION FAILED: ")+e;throw hc(t),new Error(t)}function yc(e,t){e||vc()}function mc(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},kc=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i){var a;return t(g)(this,r),(a=n.call(this,e,i)).code=e,a.message=i,a.toString=function(){return"".concat(a.name,": [code=").concat(a.code,"]: ").concat(a.message)},t(Ra)(a)}return r}(re),bc=function e(){"use strict";var n=this;t(g)(this,e),this.promise=new Promise((function(e,t){n.resolve=e,n.reject=t}))},wc=function e(n,r){"use strict";t(g)(this,e),this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(n))},xc=function(){"use strict";function e(){t(g)(this,e)}return t(k)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(uc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ec=function(){"use strict";function e(n){t(g)(this,e),this.t=n,this.currentUser=uc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return t(k)(e,[{key:"start",value:function(e,n){var r=this,i=this.i,a=function(e){return r.i!==i?(i=r.i,n(e)):Promise.resolve()},o=new bc;this.o=function(){var t=r;r.i++,r.currentUser=r.u(),o.resolve(),o=new bc,e.enqueueRetryable((function(){return a(t.currentUser)}))};var u=function(){var n=o,i=r;e.enqueueRetryable(t(y)(t(C).mark((function e(){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.promise;case 2:return e.next=4,a(i.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){fc("FirebaseAuthCredentialsProvider","Auth detected"),r.auth=e,r.auth.addAuthTokenListener(r.o),u()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!r.auth){var e=r.t.getImmediate({optional:!0});e?s(e):(fc("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bc)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(fc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(yc("string"==typeof n.accessToken),new wc(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return yc(null===e||"string"==typeof e),new uc(e)}}]),e}(),Sc=function e(n,r,i){"use strict";t(g)(this,e),this.type="FirstParty",this.user=uc.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",r);var a=n.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)},_c=function(){"use strict";function e(n,r,i){t(g)(this,e),this.h=n,this.l=r,this.m=i}return t(k)(e,[{key:"getToken",value:function(){return Promise.resolve(new Sc(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(uc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Tc=function e(n){"use strict";t(g)(this,e),this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)},Ic=function(){"use strict";function e(n){t(g)(this,e),this.g=n,this.forceRefresh=!1,this.appCheck=null,this.p=null}return t(k)(e,[{key:"start",value:function(e,t){var n=this;this.o=function(r){e.enqueueRetryable((function(){return function(e){null!=e.error&&fc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,fc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()}(r)}))};var r=function(e){fc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):fc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(yc("string"==typeof t.token),e.p=t.token,new Tc(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Cc=function(){"use strict";function e(n,r){var i=this;t(g)(this,e),this.previousValue=n,r&&(r.sequenceNumberHandler=function(e){return i.I(e)},this.T=function(e){return r.writeSequenceNumber(e)})}return t(k)(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Nc(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cc.A=-1;var Ac=function(){"use strict";function e(){t(g)(this,e)}return t(k)(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Nc(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Rc(e,t){return e<t?-1:e>t?1:0}function Oc(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Dc=function(){"use strict";function e(n,r){if(t(g)(this,e),this.seconds=n,this.nanoseconds=r,r<0)throw new kc(gc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new kc(gc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new kc(gc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new kc(gc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}return t(k)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Rc(this.nanoseconds,e.nanoseconds):Rc(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Pc=function(){"use strict";function e(n){t(g)(this,e),this.timestamp=n}return t(k)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Dc(0,0))}},{key:"max",value:function(){return new e(new Dc(253402300799,999999999))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Lc(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Mc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Uc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fc=function(){"use strict";function e(n,r,i){t(g)(this,e),void 0===r?r=0:r>n.length&&vc(),void 0===i?i=n.length-r:i>n.length-r&&vc(),this.segments=n,this.offset=r,this.len=i}return t(k)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),jc=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(){return t(g)(this,r),n.apply(this,arguments)}return t(k)(r,[{key:"construct",value:function(e,t,n){return new r(e,t,n)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=[],o=!0,u=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var f,h=l.value;if(h.indexOf("//")>=0)throw new kc(gc.INVALID_ARGUMENT,"Invalid segment (".concat(h,"). Paths must not contain // in them."));(f=a).push.apply(f,t(x)(h.split("/").filter((function(e){return e.length>0}))))}}catch(e){u=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(u)throw s}}return new r(a)}},{key:"emptyPath",value:function(){return new r([])}}]),r}(Fc),Vc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zc=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(){return t(g)(this,r),n.apply(this,arguments)}return t(k)(r,[{key:"construct",value:function(e,t,n){return new r(e,t,n)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),r.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Vc.test(e)}},{key:"keyField",value:function(){return new r(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],n="",i=0,a=function(){if(0===n.length)throw new kc(gc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new kc(gc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new kc(gc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(n+=u,i++):(a(),i++)}if(a(),o)throw new kc(gc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new r(t)}},{key:"emptyPath",value:function(){return new r([])}}]),r}(Fc),Bc=function(){"use strict";function e(n){t(g)(this,e),this.fields=n,n.sort(zc.comparator)}return t(k)(e,[{key:"covers",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this.fields[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){if(i.value.isPrefixOf(e))return!0}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return!1}},{key:"isEqual",value:function(e){return Oc(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var qc=Symbol.iterator,Hc=function(){"use strict";function e(n){t(g)(this,e),this.binaryString=n}return t(k)(e,[{key:qc,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){var e;return e=this.binaryString,btoa(e)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Rc(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hc.EMPTY_BYTE_STRING=new Hc("");var Kc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wc(e){if(yc(!!e),"string"==typeof e){var t=0,n=Kc.exec(e);if(yc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Gc(e.seconds),nanos:Gc(e.nanos)}}function Gc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Qc(e){return"string"==typeof e?Hc.fromBase64String(e):Hc.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yc(e){var t=e.mapValue.fields.__previous_value__;return Xc(t)?Yc(t):t}function Jc(e){var t=Wc(e.mapValue.fields.__local_write_time__.timestampValue);return new Dc(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $c=function e(n,r,i,a,o,u,s,l){"use strict";t(g)(this,e),this.databaseId=n,this.appId=r,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=s,this.useFetchStreams=l},Zc=function(){"use strict";function e(n,r){t(g)(this,e),this.projectId=n,this.database=r||"(default)"}return t(k)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ef(e){return null==e}function tf(e){return 0===e&&1/e==-1/0}function nf(e){return"number"==typeof e&&Number.isInteger(e)&&!tf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rf=function(){"use strict";function e(n){t(g)(this,e),this.path=n}return t(k)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===jc.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(jc.fromString(t))}},{key:"fromName",value:function(t){return new e(jc.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(jc.emptyPath())}},{key:"comparator",value:function(e,t){return jc.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new jc(t.slice()))}}]),e}(),af={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xc(e)?4:bf(e)?9007199254740991:10:vc()}function uf(e,t){if(e===t)return!0;var n,r=of(e);if(r!==of(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Jc(e).isEqual(Jc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Wc(e.timestampValue),r=Wc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return n=t,Qc(e.bytesValue).isEqual(Qc(n.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Gc(e.geoPointValue.latitude)===Gc(t.geoPointValue.latitude)&&Gc(e.geoPointValue.longitude)===Gc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Gc(e.integerValue)===Gc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Gc(e.doubleValue),r=Gc(t.doubleValue);return n===r?tf(n)===tf(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Oc(e.arrayValue.values||[],t.arrayValue.values||[],uf);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Lc(n)!==Lc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!uf(n[i],r[i])))return!1;return!0}(e,t);default:return vc()}}function sf(e,t){return void 0!==(e.values||[]).find((function(e){return uf(e,t)}))}function lf(e,t){if(e===t)return 0;var n,r,i,a,o=of(e),u=of(t);if(o!==u)return Rc(o,u);switch(o){case 0:case 9007199254740991:return 0;case 1:return Rc(e.booleanValue,t.booleanValue);case 2:return r=t,i=Gc((n=e).integerValue||n.doubleValue),a=Gc(r.integerValue||r.doubleValue),i<a?-1:i>a?1:i===a?0:isNaN(i)?isNaN(a)?0:-1:1;case 3:return cf(e.timestampValue,t.timestampValue);case 4:return cf(Jc(e),Jc(t));case 5:return Rc(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Qc(e),r=Qc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Rc(n[i],r[i]);if(0!==a)return a}return Rc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Rc(Gc(e.latitude),Gc(t.latitude));return 0!==n?n:Rc(Gc(e.longitude),Gc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=lf(n[i],r[i]);if(a)return a}return Rc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===af.mapValue&&t===af.mapValue)return 0;if(e===af.mapValue)return 1;if(t===af.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Rc(r[o],a[o]);if(0!==u)return u;var s=lf(n[r[o]],i[a[o]]);if(0!==s)return s}return Rc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw vc()}}function cf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Rc(e,t);var n=Wc(e),r=Wc(t),i=Rc(n.seconds,r.seconds);return 0!==i?i:Rc(n.nanos,r.nanos)}function ff(e){return hf(e)}function hf(e){var t,n,r,i;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(r=e.timestampValue,i=Wc(r),"time(".concat(i.seconds,",").concat(i.nanos,")")):"stringValue"in e?e.stringValue:"bytesValue"in e?Qc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,rf.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t="[",n=!0,r=!0,i=!1,a=void 0;try{for(var o,u=(e.values||[])[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value;n?n=!1:t+=",",t+=hf(s)}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return t+"]"}(e.arrayValue):"mapValue"in e?function(e){var t=Object.keys(e.fields||{}).sort(),n="{",r=!0,i=!0,a=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value;r?r=!1:n+=",",n+="".concat(l,":").concat(hf(e.fields[l]))}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return n+"}"}(e.mapValue):vc()}function df(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function pf(e){return!!e&&"integerValue"in e}function vf(e){return!!e&&"arrayValue"in e}function yf(e){return!!e&&"nullValue"in e}function mf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gf(e){return!!e&&"mapValue"in e}function kf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Mc(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=kf(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=kf(e.arrayValue.values[r]);return n}return Object.assign({},e)}function bf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wf=function(){"use strict";function e(n){t(g)(this,e),this.value=n}return t(k)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!gf(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kf(t)}},{key:"setAll",value:function(e){var t=this,n=zc.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=kf(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return uf(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];gf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Mc(t,(function(t,n){return e[t]=n}));var r=!0,i=!1,a=void 0;try{for(var o,u=n[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value;delete e[s]}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"clone",value:function(){return new e(kf(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function xf(e){var t=[];return Mc(e.fields,(function(e,n){var r=new zc([e]);if(gf(n)){var i=xf(n.mapValue).fields,a=!0,o=!1,u=void 0;if(0===i.length)t.push(r);else try{for(var s,l=i[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;t.push(r.child(c))}}catch(e){o=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw u}}}else t.push(r)})),new Bc(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ef=function(){"use strict";function e(n,r,i,a,o,u){t(g)(this,e),this.key=n,this.documentType=r,this.version=i,this.readTime=a,this.data=o,this.documentState=u}return t(k)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=wf.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=wf.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Pc.min(),Pc.min(),wf.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Pc.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Pc.min(),wf.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Pc.min(),wf.empty(),2)}}]),e}(),Sf=function e(n,r,i,a){"use strict";t(g)(this,e),this.indexId=n,this.collectionGroup=r,this.fields=i,this.indexState=a};Sf.UNKNOWN_ID=-1;function _f(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Pc.fromTimestamp(1e9===r?new Dc(n+1,0):new Dc(n,r));return new If(i,rf.empty(),t)}function Tf(e){return new If(e.readTime,e.key,-1)}var If=function(){"use strict";function e(n,r,i){t(g)(this,e),this.readTime=n,this.documentKey=r,this.largestBatchId=i}return t(k)(e,null,[{key:"min",value:function(){return new e(Pc.min(),rf.empty(),-1)}},{key:"max",value:function(){return new e(Pc.max(),rf.empty(),-1)}}]),e}();function Cf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=rf.comparator(e.documentKey,t.documentKey))?n:Rc(e.largestBatchId,t.largestBatchId)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nf=function(){"use strict";function e(n,r){t(g)(this,e),this.comparator=n,this.root=r||Rf.EMPTY}return t(k)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Rf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rf.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Af(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Af(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Af(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Af(this.root,e,this.comparator,!0)}}]),e}(),Af=function(){"use strict";function e(n,r,i,a){t(g)(this,e),this.isReverse=a,this.nodeStack=[];for(var o=1;!n.isEmpty();)if(o=r?i(n.key,r):1,r&&a&&(o*=-1),o<0)n=this.isReverse?n.left:n.right;else{if(0===o){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}return t(k)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Rf=function(){"use strict";function e(n,r,i,a,o){t(g)(this,e),this.key=n,this.value=r,this.color=null!=i?i:e.RED,this.left=null!=a?a:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return t(k)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw vc();if(this.right.isRed())throw vc();var e=this.left.check();if(e!==this.right.check())throw vc();return e+(this.isRed()?0:1)}}]),e}();Rf.EMPTY=null,Rf.RED=!0,Rf.BLACK=!1,Rf.EMPTY=new(function(){"use strict";function e(){t(g)(this,e),this.size=0}return t(k)(e,[{key:"key",get:function(){throw vc()}},{key:"value",get:function(){throw vc()}},{key:"color",get:function(){throw vc()}},{key:"left",get:function(){throw vc()}},{key:"right",get:function(){throw vc()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Rf(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Of=function(){"use strict";function e(n){t(g)(this,e),this.comparator=n,this.data=new Nf(this.comparator)}return t(k)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Df(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Df(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Df=function(){"use strict";function e(n){t(g)(this,e),this.iter=n}return t(k)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pf=function e(n){"use strict";var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;t(g)(this,e),this.path=n,this.collectionGroup=r,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=s,this.P=null};function Lf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Pf(e,t,n,r,i,a,o)}function Mf(e){var t=mc(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){var t;return(t=e).field.canonicalString()+t.op.toString()+ff(t.value)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return(t=e).field.canonicalString()+t.dir;var t})).join(","),ef(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ff(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ff(e)})).join(",")),t.P=n}return t.P}function Uf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Yf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!uf(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$f(e.startAt,t.startAt)&&$f(e.endAt,t.endAt)}function Ff(e){return rf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var jf=function(e){"use strict";t(R)(r,(function e(){t(g)(this,e)}));var n=t(z)(r);function r(e,i,a){var o;return t(g)(this,r),(o=n.call(this)).field=e,o.op=i,o.value=a,t(Ra)(o)}return t(k)(r,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(lf(t,this.value)):null!==t&&of(this.value)===of(t)&&this.v(lf(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vc()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,n):new Vf(e,t,n):"array-contains"===t?new Hf(e,n):"in"===t?new Kf(e,n):"not-in"===t?new Wf(e,n):"array-contains-any"===t?new Gf(e,n):new r(e,t,n)}},{key:"V",value:function(e,t,n){return"in"===t?new zf(e,n):new Bf(e,n)}}]),r}(),Vf=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i,a){var o;return t(g)(this,r),(o=n.call(this,e,i,a)).key=rf.fromName(a.referenceValue),t(Ra)(o)}return t(k)(r,[{key:"matches",value:function(e){var t=rf.comparator(e.key,this.key);return this.v(t)}}]),r}(jf),zf=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i){var a;return t(g)(this,r),(a=n.call(this,e,"in",i)).keys=qf("in",i),t(Ra)(a)}return t(k)(r,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),r}(jf),Bf=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i){var a;return t(g)(this,r),(a=n.call(this,e,"not-in",i)).keys=qf("not-in",i),t(Ra)(a)}return t(k)(r,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),r}(jf);function qf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return rf.fromName(e.referenceValue)}))}var Hf=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i){return t(g)(this,r),n.call(this,e,"array-contains",i)}return t(k)(r,[{key:"matches",value:function(e){var t=e.data.field(this.field);return vf(t)&&sf(t.arrayValue,this.value)}}]),r}(jf),Kf=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i){return t(g)(this,r),n.call(this,e,"in",i)}return t(k)(r,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&sf(this.value.arrayValue,t)}}]),r}(jf),Wf=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i){return t(g)(this,r),n.call(this,e,"not-in",i)}return t(k)(r,[{key:"matches",value:function(e){if(sf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!sf(this.value.arrayValue,t)}}]),r}(jf),Gf=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i){return t(g)(this,r),n.call(this,e,"array-contains-any",i)}return t(k)(r,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!vf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return sf(t.value.arrayValue,e)}))}}]),r}(jf),Qf=function e(n,r){"use strict";t(g)(this,e),this.position=n,this.inclusive=r},Xf=function e(n){"use strict";var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";t(g)(this,e),this.field=n,this.dir=r};function Yf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Jf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?rf.comparator(rf.fromName(o.referenceValue),n.key):lf(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function $f(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!uf(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zf=function e(n){"use strict";var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;t(g)(this,e),this.path=n,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=s,this.endAt=l,this.D=null,this.C=null,this.startAt,this.endAt};function eh(e,t,n,r,i,a,o,u){return new Zf(e,t,n,r,i,a,o,u)}function th(e){return new Zf(e)}function nh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function rh(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.filters[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(o.S())return o.field}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return null}function ih(e){return null!==e.collectionGroup}function ah(e){var t=mc(e);if(null===t.D){t.D=[];var n=rh(t),r=nh(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Xf(n)),t.D.push(new Xf(zc.keyField(),"asc"));else{var i=!1,a=!0,o=!1,u=void 0;try{for(var s,l=t.explicitOrderBy[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;t.D.push(c),c.field.isKeyField()&&(i=!0)}}catch(e){o=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw u}}if(!i){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Xf(zc.keyField(),f))}}}return t.D}function oh(e){var t=mc(e);if(!t.C)if("F"===t.limitType)t.C=Lf(t.path,t.collectionGroup,ah(t),t.filters,t.limit,t.startAt,t.endAt);else{var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=ah(t)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value,l="desc"===s.dir?"asc":"desc";n.push(new Xf(s.field,l))}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}var c=t.endAt?new Qf(t.endAt.position,t.endAt.inclusive):null,f=t.startAt?new Qf(t.startAt.position,t.startAt.inclusive):null;t.C=Lf(t.path,t.collectionGroup,n,t.filters,t.limit,c,f)}return t.C}function uh(e,t,n){return new Zf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function sh(e,t){return Uf(oh(e),oh(t))&&e.limitType===t.limitType}function lh(e){return"".concat(Mf(oh(e)),"|lt:").concat(e.limitType)}function ch(e){return"Query(target=".concat((t=oh(e),n=t.path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: [".concat(t.filters.map((function(e){var t;return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ff(t.value))})).join(", "),"]")),ef(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: [".concat(t.orderBy.map((function(e){return"".concat((t=e).field.canonicalString()," (").concat(t.dir,")");var t})).join(", "),"]")),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ff(e)})).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ff(e)})).join(",")),"Target(".concat(n,")")),"; limitType=").concat(e.limitType,")");var t,n}function fh(e,t){return t.isFoundDocument()&&(i=e,o=(a=t).key.path,null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):rf.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o))&&function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=e.explicitOrderBy[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;if(!u.field.isKeyField()&&null===t.data.field(u.field))return!1}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return!0}(e,t)&&function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=e.filters[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){if(!a.value.matches(t))return!1}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){var r=Jf(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,ah(n),r)||n.endAt&&!function(e,t,n){var r=Jf(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,ah(n),r)));var n,r,i,a,o}function hh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function dh(e){return function(t,n){var r=!1,i=!0,a=!1,o=void 0;try{for(var u,s=ah(e)[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value,c=ph(l,t,n);if(0!==c)return c;r=r||l.field.isKeyField()}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return 0}}function ph(e,t,n){var r,i,a,o,u=e.field.isKeyField()?rf.comparator(t.key,n.key):(r=e.field,i=n,a=t.data.field(r),o=i.data.field(r),null!==a&&null!==o?lf(a,o):vc());switch(e.dir){case"asc":return u;case"desc":return-1*u;default:return vc()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(t)?"-0":t}}function yh(e){return{integerValue:""+e}}function mh(e,t){return nf(t)?yh(t):vh(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gh=function e(){"use strict";t(g)(this,e),this._=void 0};function kh(e,t,n){return e instanceof xh?(i=t,a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(a.fields.__previous_value__=i),{mapValue:a}):e instanceof Eh?Sh(e,t):e instanceof _h?Th(e,t):function(e,t){var n=wh(e,t),r=Ch(n)+Ch(e.k);return pf(n)&&pf(e.k)?yh(r):vh(e.M,r)}(e,t);var r,i,a}function bh(e,t,n){return e instanceof Eh?Sh(e,t):e instanceof _h?Th(e,t):n}function wh(e,t){var n,r;return e instanceof Ih?pf(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null}var xh=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(){return t(g)(this,r),n.apply(this,arguments)}return r}(gh),Eh=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e){var i;return t(g)(this,r),(i=n.call(this)).elements=e,t(Ra)(i)}return r}(gh);function Sh(e,t){var n=Nh(t),r=!0,i=!1,a=void 0;try{for(var o,u=function(e,t){var r=t.value;n.some((function(e){return uf(e,r)}))||n.push(r)},s=e.elements[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)u(0,o)}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return{arrayValue:{values:n}}}var _h=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e){var i;return t(g)(this,r),(i=n.call(this)).elements=e,t(Ra)(i)}return r}(gh);function Th(e,t){var n=Nh(t),r=!0,i=!1,a=void 0;try{for(var o,u=function(e,t){var r=t.value;n=n.filter((function(e){return!uf(e,r)}))},s=e.elements[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)u(0,o)}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return{arrayValue:{values:n}}}var Ih=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i){var a;return t(g)(this,r),(a=n.call(this)).M=e,a.k=i,t(Ra)(a)}return r}(gh);function Ch(e){return Gc(e.integerValue||e.doubleValue)}function Nh(e){return vf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ah=function e(n,r){"use strict";t(g)(this,e),this.version=n,this.transformResults=r},Rh=function(){"use strict";function e(n,r){t(g)(this,e),this.updateTime=n,this.exists=r}return t(k)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Oh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Dh=function e(){"use strict";t(g)(this,e)};function Ph(e,t,n){var r,i,a,o,u;e instanceof jh?(i=t,a=n,o=(r=e).value.clone(),u=Bh(r.fieldTransforms,i,a.transformResults),o.setAll(u),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()):e instanceof Vh?function(e,t,n){if(Oh(e.precondition,t)){var r=Bh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(zh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Lh(e,t,n){var r;e instanceof jh?function(e,t,n){if(Oh(e.precondition,t)){var r=e.value.clone(),i=qh(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Fh(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Vh?function(e,t,n){if(Oh(e.precondition,t)){var r=qh(e.fieldTransforms,n,t),i=t.data;i.setAll(zh(e)),i.setAll(r),t.convertToFoundDocument(Fh(t),i).setHasLocalMutations()}}(e,t,n):(r=t,Oh(e.precondition,r)&&r.convertToNoDocument(Pc.min()))}function Mh(e,t){var n=null,r=!0,i=!1,a=void 0;try{for(var o,u=e.fieldTransforms[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value,l=t.data.field(s.field),c=wh(s.transform,l||null);null!=c&&(null==n&&(n=wf.empty()),n.set(s.field,c))}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n||null}function Uh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Oc(n,r,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof Eh&&r instanceof Eh||n instanceof _h&&r instanceof _h?Oc(n.elements,r.elements,uf):n instanceof Ih&&r instanceof Ih?uf(n.k,r.k):n instanceof xh&&r instanceof xh);var n,r}(e,t)}))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function Fh(e){return e.isFoundDocument()?e.version:Pc.min()}var jh=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i,a){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return t(g)(this,r),(o=n.call(this)).key=e,o.value=i,o.precondition=a,o.fieldTransforms=u,o.type=0,t(Ra)(o)}return r}(Dh),Vh=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i,a,o){var u,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return t(g)(this,r),(u=n.call(this)).key=e,u.data=i,u.fieldMask=a,u.precondition=o,u.fieldTransforms=s,u.type=1,t(Ra)(u)}return r}(Dh);function zh(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Bh(e,t,n){var r=new Map;yc(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,bh(o,u,n[i]))}return r}function qh(e,t,n){var r=new Map,i=!0,a=!1,o=void 0;try{for(var u,s=e[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value,c=l.transform,f=n.data.field(l.field);r.set(l.field,kh(c,f,t))}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return r}var Hh,Kh,Wh=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i){var a;return t(g)(this,r),(a=n.call(this)).key=e,a.precondition=i,a.type=2,a.fieldTransforms=[],t(Ra)(a)}return r}(Dh),Gh=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i){var a;return t(g)(this,r),(a=n.call(this)).key=e,a.precondition=i,a.type=3,a.fieldTransforms=[],t(Ra)(a)}return r}(Dh),Qh=function e(n){"use strict";t(g)(this,e),this.count=n};function Xh(e){switch(e){default:return vc();case gc.CANCELLED:case gc.UNKNOWN:case gc.DEADLINE_EXCEEDED:case gc.RESOURCE_EXHAUSTED:case gc.INTERNAL:case gc.UNAVAILABLE:case gc.UNAUTHENTICATED:return!1;case gc.INVALID_ARGUMENT:case gc.NOT_FOUND:case gc.ALREADY_EXISTS:case gc.PERMISSION_DENIED:case gc.FAILED_PRECONDITION:case gc.ABORTED:case gc.OUT_OF_RANGE:case gc.UNIMPLEMENTED:case gc.DATA_LOSS:return!0}}function Yh(e){if(void 0===e)return hc("GRPC error has no .code"),gc.UNKNOWN;switch(e){case Hh.OK:return gc.OK;case Hh.CANCELLED:return gc.CANCELLED;case Hh.UNKNOWN:return gc.UNKNOWN;case Hh.DEADLINE_EXCEEDED:return gc.DEADLINE_EXCEEDED;case Hh.RESOURCE_EXHAUSTED:return gc.RESOURCE_EXHAUSTED;case Hh.INTERNAL:return gc.INTERNAL;case Hh.UNAVAILABLE:return gc.UNAVAILABLE;case Hh.UNAUTHENTICATED:return gc.UNAUTHENTICATED;case Hh.INVALID_ARGUMENT:return gc.INVALID_ARGUMENT;case Hh.NOT_FOUND:return gc.NOT_FOUND;case Hh.ALREADY_EXISTS:return gc.ALREADY_EXISTS;case Hh.PERMISSION_DENIED:return gc.PERMISSION_DENIED;case Hh.FAILED_PRECONDITION:return gc.FAILED_PRECONDITION;case Hh.ABORTED:return gc.ABORTED;case Hh.OUT_OF_RANGE:return gc.OUT_OF_RANGE;case Hh.UNIMPLEMENTED:return gc.UNIMPLEMENTED;case Hh.DATA_LOSS:return gc.DATA_LOSS;default:return vc()}}(Kh=Hh||(Hh={}))[Kh.OK=0]="OK",Kh[Kh.CANCELLED=1]="CANCELLED",Kh[Kh.UNKNOWN=2]="UNKNOWN",Kh[Kh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kh[Kh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kh[Kh.NOT_FOUND=5]="NOT_FOUND",Kh[Kh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kh[Kh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kh[Kh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kh[Kh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kh[Kh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kh[Kh.ABORTED=10]="ABORTED",Kh[Kh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kh[Kh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kh[Kh.INTERNAL=13]="INTERNAL",Kh[Kh.UNAVAILABLE=14]="UNAVAILABLE",Kh[Kh.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Jh=function(){"use strict";function e(n,r){t(g)(this,e),this.mapKeyFn=n,this.equalsFn=r,this.inner={},this.innerSize=0}return t(k)(e,[{key:"get",value:function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){var i=!0,a=!1,o=void 0;try{for(var u,s=r[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=t(c)(u.value,2),f=l[0],h=l[1];if(this.equalsFn(f,e))return h}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Mc(this.inner,(function(n,r){var i=!0,a=!1,o=void 0;try{for(var u,s=r[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=t(c)(u.value,2),f=l[0],h=l[1];e(f,h)}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}))}},{key:"isEmpty",value:function(){return Uc(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),$h=new Nf(rf.comparator);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(){return $h}var ed=new Nf(rf.comparator);function td(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ed,i=!0,a=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value;r=r.insert(l.key,l)}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return r}function nd(){return new Jh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var rd=new Nf(rf.comparator),id=new Of(rf.comparator);function ad(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=id,i=!0,a=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value;r=r.add(l)}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return r}var od=new Of(Rc);function ud(){return od}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sd=function(){"use strict";function e(n,r,i,a,o){t(g)(this,e),this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}return t(k)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,ld.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Pc.min(),r,ud(),Zh(),ad())}}]),e}(),ld=function(){"use strict";function e(n,r,i,a,o){t(g)(this,e),this.resumeToken=n,this.current=r,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}return t(k)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Hc.EMPTY_BYTE_STRING,n,ad(),ad(),ad())}}]),e}(),cd=function e(n,r,i,a){"use strict";t(g)(this,e),this.O=n,this.removedTargetIds=r,this.key=i,this.F=a},fd=function e(n,r){"use strict";t(g)(this,e),this.targetId=n,this.$=r},hd=function e(n,r){"use strict";var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hc.EMPTY_BYTE_STRING,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t(g)(this,e),this.state=n,this.targetIds=r,this.resumeToken=i,this.cause=a},dd=function(){"use strict";function e(){t(g)(this,e),this.B=0,this.L=yd(),this.U=Hc.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return t(k)(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=ad(),t=ad(),n=ad();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vc()}})),new ld(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=yd()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),pd=function(){"use strict";function e(n){t(g)(this,e),this.nt=n,this.st=new Map,this.it=Zh(),this.rt=vd(),this.ot=new Of(Rc)}return t(k)(e,[{key:"ut",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.O[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;e.F&&e.F.isFoundDocument()?this.at(o,e.F):this.ct(o,e.key,e.F)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}var u=!0,s=!1,l=void 0;try{for(var c,f=e.removedTargetIds[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=c.value;this.ct(h,e.key,e.F)}}catch(e){s=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw l}}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:vc()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Ff(i))if(0===n){var a=new rf(i.path);this.ct(t,a,Ef.newNoDocument(a,Pc.min()))}else yc(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Ff(a.target)){var o=new rf(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Ef.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=ad();this.rt.forEach((function(e,n){var i=t,a=!0;n.forEachWhile((function(e){var t=i.wt(e);return!t||2===t.purpose||(a=!1,!1)})),a&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new sd(e,n,this.ot,this.it,r);return this.it=Zh(),this.rt=vd(),this.ot=new Of(Rc),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new dd,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Of(Rc),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||fc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new dd),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function vd(){return new Nf(rf.comparator)}function yd(){return new Nf(rf.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var md={asc:"ASCENDING",desc:"DESCENDING"},gd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kd=function e(n,r){"use strict";t(g)(this,e),this.databaseId=n,this.N=r};function bd(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function wd(e,t){return e.N?t.toBase64():t.toUint8Array()}function xd(e,t){return bd(e,t.toTimestamp())}function Ed(e){return yc(!!e),Pc.fromTimestamp((t=Wc(e),new Dc(t.seconds,t.nanos)));var t}function Sd(e,t){return(n=e,new jc(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function _d(e){var t=jc.fromString(e);return yc(qd(t)),t}function Td(e,t){return Sd(e.databaseId,t.path)}function Id(e,t){var n=_d(t);if(n.get(1)!==e.databaseId.projectId)throw new kc(gc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kc(gc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rf(Rd(n))}function Cd(e,t){return Sd(e.databaseId,t)}function Nd(e){var t=_d(e);return 4===t.length?jc.emptyPath():Rd(t)}function Ad(e){return new jc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rd(e){return yc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Od(e,t,n){return{name:Td(e,t),fields:n.value.mapValue.fields}}function Dd(e,t){var n,r,i;if(t instanceof jh)n={update:Od(e,t.key,t.value)};else if(t instanceof Wh)n={delete:Td(e,t.key)};else if(t instanceof Vh)n={update:Od(e,t.key,t.data),updateMask:(r=t.fieldMask,i=[],r.fields.forEach((function(e){return i.push(e.canonicalString())})),{fieldPaths:i})};else{if(!(t instanceof Gh))return vc();n={verify:Td(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof xh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Eh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _h)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ih)return{fieldPath:t.field.canonicalString(),increment:n.k};throw vc()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:xd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vc()}(e,t.precondition)),n}function Pd(e,t){return{documents:[Cd(e,t.path)]}}function Ld(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Cd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Cd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(mf(e.value))return{unaryFilter:{field:Vd(e.field),op:"IS_NAN"}};if(yf(e.value))return{unaryFilter:{field:Vd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mf(e.value))return{unaryFilter:{field:Vd(e.field),op:"IS_NOT_NAN"}};if(yf(e.value))return{unaryFilter:{field:Vd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vd(e.field),op:jd(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return{field:Vd((t=e).field),direction:Fd(t.dir)};var t}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u,s,l=(o=e,u=t.limit,o.N||ef(u)?u:{value:u});return null!==l&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Md(e){var t=Nd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){yc(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ud(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return new Xf(zd((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));var s,l,c=null;n.limit&&(s=n.limit,c=ef(l="object"==typeof s?s.value:s)?null:l);var f=null;n.startAt&&(f=function(e){var t=!!e.before,n=e.values||[];return new Qf(n,t)}(n.startAt));var h=null;return n.endAt&&(h=function(e){var t=!e.before,n=e.values||[];return new Qf(n,t)}(n.endAt)),eh(t,i,u,o,c,"F",f,h)}function Ud(e){return e?void 0!==e.unaryFilter?[Bd(e)]:void 0!==e.fieldFilter?[(t=e,jf.create(zd(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vc()}}(t.fieldFilter.op),t.fieldFilter.value))]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ud(e)})).reduce((function(e,t){return e.concat(t)})):vc():[];var t}function Fd(e){return md[e]}function jd(e){return gd[e]}function Vd(e){return{fieldPath:e.canonicalString()}}function zd(e){return zc.fromServerFormat(e.fieldPath)}function Bd(e){switch(e.unaryFilter.op){case"IS_NAN":var t=zd(e.unaryFilter.field);return jf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=zd(e.unaryFilter.field);return jf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=zd(e.unaryFilter.field);return jf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=zd(e.unaryFilter.field);return jf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vc()}}function qd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kd=(t(x)(Hd).concat(["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Wd=(t(x)(Kd).concat(["indexConfiguration","indexState","indexEntries"]),"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),Gd=function(){"use strict";function e(){t(g)(this,e),this.onCommittedListeners=[]}return t(k)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Qd=function(){"use strict";function e(n){var r=this;t(g)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n((function(e){r.isDone=!0,r.result=e,r.nextCallback&&r.nextCallback(e)}),(function(e){r.isDone=!0,r.error=e,r.catchCallback&&r.catchCallback(e)}))}return t(k)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&vc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){var a=r;r.nextCallback=function(n){a.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){a.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n=e.resolve(!1),r=!0,i=!1,a=void 0;try{for(var o,u=function(t,r){var i=r.value;n=n.next((function(t){return t?e.resolve(t):i()}))},s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)u(0,o)}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Yd=function(){"use strict";function e(n,r,i,a){t(g)(this,e),this.batchId=n,this.localWriteTime=r,this.baseMutations=i,this.mutations=a}return t(k)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ph(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this.baseMutations[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;o.key.isEqual(e.key)&&Lh(o,e,this.localWriteTime)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}var u=!0,s=!1,l=void 0;try{for(var c,f=this.mutations[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=c.value;h.key.isEqual(e.key)&&Lh(h,e,this.localWriteTime)}}catch(e){s=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw l}}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Pc.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ad())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Oc(this.mutations,e.mutations,(function(e,t){return Uh(e,t)}))&&Oc(this.baseMutations,e.baseMutations,(function(e,t){return Uh(e,t)}))}}]),e}(),Jd=function(){"use strict";function e(n,r,i,a){t(g)(this,e),this.batch=n,this.commitVersion=r,this.mutationResults=i,this.docVersions=a}return t(k)(e,null,[{key:"from",value:function(t,n,r){yc(t.mutations.length===r.length);for(var i=rd,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),$d=function(){"use strict";function e(n,r){t(g)(this,e),this.largestBatchId=n,this.mutation=r}return t(k)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Zd=function(){"use strict";function e(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pc.min(),u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Pc.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Hc.EMPTY_BYTE_STRING;t(g)(this,e),this.target=n,this.targetId=r,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=s}return t(k)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ep=function e(n){"use strict";t(g)(this,e),this.Jt=n};function tp(e){var t=Md({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?uh(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var np=function(){"use strict";function e(){t(g)(this,e)}return t(k)(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Gc(e.integerValue));else if("doubleValue"in e){var n=Gc(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),tf(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Qc(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?bf(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):vc()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);var r=!0,i=!1,a=void 0;try{for(var o,u=Object.keys(n)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value;this.re(s,t),this.te(n[s],t)}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r=!0,i=!1,a=void 0;try{for(var o,u=n[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value;this.te(s,t)}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),rf.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();np.fe=new np;
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rp=function(){"use strict";function e(){t(g)(this,e),this.qe=new ip}return t(k)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),Qd.resolve()}},{key:"getCollectionParents",value:function(e,t){return Qd.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Qd.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Qd.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Qd.resolve(null)}},{key:"getIndexType",value:function(e,t){return Qd.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Qd.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Qd.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Qd.resolve(If.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Qd.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Qd.resolve()}}]),e}(),ip=function(){"use strict";function e(){t(g)(this,e),this.index={}}return t(k)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Of(jc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Of(jc.comparator)).toArray()}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Uint8Array(0);
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ap=function(){"use strict";function e(n,r,i){t(g)(this,e),this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=i}return t(k)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ap.DEFAULT_COLLECTION_PERCENTILE=10,ap.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ap.DEFAULT=new ap(41943040,ap.DEFAULT_COLLECTION_PERCENTILE,ap.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ap.DISABLED=new ap(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var op=function(){"use strict";function e(n){t(g)(this,e),this.mn=n}return t(k)(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(e){return sp.apply(this,arguments)}function sp(){return(sp=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t(y)(t(C).mark((function e(n){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code===gc.FAILED_PRECONDITION&&n.message===Wd){e.next=2;break}throw n;case 2:fc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var lp=function(){"use strict";function e(){t(g)(this,e),this.changes=new Jh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return t(k)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ef.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Qd.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cp=function(){"use strict";function e(n,r,i){t(g)(this,e),this.ds=n,this.Bs=r,this.indexManager=i}return t(k)(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t=!0,r=!1,i=void 0;try{for(var a,o=n[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){a.value.applyToLocalView(e)}}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){o.value.applyToLocalView(n)}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return r=t,rf.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.js(e,t.path):ih(t)?this.Ws(e,t,n):this.zs(e,t,n);var r}},{key:"js",value:function(e,t){return this.Ls(e,new rf(t)).next((function(e){var t=td();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=td();return this.indexManager.getCollectionParents(e,i).next((function(o){return Qd.forEach(o,(function(o){var u,s,l=(u=t,s=o.child(i),new Zf(s,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));return r.zs(e,l,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t=!0,n=!1,i=void 0,a=!0,o=!1,u=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;try{for(var f,h=c.mutations[Symbol.iterator]();!(t=(f=h.next()).done);t=!0){var d=f.value,p=d.key,v=r.get(p);null==v&&(v=Ef.newInvalidDocument(p),r=r.insert(p,v)),Lh(d,v,c.localWriteTime),v.isFoundDocument()||(r=r.remove(p))}}catch(e){n=!0,i=e}finally{try{t||null==h.return||h.return()}finally{if(n)throw i}}}}catch(e){o=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw u}}})).next((function(){return r.forEach((function(e,n){fh(t,n)||(r=r.remove(e))})),r}))}}]),e}(),fp=function(){"use strict";function e(n,r,i,a){t(g)(this,e),this.targetId=n,this.fromCache=r,this.Hs=i,this.Js=a}return t(k)(e,null,[{key:"Ys",value:function(t,n){var r=ad(),i=ad(),a=!0,o=!1,u=void 0;try{for(var s,l=n.docChanges[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}}}catch(e){o=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw u}}return new e(t,n.fromCache,r,i)}}]),e}(),hp=function(){"use strict";function e(){t(g)(this,e),this.Xs=!1}return t(k)(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return Qd.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Pc.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(cc()<=ke.DEBUG&&fc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ch(t)),i.ri(e,o,t,_f(r,-1)))}))}},{key:"si",value:function(e,t){var n=new Of(dh(e));return t.forEach((function(t,r){fh(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return cc()<=ke.DEBUG&&fc("QueryEngine","Using full collection scan to execute query:",ch(t)),this.Zs.Qs(e,t,If.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),dp=function(){"use strict";function e(n,r,i,a){t(g)(this,e),this.persistence=n,this.oi=r,this.M=a,this.ui=new Nf(Rc),this.ai=new Jh((function(e){return Mf(e)}),Uf),this.ci=new Map,this.hi=n.getRemoteDocumentCache(),this.fs=n.getTargetCache(),this._s=n.getBundleCache(),this.li(i)}return t(k)(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new cp(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(e,t,n,r){return new dp(e,t,n,r)}function vp(e,t){return yp.apply(this,arguments)}function yp(){return(yp=t(y)(t(C).mark((function e(n,r){var i;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mc(n),e.next=3,i.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return i.Bs.getAllMutationBatches(e).next((function(n){return t=n,i.li(r),i.Bs.getAllMutationBatches(e)})).next((function(n){var r=[],a=[],o=ad(),u=!0,s=!1,l=void 0;try{for(var c,f=t[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=c.value;r.push(h.batchId);var d=!0,p=!1,v=void 0;try{for(var y,m=h.mutations[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var g=y.value;o=o.add(g.key)}}catch(e){p=!0,v=e}finally{try{d||null==m.return||m.return()}finally{if(p)throw v}}}}catch(e){s=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw l}}var k=!0,b=!1,w=void 0;try{for(var x,E=n[Symbol.iterator]();!(k=(x=E.next()).done);k=!0){var S=x.value;a.push(S.batchId);var _=!0,T=!1,I=void 0;try{for(var C,N=S.mutations[Symbol.iterator]();!(_=(C=N.next()).done);_=!0){var A=C.value;o=o.add(A.key)}}catch(e){T=!0,I=e}finally{try{_||null==N.return||N.return()}finally{if(T)throw I}}}}catch(e){b=!0,w=e}finally{try{k||null==E.return||E.return()}finally{if(b)throw w}}return i.fi.Ks(e,o).next((function(e){return{di:e,removedBatchIds:r,addedBatchIds:a}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mp(e,t){var n=mc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r,i,a,o,u,s,l,c=t.batch.keys(),f=n.hi.newChangeBuffer({trackRemovals:!0});return(r=n,i=e,a=t,o=f,u=a.batch,s=u.keys(),l=Qd.resolve(),s.forEach((function(e){l=l.next((function(){return o.getEntry(i,e)})).next((function(t){var n=a.docVersions.get(e);yc(null!==n),t.version.compareTo(n)<0&&(u.applyToRemoteDocument(t,a),t.isValidDocument()&&(t.setReadTime(a.commitVersion),o.addEntry(t)))}))})),l.next((function(){return r.Bs.removeMutationBatch(i,u)}))).next((function(){return f.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,c)}))}))}function gp(e){var t=mc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function kp(e,t){var n=mc(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var l,c,f,h=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?h=h.withResumeToken(Hc.EMPTY_BYTE_STRING,Pc.min()).withLastLimboFreeSnapshotVersion(Pc.min()):a.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(a.resumeToken,r)),i=i.insert(u,h),c=h,f=a,(0===(l=s).resumeToken.approximateByteSize()||c.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size>0)&&o.push(n.fs.updateTargetData(e,h))}}));var u=Zh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(bp(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Pc.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Qd.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}function bp(e,t,n){var r=ad();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Zh();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Pc.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):fc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function wp(e,t){var n=mc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function xp(e,t){var n=mc(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,Qd.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new Zd(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function Ep(e,t,n){return Sp.apply(this,arguments)}function Sp(){return(Sp=t(y)(t(C).mark((function e(n,r,i){var a,o,u;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=mc(n),o=a.ui.get(r),u=i?"readwrite":"readwrite-primary",e.prev=1,e.t0=i,e.t0){e.next=6;break}return e.next=6,a.persistence.runTransaction("Release target",u,(function(e){return a.persistence.referenceDelegate.removeTarget(e,o)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Xd(e.t1)){e.next=12;break}throw e.t1;case 12:fc("LocalStore","Failed to update sequence numbers for target ".concat(r,": ").concat(e.t1));case 13:a.ui=a.ui.remove(r),a.ai.delete(o.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function _p(e,t,n){var r=mc(e),i=Pc.min(),a=ad();return r.persistence.runTransaction("Execute query","readonly",(function(e){return(o=r,u=e,s=oh(t),l=mc(o),c=l.ai.get(s),void 0!==c?Qd.resolve(l.ui.get(c)):l.fs.getTargetData(u,s)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:Pc.min(),n?a:ad())})).next((function(e){return Tp(r,hh(t),e),{documents:e,_i:a}}));var o,u,s,l,c}))}function Tp(e,t,n){var r=Pc.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ip=function(){"use strict";function e(n){t(g)(this,e),this.M=n,this.yi=new Map,this.pi=new Map}return t(k)(e,[{key:"getBundleMetadata",value:function(e,t){return Qd.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:Ed(n.createTime)}),Qd.resolve()}},{key:"getNamedQuery",value:function(e,t){return Qd.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,{name:(n=t).name,query:tp(n.bundledQuery),readTime:Ed(n.readTime)}),Qd.resolve();var n}}]),e}(),Cp=function(){"use strict";function e(){t(g)(this,e),this.overlays=new Nf(rf.comparator),this.Ii=new Map}return t(k)(e,[{key:"getOverlay",value:function(e,t){return Qd.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),Qd.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),Qd.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=nd(),i=t.length+1,a=new rf(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Qd.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Nf((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=nd(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=nd(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Qd.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new $d(t,n));var a=this.Ii.get(t);void 0===a&&(a=ad(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),Np=function(){"use strict";function e(){t(g)(this,e),this.Ti=new Of(Ap.Ei),this.Ai=new Of(Ap.Ri)}return t(k)(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ap(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new Ap(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new rf(new jc([])),r=new Ap(n,e),i=new Ap(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new rf(new jc([])),n=new Ap(t,e),r=new Ap(t,e+1),i=ad();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ap(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ap=function(){"use strict";function e(n,r){t(g)(this,e),this.key=n,this.Ci=r}return t(k)(e,null,[{key:"Ei",value:function(e,t){return rf.comparator(e.key,t.key)||Rc(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return Rc(e.Ci,t.Ci)||rf.comparator(e.key,t.key)}}]),e}(),Rp=function(){"use strict";function e(n,r){t(g)(this,e),this.indexManager=n,this.referenceDelegate=r,this.Bs=[],this.xi=1,this.Ni=new Of(Ap.Ei)}return t(k)(e,[{key:"checkEmpty",value:function(e){return Qd.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new Yd(i,t,n,r);this.Bs.push(a);var o=!0,u=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var f=l.value;this.Ni=this.Ni.add(new Ap(f.key,i)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast())}}catch(e){u=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(u)throw s}}return Qd.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Qd.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return Qd.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Qd.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return Qd.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ap(t,0),i=new Ap(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),Qd.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Of(Rc);return t.forEach((function(e){var t=new Ap(e,0),i=new Ap(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),Qd.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;rf.isDocumentKey(i)||(i=i.child(""));var a=new Ap(new rf(i),0),o=new Of(Rc);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),Qd.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;yc(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return Qd.forEach(t.mutations,(function(i){var a=new Ap(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ap(t,0),r=this.Ni.firstAfterOrEqual(n);return Qd.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,Qd.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),Op=function(){"use strict";function e(n){t(g)(this,e),this.$i=n,this.docs=new Nf(rf.comparator),this.size=0}return t(k)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Qd.resolve(n?n.document.mutableCopy():Ef.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Zh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ef.newInvalidDocument(e))})),Qd.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Zh(),i=new rf(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Cf(Tf(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Qd.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){vc()}},{key:"Bi",value:function(e,t){return Qd.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Dp(this)}},{key:"getSize",value:function(e){return Qd.resolve(this.size)}}]),e}(),Dp=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e){var i;return t(g)(this,r),(i=n.call(this)).Kn=e,t(Ra)(i)}return t(k)(r,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),Qd.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),r}(lp),Pp=function(){"use strict";function e(n){t(g)(this,e),this.persistence=n,this.Li=new Jh((function(e){return Mf(e)}),Uf),this.lastRemoteSnapshotVersion=Pc.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Np,this.targetCount=0,this.Ki=op.gn()}return t(k)(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),Qd.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Qd.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Qd.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),Qd.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),Qd.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new op(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,Qd.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),Qd.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Qd.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Qd.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Qd.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return Qd.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),Qd.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Qd.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),Qd.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return Qd.resolve(n)}},{key:"containsKey",value:function(e,t){return Qd.resolve(this.qi.containsKey(t))}}]),e}(),Lp=function(){"use strict";function e(n,r){var i=this;t(g)(this,e),this.Gi={},this.overlays={},this.es=new Cc(0),this.ns=!1,this.ns=!0,this.referenceDelegate=n(this),this.fs=new Pp(this),this.indexManager=new rp,this.ds=new Op((function(e){return i.referenceDelegate.Qi(e)})),this.M=new ep(r),this._s=new Ip(this.M)}return t(k)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Cp,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new Rp(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;fc("MemoryPersistence","Starting transaction:",e);var i=new Mp(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return Qd.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Mp=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e){var i;return t(g)(this,r),(i=n.call(this)).currentSequenceNumber=e,t(Ra)(i)}return r}(Gd),Up=function(){"use strict";function e(n){t(g)(this,e),this.persistence=n,this.Hi=new Np,this.Ji=null}return t(k)(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw vc()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),Qd.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),Qd.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),Qd.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){var t=n;e.forEach((function(e){return t.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qd.forEach(this.Xi,(function(r){var i=rf.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,Pc.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return Qd.or([function(){return Qd.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fp=function(){"use strict";function e(){t(g)(this,e),this.activeTargetIds=ud()}return t(k)(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),jp=function(){"use strict";function e(){t(g)(this,e),this.Ur=new Fp,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t(k)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new Fp,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Vp=function(){"use strict";function e(){t(g)(this,e)}return t(k)(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),zp=function(){"use strict";function e(){var n=this;t(g)(this,e),this.Gr=function(){return n.Qr()},this.jr=function(){return n.Wr()},this.zr=[],this.Hr()}return t(k)(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){fc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e=!0,t=!1,n=void 0;try{for(var r,i=this.zr[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){(0,r.value)(0)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"Wr",value:function(){fc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e=!0,t=!1,n=void 0;try{for(var r,i=this.zr[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){(0,r.value)(1)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Bp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},qp=function(){"use strict";function e(n){t(g)(this,e),this.Jr=n.Jr,this.Yr=n.Yr}return t(k)(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),Hp=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e){var i;return t(g)(this,r),(i=n.call(this,e)).forceLongPolling=e.forceLongPolling,i.autoDetectLongPolling=e.autoDetectLongPolling,i.useFetchStreams=e.useFetchStreams,t(Ra)(i)}return t(k)(r,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Gl;o.listenOnce(Bl.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case zl.NO_ERROR:var t=o.getResponseJson();fc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case zl.TIMEOUT:fc("Connection",'RPC "'+e+'" timed out'),a(new kc(gc.DEADLINE_EXCEEDED,"Request time out"));break;case zl.HTTP_ERROR:var n=o.getStatus();if(fc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=(s=r.status,l=s.toLowerCase().replace(/_/g,"-"),Object.values(gc).indexOf(l)>=0?l:gc.UNKNOWN);a(new kc(u,r.message))}else a(new kc(gc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new kc(gc.UNAVAILABLE,"Connection failed."));break;default:vc()}}finally{fc("Connection",'RPC "'+e+'" completed.')}var s,l}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=jl(),a=Vl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Kl({})),this.lo(o.initMessageHeaders,t,n),$()||ee()||J().indexOf("Electron/")>=0||te()||J().indexOf("MSAppHost/")>=0||Z()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");fc("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),l=!1,c=!1,f=new qp({Jr:function(e){c?fc("Connection","Not sending because WebChannel is closed:",e):(l||(fc("Connection","Opening WebChannel transport."),s.open(),l=!0),fc("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Wl.EventType.OPEN,(function(){c||fc("Connection","WebChannel transport opened.")})),h(s,Wl.EventType.CLOSE,(function(){c||(c=!0,fc("Connection","WebChannel transport closed"),f.ro())})),h(s,Wl.EventType.ERROR,(function(e){c||(c=!0,dc("Connection","WebChannel transport errored:",e),f.ro(new kc(gc.UNAVAILABLE,"The operation could not be completed")))})),h(s,Wl.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];yc(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){fc("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Hh[e];if(void 0!==t)return Yh(t)}(a),u=i.message;void 0===o&&(o=gc.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),c=!0,f.ro(new kc(o,u)),s.close()}else fc("Connection","WebChannel received:",n),f.oo(n)}})),h(a,ql.STAT_EVENT,(function(e){e.stat===Hl.PROXY?fc("Connection","Detected buffering proxy"):e.stat===Hl.NOPROXY&&fc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),r}(function(){"use strict";function e(n){t(g)(this,e),this.databaseInfo=n,this.databaseId=n.databaseId;var r=n.ssl?"https":"http";this.uo=r+"://"+n.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t(k)(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);fc("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return fc("RestConnection","Received: ",e),e}),(function(t){throw dc("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+sc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Bp[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function Kp(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(e){return new kd(e,!0)}var Gp=function(){"use strict";function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;t(g)(this,e),this.Yn=n,this.timerId=r,this.mo=i,this.yo=a,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return t(k)(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&fc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Qp=function(){"use strict";function e(n,r,i,a,o,u,s,l){t(g)(this,e),this.Yn=n,this.Vo=i,this.vo=a,this.So=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Gp(n,r)}return t(k)(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=this;return t(y)(t(C).mark((function n(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.ko(),!t.t0){t.next=4;break}return t.next=4,e.close(0);case 4:case"end":return t.stop()}}),n)})))()}},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=this;return t(y)(t(C).mark((function n(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.Mo()){t.next=2;break}return t.abrupt("return",e.close(0));case 2:case"end":return t.stop()}}),n)})))()}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(e,n){var r=this;return t(y)(t(C).mark((function i(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():n&&n.code===gc.RESOURCE_EXHAUSTED?(hc(n.toString()),hc("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):n&&n.code===gc.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,t.next=9,r.listener.eo(n);case 9:case"end":return t.stop()}}),i)})))()}},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var n=this.Go(this.Do),r=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(n){var i=t(c)(n,2),a=i[0],o=i[1];e.Do===r&&e.Qo(a,o)}),(function(t){var r=e;n((function(){var e=new kc(gc.UNKNOWN,"Fetching auth token failed: "+t.message);return r.jo(e)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){var e=n;r((function(){return e.state=2,e.xo=e.Yn.enqueueAfterDelay(e.vo,1e4,(function(){return e.Mo()&&(e.state=3),Promise.resolve()})),e.listener.Xr()}))})),this.stream.eo((function(e){var t=n;r((function(){return t.jo(e)}))})),this.stream.onMessage((function(e){var t=n;r((function(){return t.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(t(y)(t(C).mark((function n(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),n)}))))}},{key:"jo",value:function(e){return fc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){var r=t;t.Yn.enqueueAndForget((function(){return r.Do===e?n():(fc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Xp=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i,a,o,u,s){var l;return t(g)(this,r),(l=n.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,s)).M=u,t(Ra)(l)}return t(k)(r,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n,r;if("targetChange"in t){t.targetChange;var i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:vc(),a=t.targetChange.targetIds||[],o=function(e,t){return e.N?(yc(void 0===t||"string"==typeof t),Hc.fromBase64String(t||"")):(yc(void 0===t||t instanceof Uint8Array),Hc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),u=t.targetChange.cause,s=u&&function(e){var t=void 0===e.code?gc.UNKNOWN:Yh(e.code);return new kc(t,e.message||"")}(u);n=new hd(i,a,o,s||null)}else if("documentChange"in t){t.documentChange;var l=t.documentChange;l.document,l.document.name,l.document.updateTime;var c=Id(e,l.document.name),f=Ed(l.document.updateTime),h=new wf({mapValue:{fields:l.document.fields}}),d=Ef.newFoundDocument(c,f,h),p=l.targetIds||[],v=l.removedTargetIds||[];n=new cd(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=Id(e,y.document),g=y.readTime?Ed(y.readTime):Pc.min(),k=Ef.newNoDocument(m,g),b=y.removedTargetIds||[];n=new cd([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Id(e,w.document),E=w.removedTargetIds||[];n=new cd([],E,x,null)}else{if(!("filter"in t))return vc();t.filter;var S=t.filter;S.targetId;var _=S.count||0,T=new Qh(_),I=S.targetId;n=new fd(I,T)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Pc.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Pc.min():t.readTime?Ed(t.readTime):Pc.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t,n,r,i,a={};a.database=Ad(this.M),a.addTarget=(t=this.M,i=(n=e).target,(r=Ff(i)?{documents:Pd(t,i)}:{query:Ld(t,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=wd(t,n.resumeToken):n.snapshotVersion.compareTo(Pc.min())>0&&(r.readTime=bd(t,n.snapshotVersion.toTimestamp())),r);var o=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);o&&(a.labels=o),this.Lo(a)}},{key:"Jo",value:function(e){var t={};t.database=Ad(this.M),t.removeTarget=e,this.Lo(t)}}]),r}(Qp),Yp=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i,a,o,u,s){var l;return t(g)(this,r),(l=n.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,s)).M=u,l.Yo=!1,t(Ra)(l)}return t(k)(r,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,t(It)(t(At)(r.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(yc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=(r=e.writeResults,i=e.commitTime,r&&r.length>0?(yc(void 0!==i),r.map((function(e){return n=i,(r=(t=e).updateTime?Ed(t.updateTime):Ed(n)).isEqual(Pc.min())&&(r=Ed(n)),new Ah(r,t.transformResults||[]);var t,n,r}))):[]),n=Ed(e.commitTime);return this.listener.tu(n,t)}var r,i;return yc(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=Ad(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Dd(t.M,e)}))};this.Lo(n)}}]),r}(Qp),Jp=function(e){"use strict";t(R)(r,(function e(){t(g)(this,e)}));var n=t(z)(r);function r(e,i,a,o){var u;return t(g)(this,r),(u=n.call(this)).authCredentials=e,u.appCheckCredentials=i,u.So=a,u.M=o,u.su=!1,t(Ra)(u)}return t(k)(r,[{key:"iu",value:function(){if(this.su)throw new kc(gc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,n,r){var i=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=t(c)(a,2),u=o[0],s=o[1];return i.So.co(e,n,r,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gc.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new kc(gc.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,n,r){var i=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=t(c)(a,2),u=o[0],s=o[1];return i.So._o(e,n,r,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gc.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new kc(gc.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),r}(),$p=function(){"use strict";function e(n,r){t(g)(this,e),this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return t(k)(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(hc(t),this.uu=!1):fc("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),Zp=function e(n,r,i,a,o){"use strict";var u=this;t(g)(this,e),this.localStore=n,this.datastore=r,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=o,this.gu.Kr((function(e){var n=u;i.enqueueAndForget(t(y)(t(C).mark((function e(){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=cv(n),!e.t0){e.next=5;break}return fc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=t(y)(t(C).mark((function e(n){var r;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=mc(n)).wu.add(4),e.next=4,nv(r);case 4:return r.yu.set("Unknown"),r.wu.delete(4),e.next=8,ev(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(n);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new $p(i,a)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(e){return tv.apply(this,arguments)}function tv(){return(tv=t(y)(t(C).mark((function e(n){var r,i,a,o,u,s;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!0,i=!1,a=void 0,!cv(n)){e.next=25;break}e.prev=2,o=n.mu[Symbol.iterator]();case 4:if(r=(u=o.next()).done){e.next=11;break}return s=u.value,e.next=8,s(!0);case 8:r=!0,e.next=4;break;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),i=!0,a=e.t0;case 17:e.prev=17,e.prev=18,r||null==o.return||o.return();case 20:if(e.prev=20,!i){e.next=23;break}throw a;case 23:return e.finish(20);case 24:return e.finish(17);case 25:case"end":return e.stop()}}),e,null,[[2,13,17,25],[18,,20,24]])})))).apply(this,arguments)}function nv(e){return rv.apply(this,arguments)}function rv(){return(rv=t(y)(t(C).mark((function e(n){var r,i,a,o,u,s;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,i=!1,a=void 0,e.prev=1,o=n.mu[Symbol.iterator]();case 3:if(r=(u=o.next()).done){e.next=10;break}return s=u.value,e.next=7,s(!1);case 7:r=!0,e.next=3;break;case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),i=!0,a=e.t0;case 16:e.prev=16,e.prev=17,r||null==o.return||o.return();case 19:if(e.prev=19,!i){e.next=22;break}throw a;case 22:return e.finish(19);case 23:return e.finish(16);case 24:case"end":return e.stop()}}),e,null,[[1,12,16,24],[17,,19,23]])})))).apply(this,arguments)}function iv(e,t){var n=mc(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),lv(n)?sv(n):jv(n).Mo()&&ov(n,t))}function av(e,t){var n=mc(e),r=jv(n);n._u.delete(t),r.Mo()&&uv(n,t),0===n._u.size&&(r.Mo()?r.$o():cv(n)&&n.yu.set("Unknown"))}function ov(e,t){e.pu.Z(t.targetId),jv(e).Ho(t)}function uv(e,t){e.pu.Z(t),jv(e).Jo(t)}function sv(e){e.pu=new pd({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),jv(e).start(),e.yu.au()}function lv(e){return cv(e)&&!jv(e).ko()&&e._u.size>0}function cv(e){return 0===mc(e).wu.size}function fv(e){e.pu=void 0}function hv(e){return dv.apply(this,arguments)}function dv(){return(dv=t(y)(t(C).mark((function e(n){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n._u.forEach((function(e,t){ov(n,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pv(e,t){return vv.apply(this,arguments)}function vv(){return(vv=t(y)(t(C).mark((function e(n,r){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fv(n),lv(n)?(n.yu.lu(r),sv(n)):n.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yv(e,t,n){return mv.apply(this,arguments)}function mv(){return mv=t(y)(t(C).mark((function e(n,r,i){var a;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.yu.set("Online"),!(r instanceof hd&&2===r.state&&r.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=t(y)(t(C).mark((function e(n,r){var i,a,o,u,s,l,c;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.cause,a=!0,o=!1,u=void 0,e.prev=2,s=r.targetIds[Symbol.iterator]();case 4:if(a=(l=s.next()).done){e.next=15;break}if(c=l.value,e.t0=n._u.has(c),!e.t0){e.next=12;break}return e.next=10,n.remoteSyncer.rejectListen(c,i);case 10:n._u.delete(c),n.pu.removeTarget(c);case 12:a=!0,e.next=4;break;case 15:e.next=21;break;case 17:e.prev=17,e.t1=e.catch(2),o=!0,u=e.t1;case 21:e.prev=21,e.prev=22,a||null==s.return||s.return();case 24:if(e.prev=24,!o){e.next=27;break}throw u;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}}),e,null,[[2,17,21,29],[22,,24,28]])})));return function(t,n){return e.apply(this,arguments)}}()(n,r);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),fc("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),e.t0),e.next=11,gv(n,e.t0);case 11:case 22:e.next=29;break;case 13:if(r instanceof cd?n.pu.ut(r):r instanceof fd?n.pu._t(r):n.pu.ht(r),i.isEqual(Pc.min())){e.next=29;break}return e.prev=14,e.next=17,gp(n.localStore);case 17:if(a=e.sent,e.t1=i.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(Hc.EMPTY_BYTE_STRING,n.snapshotVersion)),uv(e,t);var r=new Zd(n.target,t,1,n.sequenceNumber);ov(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(n,i);case 24:return e.prev=24,e.t2=e.catch(14),fc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,gv(n,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),mv.apply(this,arguments)}function gv(e,t,n){return kv.apply(this,arguments)}function kv(){return(kv=t(y)(t(C).mark((function e(n,r,i){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xd(r)){e.next=2;break}throw r;case 2:return n.wu.add(1),e.next=5,nv(n);case 5:n.yu.set("Offline"),i||(i=function(){return gp(n.localStore)}),n.asyncQueue.enqueueRetryable(t(y)(t(C).mark((function e(){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fc("RemoteStore","Retrying IndexedDB access"),e.next=3,i();case 3:return n.wu.delete(1),e.next=6,ev(n);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bv(e,t){return t().catch((function(n){return gv(e,n,t)}))}function wv(e){return xv.apply(this,arguments)}function xv(){return(xv=t(y)(t(C).mark((function e(n){var r,i,a,o;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=mc(n),i=Vv(r),a=r.du.length>0?r.du[r.du.length-1].batchId:-1;case 2:if(!Ev(r)){e.next=19;break}return e.prev=3,e.next=6,wp(r.localStore,a);case 6:if(null!==(o=e.sent)){e.next=10;break}return 0===r.du.length&&i.$o(),e.abrupt("break",19);case 10:a=o.batchId,Sv(r,o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,gv(r,e.t0);case 17:e.next=2;break;case 19:_v(r)&&Tv(r);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Ev(e){return cv(e)&&e.du.length<10}function Sv(e,t){e.du.push(t);var n=Vv(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function _v(e){return cv(e)&&!Vv(e).ko()&&e.du.length>0}function Tv(e){Vv(e).start()}function Iv(e){return Cv.apply(this,arguments)}function Cv(){return(Cv=t(y)(t(C).mark((function e(n){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vv(n).nu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nv(e){return Av.apply(this,arguments)}function Av(){return(Av=t(y)(t(C).mark((function e(n){var r,i,a,o,u,s,l;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=Vv(n),i=!0,a=!1,o=void 0,e.prev=2,u=n.du[Symbol.iterator]();!(i=(s=u.next()).done);i=!0)l=s.value,r.Zo(l.mutations);e.next=10;break;case 6:e.prev=6,e.t0=e.catch(2),a=!0,o=e.t0;case 10:e.prev=10,e.prev=11,i||null==u.return||u.return();case 13:if(e.prev=13,!a){e.next=16;break}throw o;case 16:return e.finish(13);case 17:return e.finish(10);case 18:case"end":return e.stop()}}),e,null,[[2,6,10,18],[11,,13,17]])})))).apply(this,arguments)}function Rv(e,t,n){return Ov.apply(this,arguments)}function Ov(){return(Ov=t(y)(t(C).mark((function e(n,r,i){var a,o;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.du.shift(),o=Jd.from(a,r,i),e.next=3,bv(n,(function(){return n.remoteSyncer.applySuccessfulWrite(o)}));case 3:return e.next=5,wv(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dv(e,t){return Pv.apply(this,arguments)}function Pv(){return Pv=t(y)(t(C).mark((function e(n,r){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r&&Vv(n).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=t(y)(t(C).mark((function e(n,r){var i,a;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xh(a=r.code)||a===gc.ABORTED){e.next=7;break}return i=n.du.shift(),Vv(n).Fo(),e.next=5,bv(n,(function(){return n.remoteSyncer.rejectFailedWrite(i.batchId,r)}));case 5:return e.next=7,wv(n);case 7:case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n,r);case 4:_v(n)&&Tv(n);case 5:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Lv(e,t){return Mv.apply(this,arguments)}function Mv(){return(Mv=t(y)(t(C).mark((function e(n,r){var i,a;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=mc(n)).asyncQueue.verifyOperationInProgress(),fc("RemoteStore","RemoteStore received new credentials"),a=cv(i),i.wu.add(3),e.next=6,nv(i);case 6:return a&&i.yu.set("Unknown"),e.next=9,i.remoteSyncer.handleCredentialChange(r);case 9:return i.wu.delete(3),e.next=12,ev(i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uv(e,t){return Fv.apply(this,arguments)}function Fv(){return(Fv=t(y)(t(C).mark((function e(n,r){var i;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=mc(n),!r){e.next=7;break}return i.wu.delete(2),e.next=5,ev(i);case 5:e.next=13;break;case 7:if(e.t0=r,e.t0){e.next=13;break}return i.wu.add(2),e.next=12,nv(i);case 12:i.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jv(e){return e.Iu||(e.Iu=(r=e.datastore,i=e.asyncQueue,a={Xr:hv.bind(null,e),eo:pv.bind(null,e),zo:yv.bind(null,e)},(o=mc(r)).iu(),new Xp(i,o.So,o.authCredentials,o.appCheckCredentials,o.M,a)),e.mu.push((n=t(y)(t(C).mark((function n(r){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=4;break}e.Iu.Fo(),lv(e)?sv(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:fv(e);case 7:case"end":return t.stop()}}),n)}))),function(e){return n.apply(this,arguments)}))),e.Iu;var n,r,i,a,o}function Vv(e){return e.Tu||(e.Tu=(r=e.datastore,i=e.asyncQueue,a={Xr:Iv.bind(null,e),eo:Dv.bind(null,e),eu:Nv.bind(null,e),tu:Rv.bind(null,e)},(o=mc(r)).iu(),new Yp(i,o.So,o.authCredentials,o.appCheckCredentials,o.M,a)),e.mu.push((n=t(y)(t(C).mark((function n(r){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}return e.Tu.Fo(),t.next=4,wv(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(fc("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),n)}))),function(e){return n.apply(this,arguments)}))),e.Tu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */;var n,r,i,a,o}var zv=function(){"use strict";function e(n,r,i,a,o){t(g)(this,e),this.asyncQueue=n,this.timerId=r,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new bc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return t(k)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kc(gc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Bv(e,t){if(hc("AsyncQueue","".concat(t,": ").concat(e)),Xd(e))return new kc(gc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qv=function(){"use strict";function e(n){t(g)(this,e),this.comparator=n?function(e,t){return n(e,t)||rf.comparator(e.key,t.key)}:function(e,t){return rf.comparator(e.key,t.key)},this.keyedMap=td(),this.sortedSet=new Nf(this.comparator)}return t(k)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Hv=function(){"use strict";function e(){t(g)(this,e),this.Eu=new Nf(rf.comparator)}return t(k)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):vc():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Kv=function(){"use strict";function e(n,r,i,a,o,u,s,l){t(g)(this,e),this.query=n,this.docs=r,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=s,this.excludesMetadataChanges=l}return t(k)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,qv.emptySet(n),a,r,i,!0,!1)}}]),e}(),Wv=function e(){"use strict";t(g)(this,e),this.Ru=void 0,this.listeners=[]},Gv=function e(){"use strict";t(g)(this,e),this.queries=new Jh((function(e){return lh(e)}),sh),this.onlineState="Unknown",this.bu=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(e,t){return Xv.apply(this,arguments)}function Xv(){return(Xv=t(y)(t(C).mark((function e(n,r){var i,a,o,u,s;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=mc(n),a=r.query,o=!1,(u=i.queries.get(a))||(o=!0,u=new Wv),!o){e.next=13;break}return e.prev=3,e.next=6,i.onListen(a);case 6:u.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Bv(e.t0,"Initialization of query '".concat(ch(r.query),"' failed")),e.abrupt("return",void r.onError(s));case 13:i.queries.set(a,u),u.listeners.push(r),r.Pu(i.onlineState),u.Ru&&r.Vu(u.Ru)&&ey(i);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Yv(e,t){return Jv.apply(this,arguments)}function Jv(){return(Jv=t(y)(t(C).mark((function e(n,r){var i,a,o,u,s;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=mc(n),a=r.query,o=!1,(u=i.queries.get(a))&&(s=u.listeners.indexOf(r))>=0&&(u.listeners.splice(s,1),o=0===u.listeners.length),!o){e.next=6;break}return e.abrupt("return",(i.queries.delete(a),i.onUnlisten(a)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $v(e,t){var n=mc(e),r=!1,i=!0,a=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value,c=l.query,f=n.queries.get(c);if(f){var h=!0,d=!1,p=void 0;try{for(var v,y=f.listeners[Symbol.iterator]();!(h=(v=y.next()).done);h=!0){v.value.Vu(l)&&(r=!0)}}catch(e){d=!0,p=e}finally{try{h||null==y.return||y.return()}finally{if(d)throw p}}f.Ru=l}}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}r&&ey(n)}function Zv(e,t,n){var r=mc(e),i=r.queries.get(t),a=!0,o=!1,u=void 0;if(i)try{for(var s,l=i.listeners[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){s.value.onError(n)}}catch(e){o=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw u}}r.queries.delete(t)}function ey(e){e.bu.forEach((function(e){e.next()}))}var ty=function(){"use strict";function e(n,r,i){t(g)(this,e),this.query=n,this.vu=r,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}return t(k)(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=e.docChanges[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;3!==u.type&&t.push(u)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}e=new Kv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var s=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),s=!0):this.xu(e,this.onlineState)&&(this.Nu(e),s=!0),this.Du=e,s}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.ku&&n||e.docs.isEmpty()&&"Offline"!==t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=Kv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ny=function e(n){"use strict";t(g)(this,e),this.key=n},ry=function e(n){"use strict";t(g)(this,e),this.key=n},iy=function(){"use strict";function e(n,r){t(g)(this,e),this.query=n,this.Uu=r,this.qu=null,this.current=!1,this.Ku=ad(),this.mutatedKeys=ad(),this.Gu=dh(n),this.Qu=new qv(this.Gu)}return t(k)(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Hv,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=fh(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(c,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||l&&n.Gu(f,l)<0)&&(u=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(s||l)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return n=e.type,i=t.type,(a=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vc()}})(n)-a(i)||r.Gu(e.doc,t.doc);var n,i,a})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new Kv(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Hv,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=ad(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new ry(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new ny(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=ad();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return Kv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),ay=function e(n,r,i){"use strict";t(g)(this,e),this.query=n,this.targetId=r,this.view=i},oy=function e(n){"use strict";t(g)(this,e),this.key=n,this.na=!1},uy=function(){"use strict";function e(n,r,i,a,o,u){t(g)(this,e),this.localStore=n,this.remoteStore=r,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.sa={},this.ia=new Jh((function(e){return lh(e)}),sh),this.ra=new Map,this.oa=new Set,this.ua=new Nf(rf.comparator),this.aa=new Map,this.ca=new Np,this.ha={},this.la=new Map,this.fa=op.yn(),this.onlineState="Unknown",this.da=void 0}return t(k)(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function sy(e,t){return ly.apply(this,arguments)}function ly(){return(ly=t(y)(t(C).mark((function e(n,r){var i,a,o,u,s,l;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Uy(n),!(u=i.ia.get(r))){e.next=7;break}a=u.targetId,i.sharedClientState.addLocalQueryTarget(a),o=u.view.ea(),e.next=16;break;case 7:return e.next=9,xp(i.localStore,oh(r));case 9:return s=e.sent,i.isPrimaryClient&&iv(i.remoteStore,s),l=i.sharedClientState.addLocalQueryTarget(s.targetId),a=s.targetId,e.next=15,cy(i,r,a,"current"===l);case 15:o=e.sent;case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cy(e,t,n,r){return fy.apply(this,arguments)}function fy(){return fy=t(y)(t(C).mark((function e(n,r,i,a){var o,u,s,l,c,f;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n._a=function(e,r,i){return(a=t(y)(t(C).mark((function e(n,r,i,a){var o,u,s;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.view.Wu(i),e.t0=o.ii,!e.t0){e.next=6;break}return e.next=5,_p(n.localStore,r.query,!1).then((function(e){var t=e.documents;return r.view.Wu(t,o)}));case 5:o=e.sent;case 6:return u=a&&a.targetChanges.get(r.targetId),s=r.view.applyChanges(o,n.isPrimaryClient,u),e.abrupt("return",(Ny(n,r.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return a.apply(this,arguments)})(n,e,r,i);var a},e.next=3,_p(n.localStore,r,!0);case 3:return o=e.sent,u=new iy(r,o._i),s=u.Wu(o.documents),l=ld.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==n.onlineState),c=u.applyChanges(s,n.isPrimaryClient,l),Ny(n,i,c.Xu),f=new ay(r,i,u),e.abrupt("return",(n.ia.set(r,f),n.ra.has(i)?n.ra.get(i).push(r):n.ra.set(i,[r]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}function hy(e,t){return dy.apply(this,arguments)}function dy(){return(dy=t(y)(t(C).mark((function e(n,r){var i,a,o;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=mc(n),a=i.ia.get(r),!((o=i.ra.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(i.ra.set(a.targetId,o.filter((function(e){return!sh(e,r)}))),void i.ia.delete(r)));case 3:if(!i.isPrimaryClient){e.next=11;break}if(i.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=i.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,Ep(i.localStore,a.targetId,!1).then((function(){i.sharedClientState.clearQueryState(a.targetId),av(i.remoteStore,a.targetId),Iy(i,a.targetId)})).catch(up);case 9:e.next=14;break;case 11:return Iy(i,a.targetId),e.next=14,Ep(i.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function py(e,t,n){return vy.apply(this,arguments)}function vy(){return(vy=t(y)(t(C).mark((function e(n,r,i){var a,o,u;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fy(n),e.prev=1,e.next=4,function(e,t){var n,r=mc(e),i=Dc.now(),a=t.reduce((function(e,t){return e.add(t.key)}),ad());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o=[],u=!0,s=!1,l=void 0;try{for(var c,f=t[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=c.value,d=Mh(h,n.get(h.key));null!=d&&o.push(new Vh(h.key,d,xf(d.value.mapValue),Rh.exists(!0)))}}catch(e){s=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw l}}return r.Bs.addMutationBatch(e,i,o,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(a.localStore,r);case 4:return o=e.sent,a.sharedClientState.addPendingMutation(o.batchId),t=a,s=o.batchId,l=i,c=void 0,(c=t.ha[t.currentUser.toKey()])||(c=new Nf(Rc)),c=c.insert(s,l),t.ha[t.currentUser.toKey()]=c,e.next=9,Oy(a,o.changes);case 9:return e.next=11,wv(a.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),u=Bv(e.t0,"Failed to persist write"),i.reject(u);case 17:case"end":return e.stop()}var t,s,l,c}),e,null,[[1,13]])})))).apply(this,arguments)}function yy(e,t){return my.apply(this,arguments)}function my(){return(my=t(y)(t(C).mark((function e(n,r){var i,a;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mc(n),e.prev=1,e.next=4,kp(i.localStore,r);case 4:return a=e.sent,r.targetChanges.forEach((function(e,t){var n=i.aa.get(t);n&&(yc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?yc(n.na):e.removedDocuments.size>0&&(yc(n.na),n.na=!1))})),e.next=8,Oy(i,a,r);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,up(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function gy(e,t,n){var r=mc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=mc(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i=!0,a=!1,o=void 0;try{for(var u,s=n.listeners[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){u.value.Pu(t)&&(r=!0)}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}})),r&&ey(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ky(e,t,n){return by.apply(this,arguments)}function by(){return(by=t(y)(t(C).mark((function e(n,r,i){var a,o,u,s,l,c;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=mc(n)).sharedClientState.updateQueryState(r,"rejected",i),o=a.aa.get(r),!(u=o&&o.key)){e.next=14;break}return s=(s=new Nf(rf.comparator)).insert(u,Ef.newNoDocument(u,Pc.min())),l=ad().add(u),c=new sd(Pc.min(),new Map,new Of(Rc),s,l),e.next=9,yy(a,c);case 9:a.ua=a.ua.remove(u),a.aa.delete(r),Ry(a),e.next=16;break;case 14:return e.next=16,Ep(a.localStore,r,!1).then((function(){return Iy(a,r,i)})).catch(up);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wy(e,t){return xy.apply(this,arguments)}function xy(){return(xy=t(y)(t(C).mark((function e(n,r){var i,a,o;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mc(n),a=r.batch.batchId,e.prev=1,e.next=4,mp(i.localStore,r);case 4:return o=e.sent,Ty(i,a,null),_y(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),e.next=10,Oy(i,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,up(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Ey(e,t,n){return Sy.apply(this,arguments)}function Sy(){return(Sy=t(y)(t(C).mark((function e(n,r,i){var a,o;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=mc(n),e.prev=1,e.next=4,function(e,t){var n=mc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return yc(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(a.localStore,r);case 4:return o=e.sent,Ty(a,r,i),_y(a,r),a.sharedClientState.updateMutationState(r,"rejected",i),e.next=10,Oy(a,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,up(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function _y(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function Ty(e,t,n){var r=mc(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function Iy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r=!0,i=!1,a=void 0;try{for(var o,u=e.ra.get(t)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value;e.ia.delete(s),n&&e.sa.wa(s,n)}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||Cy(e,t)}))}function Cy(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(av(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),Ry(e))}function Ny(e,t,n){var r=!0,i=!1,a=void 0;try{for(var o,u=n[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value;s instanceof ny?(e.ca.addReference(s.key,t),Ay(e,s)):s instanceof ry?(fc("SyncEngine","Document no longer in limbo: "+s.key),e.ca.removeReference(s.key,t),e.ca.containsKey(s.key)||Cy(e,s.key)):vc()}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}function Ay(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(fc("SyncEngine","New document in limbo: "+n),e.oa.add(r),Ry(e))}function Ry(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new rf(jc.fromString(t)),r=e.fa.next();e.aa.set(r,new oy(n)),e.ua=e.ua.insert(n,r),iv(e.remoteStore,new Zd(oh(th(n.path)),r,2,Cc.A))}}function Oy(e,t,n){return Dy.apply(this,arguments)}function Dy(){return Dy=t(y)(t(C).mark((function e(n,r,i){var a,o,u,s;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=mc(n),o=[],u=[],s=[],e.t0=a.ia.isEmpty(),e.t0){e.next=9;break}return a.ia.forEach((function(e,t){s.push(a._a(t,r,i).then((function(e){if(e){a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),o.push(e);var n=fp.Ys(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(s);case 6:return a.sa.zo(o),e.next=9,function(){var e=t(y)(t(C).mark((function e(n,r){var i,a,o,u,s,l,c,f,h,d,p;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mc(n),e.prev=1,e.next=4,i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Qd.forEach(r,(function(t){return Qd.forEach(t.Hs,(function(n){return i.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Qd.forEach(t.Js,(function(n){return i.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Xd(e.t0)){e.next=10;break}throw e.t0;case 10:fc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:for(a=!0,o=!1,u=void 0,e.prev=12,s=r[Symbol.iterator]();!(a=(l=s.next()).done);a=!0)c=l.value,f=c.targetId,c.fromCache||(h=i.ui.get(f),d=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(d),i.ui=i.ui.insert(f,p));e.next=20;break;case 16:e.prev=16,e.t1=e.catch(12),o=!0,u=e.t1;case 20:e.prev=20,e.prev=21,a||null==s.return||s.return();case 23:if(e.prev=23,!o){e.next=26;break}throw u;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}}),e,null,[[1,6],[12,16,20,28],[21,,23,27]])})));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,u);case 9:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function Py(e,t){return Ly.apply(this,arguments)}function Ly(){return(Ly=t(y)(t(C).mark((function e(n,r){var i,a;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=mc(n)).currentUser.isEqual(r)){e.next=11;break}return fc("SyncEngine","User change. New user:",r.toKey()),e.next=5,vp(i.localStore,r);case 5:return a=e.sent,i.currentUser=r,(t=i).la.forEach((function(e){e.forEach((function(e){e.reject(new kc(gc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.la.clear(),i.sharedClientState.handleUserChange(r,a.removedBatchIds,a.addedBatchIds),e.next=11,Oy(i,a.di);case 11:case"end":return e.stop()}var t}),e)})))).apply(this,arguments)}function My(e,t){var n=mc(e),r=n.aa.get(t);if(r&&r.na)return ad().add(r.key);var i=ad(),a=n.ra.get(t);if(!a)return i;var o=!0,u=!1,s=void 0;try{for(var l,c=a[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var f=l.value,h=n.ia.get(f);i=i.unionWith(h.view.ju)}}catch(e){u=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(u)throw s}}return i}function Uy(e){var t=mc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=My.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ky.bind(null,t),t.sa.zo=$v.bind(null,t.eventManager),t.sa.wa=Zv.bind(null,t.eventManager),t}function Fy(e){var t=mc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ey.bind(null,t),t}var jy=function(){"use strict";function e(){t(g)(this,e),this.synchronizeTabs=!1}return t(k)(e,[{key:"initialize",value:function(e){var n=this;return t(y)(t(C).mark((function r(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.M=Wp(e.databaseInfo.databaseId),n.sharedClientState=n.ga(e),n.persistence=n.ya(e),t.next=5,n.persistence.start();case 5:n.gcScheduler=n.pa(e),n.localStore=n.Ia(e);case 7:case"end":return t.stop()}}),r)})))()}},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return pp(this.persistence,new hp,e.initialUser,this.M)}},{key:"ya",value:function(e){return new Lp(Up.Yi,this.M)}},{key:"ga",value:function(e){return new jp}},{key:"terminate",value:function(){var e=this;return t(y)(t(C).mark((function n(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.gcScheduler&&e.gcScheduler.stop(),t.next=3,e.sharedClientState.shutdown();case 3:return t.next=5,e.persistence.shutdown();case 5:case"end":return t.stop()}}),n)})))()}}]),e}(),Vy=function(){"use strict";function e(){t(g)(this,e)}return t(k)(e,[{key:"initialize",value:function(e,n){var r=this;return t(y)(t(C).mark((function i(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=r.localStore,t.t0){t.next=12;break}return r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=function(e){return gy(r.syncEngine,e,1)},r.remoteStore.remoteSyncer.handleCredentialChange=Py.bind(null,r.syncEngine),t.next=12,Uv(r.remoteStore,r.syncEngine.isPrimaryClient);case 12:case"end":return t.stop()}}),i)})))()}},{key:"createEventManager",value:function(e){return new Gv}},{key:"createDatastore",value:function(e){var t,n,r,i=Wp(e.databaseInfo.databaseId),a=(t=e.databaseInfo,new Hp(t));return n=e.authCredentials,r=e.appCheckCredentials,new Jp(n,r,a,i)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return gy(o.syncEngine,e,0)},a=zp.vt()?new zp:new Vp,new Zp(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return n=this.localStore,r=this.remoteStore,i=this.eventManager,a=this.sharedClientState,o=e.initialUser,u=e.maxConcurrentLimboResolutions,s=t,l=new uy(n,r,i,a,o,u),s&&(l.da=!0),l;var n,r,i,a,o,u,s,l}},{key:"terminate",value:function(){return(e=t(y)(t(C).mark((function e(n){var r;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mc(n),fc("RemoteStore","RemoteStore shutting down."),r.wu.add(5),e.next=5,nv(r);case 5:r.gu.shutdown(),r.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zy=function(){"use strict";function e(n){t(g)(this,e),this.observer=n,this.muted=!1}return t(k)(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),By=function(){"use strict";function e(n,r,i,a){var o=this;t(g)(this,e);var u,s=this;this.authCredentials=n,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=a,this.user=uc.UNAUTHENTICATED,this.clientId=Ac.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(i,(u=t(y)(t(C).mark((function e(n){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fc("FirestoreClient","Received user=",n.uid),e.next=3,s.authCredentialListener(n);case 3:s.user=n;case 4:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})),this.appCheckCredentials.start(i,(function(e){return fc("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return t(k)(e,[{key:"getConfiguration",value:function(){var e=this;return t(y)(t(C).mark((function n(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100});case 1:case"end":return t.stop()}}),n)})))()}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new kc(gc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){this.asyncQueue.enterRestrictedMode();var e=new bc,n=this;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(t(y)(t(C).mark((function r(){var i;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,t.t0=n.onlineComponents,!t.t0){t.next=5;break}return t.next=5,n.onlineComponents.terminate();case 5:if(t.t1=n.offlineComponents,!t.t1){t.next=9;break}return t.next=9,n.offlineComponents.terminate();case 9:n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),e.resolve(),t.next=18;break;case 14:t.prev=14,t.t2=t.catch(0),i=Bv(t.t2,"Failed to shutdown persistence"),e.reject(i);case 18:case"end":return t.stop()}}),r,null,[[0,14]])})))),e.promise}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(e,t){return Hy.apply(this,arguments)}function Hy(){return Hy=t(y)(t(C).mark((function e(n,r){var i,a;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.asyncQueue.verifyOperationInProgress(),fc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,n.getConfiguration();case 3:return i=e.sent,e.next=6,r.initialize(i);case 6:a=i.initialUser,n.setCredentialChangeListener(function(){var e=t(y)(t(C).mark((function e(n){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(n),e.t0){e.next=5;break}return e.next=4,vp(r.localStore,n);case 4:a=n;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener((function(){return n.terminate()})),n.offlineComponents=r;case 8:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}function Ky(e,t){return Wy.apply(this,arguments)}function Wy(){return(Wy=t(y)(t(C).mark((function e(n,r){var i,a;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.asyncQueue.verifyOperationInProgress(),e.next=3,Gy(n);case 3:return i=e.sent,fc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,n.getConfiguration();case 7:return a=e.sent,e.next=10,r.initialize(i,a);case 10:n.setCredentialChangeListener((function(e){return Lv(r.remoteStore,e)})),n.setAppCheckTokenChangeListener((function(e,t){return Lv(r.remoteStore,t)})),n.onlineComponents=r;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gy(e){return Qy.apply(this,arguments)}function Qy(){return(Qy=t(y)(t(C).mark((function e(n){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.offlineComponents,e.t0){e.next=5;break}return fc("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,qy(n,new jy);case 5:return e.abrupt("return",(e.t0||e.sent,n.offlineComponents));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xy(e){return Yy.apply(this,arguments)}function Yy(){return(Yy=t(y)(t(C).mark((function e(n){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.onlineComponents,e.t0){e.next=5;break}return fc("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Ky(n,new Vy);case 5:return e.abrupt("return",(e.t0||e.sent,n.onlineComponents));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jy(e){return Xy(e).then((function(e){return e.syncEngine}))}function $y(e){return Zy.apply(this,arguments)}function Zy(){return(Zy=t(y)(t(C).mark((function e(n){var r,i;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xy(n);case 2:return r=e.sent,i=r.eventManager,e.abrupt("return",(i.onListen=sy.bind(null,r.syncEngine),i.onUnlisten=hy.bind(null,r.syncEngine),i));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function em(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new bc;return e.asyncQueue.enqueueAndForget(t(y)(t(C).mark((function a(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t,n,r,i){var a=new zy({next:function(n){t.enqueueAndForget((function(){return Yv(e,o)})),n.fromCache&&"server"===r.source?i.reject(new kc(gc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ty(n,a,{includeMetadataChanges:!0,ku:!0});return Qv(e,o)},t.next=3,$y(e);case 3:return t.t1=t.sent,t.t2=e.asyncQueue,t.t3=n,t.t4=r,t.t5=i,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4,t.t5));case 9:case"end":return t.stop()}}),a)})))),i.promise}var tm=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(e,t,n){if(!n)throw new kc(gc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function rm(e){if(!rf.isDocumentKey(e))throw new kc(gc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function im(e){if(rf.isDocumentKey(e))throw new kc(gc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function am(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=(n=e).constructor?n.constructor.name:null;return t?"a custom ".concat(t," object"):"an object"}var n;return"function"==typeof e?"a function":vc()}function om(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kc(gc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=am(e);throw new kc(gc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var um=function(){"use strict";function e(n){var r;if(t(g)(this,e),void 0===n.host){if(void 0!==n.ssl)throw new kc(gc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new kc(gc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new kc(gc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}return t(k)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),sm=function(){"use strict";function e(n,r,i){t(g)(this,e),this._authCredentials=r,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new um({}),this._settingsFrozen=!1,n instanceof Zc?this._databaseId=n:(this._app=n,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new kc(gc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(e.options.projectId)}(n))}return t(k)(e,[{key:"app",get:function(){if(!this._app)throw new kc(gc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new kc(gc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new um(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xc;switch(e.type){case"gapi":var t=e.client;return yc(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new _c(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new kc(gc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return e=this,(t=tm.get(e))&&(fc("ComponentProvider","Removing Datastore"),tm.delete(e),t.terminate()),Promise.resolve();var e,t}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var lm=function(){"use strict";function e(n,r,i){t(g)(this,e),this.converter=r,this._key=i,this.type="document",this.firestore=n}return t(k)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new fm(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),cm=function(){"use strict";function e(n,r,i){t(g)(this,e),this.converter=r,this._query=i,this.type="query",this.firestore=n}return t(k)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),fm=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i,a){var o;return t(g)(this,r),(o=n.call(this,e,i,th(a)))._path=a,o.type="collection",t(Ra)(o)}return t(k)(r,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new lm(this.firestore,null,new rf(e))}},{key:"withConverter",value:function(e){return new r(this.firestore,e,this._path)}}]),r}(cm);function hm(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(e=ve(e),nm("collection","path",n),e instanceof sm){var o,u=(o=jc).fromString.apply(o,[n].concat(t(x)(i)));return im(u),new fm(e,null,u)}var s;if(!(e instanceof lm||e instanceof fm))throw new kc(gc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var l=e._path.child((s=jc).fromString.apply(s,[n].concat(t(x)(i))));return im(l),new fm(e.firestore,null,l)}function dm(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(e=ve(e),1===arguments.length&&(n=Ac.R()),nm("doc","path",n),e instanceof sm){var o,u=(o=jc).fromString.apply(o,[n].concat(t(x)(i)));return rm(u),new lm(e,null,new rf(u))}var s;if(!(e instanceof lm||e instanceof fm))throw new kc(gc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var l=e._path.child((s=jc).fromString.apply(s,[n].concat(t(x)(i))));return rm(l),new lm(e.firestore,e instanceof fm?e.converter:null,new rf(l))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pm=function(){"use strict";function e(){var n=this;t(g)(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Gp(this,"async_queue_retry"),this.Qa=function(){var e=Kp();e&&fc("AsyncQueue","Visibility state changed to "+e.visibilityState),n.No.Po()};var r=Kp();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Qa)}return t(k)(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=Kp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new bc;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=this;return t(y)(t(C).mark((function n(){return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.$a.length){t.next=14;break}return t.prev=1,t.next=4,e.$a[0]();case 4:e.$a.shift(),e.No.reset(),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(1),Xd(t.t0)){t.next=12;break}throw t.t0;case 12:fc("AsyncQueue","Operation failed with retryable error: "+t.t0);case 13:e.$a.length>0&&e.No.Ro((function(){return e.za()}));case 14:case"end":return t.stop()}}),n,null,[[1,8]])})))()}},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){var n,r;throw t.Ua=e,t.qa=!1,hc("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=zv.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&vc()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=this;return t(y)(t(C).mark((function n(){var r;return t(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:return r=e.Fa,t.next=4,r;case 4:if(r!==e.Fa){t.next=1;break}case 5:case"end":return t.stop()}}),n)})))()}},{key:"Ya",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this.La[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){if(i.value.timerId===e)return!0}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n=!0,r=!1,i=void 0;try{for(var a,o=t.La[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;if(u.skipDelay(),"all"!==e&&u.timerId===e)break}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();var vm=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i,a){var o;return t(g)(this,r),(o=n.call(this,e,i,a)).type="firestore",o._queue=new pm,o._persistenceKey="name"in e?e.name:"[DEFAULT]",t(Ra)(o)}return t(k)(r,[{key:"_terminate",value:function(){return this._firestoreClient||gm(this),this._firestoreClient.terminate()}}]),r}(sm);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return ot(e,"firestore").getImmediate()}function mm(e){return e._firestoreClient||gm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function gm(e){var t,n,r,i,a,o=e._freezeSettings(),u=(n=e._databaseId,r=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",i=e._persistenceKey,new $c(n,r,i,(a=o).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));e._firestoreClient=new By(e._authCredentials,e._appCheckCredentials,e._queue,u)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var km=function(){"use strict";function e(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t(g)(this,e);for(var a=0;a<r.length;++a)if(0===r[a].length)throw new kc(gc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zc(r)}return t(k)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var bm=function(){"use strict";function e(n){t(g)(this,e),this._byteString=n}return t(k)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Hc.fromBase64String(t))}catch(e){throw new kc(gc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}},{key:"fromUint8Array",value:function(t){return new e(Hc.fromUint8Array(t))}}]),e}(),wm=function e(n){"use strict";t(g)(this,e),this._methodName=n},xm=function(){"use strict";function e(n,r){if(t(g)(this,e),!isFinite(n)||n<-90||n>90)throw new kc(gc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new kc(gc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}return t(k)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Rc(this._lat,e._lat)||Rc(this._long,e._long)}}]),e}(),Em=/^__.*__$/,Sm=function(){"use strict";function e(n,r,i){t(g)(this,e),this.data=n,this.fieldMask=r,this.fieldTransforms=i}return t(k)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Vh(e,this.data,this.fieldMask,t,this.fieldTransforms):new jh(e,this.data,t,this.fieldTransforms)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vc()}}var Tm=function(){"use strict";function e(n,r,i,a,o,u){t(g)(this,e),this.settings=n,this.databaseId=r,this.M=i,this.ignoreUndefinedProperties=a,void 0===o&&this.tc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}return t(k)(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return Fm(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(_m(this.ec)&&Em.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),Im=function(){"use strict";function e(n,r,i){t(g)(this,e),this.databaseId=n,this.ignoreUndefinedProperties=r,this.M=i||Wp(n)}return t(k)(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Tm({ec:e,methodName:t,hc:n,path:zc.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function Cm(e){var t=e._freezeSettings(),n=Wp(e._databaseId);return new Im(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Nm(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);Pm("Data must be an object, but it was:",o,r);var u,s,l=Om(r,o);if(a.merge)u=new Bc(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var c=[],f=!0,h=!1,d=void 0;try{for(var p,v=a.mergeFields[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var y=p.value,m=Lm(t,y,n);if(!o.contains(m))throw new kc(gc.INVALID_ARGUMENT,"Field '".concat(m,"' is specified in your field mask but missing from your input data."));jm(c,m)||c.push(m)}}catch(e){h=!0,d=e}finally{try{f||null==v.return||v.return()}finally{if(h)throw d}}u=new Bc(c),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Sm(new wf(l),u,s)}function Am(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Rm(n,e.lc(r?4:3,t))}function Rm(e,t){if(Dm(e=ve(e)))return Pm("Unsupported field value:",t,e),Om(e,t);if(e instanceof wm)return function(e,t){if(!_m(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n=[],r=0,i=!0,a=!1,o=void 0;try{for(var u,s=e[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=Rm(u.value,t.uc(r));null==l&&(l={nullValue:"NULL_VALUE"}),n.push(l),r++}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ve(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return mh(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Dc.fromDate(e);return{timestampValue:bd(t.M,n)}}if(e instanceof Dc){var r=new Dc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bd(t.M,r)}}if(e instanceof xm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bm)return{bytesValue:wd(t.M,e._byteString)};if(e instanceof lm){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Sd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(am(e)))}(e,t)}function Om(e,t){var n={};return Uc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Mc(e,(function(e,r){var i=Rm(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Dm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Dc||e instanceof xm||e instanceof bm||e instanceof lm||e instanceof wm)}function Pm(e,t,n){if(!Dm(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=am(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}var i}function Lm(e,t,n){if((t=ve(t))instanceof km)return t._internalPath;if("string"==typeof t)return Um(e,t);throw Fm("Field path arguments must be of type string or ",e,!1,void 0,n)}var Mm=new RegExp("[~\\*/\\[\\]]");function Um(e,n,r){if(n.search(Mm)>=0)throw Fm("Invalid field path (".concat(n,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,r);try{return t(Aa)(km,t(x)(n.split(".")))._internalPath}catch(t){throw Fm("Invalid field path (".concat(n,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,r)}}function Fm(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new kc(gc.INVALID_ARGUMENT,u+e+s)}function jm(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vm=function(){"use strict";function e(n,r,i,a,o){t(g)(this,e),this._firestore=n,this._userDataWriter=r,this._key=i,this._document=a,this._converter=o}return t(k)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new lm(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new zm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Bm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),zm=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(){return t(g)(this,r),n.apply(this,arguments)}return t(k)(r,[{key:"data",value:function(){return t(It)(t(At)(r.prototype),"data",this).call(this)}}]),r}(Vm);function Bm(e,t){return"string"==typeof t?Um(e,t):t instanceof km?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qm=function(){"use strict";function e(n,r){t(g)(this,e),this.hasPendingWrites=n,this.fromCache=r}return t(k)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Hm=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i,a,o,u,s){var l;return t(g)(this,r),(l=n.call(this,e,i,a,o,s))._firestore=e,l._firestoreImpl=e,l.metadata=u,t(Ra)(l)}return t(k)(r,[{key:"exists",value:function(){return t(It)(t(At)(r.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Bm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),r}(Vm),Km=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(){return t(g)(this,r),n.apply(this,arguments)}return t(k)(r,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(It)(t(At)(r.prototype),"data",this).call(this,e)}}]),r}(Hm),Wm=function(){"use strict";function e(n,r,i,a){t(g)(this,e),this._firestore=n,this._userDataWriter=r,this._snapshot=a,this.metadata=new qm(a.hasPendingWrites,a.fromCache),this.query=i}return t(k)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Km(n._firestore,n._userDataWriter,r.key,r,new qm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kc(gc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Km(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Km(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Gm(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Gm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vc()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new kc(gc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xm=function e(){"use strict";t(g)(this,e)};function Ym(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=!0,a=!1,o=void 0;try{for(var u,s=n[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value;e=l._apply(e)}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return e}var Jm=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i,a){var o;return t(g)(this,r),(o=n.call(this))._c=e,o.wc=i,o.mc=a,o.type="where",t(Ra)(o)}return t(k)(r,[{key:"_apply",value:function(e){var t,n,r,i=Cm(e.firestore),a=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new kc(gc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){tg(o,a);var s=[],l=!0,c=!1,f=void 0;try{for(var h,d=o[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var p=h.value;s.push(eg(r,e,p))}}catch(e){c=!0,f=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw f}}u={arrayValue:{values:s}}}else u=eg(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||tg(o,a),u=Am(n,"where",o,"in"===a||"not-in"===a);var v=jf.create(i,a,u);return function(e,t){if(t.S()){var n=rh(e);if(null!==n&&!n.isEqual(t.field))throw new kc(gc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=nh(e);null!==r&&ng(e,t.field,r)}var i=function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=e.filters[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;if(t.indexOf(u.op)>=0)return u.op}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new kc(gc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new kc(gc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,v),v}(e._query,0,i,e.firestore._databaseId,this._c,this.wc,this.mc);return new cm(e.firestore,e.converter,(t=e._query,n=a,r=t.filters.concat([n]),new Zf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)))}}]),r}(Xm);var $m=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e,i){var a;return t(g)(this,r),(a=n.call(this))._c=e,a.gc=i,a.type="orderBy",t(Ra)(a)}return t(k)(r,[{key:"_apply",value:function(e){var t,n,r,i=function(e,t,n){if(null!==e.startAt)throw new kc(gc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new kc(gc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Xf(t,n);return function(e,t){if(null===nh(e)){var n=rh(e);null!==n&&ng(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new cm(e.firestore,e.converter,(t=e._query,n=i,r=t.explicitOrderBy.concat([n]),new Zf(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))}}]),r}(Xm);function Zm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Bm("orderBy",e);return new $m(r,n)}function eg(e,t,n){if("string"==typeof(n=ve(n))){if(""===n)throw new kc(gc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ih(t)&&-1!==n.indexOf("/"))throw new kc(gc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(jc.fromString(n));if(!rf.isDocumentKey(r))throw new kc(gc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return df(e,new rf(r))}if(n instanceof lm)return df(e,n._key);throw new kc(gc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(am(n),"."))}function tg(e,t){if(!Array.isArray(e)||0===e.length)throw new kc(gc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new kc(gc.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function ng(e,t,n){if(!n.isEqual(t))throw new kc(gc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rg=function(){"use strict";function e(){t(g)(this,e)}return t(k)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(of(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vc()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Mc(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new xm(Gc(e.latitude),Gc(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Yc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Wc(e);return new Dc(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=jc.fromString(e);yc(qd(n));var r=new Zc(n.get(1),n.get(3)),i=new rf(n.popFirst(5));return r.isEqual(t)||hc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ig(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ag=function(e){"use strict";t(R)(r,e);var n=t(z)(r);function r(e){var i;return t(g)(this,r),(i=n.call(this)).firestore=e,t(Ra)(i)}return t(k)(r,[{key:"convertBytes",value:function(e){return new bm(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new lm(this.firestore,null,t)}}]),r}(rg);function og(e){e=om(e,cm);var t=om(e.firestore,vm),n=mm(t),r=new ag(t);return Qm(e._query),em(n,e._query).then((function(n){return new Wm(t,r,e,n)}))}function ug(e,t,n){e=om(e,lm);var r=om(e.firestore,vm),i=ig(e.converter,t,n);return lg(r,[Nm(Cm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Rh.none())])}function sg(e,t){var n=om(e.firestore,vm),r=dm(e),i=ig(e.converter,t);return lg(n,[Nm(Cm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Rh.exists(!1))]).then((function(){return r}))}function lg(e,n){return r=mm(e),i=n,a=new bc,r.asyncQueue.enqueueAndForget(t(y)(t(C).mark((function e(){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=py,e.next=3,Jy(r);case 3:return e.t1=e.sent,e.t2=i,e.t3=a,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),e)})))),a.promise;var r,i,a}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];sc=ct,at(new ye("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new vm(i,new Ec(e.getProvider("auth-internal")),new Ic(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),ht(oc,"3.4.9",e),ht(oc,"3.4.9","esm2017")}();var cg,fg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof t){var n=t;t={name:n}}var r=Object.assign({name:et,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw st.create("bad-app-name",{appName:String(i)});var a=nt.get(i);if(a){if(se(e,a.options)&&se(r,a.config))return a;throw st.create("duplicate-app",{appName:i})}var o=new we(i),u=!0,s=!1,l=void 0;try{for(var c,f=rt.values()[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=c.value;o.addComponent(h)}}catch(e){s=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw l}}var d=new lt(e,r,o);return nt.set(i,d),d}({apiKey:"AIzaSyBvHCpKNrfKfc2AZZLP8D0K1AGlUFcX1aE",authDomain:"test-budget-38b21.firebaseapp.com",databaseURL:"https://test-budget-38b21.firebaseio.com",projectId:"test-budget-38b21",storageBucket:"test-budget-38b21.appspot.com",messagingSenderId:"1067130269246",appId:"1:1067130269246:web:504d76c1afc05bcbf12b6f"}),hg=(cg=
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft(),t=ot(e,"auth");return t.isInitialized()?t.getImmediate():Gt(e,{popupRedirectResolver:xa,persistence:[yi,Wr,Qr]})}(fg),{signIn:t(y)(t(C).mark((function e(){var n,r,i,a,o;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Nr).setCustomParameters({prompt:"select_account"}),e.prev=2,e.next=5,Bi(cg,n);case 5:r=e.sent,i=r.user,console.log(i.displayName,i.email,i.photoURL),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),a=e.t0.code,o=e.t0.message,console.log(a,o);case 15:case"end":return e.stop()}}),e,null,[[2,10]])}))),signOut:function(){!function(e){ve(e).signOut()}(cg)},onAuthStateChanged:function(e){return function(e,t,n,r){return ve(e).onAuthStateChanged(t,n,r)}(cg,e)}}),dg=hg.signIn,pg=hg.signOut,vg=hg.onAuthStateChanged,yg=function(e){var n,r=ym(e);return{getBudgets:(n=t(y)(t(C).mark((function e(n){var i,a;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ym(hm(r,"budgets"),(o="uid",u="==",s=n.uid,l=void 0,c=void 0,l=u,c=Bm("where",o),new Jm(c,l,s)),Zm("createdAt")),e.next=3,og(i);case 3:return a=e.sent,e.abrupt("return",a.docs.map((function(e){return t(Ne)({id:e.id},e.data())})));case 5:case"end":return e.stop()}var o,u,s,l,c}),e)}))),function(e){return n.apply(this,arguments)}),updateBudget:function(){var e=t(y)(t(C).mark((function e(n,i,a){var o;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=hm(r,"budgets"),e.next=3,ug(dm(o,n),{amount:i,weekly_amount:a},{merge:!0});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),createBudget:function(){var e=t(y)(t(C).mark((function e(n,i,a){var o;return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sg(hm(r,"budgets"),{amount:0,createdAt:new Date,name:i,uid:n.uid,weekly_amount:0,weekly_budget:a});case 2:o=e.sent,console.log("Document written with ID: ",o.id);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}}(fg),mg=yg.getBudgets,gg=yg.updateBudget,kg=yg.createBudget,bg=function(e){return new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(e)},wg=function(){var e=t(c)(t(l).useState(void 0),2),n=e[0],r=e[1];return t(l).useEffect((function(){return vg(r)}),[]),n},xg=function(e){var t=e.user;return null!==t?(0,o.jsxs)("button",{className:"btn btn-outline-danger",onClick:function(e){e.preventDefault(),pg()},children:[(0,o.jsx)("i",{className:"bi bi-box-arrow-in-left"})," ",(0,o.jsx)("em",{children:t.displayName})]}):(0,o.jsx)("button",{className:"btn btn-outline-success",onClick:function(e){e.preventDefault(),dg()},children:(0,o.jsx)("i",{className:"bi bi-box-arrow-in-right"})})},Eg=function(e){return(0,o.jsx)("div",{style:{marginTop:"50px"},className:"d-flex justify-content-center",children:(0,o.jsx)("div",{style:{width:"3rem",height:"3rem"},className:"spinner-border",role:"status",children:(0,o.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},Sg=function(e){return(0,o.jsx)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark",children:(0,o.jsxs)("div",{className:"container-fluid",children:[(0,o.jsx)("span",{className:"navbar-brand",children:"My Budgets"}),(0,o.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,o.jsx)("span",{className:"navbar-toggler-icon"})}),(0,o.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarCollapse",children:[(0,o.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-md-0"}),(0,o.jsx)("form",{className:"d-flex",children:(0,o.jsx)(xg,{user:null})})]})]})})};l=a("jE8J5"),Oa=a("8ztJZ"),l=a("jE8J5");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function _g(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function Tg(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var Ig,Cg=function(){},Ng=Cg(),Ag=Object,Rg=function(e){return e===Ng},Og=function(e){return"function"==typeof e},Dg=function(e,t){return Ag.assign({},e,t)},Pg="undefined",Lg=function(){return("undefined"==typeof window?"undefined":t(Oa)(window))!=Pg},Mg=new WeakMap,Ug=0,Fg=function(e){var n,r,i=void 0===e?"undefined":t(Oa)(e),a=e&&e.constructor,o=a==Date;if(Ag(e)!==e||o||a==RegExp)n=o?e.toJSON():"symbol"==i?e.toString():"string"==i?JSON.stringify(e):""+e;else{if(n=Mg.get(e))return n;if(n=++Ug+"~",Mg.set(e,n),a==Array){for(n="@",r=0;r<e.length;r++)n+=Fg(e[r])+",";Mg.set(e,n)}if(a==Ag){n="#";for(var u=Ag.keys(e).sort();!Rg(r=u.pop());)Rg(e[r])||(n+=r+":"+Fg(e[r])+",");Mg.set(e,n)}}return n},jg=!0,Vg=Lg(),zg=("undefined"==typeof document?"undefined":t(Oa)(document))!=Pg,Bg=Vg&&window.addEventListener?window.addEventListener.bind(window):Cg,qg=zg?document.addEventListener.bind(document):Cg,Hg=Vg&&window.removeEventListener?window.removeEventListener.bind(window):Cg,Kg=zg?document.removeEventListener.bind(document):Cg,Wg={isOnline:function(){return jg},isVisible:function(){var e=zg&&document.visibilityState;return Rg(e)||"hidden"!==e}},Gg={initFocus:function(e){return qg("visibilitychange",e),Bg("focus",e),function(){Kg("visibilitychange",e),Hg("focus",e)}},initReconnect:function(e){var t=function(){jg=!0,e()},n=function(){jg=!1};return Bg("online",t),Bg("offline",n),function(){Hg("online",t),Hg("offline",n)}}},Qg=!Lg()||"Deno"in window,Xg=function(e){return Lg()&&t(Oa)(window.requestAnimationFrame)!=Pg?window.requestAnimationFrame(e):setTimeout(e,1)},Yg=Qg?l.useEffect:l.useLayoutEffect,Jg="undefined"!=typeof navigator&&navigator.connection,$g=!Qg&&Jg&&(["slow-2g","2g"].includes(Jg.effectiveType)||Jg.saveData),Zg=function(e){if(Og(e))try{e=e()}catch(t){e=""}var t=[].concat(e);return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?Fg(e):"",t,e?"$swr$"+e:""]},ek=new WeakMap,tk=function(e,t,n,r,i,a,o){void 0===o&&(o=!0);var u=ek.get(e),s=u[0],l=u[1],c=u[3],f=s[t],h=l[t];if(o&&h)for(var d=0;d<h.length;++d)h[d](n,r,i);return a&&(delete c[t],f&&f[0])?f[0](2).then((function(){return e.get(t)})):e.get(t)},nk=0,rk=function(){return++nk},ik=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _g(void 0,void 0,void 0,(function(){var t,n,r,i,a,o,u,s,l,c,f,h,d,p,v,y,m,g,k,b,w;return Tg(this,(function(x){switch(x.label){case 0:if(t=e[0],n=e[1],r=e[2],i=e[3],o=!!Rg((a="boolean"==typeof i?{revalidate:i}:i||{}).populateCache)||a.populateCache,u=!1!==a.revalidate,s=!1!==a.rollbackOnError,l=a.optimisticData,c=Zg(n),f=c[0],h=c[2],!f)return[2];if(d=ek.get(t),p=d[2],e.length<3)return[2,tk(t,f,t.get(f),Ng,Ng,u,!0)];if(v=r,m=rk(),p[f]=[m,0],g=!Rg(l),k=t.get(f),g&&(b=Og(l)?l(k):l,t.set(f,b),tk(t,f,b)),Og(v))try{v=v(t.get(f))}catch(e){y=e}return v&&Og(v.then)?[4,v.catch((function(e){y=e}))]:[3,2];case 1:if(v=x.sent(),m!==p[f][0]){if(y)throw y;return[2,v]}y&&g&&s&&(o=!0,v=k,t.set(f,k)),x.label=2;case 2:return o&&(y||(Og(o)&&(v=o(v,k)),t.set(f,v)),t.set(h,Dg(t.get(h),{error:y}))),p[f][1]=rk(),[4,tk(t,f,v,y,Ng,u,!!o)];case 3:if(w=x.sent(),y)throw y;return[2,o?w:v]}}))}))},ak=function(e,t){for(var n in e)e[n][0]&&e[n][0](t)},ok=function(e,t){if(!ek.has(e)){var n=Dg(Gg,t),r={},i=ik.bind(Ng,e),a=Cg;if(ek.set(e,[r,{},{},{},i]),!Qg){var o=n.initFocus(setTimeout.bind(Ng,ak.bind(Ng,r,0))),u=n.initReconnect(setTimeout.bind(Ng,ak.bind(Ng,r,1)));a=function(){o&&o(),u&&u(),ek.delete(e)}}return[e,i,a]}return[e,ek.get(e)[4]]},uk=ok(new Map),sk=uk[0],lk=uk[1],ck=Dg({onLoadingSlow:Cg,onSuccess:Cg,onError:Cg,onErrorRetry:function(e,t,n,r,i){var a=n.errorRetryCount,o=i.retryCount,u=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!Rg(a)&&o>a||setTimeout(r,u,i)},onDiscarded:Cg,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:$g?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:$g?5e3:3e3,compare:function(e,t){return Fg(e)==Fg(t)},isPaused:function(){return!1},cache:sk,mutate:lk,fallback:{}},Wg),fk=function(e,t){var n=Dg(e,t);if(t){var r=e.use,i=e.fallback,a=t.use,o=t.fallback;r&&a&&(n.use=r.concat(a)),i&&o&&(n.fallback=Dg(i,o))}return n},hk=(0,l.createContext)({}),dk=function(e){return Og(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},pk=function(){return Dg(ck,(0,l.useContext)(hk))},vk=function(e,t,n){var r=t[e]||(t[e]=[]);return r.push(n),function(){var e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}},yk={dedupe:!0},mk=(Ag.defineProperty((function(e){var t=e.value,n=fk((0,l.useContext)(hk),t),r=t&&t.provider,i=(0,l.useState)((function(){return r?ok(r(n.cache||sk),t):Ng}))[0];return i&&(n.cache=i[0],n.mutate=i[1]),Yg((function(){return i?i[2]:Ng}),[]),(0,l.createElement)(hk.Provider,Dg(e,{value:n}))}),"default",{value:ck}),Ig=function(e,t,n){var r=n.cache,i=n.compare,a=n.fallbackData,o=n.suspense,u=n.revalidateOnMount,s=n.refreshInterval,c=n.refreshWhenHidden,f=n.refreshWhenOffline,h=ek.get(r),d=h[0],p=h[1],v=h[2],y=h[3],m=Zg(e),g=m[0],k=m[1],b=m[2],w=(0,l.useRef)(!1),x=(0,l.useRef)(!1),E=(0,l.useRef)(g),S=(0,l.useRef)(t),_=(0,l.useRef)(n),T=function(){return _.current},I=function(){return T().isVisible()&&T().isOnline()},C=function(e){return r.set(b,Dg(r.get(b),e))},N=r.get(g),A=Rg(a)?n.fallback[g]:a,R=Rg(N)?A:N,O=r.get(b)||{},D=O.error,P=!w.current,L=function(){return P&&!Rg(u)?u:!T().isPaused()&&(o?!Rg(R)&&n.revalidateIfStale:Rg(R)||n.revalidateIfStale)},M=!(!g||!t)&&(!!O.isValidating||P&&L()),U=function(e,t){var n=(0,l.useState)({})[1],r=(0,l.useRef)(e),i=(0,l.useRef)({data:!1,error:!1,isValidating:!1}),a=(0,l.useCallback)((function(e){var a=!1,o=r.current;for(var u in e){var s=u;o[s]!==e[s]&&(o[s]=e[s],i.current[s]&&(a=!0))}a&&!t.current&&n({})}),[]);return Yg((function(){r.current=e})),[r,i.current,a]}({data:R,error:D,isValidating:M},x),F=U[0],j=U[1],V=U[2],z=(0,l.useCallback)((function(e){return _g(void 0,void 0,void 0,(function(){var t,a,o,u,s,l,c,f,h,d,p,m,b;return Tg(this,(function(_){switch(_.label){case 0:if(t=S.current,!g||!t||x.current||T().isPaused())return[2,!1];u=!0,s=e||{},l=!y[g]||!s.dedupe,c=function(){return!x.current&&g===E.current&&w.current},f=function(){var e=y[g];e&&e[1]===o&&delete y[g]},h={isValidating:!1},d=function(){C({isValidating:!1}),c()&&V(h)},C({isValidating:!0}),V({isValidating:!0}),_.label=1;case 1:return _.trys.push([1,3,,4]),l&&(tk(r,g,F.current.data,F.current.error,!0),n.loadingTimeout&&!r.get(g)&&setTimeout((function(){u&&c()&&T().onLoadingSlow(g,n)}),n.loadingTimeout),y[g]=[t.apply(void 0,k),rk()]),b=y[g],a=b[0],o=b[1],[4,a];case 2:return a=_.sent(),l&&setTimeout(f,n.dedupingInterval),y[g]&&y[g][1]===o?(C({error:Ng}),h.error=Ng,p=v[g],!Rg(p)&&(o<=p[0]||o<=p[1]||0===p[1])?(d(),l&&c()&&T().onDiscarded(g),[2,!1]):(i(F.current.data,a)?h.data=F.current.data:h.data=a,i(r.get(g),a)||r.set(g,a),l&&c()&&T().onSuccess(a,g,n),[3,4])):(l&&c()&&T().onDiscarded(g),[2,!1]);case 3:return m=_.sent(),f(),T().isPaused()||(C({error:m}),h.error=m,l&&c()&&(T().onError(m,g,n),("boolean"==typeof n.shouldRetryOnError&&n.shouldRetryOnError||Og(n.shouldRetryOnError)&&n.shouldRetryOnError(m))&&I()&&T().onErrorRetry(m,g,n,z,{retryCount:(s.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return u=!1,d(),c()&&l&&tk(r,g,h.data,h.error,!1),[2,!0]}}))}))}),[g]),B=(0,l.useCallback)(ik.bind(Ng,r,(function(){return E.current})),[]);if(Yg((function(){S.current=t,_.current=n})),Yg((function(){if(g){var e=g!==E.current,t=z.bind(Ng,yk),n=0,r=vk(g,p,(function(e,t,n){V(Dg({error:t,isValidating:n},i(F.current.data,e)?Ng:{data:e}))})),a=vk(g,d,(function(e){if(0==e){var r=Date.now();T().revalidateOnFocus&&r>n&&I()&&(n=r+T().focusThrottleInterval,t())}else if(1==e)T().revalidateOnReconnect&&I()&&t();else if(2==e)return z()}));return x.current=!1,E.current=g,w.current=!0,e&&V({data:R,error:D,isValidating:M}),L()&&(Rg(R)||Qg?t():Xg(t)),function(){x.current=!0,r(),a()}}}),[g,z]),Yg((function(){var e;function t(){var t=Og(s)?s(R):s;t&&-1!==e&&(e=setTimeout(n,t))}function n(){F.current.error||!c&&!T().isVisible()||!f&&!T().isOnline()?t():z(yk).then(t)}return t(),function(){e&&(clearTimeout(e),e=-1)}}),[s,c,f,z]),(0,l.useDebugValue)(R),o&&Rg(R)&&g)throw S.current=t,_.current=n,x.current=!1,Rg(D)?z(yk):D;return{mutate:B,get data(){return j.data=!0,R},get error(){return j.error=!0,D},get isValidating(){return j.isValidating=!0,M}}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=pk(),r=dk(e),i=r[0],a=r[1],o=r[2],u=fk(n,o),s=Ig,l=u.use;if(l)for(var c=l.length;c-- >0;)s=l[c](s);return s(i,a||u.fetcher,u)}),gk=function(e){var n,r=mk(["budgets",e.uid],(function(e,t){return console.assert("budgets"===e),mg({uid:t})})),i=r.data,a=r.error,o=r.isValidating,u=r.mutate;return{data:i,error:a,isValidating:o,Methods:{spend:(n=t(y)(t(C).mark((function e(n,r){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(i.map((function(e){return n.id===e.id?t(Ne)({},n,{amount:n.amount-r,weekly_amount:n.weekly_amount+r}):e})),!1),e.next=3,gg(n.id,n.amount-r,n.weekly_amount+r);case 3:u();case 4:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)}),recharge:function(){var e=t(y)(t(C).mark((function e(n){return t(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u((function(e){return e.map((function(e){return n.id===e.id?t(Ne)({},n,{amount:n.amount+n.weekly_budget,weekly_amount:0}):e}))}),!1),e.next=3,gg(n.id,n.amount+n.weekly_budget,0);case 3:u();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var n=t(y)(t(C).mark((function n(r){return t(C).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u(t(x)(i).concat([{amount:0,id:"temporary_id",name:"".concat(r.name," (").concat(r.description,")"),weekly_amount:0,weekly_budget:r.budget}]),!1),n.next=3,kg(e,"".concat(r.name," (").concat(r.description,")"),r.budget);case 3:u();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}},kk=(l=a("jE8J5"),l=a("jE8J5"),document.body.appendChild(document.createElement("div"))),bk=function(e){var n=e.opened,r=e.setOpened,i=e.children,a=t(c)(t(l).useState(!1),2),u=a[0],f=a[1],h=t(l).useRef(null),d=t(l).useRef(null);return t(l).useEffect((function(){d.current=new bootstrap.Modal(h.current),h.current.addEventListener("hidden.bs.modal",(function(e){f(!1),r(!1)})),h.current.addEventListener("shown.bs.modal",(function(){f(!0)}))}),[]),t(l).useEffect((function(){n?d.current.show():(f(!1),d.current.hide())}),[n]),t(s).createPortal((0,o.jsx)("div",{ref:h,className:"modal fade",tabIndex:"-1","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog",children:(0,o.jsx)("div",{className:"modal-content",children:u?i:null})})}),kk)},wk=(l=a("jE8J5"),function(e){var n=e.setOpened,r=e.budget,i=e.action,a=t(l).useRef(null);t(l).useEffect((function(){a.current.focus()}),[]);var u=t(c)(t(l).useState(""),2),s=u[0],f=u[1];return(0,o.jsxs)(t(l).Fragment,{children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h5",{className:"modal-title",children:r.name}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(parseFloat(s)),n(!1)},children:[(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsxs)("div",{className:"form-floating",children:[(0,o.jsx)("input",{ref:a,id:"floatingInput",type:"number",className:"form-control",value:s,step:"0.01",onChange:function(e){f(e.target.value)},placeholder:"3.14",required:!0}),(0,o.jsx)("label",{htmlFor:"floatingInput",children:"Quanto hai speso?"})]}),(0,o.jsxs)("small",{className:"form-text text-muted",children:["Il tuo budget è ",bg(r.amount)]})]}),(0,o.jsx)("div",{className:"modal-footer",children:(0,o.jsx)("button",{type:"submit",className:"btn btn-outline-primary",children:"Sure!"})})]})]})}),xk=function(e){var n=e.budget,r=e.spend,i=t(c)(t(l).useState(!1),2),a=i[0],u=i[1];return(0,o.jsxs)("div",{className:"col-sm-6",children:[(0,o.jsx)(bk,{opened:a,setOpened:u,children:(0,o.jsx)(wk,{setOpened:u,budget:n,action:r})}),(0,o.jsxs)("div",{className:"card border-secondary",style:{margin:"10px"},children:[(0,o.jsxs)("div",{className:"card-header",children:[n.name," ",(0,o.jsx)("sub",{children:bg(n.weekly_budget)}),(0,o.jsx)("span",{className:"float-end",children:(0,o.jsxs)("form",{className:"row row-cols-auto align-items-center",children:[(0,o.jsx)("strong",{children:(0,o.jsx)("em",{children:bg(n.amount)})}),(0,o.jsxs)("div",{className:"dropdown",children:[(0,o.jsx)("button",{className:"btn btn-sm btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"⚙"}),(0,o.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[(0,o.jsx)("button",{className:"dropdown-item",onClick:function(e){e.preventDefault()},children:"TODO"}),(0,o.jsx)("button",{className:"dropdown-item",onClick:function(e){e.preventDefault()},children:"TODO"})]})]})]})})]}),(0,o.jsx)("div",{className:"card-body",children:(0,o.jsxs)("p",{style:{marginTop:"4px"},children:[(0,o.jsx)("span",{className:"card-subtitle mb-2 text-muted",children:bg(n.weekly_amount)}),(0,o.jsx)("button",{className:"btn btn-outline-primary float-end",onClick:function(){u(!0)},children:"Add cost"})]})})]})]},n.id)};a("jE8J5");var Ek=function(e,t){return 100*e/t},Sk=function(e){var t=e.amount,n=e.weekly_amount,r=Math.max(0,t-n),i=Ek(r,t);return(0,o.jsx)("div",{className:"progress",children:(0,o.jsx)("div",{className:"progress-bar",style:{width:"".concat(i,"%")},children:bg(r)})})};a("jE8J5");var _k=function(e){var t=e.user;return gk(t).isValidating?(0,o.jsx)("div",{className:"spinner-border",style:{position:"fixed",bottom:"1em",right:"1em"},role:"status",children:(0,o.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):null};l=a("jE8J5");a("jE8J5");var Tk=function(e){var t=e.opened,n=e.setOpened,r=e.action;return(0,o.jsxs)(bk,{opened:t,setOpened:n,children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h5",{className:"modal-title",children:"Recharge All"}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,o.jsx)("div",{className:"modal-body",children:"Sicuro di voler ricaricare tutti i budget?"}),(0,o.jsx)("div",{className:"modal-footer",style:{display:"block"},children:(0,o.jsx)("button",{className:"btn btn-outline-danger float-end",onClick:function(){r(),n(!1)},children:"Ok"})})]})},Ik=(l=a("jE8J5"),function(e){var n=e.action,r=t(l).useRef(null);t(l).useEffect((function(){r.current.focus()}),[]);var i=t(c)(t(l).useState(""),2),a=i[0],u=i[1],s=t(c)(t(l).useState(""),2),f=s[0],h=s[1],d=t(c)(t(l).useState(""),2),p=d[0],v=d[1],y=function(e){"budget"===e.target.name?v(parseFloat(e.target.value)):(0,{name:u,description:h}[e.target.name])(e.target.value)};return(0,o.jsxs)(t(l).Fragment,{children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h5",{className:"modal-title",children:"New Budget"}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n({name:a,description:f,budget:p})},children:[(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsxs)("div",{className:"form-floating mb-3",children:[(0,o.jsx)("input",{ref:r,className:"form-control",name:"name",placeholder:" ",value:a,onChange:y,required:!0}),(0,o.jsx)("label",{children:"Name"})]}),(0,o.jsxs)("div",{className:"form-floating mb-3",children:[(0,o.jsx)("textarea",{className:"form-control",name:"description",rows:"3",placeholder:" ",style:{height:"100px"},value:f,onChange:y}),(0,o.jsx)("label",{children:"Description"})]}),(0,o.jsxs)("div",{className:"form-floating mb-3",children:[(0,o.jsx)("input",{type:"number",min:"0.01",step:"0.01",className:"form-control",value:p,onChange:y,name:"budget",placeholder:" ",required:!0}),(0,o.jsx)("label",{children:"Budget"})]})]}),(0,o.jsx)("div",{className:"modal-footer",style:{display:"block"},children:(0,o.jsx)("button",{type:"submit",className:"btn btn-outline-danger float-end",children:"Ok"})})]})]})}),Ck=function(e){var t=e.opened,n=e.setOpened,r=e.action;return(0,o.jsx)(bk,{opened:t,setOpened:n,children:(0,o.jsx)(Ik,{action:function(e){r(e),n(!1)}})})},Nk=function(e){var n=e.user,r=e.budgets,i=e.Methods,a=t(c)(t(l).useState(!1),2),u=a[0],s=a[1],f=t(c)(t(l).useState(!1),2),h=f[0],d=f[1],p=r.reduce((function(e,t){return e+t.weekly_budget}),0);return(0,o.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark",children:[(0,o.jsx)(Tk,{opened:u,setOpened:s,action:function(){r.forEach((function(e){i.recharge(e)}))}}),(0,o.jsx)(Ck,{opened:h,setOpened:d,action:function(e){i.create(e)}}),(0,o.jsxs)("div",{className:"container-fluid",children:[(0,o.jsxs)("span",{className:"navbar-brand",children:["My Budgets ",(0,o.jsx)("sub",{children:bg(p)})]}),(0,o.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,o.jsx)("span",{className:"navbar-toggler-icon"})}),(0,o.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarCollapse",children:[(0,o.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-md-0",children:[(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsx)("a",{className:"nav-link",href:"#",onClick:function(e){e.preventDefault(),s(!0)},children:"Recharge all"})}),(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsx)("a",{className:"nav-link",href:"#",onClick:function(e){e.preventDefault(),d(!0)},children:"New budget"})})]}),(0,o.jsx)("form",{className:"d-flex",children:(0,o.jsx)(xg,{user:n})})]})]})]})},Ak=function(e){var n=e.user,r=e.error;return(0,o.jsxs)(t(l).Fragment,{children:[(0,o.jsx)(Sg,{user:n}),(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{style:{marginTop:"10px"},className:"alert alert-danger",role:"alert",children:[(0,o.jsx)("p",{children:"Errore nel caricamento dei budget!"}),(0,o.jsx)("hr",{}),(0,o.jsx)("p",{children:(0,o.jsx)("em",{children:r.message})})]})})]})},Rk=function(e){var n=e.user,r=gk(n),i=r.data,a=r.error,u=r.Methods;if(void 0!==a)return(0,o.jsx)(Ak,{user:n,error:a});if(void 0===i)return(0,o.jsx)(Eg,{});var s=i.reduce((function(e,t){return e+t.amount}),0),c=i.reduce((function(e,t){return e+t.weekly_amount}),0),f=i.map((function(e){return(0,o.jsx)(xk,{budget:e,spend:function(t){u.spend(e,t)}},e.id)}));return(0,o.jsxs)(t(l).Fragment,{children:[(0,o.jsx)(Nk,{user:n,budgets:i,Methods:u}),(0,o.jsxs)("div",{className:"container",style:{paddingTop:"1em"},children:[(0,o.jsx)("div",{style:{marginTop:"4px"},children:(0,o.jsx)(Sk,{amount:s,weekly_amount:c})}),(0,o.jsx)("div",{className:"row",children:f})]}),(0,o.jsx)(_k,{user:n})]})},Ok=function(){return(0,o.jsxs)(t(l).Fragment,{children:[(0,o.jsx)(Sg,{}),(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("div",{style:{marginTop:"10px"},className:"alert alert-danger",role:"alert",children:(0,o.jsx)("p",{children:"Please authenticate!"})}),(0,o.jsxs)("p",{children:["You need to"," ",(0,o.jsx)("a",{href:"#",onClick:function(e){e.preventDefault()},children:"authenticate"})," ","with a Google Account in order to use this app."]})]})]})},Dk=function(e){var t=wg();return void 0===t?(0,o.jsx)(Eg,{}):null===t?(0,o.jsx)(Ok,{}):(0,o.jsx)(Rk,{user:t})};u(document.getElementById("app")).render((0,o.jsx)(Dk,{}))}();