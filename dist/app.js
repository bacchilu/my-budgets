/*! For license information please see app.js.LICENSE.txt */
(()=>{var e={3099:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},6077:(e,t,n)=>{var r=n(111);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},1223:(e,t,n)=>{var r=n(5112),i=n(30),s=n(3070),o=r("unscopables"),a=Array.prototype;null==a[o]&&s.f(a,o,{configurable:!0,value:i(null)}),e.exports=function(e){a[o][e]=!0}},5787:e=>{e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},9670:(e,t,n)=>{var r=n(111);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},8533:(e,t,n)=>{"use strict";var r=n(2092).forEach,i=n(9341)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},8457:(e,t,n)=>{"use strict";var r=n(9974),i=n(7908),s=n(3411),o=n(7659),a=n(7466),u=n(6135),l=n(1246);e.exports=function(e){var t,n,c,h,d,f,p=i(e),m="function"==typeof this?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,v=void 0!==y,w=l(p),b=0;if(v&&(y=r(y,g>2?arguments[2]:void 0,2)),null==w||m==Array&&o(w))for(n=new m(t=a(p.length));t>b;b++)f=v?y(p[b],b):p[b],u(n,b,f);else for(d=(h=w.call(p)).next,n=new m;!(c=d.call(h)).done;b++)f=v?s(h,y,[c.value,b],!0):c.value,u(n,b,f);return n.length=b,n}},1318:(e,t,n)=>{var r=n(5656),i=n(7466),s=n(1400),o=function(e){return function(t,n,o){var a,u=r(t),l=i(u.length),c=s(o,l);if(e&&n!=n){for(;l>c;)if((a=u[c++])!=a)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},2092:(e,t,n)=>{var r=n(9974),i=n(8361),s=n(7908),o=n(7466),a=n(5417),u=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,c=4==e,h=6==e,d=7==e,f=5==e||h;return function(p,m,g,y){for(var v,w,b=s(p),_=i(b),E=r(m,g,3),I=o(_.length),T=0,S=y||a,k=t?S(p,I):n||d?S(p,0):void 0;I>T;T++)if((f||T in _)&&(w=E(v=_[T],T,b),e))if(t)k[T]=w;else if(w)switch(e){case 3:return!0;case 5:return v;case 6:return T;case 2:u.call(k,v)}else switch(e){case 4:return!1;case 7:u.call(k,v)}return h?-1:l||c?c:k}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},1194:(e,t,n)=>{var r=n(7293),i=n(5112),s=n(7392),o=i("species");e.exports=function(e){return s>=51||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,n)=>{"use strict";var r=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},7475:(e,t,n)=>{var r=n(111),i=n(3157),s=n(5112)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)?r(t)&&null===(t=t[s])&&(t=void 0):t=void 0),void 0===t?Array:t}},5417:(e,t,n)=>{var r=n(7475);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},3411:(e,t,n)=>{var r=n(9670),i=n(9212);e.exports=function(e,t,n,s){try{return s?t(r(n)[0],n[1]):t(n)}catch(t){throw i(e),t}}},7072:(e,t,n)=>{var r=n(5112)("iterator"),i=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var s={};s[r]=function(){return{next:function(){return{done:n=!0}}}},e(s)}catch(e){}return n}},4326:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},648:(e,t,n)=>{var r=n(1694),i=n(4326),s=n(5112)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},9920:(e,t,n)=>{var r=n(6656),i=n(3887),s=n(1236),o=n(3070);e.exports=function(e,t){for(var n=i(t),a=o.f,u=s.f,l=0;l<n.length;l++){var c=n[l];r(e,c)||a(e,c,u(t,c))}}},8544:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:(e,t,n)=>{"use strict";var r=n(3383).IteratorPrototype,i=n(30),s=n(9114),o=n(8003),a=n(7497),u=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=i(r,{next:s(1,n)}),o(e,l,!1,!0),a[l]=u,e}},8880:(e,t,n)=>{var r=n(9781),i=n(3070),s=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,n)=>{"use strict";var r=n(4948),i=n(3070),s=n(9114);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,s(0,n)):e[o]=n}},654:(e,t,n)=>{"use strict";var r=n(2109),i=n(4994),s=n(9518),o=n(7674),a=n(8003),u=n(8880),l=n(1320),c=n(5112),h=n(1913),d=n(7497),f=n(3383),p=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,g=c("iterator"),y="keys",v="values",w="entries",b=function(){return this};e.exports=function(e,t,n,c,f,_,E){i(n,t,c);var I,T,S,k=function(e){if(e===f&&O)return O;if(!m&&e in A)return A[e];switch(e){case y:case v:case w:return function(){return new n(this,e)}}return function(){return new n(this)}},N=t+" Iterator",C=!1,A=e.prototype,x=A[g]||A["@@iterator"]||f&&A[f],O=!m&&x||k(f),R="Array"==t&&A.entries||x;if(R&&(I=s(R.call(new e)),p!==Object.prototype&&I.next&&(h||s(I)===p||(o?o(I,p):"function"!=typeof I[g]&&u(I,g,b)),a(I,N,!0,!0),h&&(d[N]=b))),f==v&&x&&x.name!==v&&(C=!0,O=function(){return x.call(this)}),h&&!E||A[g]===O||u(A,g,O),d[t]=O,f)if(T={values:k(v),keys:_?O:k(y),entries:k(w)},E)for(S in T)(m||C||!(S in A))&&l(A,S,T[S]);else r({target:t,proto:!0,forced:m||C},T);return T}},7235:(e,t,n)=>{var r=n(857),i=n(6656),s=n(6061),o=n(3070).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:s.f(e)})}},9781:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var r=n(7854),i=n(111),s=r.document,o=i(s)&&i(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7871:e=>{e.exports="object"==typeof window},1528:(e,t,n)=>{var r=n(8113),i=n(7854);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},6833:(e,t,n)=>{var r=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:(e,t,n)=>{var r=n(4326),i=n(7854);e.exports="process"==r(i.process)},1036:(e,t,n)=>{var r=n(8113);e.exports=/web0s(?!.*chrome)/i.test(r)},8113:(e,t,n)=>{var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:(e,t,n)=>{var r,i,s=n(7854),o=n(8113),a=s.process,u=s.Deno,l=a&&a.versions||u&&u.version,c=l&&l.v8;c?i=(r=c.split("."))[0]<4?1:r[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var r=n(7854),i=n(1236).f,s=n(8880),o=n(1320),a=n(3505),u=n(9920),l=n(4705);e.exports=function(e,t){var n,c,h,d,f,p=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[p]||a(p,{}):(r[p]||{}).prototype)for(c in t){if(d=t[c],h=e.noTargetGet?(f=i(n,c))&&f.value:n[c],!l(m?c:p+(g?".":"#")+c,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;u(d,h)}(e.sham||h&&h.sham)&&s(d,"sham",!0),o(n,c,d,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9974:(e,t,n)=>{var r=n(3099);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},5005:(e,t,n)=>{var r=n(7854),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},1246:(e,t,n)=>{var r=n(648),i=n(7497),s=n(5112)("iterator");e.exports=function(e){if(null!=e)return e[s]||e["@@iterator"]||i[r(e)]}},7854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:(e,t,n)=>{var r=n(7908),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},3501:e=>{e.exports={}},842:(e,t,n)=>{var r=n(7854);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},490:(e,t,n)=>{var r=n(5005);e.exports=r("document","documentElement")},4664:(e,t,n)=>{var r=n(9781),i=n(7293),s=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var r=n(7293),i=n(4326),s="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s.call(e,""):Object(e)}:Object},2788:(e,t,n)=>{var r=n(5465),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},9909:(e,t,n)=>{var r,i,s,o=n(8536),a=n(7854),u=n(111),l=n(8880),c=n(6656),h=n(5465),d=n(6200),f=n(3501),p="Object already initialized",m=a.WeakMap;if(o||h.state){var g=h.state||(h.state=new m),y=g.get,v=g.has,w=g.set;r=function(e,t){if(v.call(g,e))throw new TypeError(p);return t.facade=e,w.call(g,e,t),t},i=function(e){return y.call(g,e)||{}},s=function(e){return v.call(g,e)}}else{var b=d("state");f[b]=!0,r=function(e,t){if(c(e,b))throw new TypeError(p);return t.facade=e,l(e,b,t),t},i=function(e){return c(e,b)?e[b]:{}},s=function(e){return c(e,b)}}e.exports={set:r,get:i,has:s,enforce:function(e){return s(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},7659:(e,t,n)=>{var r=n(5112),i=n(7497),s=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[s]===e)}},3157:(e,t,n)=>{var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},4705:(e,t,n)=>{var r=n(7293),i=/#|\.prototype\./,s=function(e,t){var n=a[o(e)];return n==l||n!=u&&("function"==typeof t?r(t):!!t)},o=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},111:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:e=>{e.exports=!1},2190:(e,t,n)=>{var r=n(5005),i=n(3307);e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return"function"==typeof t&&Object(e)instanceof t}},408:(e,t,n)=>{var r=n(9670),i=n(7659),s=n(7466),o=n(9974),a=n(1246),u=n(9212),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var c,h,d,f,p,m,g,y=n&&n.that,v=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),_=o(t,y,1+v+b),E=function(e){return c&&u(c),new l(!0,e)},I=function(e){return v?(r(e),b?_(e[0],e[1],E):_(e[0],e[1])):b?_(e,E):_(e)};if(w)c=e;else{if("function"!=typeof(h=a(e)))throw TypeError("Target is not iterable");if(i(h)){for(d=0,f=s(e.length);f>d;d++)if((p=I(e[d]))&&p instanceof l)return p;return new l(!1)}c=h.call(e)}for(m=c.next;!(g=m.call(c)).done;){try{p=I(g.value)}catch(e){throw u(c),e}if("object"==typeof p&&p&&p instanceof l)return p}return new l(!1)}},9212:(e,t,n)=>{var r=n(9670);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},3383:(e,t,n)=>{"use strict";var r,i,s,o=n(7293),a=n(9518),u=n(8880),l=n(6656),c=n(5112),h=n(1913),d=c("iterator"),f=!1;[].keys&&("next"in(s=[].keys())?(i=a(a(s)))!==Object.prototype&&(r=i):f=!0);var p=null==r||o((function(){var e={};return r[d].call(e)!==e}));p&&(r={}),h&&!p||l(r,d)||u(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},7497:e=>{e.exports={}},5948:(e,t,n)=>{var r,i,s,o,a,u,l,c,h=n(7854),d=n(1236).f,f=n(261).set,p=n(6833),m=n(1528),g=n(1036),y=n(5268),v=h.MutationObserver||h.WebKitMutationObserver,w=h.document,b=h.process,_=h.Promise,E=d(h,"queueMicrotask"),I=E&&E.value;I||(r=function(){var e,t;for(y&&(e=b.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():s=void 0,e}}s=void 0,e&&e.enter()},p||y||g||!v||!w?!m&&_&&_.resolve?((l=_.resolve(void 0)).constructor=_,c=l.then,o=function(){c.call(l,r)}):o=y?function(){b.nextTick(r)}:function(){f.call(h,r)}:(a=!0,u=w.createTextNode(""),new v(r).observe(u,{characterData:!0}),o=function(){u.data=a=!a})),e.exports=I||function(e){var t={fn:e,next:void 0};s&&(s.next=t),i||(i=t,o()),s=t}},3366:(e,t,n)=>{var r=n(7854);e.exports=r.Promise},133:(e,t,n)=>{var r=n(7392),i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:(e,t,n)=>{var r=n(7854),i=n(2788),s=r.WeakMap;e.exports="function"==typeof s&&/native code/.test(i(s))},8523:(e,t,n)=>{"use strict";var r=n(3099),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},30:(e,t,n)=>{var r,i=n(9670),s=n(6048),o=n(748),a=n(3501),u=n(490),l=n(317),c=n(6200)("IE_PROTO"),h=function(){},d=function(e){return"<script>"+e+"<\/script>"},f=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},p=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;p="undefined"!=typeof document?document.domain&&r?f(r):((t=l("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):f(r);for(var n=o.length;n--;)delete p.prototype[o[n]];return p()};a[c]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=i(e),n=new h,h.prototype=null,n[c]=e):n=p(),void 0===t?n:s(n,t)}},6048:(e,t,n)=>{var r=n(9781),i=n(3070),s=n(9670),o=n(1956);e.exports=r?Object.defineProperties:function(e,t){s(e);for(var n,r=o(t),a=r.length,u=0;a>u;)i.f(e,n=r[u++],t[n]);return e}},3070:(e,t,n)=>{var r=n(9781),i=n(4664),s=n(9670),o=n(4948),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(s(e),t=o(t),s(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var r=n(9781),i=n(5296),s=n(9114),o=n(5656),a=n(4948),u=n(6656),l=n(4664),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=o(e),t=a(t),l)try{return c(e,t)}catch(e){}if(u(e,t))return s(!i.f.call(e,t),e[t])}},1156:(e,t,n)=>{var r=n(5656),i=n(8006).f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==s.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},8006:(e,t,n)=>{var r=n(6324),i=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var r=n(6656),i=n(7908),s=n(6200),o=n(8544),a=s("IE_PROTO"),u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},6324:(e,t,n)=>{var r=n(6656),i=n(5656),s=n(1318).indexOf,o=n(3501);e.exports=function(e,t){var n,a=i(e),u=0,l=[];for(n in a)!r(o,n)&&r(a,n)&&l.push(n);for(;t.length>u;)r(a,n=t[u++])&&(~s(l,n)||l.push(n));return l}},1956:(e,t,n)=>{var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var r=n(9670),i=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,s){return r(n),i(s),t?e.call(n,s):n.__proto__=s,n}}():void 0)},288:(e,t,n)=>{"use strict";var r=n(1694),i=n(648);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},2140:(e,t,n)=>{var r=n(111);e.exports=function(e,t){var n,i;if("string"===t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if("string"!==t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},3887:(e,t,n)=>{var r=n(5005),i=n(8006),s=n(5181),o=n(9670);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=s.f;return n?t.concat(n(e)):t}},857:(e,t,n)=>{var r=n(7854);e.exports=r},2534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9478:(e,t,n)=>{var r=n(9670),i=n(111),s=n(8523);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=s.f(e);return(0,n.resolve)(t),n.promise}},2248:(e,t,n)=>{var r=n(1320);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},1320:(e,t,n)=>{var r=n(7854),i=n(8880),s=n(6656),o=n(3505),a=n(2788),u=n(9909),l=u.get,c=u.enforce,h=String(String).split("String");(e.exports=function(e,t,n,a){var u,l=!!a&&!!a.unsafe,d=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||s(n,"name")||i(n,"name",t),(u=c(n)).source||(u.source=h.join("string"==typeof t?t:""))),e!==r?(l?!f&&e[t]&&(d=!0):delete e[t],d?e[t]=n:i(e,t,n)):d?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||a(this)}))},4488:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:(e,t,n)=>{var r=n(7854);e.exports=function(e,t){try{Object.defineProperty(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},6340:(e,t,n)=>{"use strict";var r=n(5005),i=n(3070),s=n(5112),o=n(9781),a=s("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},8003:(e,t,n)=>{var r=n(3070).f,i=n(6656),s=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},6200:(e,t,n)=>{var r=n(2309),i=n(9711),s=r("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},5465:(e,t,n)=>{var r=n(7854),i=n(3505),s="__core-js_shared__",o=r[s]||i(s,{});e.exports=o},2309:(e,t,n)=>{var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.16.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:(e,t,n)=>{var r=n(9670),i=n(3099),s=n(5112)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[s])?t:i(n)}},8710:(e,t,n)=>{var r=n(9958),i=n(1340),s=n(4488),o=function(e){return function(t,n){var o,a,u=i(s(t)),l=r(n),c=u.length;return l<0||l>=c?e?"":void 0:(o=u.charCodeAt(l))<55296||o>56319||l+1===c||(a=u.charCodeAt(l+1))<56320||a>57343?e?u.charAt(l):o:e?u.slice(l,l+2):a-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},261:(e,t,n)=>{var r,i,s,o,a=n(7854),u=n(7293),l=n(9974),c=n(490),h=n(317),d=n(6833),f=n(5268),p=a.setImmediate,m=a.clearImmediate,g=a.process,y=a.MessageChannel,v=a.Dispatch,w=0,b={};try{r=a.location}catch(e){}var _=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},E=function(e){return function(){_(e)}},I=function(e){_(e.data)},T=function(e){a.postMessage(String(e),r.protocol+"//"+r.host)};p&&m||(p=function(e){for(var t=[],n=arguments.length,r=1;n>r;)t.push(arguments[r++]);return b[++w]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(w),w},m=function(e){delete b[e]},f?i=function(e){g.nextTick(E(e))}:v&&v.now?i=function(e){v.now(E(e))}:y&&!d?(o=(s=new y).port2,s.port1.onmessage=I,i=l(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&r&&"file:"!==r.protocol&&!u(T)?(i=T,a.addEventListener("message",I,!1)):i="onreadystatechange"in h("script")?function(e){c.appendChild(h("script")).onreadystatechange=function(){c.removeChild(this),_(e)}}:function(e){setTimeout(E(e),0)}),e.exports={set:p,clear:m}},1400:(e,t,n)=>{var r=n(9958),i=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):s(n,t)}},5656:(e,t,n)=>{var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9958:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},7466:(e,t,n)=>{var r=n(9958),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:(e,t,n)=>{var r=n(4488);e.exports=function(e){return Object(r(e))}},7593:(e,t,n)=>{var r=n(111),i=n(2190),s=n(2140),o=n(5112)("toPrimitive");e.exports=function(e,t){if(!r(e)||i(e))return e;var n,a=e[o];if(void 0!==a){if(void 0===t&&(t="default"),n=a.call(e,t),!r(n)||i(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:(e,t,n)=>{var r=n(7593),i=n(2190);e.exports=function(e){var t=r(e,"string");return i(t)?t:String(t)}},1694:(e,t,n)=>{var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},1340:(e,t,n)=>{var r=n(2190);e.exports=function(e){if(r(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},9711:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},3307:(e,t,n)=>{var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:(e,t,n)=>{var r=n(5112);t.f=r},5112:(e,t,n)=>{var r=n(7854),i=n(2309),s=n(6656),o=n(9711),a=n(133),u=n(3307),l=i("wks"),c=r.Symbol,h=u?c:c&&c.withoutSetter||o;e.exports=function(e){return s(l,e)&&(a||"string"==typeof l[e])||(a&&s(c,e)?l[e]=c[e]:l[e]=h("Symbol."+e)),l[e]}},2222:(e,t,n)=>{"use strict";var r=n(2109),i=n(7293),s=n(3157),o=n(111),a=n(7908),u=n(7466),l=n(6135),c=n(5417),h=n(1194),d=n(5112),f=n(7392),p=d("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",y=f>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=h("concat"),w=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:s(e)};r({target:"Array",proto:!0,forced:!y||!v},{concat:function(e){var t,n,r,i,s,o=a(this),h=c(o,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(w(s=-1===t?o:arguments[t])){if(d+(i=u(s.length))>m)throw TypeError(g);for(n=0;n<i;n++,d++)n in s&&l(h,d,s[n])}else{if(d>=m)throw TypeError(g);l(h,d++,s)}return h.length=d,h}})},7327:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).filter;r({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},1038:(e,t,n)=>{var r=n(2109),i=n(8457);r({target:"Array",stat:!0,forced:!n(7072)((function(e){Array.from(e)}))},{from:i})},6992:(e,t,n)=>{"use strict";var r=n(5656),i=n(1223),s=n(7497),o=n(9909),a=n(654),u="Array Iterator",l=o.set,c=o.getterFor(u);e.exports=a(Array,"Array",(function(e,t){l(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},1249:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).map;r({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},7042:(e,t,n)=>{"use strict";var r=n(2109),i=n(111),s=n(3157),o=n(1400),a=n(7466),u=n(5656),l=n(6135),c=n(5112),h=n(1194)("slice"),d=c("species"),f=[].slice,p=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,c,h=u(this),m=a(h.length),g=o(e,m),y=o(void 0===t?m:t,m);if(s(h)&&("function"!=typeof(n=h.constructor)||n!==Array&&!s(n.prototype)?i(n)&&null===(n=n[d])&&(n=void 0):n=void 0,n===Array||void 0===n))return f.call(h,g,y);for(r=new(void 0===n?Array:n)(p(y-g,0)),c=0;g<y;g++,c++)g in h&&l(r,c,h[g]);return r.length=c,r}})},8309:(e,t,n)=>{var r=n(9781),i=n(3070).f,s=Function.prototype,o=s.toString,a=/^\s*function ([^ (]*)/,u="name";r&&!(u in s)&&i(s,u,{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(e){return""}}})},5003:(e,t,n)=>{var r=n(2109),i=n(7293),s=n(5656),o=n(1236).f,a=n(9781),u=i((function(){o(1)}));r({target:"Object",stat:!0,forced:!a||u,sham:!a},{getOwnPropertyDescriptor:function(e,t){return o(s(e),t)}})},9337:(e,t,n)=>{var r=n(2109),i=n(9781),s=n(3887),o=n(5656),a=n(1236),u=n(6135);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),i=a.f,l=s(r),c={},h=0;l.length>h;)void 0!==(n=i(r,t=l[h++]))&&u(c,t,n);return c}})},7941:(e,t,n)=>{var r=n(2109),i=n(7908),s=n(1956);r({target:"Object",stat:!0,forced:n(7293)((function(){s(1)}))},{keys:function(e){return s(i(e))}})},1539:(e,t,n)=>{var r=n(1694),i=n(1320),s=n(288);r||i(Object.prototype,"toString",s,{unsafe:!0})},8674:(e,t,n)=>{"use strict";var r,i,s,o,a=n(2109),u=n(1913),l=n(7854),c=n(5005),h=n(3366),d=n(1320),f=n(2248),p=n(7674),m=n(8003),g=n(6340),y=n(111),v=n(3099),w=n(5787),b=n(2788),_=n(408),E=n(7072),I=n(6707),T=n(261).set,S=n(5948),k=n(9478),N=n(842),C=n(8523),A=n(2534),x=n(9909),O=n(4705),R=n(5112),P=n(7871),D=n(5268),L=n(7392),M=R("species"),F="Promise",U=x.get,V=x.set,j=x.getterFor(F),z=h&&h.prototype,q=h,B=z,K=l.TypeError,$=l.document,W=l.process,H=C.f,G=H,Q=!!($&&$.createEvent&&l.dispatchEvent),Y="function"==typeof PromiseRejectionEvent,J="unhandledrejection",X=!1,Z=O(F,(function(){var e=b(q),t=e!==String(q);if(!t&&66===L)return!0;if(u&&!B.finally)return!0;if(L>=51&&/native code/.test(e))return!1;var n=new q((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[M]=r,!(X=n.then((function(){}))instanceof r)||!t&&P&&!Y})),ee=Z||!E((function(e){q.all(e).catch((function(){}))})),te=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},ne=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;S((function(){for(var r=e.value,i=1==e.state,s=0;n.length>s;){var o,a,u,l=n[s++],c=i?l.ok:l.fail,h=l.resolve,d=l.reject,f=l.domain;try{c?(i||(2===e.rejection&&oe(e),e.rejection=1),!0===c?o=r:(f&&f.enter(),o=c(r),f&&(f.exit(),u=!0)),o===l.promise?d(K("Promise-chain cycle")):(a=te(o))?a.call(o,h,d):h(o)):d(r)}catch(e){f&&!u&&f.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ie(e)}))}},re=function(e,t,n){var r,i;Q?((r=$.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!Y&&(i=l["on"+e])?i(r):e===J&&N("Unhandled promise rejection",n)},ie=function(e){T.call(l,(function(){var t,n=e.facade,r=e.value;if(se(e)&&(t=A((function(){D?W.emit("unhandledRejection",r,n):re(J,n,r)})),e.rejection=D||se(e)?2:1,t.error))throw t.value}))},se=function(e){return 1!==e.rejection&&!e.parent},oe=function(e){T.call(l,(function(){var t=e.facade;D?W.emit("rejectionHandled",t):re("rejectionhandled",t,e.value)}))},ae=function(e,t,n){return function(r){e(t,r,n)}},ue=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ne(e,!0))},le=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw K("Promise can't be resolved itself");var r=te(t);r?S((function(){var n={done:!1};try{r.call(t,ae(le,n,e),ae(ue,n,e))}catch(t){ue(n,t,e)}})):(e.value=t,e.state=1,ne(e,!1))}catch(t){ue({done:!1},t,e)}}};if(Z&&(B=(q=function(e){w(this,q,F),v(e),r.call(this);var t=U(this);try{e(ae(le,t),ae(ue,t))}catch(e){ue(t,e)}}).prototype,(r=function(e){V(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(B,{then:function(e,t){var n=j(this),r=H(I(this,q));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=D?W.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&ne(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=U(e);this.promise=e,this.resolve=ae(le,t),this.reject=ae(ue,t)},C.f=H=function(e){return e===q||e===s?new i(e):G(e)},!u&&"function"==typeof h&&z!==Object.prototype)){o=z.then,X||(d(z,"then",(function(e,t){var n=this;return new q((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),d(z,"catch",B.catch,{unsafe:!0}));try{delete z.constructor}catch(e){}p&&p(z,B)}a({global:!0,wrap:!0,forced:Z},{Promise:q}),m(q,F,!1,!0),g(F),s=c(F),a({target:F,stat:!0,forced:Z},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),a({target:F,stat:!0,forced:u||Z},{resolve:function(e){return k(u&&this===s?q:this,e)}}),a({target:F,stat:!0,forced:ee},{all:function(e){var t=this,n=H(t),r=n.resolve,i=n.reject,s=A((function(){var n=v(t.resolve),s=[],o=0,a=1;_(e,(function(e){var u=o++,l=!1;s.push(void 0),a++,n.call(t,e).then((function(e){l||(l=!0,s[u]=e,--a||r(s))}),i)})),--a||r(s)}));return s.error&&i(s.value),n.promise},race:function(e){var t=this,n=H(t),r=n.reject,i=A((function(){var i=v(t.resolve);_(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},8783:(e,t,n)=>{"use strict";var r=n(8710).charAt,i=n(1340),s=n(9909),o=n(654),a="String Iterator",u=s.set,l=s.getterFor(a);o(String,"String",(function(e){u(this,{type:a,string:i(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},1817:(e,t,n)=>{"use strict";var r=n(2109),i=n(9781),s=n(7854),o=n(6656),a=n(111),u=n(3070).f,l=n(9920),c=s.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var h={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new c(e):void 0===e?c():c(e);return""===e&&(h[t]=!0),t};l(d,c);var f=d.prototype=c.prototype;f.constructor=d;var p=f.toString,m="Symbol(test)"==String(c("test")),g=/^Symbol\((.*)\)[^)]+$/;u(f,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=p.call(e);if(o(h,e))return"";var n=m?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},2165:(e,t,n)=>{n(7235)("iterator")},2526:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),s=n(5005),o=n(1913),a=n(9781),u=n(133),l=n(7293),c=n(6656),h=n(3157),d=n(111),f=n(2190),p=n(9670),m=n(7908),g=n(5656),y=n(4948),v=n(1340),w=n(9114),b=n(30),_=n(1956),E=n(8006),I=n(1156),T=n(5181),S=n(1236),k=n(3070),N=n(5296),C=n(8880),A=n(1320),x=n(2309),O=n(6200),R=n(3501),P=n(9711),D=n(5112),L=n(6061),M=n(7235),F=n(8003),U=n(9909),V=n(2092).forEach,j=O("hidden"),z="Symbol",q=D("toPrimitive"),B=U.set,K=U.getterFor(z),$=Object.prototype,W=i.Symbol,H=s("JSON","stringify"),G=S.f,Q=k.f,Y=I.f,J=N.f,X=x("symbols"),Z=x("op-symbols"),ee=x("string-to-symbol-registry"),te=x("symbol-to-string-registry"),ne=x("wks"),re=i.QObject,ie=!re||!re.prototype||!re.prototype.findChild,se=a&&l((function(){return 7!=b(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=G($,t);r&&delete $[t],Q(e,t,n),r&&e!==$&&Q($,t,r)}:Q,oe=function(e,t){var n=X[e]=b(W.prototype);return B(n,{type:z,tag:e,description:t}),a||(n.description=t),n},ae=function(e,t,n){e===$&&ae(Z,t,n),p(e);var r=y(t);return p(n),c(X,r)?(n.enumerable?(c(e,j)&&e[j][r]&&(e[j][r]=!1),n=b(n,{enumerable:w(0,!1)})):(c(e,j)||Q(e,j,w(1,{})),e[j][r]=!0),se(e,r,n)):Q(e,r,n)},ue=function(e,t){p(e);var n=g(t),r=_(n).concat(de(n));return V(r,(function(t){a&&!le.call(n,t)||ae(e,t,n[t])})),e},le=function(e){var t=y(e),n=J.call(this,t);return!(this===$&&c(X,t)&&!c(Z,t))&&(!(n||!c(this,t)||!c(X,t)||c(this,j)&&this[j][t])||n)},ce=function(e,t){var n=g(e),r=y(t);if(n!==$||!c(X,r)||c(Z,r)){var i=G(n,r);return!i||!c(X,r)||c(n,j)&&n[j][r]||(i.enumerable=!0),i}},he=function(e){var t=Y(g(e)),n=[];return V(t,(function(e){c(X,e)||c(R,e)||n.push(e)})),n},de=function(e){var t=e===$,n=Y(t?Z:g(e)),r=[];return V(n,(function(e){!c(X,e)||t&&!c($,e)||r.push(X[e])})),r};u||(A((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,t=P(e),n=function(e){this===$&&n.call(Z,e),c(this,j)&&c(this[j],t)&&(this[j][t]=!1),se(this,t,w(1,e))};return a&&ie&&se($,t,{configurable:!0,set:n}),oe(t,e)}).prototype,"toString",(function(){return K(this).tag})),A(W,"withoutSetter",(function(e){return oe(P(e),e)})),N.f=le,k.f=ae,S.f=ce,E.f=I.f=he,T.f=de,L.f=function(e){return oe(D(e),e)},a&&(Q(W.prototype,"description",{configurable:!0,get:function(){return K(this).description}}),o||A($,"propertyIsEnumerable",le,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:W}),V(_(ne),(function(e){M(e)})),r({target:z,stat:!0,forced:!u},{for:function(e){var t=v(e);if(c(ee,t))return ee[t];var n=W(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!f(e))throw TypeError(e+" is not a symbol");if(c(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!a},{create:function(e,t){return void 0===t?b(e):ue(b(e),t)},defineProperty:ae,defineProperties:ue,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:he,getOwnPropertySymbols:de}),r({target:"Object",stat:!0,forced:l((function(){T.f(1)}))},{getOwnPropertySymbols:function(e){return T.f(m(e))}}),H&&r({target:"JSON",stat:!0,forced:!u||l((function(){var e=W();return"[null]"!=H([e])||"{}"!=H({a:e})||"{}"!=H(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],s=1;arguments.length>s;)i.push(arguments[s++]);if(r=t,(d(t)||void 0!==e)&&!f(e))return h(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!f(t))return t}),i[1]=t,H.apply(null,i)}}),W.prototype[q]||C(W.prototype,q,W.prototype.valueOf),F(W,z),R[j]=!0},4747:(e,t,n)=>{var r=n(7854),i=n(8324),s=n(8533),o=n(8880);for(var a in i){var u=r[a],l=u&&u.prototype;if(l&&l.forEach!==s)try{o(l,"forEach",s)}catch(e){l.forEach=s}}},3948:(e,t,n)=>{var r=n(7854),i=n(8324),s=n(6992),o=n(8880),a=n(5112),u=a("iterator"),l=a("toStringTag"),c=s.values;for(var h in i){var d=r[h],f=d&&d.prototype;if(f){if(f[u]!==c)try{o(f,u,c)}catch(e){f[u]=c}if(f[l]||o(f,l,h),i[h])for(var p in s)if(f[p]!==s[p])try{o(f,p,s[p])}catch(e){f[p]=s[p]}}}},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,s){for(var o,a,u=i(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(u[c]=o[c]);if(t){a=t(o);for(var h=0;h<a.length;h++)r.call(o,a[h])&&(u[a[h]]=o[a[h]])}}return u}},4448:(e,t,n)=>{"use strict";var r=n(7294),i=n(7418),s=n(3840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var a=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,I=60106,T=60107,S=60108,k=60114,N=60109,C=60110,A=60112,x=60113,O=60120,R=60115,P=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;E=V("react.element"),I=V("react.portal"),T=V("react.fragment"),S=V("react.strict_mode"),k=V("react.profiler"),N=V("react.provider"),C=V("react.context"),A=V("react.forward_ref"),x=V("react.suspense"),O=V("react.suspense_list"),R=V("react.memo"),P=V("react.lazy"),D=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),F=V("react.offscreen"),U=V("react.legacy_hidden")}var j,z="function"==typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===j)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var K=!1;function $(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function W(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return $(e.type,!1);case 11:return $(e.type.render,!1);case 22:return $(e.type._render,!1);case 1:return $(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case T:return"Fragment";case I:return"Portal";case k:return"Profiler";case S:return"StrictMode";case x:return"Suspense";case O:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return H(e.type);case D:return H(e._render);case P:t=e._payload,e=e._init;try{return H(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function se(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function le(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ne=null,Ce=null;function Ae(e){if(e=Zr(e)){if("function"!=typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=ti(t),ke(e.stateNode,e.type,t))}}function xe(e){Ne?Ce?Ce.push(e):Ce=[e]:Ne=e}function Oe(){if(Ne){var e=Ne,t=Ce;if(Ce=Ne=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Re(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Re,Me=!1,Fe=!1;function Ue(){null===Ne&&null===Ce||(De(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(h)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){je=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){je=!1}function qe(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Be=!1,Ke=null,$e=!1,We=null,He={onError:function(e){Be=!0,Ke=e}};function Ge(e,t,n,r,i,s,o,a,u){Be=!1,Ke=null,qe.apply(He,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(Qe(e)!==e)throw Error(o(188))}function Xe(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Je(i),e;if(s===r)return Je(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,st=[],ot=null,at=null,ut=null,lt=new Map,ct=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=ft(t,n,r,i,s),null!==t&&null!==(t=Zr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Xr(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){s.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Zr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(it=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=Zr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==ot&&yt(ot)&&(ot=null),null!==at&&yt(at)&&(at=null),null!==ut&&yt(ut)&&(ut=null),lt.forEach(vt),ct.forEach(vt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,wt)))}function _t(e){function t(t){return bt(t,e)}if(0<st.length){bt(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==at&&bt(at,e),null!==ut&&bt(ut,e),lt.forEach(t),ct.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Tt={},St={};function kt(e){if(Tt[e])return Tt[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Tt[e]=n[t];return e}h&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Nt=kt("animationend"),Ct=kt("animationiteration"),At=kt("animationstart"),xt=kt("transitionend"),Ot=new Map,Rt=new Map,Pt=["abort","abort",Nt,"animationEnd",Ct,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Ot.set(r,i),l(i,[r])}}(0,s.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(0!==s)r=s,i=Lt=15;else if(0!=(s=134217727&n)){var u=s&~o;0!==u?(r=Mt(u),i=Lt):0!=(a&=s)&&(r=Mt(a),i=Lt)}else 0!=(s=n&~o)?(r=Mt(s),i=Lt):0!==a&&(r=Mt(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Bt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Bt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Vt(10,t):e;case 10:return 0===(e=jt(192&~t))?Vt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&0===(e=jt(4186112&~t))&&(e=512),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function jt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Bt(t)]=n}var Bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/$t|0)|0},Kt=Math.log,$t=Math.LN2,Wt=s.unstable_UserBlockingPriority,Ht=s.unstable_runWithPriority,Gt=!0;function Qt(e,t,n,r){Me||De();var i=Jt,s=Me;Me=!0;try{Pe(i,e,t,n,r)}finally{(Me=s)||Ue()}}function Yt(e,t,n,r){Ht(Wt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<st.length&&-1<dt.indexOf(e))e=ft(null,e,t,n,r),st.push(e);else{var s=Xt(e,t,n,r);if(null===s)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ft(s,e,t,n,r),void st.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=mt(ot,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return lt.set(s,mt(lt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ct.set(s,mt(ct.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;pt(e,r)}Or(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Se(r);if(null!==(i=Xr(i))){var s=Qe(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=Ye(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Or(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function on(){return!1}function an(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var un,ln,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(hn),fn=i({},hn,{view:0,detail:0}),pn=an(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(un=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=un=0,cn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=an(mn),yn=an(i({},mn,{dataTransfer:0})),vn=an(i({},fn,{relatedTarget:0})),wn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=an(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=an(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function kn(){return Sn}var Nn=an(i({},fn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Cn=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),xn=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=an(i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],Pn=h&&"CompositionEvent"in window,Dn=null;h&&"documentMode"in document&&(Dn=document.documentMode);var Ln=h&&"TextEvent"in window&&!Dn,Mn=h&&(!Pn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){xe(r),0<(t=Pr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Wn=null;function Hn(e){Sr(e,0)}function Gn(e){if(J(ei(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(h){var Jn;if(h){var Xn="oninput"in document;if(!Xn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Xn="function"==typeof Zn.oninput}Jn=Xn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function er(){$n&&($n.detachEvent("onpropertychange",tr),Wn=$n=null)}function tr(e){if("value"===e.propertyName&&Gn(Wn)){var t=[];if(Kn(t,Wn,e,Se(e)),e=Hn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,Ue()}}}}function nr(e,t,n){"focusin"===e?(er(),Wn=n,($n=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Wn)}function ir(e,t){if("click"===e)return Gn(t)}function sr(e,t){if("input"===e||"change"===e)return Gn(t)}var or="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ar=Object.prototype.hasOwnProperty;function ur(e,t){if(or(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ar.call(t,n[r])||!or(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=h&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,vr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==mr||mr!==X(r)||(r="selectionStart"in(r=mr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Pr(gr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Pt,2);for(var br="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<br.length;_r++)Rt.set(br[_r],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,u,l){if(Ge.apply(this,arguments),Be){if(!Be)throw Error(o(198));var c=Ke;Be=!1,Ke=null,$e||($e=!0,We=c)}}(r,t,void 0,e),e.currentTarget=null}function Sr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Tr(i,a,l),s=u}else for(o=0;o<r.length;o++){if(u=(a=r[o]).instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Tr(i,a,l),s=u}}}if($e)throw e=We,$e=!1,We=null,e}function kr(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(xr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){e[Nr]||(e[Nr]=!0,a.forEach((function(t){Ir.has(t)||Ar(t,!1,e,null),Ar(t,!0,e,null)})))}function Ar(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,s=r}var o=ni(s),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),xr(s,e,i,t),o.add(a))}function xr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Or(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=Xr(a)))return;if(5===(u=o.tag)||6===u){r=s=o;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=s,i=Se(n),o=[];e:{var a=Ot.get(e);if(void 0!==a){var u=dn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Nt:case Ct:case At:u=wn;break;case xt:u=xn;break;case"scroll":u=pn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=Ve(p,d))&&c.push(Rr(p,m,f))),h)break;p=p.return}0<c.length&&(a=new u(a,l,null,n,i),o.push({event:a,listeners:c}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(l=n.relatedTarget||n.fromElement)||!Xr(l)&&!l[Yr])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?Xr(l):null)&&(l!==(h=Qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=gn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==u?a:ei(u),f=null==l?a:ei(l),(a=new c(m,p+"leave",u,n,i)).target=h,a.relatedTarget=f,m=null,Xr(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=f,c.relatedTarget=h,m=c),h=m,u&&l)e:{for(d=l,p=0,f=c=u;f;f=Dr(f))p++;for(f=0,m=d;m;m=Dr(m))f++;for(;0<p-f;)c=Dr(c),p--;for(;0<f-p;)d=Dr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Dr(c),d=Dr(d)}c=null}else c=null;null!==u&&Lr(o,a,u,c,!1),null!==l&&null!==h&&Lr(o,h,l,c,!0)}if("select"===(u=(a=r?ei(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var g=Qn;else if(Bn(a))if(Yn)g=sr;else{g=rr;var y=nr}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?Kn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ie(a,"number",a.value)),y=r?ei(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(mr=y,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,wr(o,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":wr(o,n,i)}var v;if(Pn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(v=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,zn=!0)),0<(y=Pr(r,w)).length&&(w=new _n(w,e,null,n,i),o.push({event:w,listeners:y}),(v||null!==(v=jn(n)))&&(w.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=nn(),tn=en=Zt=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Pr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v)}Sr(o,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ve(e,n))&&r.unshift(Rr(e,s,i)),null!=(s=Ve(e,t))&&r.push(Rr(e,s,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(u=Ve(n,s))&&o.unshift(Rr(n,u,a)):i||null!=(u=Ve(n,s))&&o.push(Rr(n,u,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Mr(){}var Fr=null,Ur=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function jr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"==typeof setTimeout?setTimeout:void 0,qr="function"==typeof clearTimeout?clearTimeout:void 0;function Br(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Wr=0,Hr=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Hr,Qr="__reactProps$"+Hr,Yr="__reactContainer$"+Hr,Jr="__reactEvents$"+Hr;function Xr(e){var t=e[Gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[Gr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Gr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function Zr(e){return!(e=e[Gr]||e[Yr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ti(e){return e[Qr]||null}function ni(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var ri=[],ii=-1;function si(e){return{current:e}}function oi(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function ai(e,t){ii++,ri[ii]=e.current,e.current=t}var ui={},li=si(ui),ci=si(!1),hi=ui;function di(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function fi(e){return null!=e.childContextTypes}function pi(){oi(ci),oi(li)}function mi(e,t,n){if(li.current!==ui)throw Error(o(168));ai(li,t),ai(ci,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(o(108,H(t)||"Unknown",s));return i({},n,r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,hi=li.current,ai(li,e),ai(ci,ci.current),!0}function vi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=gi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,oi(ci),oi(li),ai(li,e)):oi(ci),ai(ci,n)}var wi=null,bi=null,_i=s.unstable_runWithPriority,Ei=s.unstable_scheduleCallback,Ii=s.unstable_cancelCallback,Ti=s.unstable_shouldYield,Si=s.unstable_requestPaint,ki=s.unstable_now,Ni=s.unstable_getCurrentPriorityLevel,Ci=s.unstable_ImmediatePriority,Ai=s.unstable_UserBlockingPriority,xi=s.unstable_NormalPriority,Oi=s.unstable_LowPriority,Ri=s.unstable_IdlePriority,Pi={},Di=void 0!==Si?Si:function(){},Li=null,Mi=null,Fi=!1,Ui=ki(),Vi=1e4>Ui?ki:function(){return ki()-Ui};function ji(){switch(Ni()){case Ci:return 99;case Ai:return 98;case xi:return 97;case Oi:return 96;case Ri:return 95;default:throw Error(o(332))}}function zi(e){switch(e){case 99:return Ci;case 98:return Ai;case 97:return xi;case 96:return Oi;case 95:return Ri;default:throw Error(o(332))}}function qi(e,t){return e=zi(e),_i(e,t)}function Bi(e,t,n){return e=zi(e),Ei(e,t,n)}function Ki(){if(null!==Mi){var e=Mi;Mi=null,Ii(e)}$i()}function $i(){if(!Fi&&null!==Li){Fi=!0;var e=0;try{var t=Li;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Ei(Ci,Ki),t}finally{Fi=!1}}}var Wi=_.ReactCurrentBatchConfig;function Hi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Gi=si(null),Qi=null,Yi=null,Ji=null;function Xi(){Ji=Yi=Qi=null}function Zi(e){var t=Gi.current;oi(Gi),e.type._context._currentValue=t}function es(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ts(e,t){Qi=e,Ji=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Po=!0),e.firstContext=null)}function ns(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===Qi)throw Error(o(308));Yi=t,Qi.dependencies={lanes:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var rs=!1;function is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ss(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function as(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function us(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ls(e,t,n,r){var s=e.updateQueue;rs=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,u=s.shared.pending;if(null!==u){s.shared.pending=null;var l=u,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=l)}}if(null!==o){for(d=s.baseState,a=0,h=c=l=null;;){u=o.lane;var f=o.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(u=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=m.payload)?p.call(f,d,u):p))break e;d=i({},d,u);break e;case 2:rs=!0}}null!==o.callback&&(e.flags|=32,null===(u=s.effects)?s.effects=[o]:u.push(o))}else f={eventTime:f,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=f,l=d):h=h.next=f,a|=u;if(null===(o=o.next)){if(null===(u=s.shared.pending))break;o=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}null===h&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,La|=a,e.lanes=a,e.memoizedState=d}}function cs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var hs=(new r.Component).refs;function ds(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ou(),i=au(e),s=os(r,i);s.payload=t,null!=n&&(s.callback=n),as(e,s),uu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ou(),i=au(e),s=os(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),as(e,s),uu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ou(),r=au(e),i=os(n,r);i.tag=2,null!=t&&(i.callback=t),as(e,i),uu(e,r,n)}};function ps(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,s))}function ms(e,t,n){var r=!1,i=ui,s=t.contextType;return"object"==typeof s&&null!==s?s=ns(s):(i=fi(t)?hi:li.current,s=(r=null!=(r=t.contextTypes))?di(e,i):ui),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function gs(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function ys(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=hs,is(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=ns(s):(s=fi(t)?hi:li.current,i.context=di(e,s)),ls(e,n,i,r),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(ds(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fs.enqueueReplaceState(i,i.state,null),ls(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var vs=Array.isArray;function ws(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===hs&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function bs(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _s(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ju(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ku(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ws(e,t,n),r.return=e,r):((r=zu(n.type,n.key,n.props,null,e.mode,r)).ref=ws(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=qu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ku(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=zu(t.type,t.key,t.props,null,e.mode,n)).ref=ws(e,null,t),n.return=e,n;case I:return(t=$u(t,e.mode,n)).return=e,t}if(vs(t)||q(t))return(t=qu(t,e.mode,n,null)).return=e,t;bs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===T?h(e,t,n.props.children,r,i):l(e,t,n,r):null;case I:return n.key===i?c(e,t,n,r):null}if(vs(n)||q(n))return null!==i?null:h(e,t,n,r,null);bs(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===T?h(t,e,r.props.children,i,r.key):l(t,e,r,i);case I:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(vs(r)||q(r))return h(t,e=e.get(n)||null,r,i,null);bs(t,r)}return null}function m(i,o,a,u){for(var l=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===c?l=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),l;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],u))&&(o=s(h,o,m),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?l=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),l}function g(i,a,u,l){var c=q(u);if("function"!=typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,y=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,l);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===h?c=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=d(i,v.value,l))&&(a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return c}for(m=r(i,m);!v.done;g++,v=u.next())null!==(v=p(m,i,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,s,u){var l="object"==typeof s&&null!==s&&s.type===T&&null===s.key;l&&(s=s.props.children);var c="object"==typeof s&&null!==s;if(c)switch(s.$$typeof){case E:e:{for(c=s.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(s.type===T){n(e,l.sibling),(r=i(l,s.props.children)).return=e,e=r;break e}break;default:if(l.elementType===s.type){n(e,l.sibling),(r=i(l,s.props)).ref=ws(e,l,s),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}s.type===T?((r=qu(s.props.children,e.mode,u,s.key)).return=e,e=r):((u=zu(s.type,s.key,s.props,null,e.mode,u)).ref=ws(e,r,s),u.return=e,e=u)}return a(e);case I:e:{for(l=s.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$u(s,e.mode,u)).return=e,e=r}return a(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=Ku(s,e.mode,u)).return=e,e=r),a(e);if(vs(s))return m(e,r,s,u);if(q(s))return g(e,r,s,u);if(c&&bs(e,s),void 0===s&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,H(e.type)||"Component"))}return n(e,r)}}var Es=_s(!0),Is=_s(!1),Ts={},Ss=si(Ts),ks=si(Ts),Ns=si(Ts);function Cs(e){if(e===Ts)throw Error(o(174));return e}function As(e,t){switch(ai(Ns,t),ai(ks,e),ai(Ss,Ts),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}oi(Ss),ai(Ss,t)}function xs(){oi(Ss),oi(ks),oi(Ns)}function Os(e){Cs(Ns.current);var t=Cs(Ss.current),n=fe(t,e.type);t!==n&&(ai(ks,e),ai(Ss,n))}function Rs(e){ks.current===e&&(oi(Ss),oi(ks))}var Ps=si(0);function Ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ls=null,Ms=null,Fs=!1;function Us(e,t){var n=Uu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function js(e){if(Fs){var t=Ms;if(t){var n=t;if(!Vs(e,t)){if(!(t=Kr(n.nextSibling))||!Vs(e,t))return e.flags=-1025&e.flags|2,Fs=!1,void(Ls=e);Us(Ls,n)}Ls=e,Ms=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Fs=!1,Ls=e}}function zs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ls=e}function qs(e){if(e!==Ls)return!1;if(!Fs)return zs(e),Fs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!jr(t,e.memoizedProps))for(t=Ms;t;)Us(e,t),t=Kr(t.nextSibling);if(zs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ms=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ms=null}}else Ms=Ls?Kr(e.stateNode.nextSibling):null;return!0}function Bs(){Ms=Ls=null,Fs=!1}var Ks=[];function $s(){for(var e=0;e<Ks.length;e++)Ks[e]._workInProgressVersionPrimary=null;Ks.length=0}var Ws=_.ReactCurrentDispatcher,Hs=_.ReactCurrentBatchConfig,Gs=0,Qs=null,Ys=null,Js=null,Xs=!1,Zs=!1;function eo(){throw Error(o(321))}function to(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function no(e,t,n,r,i,s){if(Gs=s,Qs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ws.current=null===e||null===e.memoizedState?Ao:xo,e=n(r,i),Zs){s=0;do{if(Zs=!1,!(25>s))throw Error(o(301));s+=1,Js=Ys=null,t.updateQueue=null,Ws.current=Oo,e=n(r,i)}while(Zs)}if(Ws.current=Co,t=null!==Ys&&null!==Ys.next,Gs=0,Js=Ys=Qs=null,Xs=!1,t)throw Error(o(300));return e}function ro(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Js?Qs.memoizedState=Js=e:Js=Js.next=e,Js}function io(){if(null===Ys){var e=Qs.alternate;e=null!==e?e.memoizedState:null}else e=Ys.next;var t=null===Js?Qs.memoizedState:Js.next;if(null!==t)Js=t,Ys=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ys=e).memoizedState,baseState:Ys.baseState,baseQueue:Ys.baseQueue,queue:Ys.queue,next:null},null===Js?Qs.memoizedState=Js=e:Js=Js.next=e}return Js}function so(e,t){return"function"==typeof t?t(e):t}function oo(e){var t=io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ys,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=a=s=null,l=i;do{var c=l.lane;if((Gs&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(a=u=h,s=r):u=u.next=h,Qs.lanes|=c,La|=c}l=l.next}while(null!==l&&l!==i);null===u?s=r:u.next=a,or(r,t.memoizedState)||(Po=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ao(e){var t=io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);or(s,t.memoizedState)||(Po=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function uo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Gs&e)===e)&&(t._workInProgressVersionPrimary=r,Ks.push(t))),e)return n(t._source);throw Ks.push(t),Error(o(350))}function lo(e,t,n,r){var i=Na;if(null===i)throw Error(o(349));var s=t._getVersion,a=s(t._source),u=Ws.current,l=u.useState((function(){return uo(i,t,n)})),c=l[1],h=l[0];l=Js;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var g=Qs;return e.memoizedState={refs:f,source:t,subscribe:r},u.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=s(t._source);if(!or(a,e)){e=n(t._source),or(h,e)||(c(e),e=au(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Bt(o),l=1<<u;r[u]|=e,o&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=au(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),or(p,n)&&or(m,t)&&or(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:so,lastRenderedState:h}).dispatch=c=No.bind(null,Qs,e),l.queue=e,l.baseQueue=null,h=uo(i,t,n),l.memoizedState=l.baseState=h),h}function co(e,t,n){return lo(io(),e,t,n)}function ho(e){var t=ro();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:so,lastRenderedState:e}).dispatch=No.bind(null,Qs,e),[t.memoizedState,e]}function fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qs.updateQueue)?(t={lastEffect:null},Qs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function po(e){return e={current:e},ro().memoizedState=e}function mo(){return io().memoizedState}function go(e,t,n,r){var i=ro();Qs.flags|=e,i.memoizedState=fo(1|t,n,void 0,void 0===r?null:r)}function yo(e,t,n,r){var i=io();r=void 0===r?null:r;var s=void 0;if(null!==Ys){var o=Ys.memoizedState;if(s=o.destroy,null!==r&&to(r,o.deps))return void fo(t,n,s,r)}Qs.flags|=e,i.memoizedState=fo(1|t,n,s,r)}function vo(e,t){return go(516,4,e,t)}function wo(e,t){return yo(516,4,e,t)}function bo(e,t){return yo(4,2,e,t)}function _o(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!=n?n.concat([e]):null,yo(4,2,_o.bind(null,t,e),n)}function Io(){}function To(e,t){var n=io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&to(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function So(e,t){var n=io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&to(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ko(e,t){var n=ji();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=Hs.transition;Hs.transition=1;try{e(!1),t()}finally{Hs.transition=n}}))}function No(e,t,n){var r=ou(),i=au(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===Qs||null!==o&&o===Qs)Zs=Xs=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=o(a,n);if(s.eagerReducer=o,s.eagerState=u,or(u,a))return}catch(e){}uu(e,i,r)}}var Co={readContext:ns,useCallback:eo,useContext:eo,useEffect:eo,useImperativeHandle:eo,useLayoutEffect:eo,useMemo:eo,useReducer:eo,useRef:eo,useState:eo,useDebugValue:eo,useDeferredValue:eo,useTransition:eo,useMutableSource:eo,useOpaqueIdentifier:eo,unstable_isNewReconciler:!1},Ao={readContext:ns,useCallback:function(e,t){return ro().memoizedState=[e,void 0===t?null:t],e},useContext:ns,useEffect:vo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,go(4,2,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var n=ro();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ro();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=No.bind(null,Qs,e),[r.memoizedState,e]},useRef:po,useState:ho,useDebugValue:Io,useDeferredValue:function(e){var t=ho(e),n=t[0],r=t[1];return vo((function(){var t=Hs.transition;Hs.transition=1;try{r(e)}finally{Hs.transition=t}}),[e]),n},useTransition:function(){var e=ho(!1),t=e[0];return po(e=ko.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ro();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},lo(r,e,t,n)},useOpaqueIdentifier:function(){if(Fs){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Wr++).toString(36))),Error(o(355))})),n=ho(t)[1];return 0==(2&Qs.mode)&&(Qs.flags|=516,fo(5,(function(){n("r:"+(Wr++).toString(36))}),void 0,null)),t}return ho(t="r:"+(Wr++).toString(36)),t},unstable_isNewReconciler:!1},xo={readContext:ns,useCallback:To,useContext:ns,useEffect:wo,useImperativeHandle:Eo,useLayoutEffect:bo,useMemo:So,useReducer:oo,useRef:mo,useState:function(){return oo(so)},useDebugValue:Io,useDeferredValue:function(e){var t=oo(so),n=t[0],r=t[1];return wo((function(){var t=Hs.transition;Hs.transition=1;try{r(e)}finally{Hs.transition=t}}),[e]),n},useTransition:function(){var e=oo(so)[0];return[mo().current,e]},useMutableSource:co,useOpaqueIdentifier:function(){return oo(so)[0]},unstable_isNewReconciler:!1},Oo={readContext:ns,useCallback:To,useContext:ns,useEffect:wo,useImperativeHandle:Eo,useLayoutEffect:bo,useMemo:So,useReducer:ao,useRef:mo,useState:function(){return ao(so)},useDebugValue:Io,useDeferredValue:function(e){var t=ao(so),n=t[0],r=t[1];return wo((function(){var t=Hs.transition;Hs.transition=1;try{r(e)}finally{Hs.transition=t}}),[e]),n},useTransition:function(){var e=ao(so)[0];return[mo().current,e]},useMutableSource:co,useOpaqueIdentifier:function(){return ao(so)[0]},unstable_isNewReconciler:!1},Ro=_.ReactCurrentOwner,Po=!1;function Do(e,t,n,r){t.child=null===e?Is(t,null,n,r):Es(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var s=t.ref;return ts(t,i),r=no(e,t,n,r,s,i),null===e||Po?(t.flags|=1,Do(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Zo(e,t,i))}function Mo(e,t,n,r,i,s){if(null===e){var o=n.type;return"function"!=typeof o||Vu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zu(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fo(e,t,o,r,i,s))}return o=e.child,0==(i&s)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?Zo(e,t,s):(t.flags|=1,(e=ju(o,r)).ref=t.ref,e.return=t,t.child=e)}function Fo(e,t,n,r,i,s){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Po=!1,0==(s&i))return t.lanes=e.lanes,Zo(e,t,s);0!=(16384&e.flags)&&(Po=!0)}return jo(e,t,n,r,s)}function Uo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},gu(0,n);else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},gu(0,e),null;t.memoizedState={baseLanes:0},gu(0,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,gu(0,r);return Do(e,t,i,n),t.child}function Vo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function jo(e,t,n,r,i){var s=fi(n)?hi:li.current;return s=di(t,s),ts(t,i),n=no(e,t,n,r,s,i),null===e||Po?(t.flags|=1,Do(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Zo(e,t,i))}function zo(e,t,n,r,i){if(fi(n)){var s=!0;yi(t)}else s=!1;if(ts(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ms(t,n,r),ys(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;l="object"==typeof l&&null!==l?ns(l):di(t,l=fi(n)?hi:li.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||u!==l)&&gs(t,o,r,l),rs=!1;var d=t.memoizedState;o.state=d,ls(t,r,o,i),u=t.memoizedState,a!==r||d!==u||ci.current||rs?("function"==typeof c&&(ds(t,n,c,r),u=t.memoizedState),(a=rs||ps(t,n,a,r,d,u,l))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ss(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Hi(t.type,a),o.props=l,h=t.pendingProps,d=o.context,u="object"==typeof(u=n.contextType)&&null!==u?ns(u):di(t,u=fi(n)?hi:li.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==u)&&gs(t,o,r,u),rs=!1,d=t.memoizedState,o.state=d,ls(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||ci.current||rs?("function"==typeof f&&(ds(t,n,f,r),p=t.memoizedState),(l=rs||ps(t,n,l,r,d,p,u))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return qo(e,t,n,r,s,i)}function qo(e,t,n,r,i,s){Vo(e,t);var o=0!=(64&t.flags);if(!r&&!o)return i&&vi(t,n,!1),Zo(e,t,s);r=t.stateNode,Ro.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Es(t,e.child,null,s),t.child=Es(t,null,a,s)):Do(e,t,a,s),t.memoizedState=r.state,i&&vi(t,n,!0),t.child}function Bo(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),As(e,t.containerInfo)}var Ko,$o,Wo,Ho={dehydrated:null,retryLane:0};function Go(e,t,n){var r,i=t.pendingProps,s=Ps.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),ai(Ps,1&s),null===e?(void 0!==i.fallback&&js(t),e=i.children,s=i.fallback,o?(e=Qo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ho,e):"number"==typeof i.unstable_expectedLoadTime?(e=Qo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ho,t.lanes=33554432,e):((n=Bu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=function(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return 0==(2&s)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=ju(o,a),null!==e?r=ju(e,r):(r=qu(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Ho,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=ju(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Qo(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Bu(t,i,0,null),n=qu(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function Yo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),es(e.return,t)}function Jo(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function Xo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Do(e,t,r.children,n),0!=(2&(r=Ps.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,n);else if(19===e.tag)Yo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ai(Ps,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ds(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Jo(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ds(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Jo(t,!0,n,null,s,t.lastEffect);break;case"together":Jo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Zo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),La|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=ju(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ju(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ea(e,t){if(!Fs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ta(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return fi(t.type)&&pi(),null;case 3:return xs(),oi(ci),oi(li),$s(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qs(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Rs(t);var s=Cs(Ns.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Cs(Ss.current),qs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Gr]=t,r[Qr]=a,n){case"dialog":kr("cancel",r),kr("close",r);break;case"iframe":case"object":case"embed":kr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)kr(Er[e],r);break;case"source":kr("error",r);break;case"img":case"image":case"link":kr("error",r),kr("load",r);break;case"details":kr("toggle",r);break;case"input":ee(r,a),kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},kr("invalid",r);break;case"textarea":ue(r,a),kr("invalid",r)}for(var l in Ie(n,a),e=null,a)a.hasOwnProperty(l)&&(s=a[l],"children"===l?"string"==typeof s?r.textContent!==s&&(e=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(e=["children",""+s]):u.hasOwnProperty(l)&&null!=s&&"onScroll"===l&&kr("scroll",r));switch(n){case"input":Y(r),re(r,a,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===s.nodeType?s:s.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Gr]=t,e[Qr]=r,Ko(e,t),t.stateNode=e,l=Te(n,r),n){case"dialog":kr("cancel",e),kr("close",e),s=r;break;case"iframe":case"object":case"embed":kr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Er.length;s++)kr(Er[s],e);s=r;break;case"source":kr("error",e),s=r;break;case"img":case"image":case"link":kr("error",e),kr("load",e),s=r;break;case"details":kr("toggle",e),s=r;break;case"input":ee(e,r),s=Z(e,r),kr("invalid",e);break;case"option":s=se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),kr("invalid",e);break;case"textarea":ue(e,r),s=ae(e,r),kr("invalid",e);break;default:s=r}Ie(n,s);var c=s;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?_e(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"==typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=h&&"onScroll"===a&&kr("scroll",e):null!=h&&b(e,a,h,l))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?oe(e,!!r.multiple,a,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Mr)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Wo(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));n=Cs(Ns.current),Cs(Ss.current),qs(t)?(r=t.stateNode,n=t.memoizedProps,r[Gr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Gr]=t,t.stateNode=r)}return null;case 13:return oi(Ps),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&qs(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ps.current)?0===Ra&&(Ra=3):(0!==Ra&&3!==Ra||(Ra=4),null===Na||0==(134217727&La)&&0==(134217727&Ma)||du(Na,Aa))),(r||n)&&(t.flags|=4),null);case 4:return xs(),null===e&&Cr(t.stateNode.containerInfo),null;case 10:return Zi(t),null;case 17:return fi(t.type)&&pi(),null;case 19:if(oi(Ps),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(l=r.rendering))if(a)ea(r,!1);else{if(0!==Ra||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Ds(e))){for(t.flags|=64,ea(r,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ai(Ps,1&Ps.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>ja&&(t.flags|=64,a=!0,ea(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Ds(l))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ea(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Fs)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>ja&&1073741824!==n&&(t.flags|=64,a=!0,ea(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=Ps.current,ai(Ps,a?1&t|2:1&t),n):null;case 23:case 24:return yu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function na(e){switch(e.tag){case 1:fi(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(xs(),oi(ci),oi(li),$s(),0!=(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Rs(e),null;case 13:return oi(Ps),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return oi(Ps),null;case 4:return xs(),null;case 10:return Zi(e),null;case 23:case 24:return yu(),null;default:return null}}function ra(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ia(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Cs(Ss.current);var o,a=null;switch(n){case"input":s=Z(e,s),r=Z(e,r),a=[];break;case"option":s=se(e,s),r=se(e,r),a=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":s=ae(e,s),r=ae(e,r),a=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(e.onclick=Mr)}for(h in Ie(n,r),n=null,s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&null!=s[h])if("style"===h){var l=s[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var c=r[h];if(l=null!=s?s[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&kr("scroll",e),a||l===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Wo=function(e,t,n,r){n!==r&&(t.flags|=4)};var sa="function"==typeof WeakMap?WeakMap:Map;function oa(e,t,n){(n=os(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ka||(Ka=!0,$a=r),ia(0,t)},n}function aa(e,t,n){(n=os(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ia(0,t),r(i)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Wa?Wa=new Set([this]):Wa.add(this),ia(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ua="function"==typeof WeakSet?WeakSet:Set;function la(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Du(e,t)}else t.current=null}function ca(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Hi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Br(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ha(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ou(n,e),xu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Hi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&cs(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}cs(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function da(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function fa(e,t){if(bi&&"function"==typeof bi.onCommitFiberUnmount)try{bi.onCommitFiberUnmount(wi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ou(t,n);else{r=t;try{i()}catch(e){Du(r,e)}}n=n.next}while(n!==e)}break;case 1:if(la(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Du(t,e)}break;case 5:la(t);break;case 4:wa(e,t)}}function pa(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ma(e){return 5===e.tag||3===e.tag||4===e.tag}function ga(e){e:{for(var t=e.return;null!==t;){if(ma(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ya(e,n,t):va(e,n,t)}function ya(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(ya(e,t,n),e=e.sibling;null!==e;)ya(e,t,n),e=e.sibling}function va(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(va(e,t,n),e=e.sibling;null!==e;)va(e,t,n),e=e.sibling}function wa(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var a=e,u=i,l=u;;)if(fa(a,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(a=n,u=i.stateNode,8===a.nodeType?a.parentNode.removeChild(u):a.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(fa(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function ba(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<s.length;i+=2){var a=s[i],u=s[i+1];"style"===a?_e(n,u):"dangerouslySetInnerHTML"===a?ge(n,u):"children"===a?ye(n,u):b(n,a,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?oe(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Va=Vi(),da(t.child,!0)),void _a(t);case 19:return void _a(t);case 17:return;case 23:case 24:return void da(t,null!==t.memoizedState)}throw Error(o(163))}function _a(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ua),t.forEach((function(t){var r=Mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ea(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Ia=Math.ceil,Ta=_.ReactCurrentDispatcher,Sa=_.ReactCurrentOwner,ka=0,Na=null,Ca=null,Aa=0,xa=0,Oa=si(0),Ra=0,Pa=null,Da=0,La=0,Ma=0,Fa=0,Ua=null,Va=0,ja=1/0;function za(){ja=Vi()+500}var qa,Ba=null,Ka=!1,$a=null,Wa=null,Ha=!1,Ga=null,Qa=90,Ya=[],Ja=[],Xa=null,Za=0,eu=null,tu=-1,nu=0,ru=0,iu=null,su=!1;function ou(){return 0!=(48&ka)?Vi():-1!==tu?tu:tu=Vi()}function au(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===ji()?1:2;if(0===nu&&(nu=Da),0!==Wi.transition){0!==ru&&(ru=null!==Ua?Ua.pendingLanes:0),e=nu;var t=4186112&~ru;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=ji(),e=Vt(0!=(4&ka)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nu)}function uu(e,t,n){if(50<Za)throw Za=0,eu=null,Error(o(185));if(null===(e=lu(e,t)))return null;qt(e,t,n),e===Na&&(Ma|=t,4===Ra&&du(e,Aa));var r=ji();1===t?0!=(8&ka)&&0==(48&ka)?fu(e):(cu(e,n),0===ka&&(za(),Ki())):(0==(4&ka)||98!==r&&99!==r||(null===Xa?Xa=new Set([e]):Xa.add(e)),cu(e,n)),Ua=e}function lu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function cu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Bt(a),l=1<<u,c=s[u];if(-1===c){if(0==(l&r)||0!=(l&i)){c=t,Mt(l);var h=Lt;s[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);a&=~l}if(r=Ft(e,e===Na?Aa:0),t=Lt,0===r)null!==n&&(n!==Pi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Pi&&Ii(n)}15===t?(n=fu.bind(null,e),null===Li?(Li=[n],Mi=Ei(Ci,$i)):Li.push(n),n=Pi):n=14===t?Bi(99,fu.bind(null,e)):Bi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),hu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function hu(e){if(tu=-1,ru=nu=0,0!=(48&ka))throw Error(o(327));var t=e.callbackNode;if(Au()&&e.callbackNode!==t)return null;var n=Ft(e,e===Na?Aa:0);if(0===n)return null;var r=n,i=ka;ka|=16;var s=bu();for(Na===e&&Aa===r||(za(),vu(e,r));;)try{Iu();break}catch(t){wu(e,t)}if(Xi(),Ta.current=s,ka=i,null!==Ca?r=0:(Na=null,Aa=0,r=Ra),0!=(Da&Ma))vu(e,0);else if(0!==r){if(2===r&&(ka|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(n=Ut(e))&&(r=_u(e,n))),1===r)throw t=Pa,vu(e,0),du(e,n),cu(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:ku(e);break;case 3:if(du(e,n),(62914560&n)===n&&10<(r=Va+500-Vi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ou(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(ku.bind(null,e),r);break}ku(e);break;case 4:if(du(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Bt(n);s=1<<a,(a=r[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ia(n/1960))-n)){e.timeoutHandle=zr(ku.bind(null,e),n);break}ku(e);break;case 5:ku(e);break;default:throw Error(o(329))}}return cu(e,Vi()),e.callbackNode===t?hu.bind(null,e):null}function du(e,t){for(t&=~Fa,t&=~Ma,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function fu(e){if(0!=(48&ka))throw Error(o(327));if(Au(),e===Na&&0!=(e.expiredLanes&Aa)){var t=Aa,n=_u(e,t);0!=(Da&Ma)&&(n=_u(e,t=Ft(e,t)))}else n=_u(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(ka|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(t=Ut(e))&&(n=_u(e,t))),1===n)throw n=Pa,vu(e,0),du(e,t),cu(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e),cu(e,Vi()),null}function pu(e,t){var n=ka;ka|=1;try{return e(t)}finally{0===(ka=n)&&(za(),Ki())}}function mu(e,t){var n=ka;ka&=-2,ka|=8;try{return e(t)}finally{0===(ka=n)&&(za(),Ki())}}function gu(e,t){ai(Oa,xa),xa|=t,Da|=t}function yu(){xa=Oa.current,oi(Oa)}function vu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Ca)for(n=Ca.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:xs(),oi(ci),oi(li),$s();break;case 5:Rs(r);break;case 4:xs();break;case 13:case 19:oi(Ps);break;case 10:Zi(r);break;case 23:case 24:yu()}n=n.return}Na=e,Ca=ju(e.current,null),Aa=xa=Da=t,Ra=0,Pa=null,Fa=Ma=La=0}function wu(e,t){for(;;){var n=Ca;try{if(Xi(),Ws.current=Co,Xs){for(var r=Qs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Xs=!1}if(Gs=0,Js=Ys=Qs=null,Zs=!1,Sa.current=null,null===n||null===n.return){Ra=1,Pa=t,Ca=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Aa,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var l=u;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Ps.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var g=d.updateQueue;if(null===g){var y=new Set;y.add(l),d.updateQueue=y}else g.add(l);if(0==(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=os(-1,1);v.tag=2,as(a,v)}a.lanes|=1;break e}u=void 0,a=t;var w=s.pingCache;if(null===w?(w=s.pingCache=new sa,u=new Set,w.set(l,u)):void 0===(u=w.get(l))&&(u=new Set,w.set(l,u)),!u.has(a)){u.add(a);var b=Lu.bind(null,s,l,a);l.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((H(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ra&&(Ra=2),u=ra(u,a),d=o;do{switch(d.tag){case 3:s=u,d.flags|=4096,t&=-t,d.lanes|=t,us(d,oa(0,s,t));break e;case 1:s=u;var _=d.type,E=d.stateNode;if(0==(64&d.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Wa||!Wa.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t,us(d,aa(d,s,t));break e}}d=d.return}while(null!==d)}Su(n)}catch(e){t=e,Ca===n&&null!==n&&(Ca=n=n.return);continue}break}}function bu(){var e=Ta.current;return Ta.current=Co,null===e?Co:e}function _u(e,t){var n=ka;ka|=16;var r=bu();for(Na===e&&Aa===t||vu(e,t);;)try{Eu();break}catch(t){wu(e,t)}if(Xi(),ka=n,Ta.current=r,null!==Ca)throw Error(o(261));return Na=null,Aa=0,Ra}function Eu(){for(;null!==Ca;)Tu(Ca)}function Iu(){for(;null!==Ca&&!Ti();)Tu(Ca)}function Tu(e){var t=qa(e.alternate,e,xa);e.memoizedProps=e.pendingProps,null===t?Su(e):Ca=t,Sa.current=null}function Su(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ta(n,t,xa)))return void(Ca=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&xa)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=na(t)))return n.flags&=2047,void(Ca=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ca=t);Ca=t=e}while(null!==t);0===Ra&&(Ra=5)}function ku(e){var t=ji();return qi(99,Nu.bind(null,e,t)),null}function Nu(e,t){do{Au()}while(null!==Ga);if(0!=(48&ka))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,u=e.expirationTimes;0<s;){var l=31-Bt(s),c=1<<l;i[l]=0,a[l]=-1,u[l]=-1,s&=~c}if(null!==Xa&&0==(24&r)&&Xa.has(e)&&Xa.delete(e),e===Na&&(Ca=Na=null,Aa=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=ka,ka|=32,Sa.current=null,Fr=Gt,fr(a=dr())){if("selectionStart"in a)u={start:a.selectionStart,end:a.selectionEnd};else e:if(u=(u=a.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,s=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(e){u=null;break e}var h=0,d=-1,f=-1,p=0,m=0,g=a,y=null;t:for(;;){for(var v;g!==u||0!==s&&3!==g.nodeType||(d=h+s),g!==l||0!==c&&3!==g.nodeType||(f=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===a)break t;if(y===u&&++p===s&&(d=h),y===l&&++m===c&&(f=h),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}u=-1===d||-1===f?null:{start:d,end:f}}else u=null;u=u||{start:0,end:0}}else u=null;Ur={focusedElem:a,selectionRange:u},Gt=!1,iu=null,su=!1,Ba=r;do{try{Cu()}catch(e){if(null===Ba)throw Error(o(330));Du(Ba,e),Ba=Ba.nextEffect}}while(null!==Ba);iu=null,Ba=r;do{try{for(a=e;null!==Ba;){var w=Ba.flags;if(16&w&&ye(Ba.stateNode,""),128&w){var b=Ba.alternate;if(null!==b){var _=b.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&w){case 2:ga(Ba),Ba.flags&=-3;break;case 6:ga(Ba),Ba.flags&=-3,ba(Ba.alternate,Ba);break;case 1024:Ba.flags&=-1025;break;case 1028:Ba.flags&=-1025,ba(Ba.alternate,Ba);break;case 4:ba(Ba.alternate,Ba);break;case 8:wa(a,u=Ba);var E=u.alternate;pa(u),null!==E&&pa(E)}Ba=Ba.nextEffect}}catch(e){if(null===Ba)throw Error(o(330));Du(Ba,e),Ba=Ba.nextEffect}}while(null!==Ba);if(_=Ur,b=dr(),w=_.focusedElem,a=_.selectionRange,b!==w&&w&&w.ownerDocument&&hr(w.ownerDocument.documentElement,w)){null!==a&&fr(w)&&(b=a.start,void 0===(_=a.end)&&(_=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(_,w.value.length)):(_=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(_=_.getSelection(),u=w.textContent.length,E=Math.min(a.start,u),a=void 0===a.end?E:Math.min(a.end,u),!_.extend&&E>a&&(u=a,a=E,E=u),u=cr(w,E),s=cr(w,a),u&&s&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==s.node||_.focusOffset!==s.offset)&&((b=b.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>a?(_.addRange(b),_.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),_.addRange(b))))),b=[];for(_=w;_=_.parentNode;)1===_.nodeType&&b.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<b.length;w++)(_=b[w]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Gt=!!Fr,Ur=Fr=null,e.current=n,Ba=r;do{try{for(w=e;null!==Ba;){var I=Ba.flags;if(36&I&&ha(w,Ba.alternate,Ba),128&I){b=void 0;var T=Ba.ref;if(null!==T){var S=Ba.stateNode;switch(Ba.tag){case 5:b=S;break;default:b=S}"function"==typeof T?T(b):T.current=b}}Ba=Ba.nextEffect}}catch(e){if(null===Ba)throw Error(o(330));Du(Ba,e),Ba=Ba.nextEffect}}while(null!==Ba);Ba=null,Di(),ka=i}else e.current=n;if(Ha)Ha=!1,Ga=e,Qa=t;else for(Ba=r;null!==Ba;)t=Ba.nextEffect,Ba.nextEffect=null,8&Ba.flags&&((I=Ba).sibling=null,I.stateNode=null),Ba=t;if(0===(r=e.pendingLanes)&&(Wa=null),1===r?e===eu?Za++:(Za=0,eu=e):Za=0,n=n.stateNode,bi&&"function"==typeof bi.onCommitFiberRoot)try{bi.onCommitFiberRoot(wi,n,void 0,64==(64&n.current.flags))}catch(e){}if(cu(e,Vi()),Ka)throw Ka=!1,e=$a,$a=null,e;return 0!=(8&ka)||Ki(),null}function Cu(){for(;null!==Ba;){var e=Ba.alternate;su||null===iu||(0!=(8&Ba.flags)?Ze(Ba,iu)&&(su=!0):13===Ba.tag&&Ea(e,Ba)&&Ze(Ba,iu)&&(su=!0));var t=Ba.flags;0!=(256&t)&&ca(e,Ba),0==(512&t)||Ha||(Ha=!0,Bi(97,(function(){return Au(),null}))),Ba=Ba.nextEffect}}function Au(){if(90!==Qa){var e=97<Qa?97:Qa;return Qa=90,qi(e,Ru)}return!1}function xu(e,t){Ya.push(t,e),Ha||(Ha=!0,Bi(97,(function(){return Au(),null})))}function Ou(e,t){Ja.push(t,e),Ha||(Ha=!0,Bi(97,(function(){return Au(),null})))}function Ru(){if(null===Ga)return!1;var e=Ga;if(Ga=null,0!=(48&ka))throw Error(o(331));var t=ka;ka|=32;var n=Ja;Ja=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===s)throw Error(o(330));Du(s,e)}}for(n=Ya,Ya=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===s)throw Error(o(330));Du(s,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return ka=t,Ki(),!0}function Pu(e,t,n){as(e,t=oa(0,t=ra(n,t),1)),t=ou(),null!==(e=lu(e,1))&&(qt(e,1,t),cu(e,t))}function Du(e,t){if(3===e.tag)Pu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Pu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Wa||!Wa.has(r))){var i=aa(n,e=ra(t,e),1);if(as(n,i),i=ou(),null!==(n=lu(n,1)))qt(n,1,i),cu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Wa||!Wa.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Lu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ou(),e.pingedLanes|=e.suspendedLanes&n,Na===e&&(Aa&n)===n&&(4===Ra||3===Ra&&(62914560&Aa)===Aa&&500>Vi()-Va?vu(e,0):Fa|=n),cu(e,t)}function Mu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===ji()?1:2:(0===nu&&(nu=Da),0===(t=jt(62914560&~nu))&&(t=4194304))),n=ou(),null!==(e=lu(e,t))&&(qt(e,t,n),cu(e,n))}function Fu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Uu(e,t,n,r){return new Fu(e,t,n,r)}function Vu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ju(e,t){var n=e.alternate;return null===n?((n=Uu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zu(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)Vu(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case T:return qu(n.children,i,s,t);case M:a=8,i|=16;break;case S:a=8,i|=1;break;case k:return(e=Uu(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=s,e;case x:return(e=Uu(13,n,t,i)).type=x,e.elementType=x,e.lanes=s,e;case O:return(e=Uu(19,n,t,i)).elementType=O,e.lanes=s,e;case F:return Bu(n,i,s,t);case U:return(e=Uu(24,n,t,i)).elementType=U,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case N:a=10;break e;case C:a=9;break e;case A:a=11;break e;case R:a=14;break e;case P:a=16,r=null;break e;case D:a=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Uu(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function qu(e,t,n,r){return(e=Uu(7,e,r,t)).lanes=n,e}function Bu(e,t,n,r){return(e=Uu(23,e,r,t)).elementType=F,e.lanes=n,e}function Ku(e,t,n){return(e=Uu(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=Uu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Hu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gu(e,t,n,r){var i=t.current,s=ou(),a=au(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(fi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var l=n.type;if(fi(l)){n=gi(n,l,u);break e}}n=u}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=os(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),as(i,t),uu(i,a,s),a}function Qu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Yu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ju(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}function Xu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Wu(e,t,null!=n&&!0===n.hydrate),t=Uu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,is(t),e[Yr]=n.current,Cr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function el(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Qu(o);a.call(e)}}Gu(t,o,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Xu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Qu(o);u.call(e)}}mu((function(){Gu(t,o,e,i)}))}return Qu(o)}function tl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(o(200));return Hu(e,t,null,n)}qa=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ci.current)Po=!0;else{if(0==(n&r)){switch(Po=!1,t.tag){case 3:Bo(t),Bs();break;case 5:Os(t);break;case 1:fi(t.type)&&yi(t);break;case 4:As(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ai(Gi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Go(e,t,n):(ai(Ps,1&Ps.current),null!==(t=Zo(e,t,n))?t.sibling:null);ai(Ps,1&Ps.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Xo(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ai(Ps,Ps.current),r)break;return null;case 23:case 24:return t.lanes=0,Uo(e,t,n)}return Zo(e,t,n)}Po=0!=(16384&e.flags)}else Po=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,li.current),ts(t,n),i=no(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,fi(r)){var s=!0;yi(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,is(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&ds(t,r,a,e),i.updater=fs,t.stateNode=i,i._reactInternals=t,ys(t,r,e,n),t=qo(null,t,r,!0,s,n)}else t.tag=0,Do(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"==typeof e)return Vu(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(i),e=Hi(i,e),s){case 0:t=jo(null,t,i,e,n);break e;case 1:t=zo(null,t,i,e,n);break e;case 11:t=Lo(null,t,i,e,n);break e;case 14:t=Mo(null,t,i,Hi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 1:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 3:if(Bo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ss(e,t),ls(t,r,null,n),(r=t.memoizedState.element)===i)Bs(),t=Zo(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(Ms=Kr(t.stateNode.containerInfo.firstChild),Ls=t,s=Fs=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],Ks.push(s);for(n=Is(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Do(e,t,r,n),Bs();t=t.child}return t;case 5:return Os(t),null===e&&js(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,jr(r,i)?a=null:null!==s&&jr(r,s)&&(t.flags|=16),Vo(e,t),Do(e,t,a,n),t.child;case 6:return null===e&&js(t),null;case 13:return Go(e,t,n);case 4:return As(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Es(t,null,r,n):Do(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Lo(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 7:return Do(e,t,t.pendingProps,n),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var u=t.type._context;if(ai(Gi,u._currentValue),u._currentValue=s,null!==a)if(u=a.value,0==(s=or(u,s)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,s):1073741823))){if(a.children===i.children&&!ci.current){t=Zo(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){a=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&s)){1===u.tag&&((c=os(-1,n&-n)).tag=2,as(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),es(u.return,n),l.lanes|=n;break}c=c.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Do(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,ts(t,n),r=r(i=ns(i,s.unstable_observedBits)),t.flags|=1,Do(e,t,r,n),t.child;case 14:return s=Hi(i=t.type,t.pendingProps),Mo(e,t,i,s=Hi(i.type,s),r,n);case 15:return Fo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,fi(r)?(e=!0,yi(t)):e=!1,ts(t,n),ms(t,r,i),ys(t,r,i,n),qo(null,t,r,!0,e,n);case 19:return Xo(e,t,n);case 23:case 24:return Uo(e,t,n)}throw Error(o(156,t.tag))},Xu.prototype.render=function(e){Gu(e,this._internalRoot,null,null)},Xu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Gu(null,e,null,(function(){t[Yr]=null}))},et=function(e){13===e.tag&&(uu(e,4,ou()),Ju(e,4))},tt=function(e){13===e.tag&&(uu(e,67108864,ou()),Ju(e,67108864))},nt=function(e){if(13===e.tag){var t=ou(),n=au(e);uu(e,n,t),Ju(e,n)}},rt=function(e,t){return t()},ke=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=pu,Pe=function(e,t,n,r,i){var s=ka;ka|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(ka=s)&&(za(),Ki())}},De=function(){0==(49&ka)&&(function(){if(null!==Xa){var e=Xa;Xa=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,cu(e,Vi())}))}Ki()}(),Au())},Le=function(e,t){var n=ka;ka|=2;try{return e(t)}finally{0===(ka=n)&&(za(),Ki())}};var nl={Events:[Zr,ei,ti,xe,Oe,Au,{current:!1}]},rl={findFiberByHostInstance:Xr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},il={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{wi=sl.inject(il),bi=sl}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nl,t.createPortal=tl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=ka;if(0!=(48&n))return e(t);ka|=1;try{if(e)return qi(99,e.bind(null,t))}finally{ka=n,Ki()}},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(o(200));return el(null,e,t,!0,n)},t.render=function(e,t,n){if(!Zu(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(o(40));return!!e._reactRootContainer&&(mu((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[Yr]=null}))})),!0)},t.unstable_batchedUpdates=pu,t.unstable_createPortal=function(e,t){return tl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="17.0.2"},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},2408:(e,t,n)=>{"use strict";var r=n(7418),i=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,a=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),s=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),l=h("react.memo"),c=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=v.prototype=new y;w.constructor=v,r(w,g.prototype),w.isPureReactComponent=!0;var b={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(s[r]=t[r]);var u=arguments.length-2;if(1===u)s.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===s[r]&&(s[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:a,props:s,_owner:b.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,n,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case s:u=!0}}if(u)return o=o(u=e),e=""===r?"."+k(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),N(o,t,n,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+k(a=e[l],l);u+=N(a,t,n,c,o)}else if("function"==typeof(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),l=0;!(a=e.next()).done;)u+=N(a=a.value,t,n,c=r+k(a,l++),o);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function O(){var e=x.current;if(null===e)throw Error(f(321));return e}var R={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var s=r({},e.props),o=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];s.children=l}return{$$typeof:i,type:e.type,key:o,ref:a,props:s,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,s=Object.create(i.prototype),o=new C(r||[]);return s._invoke=function(e,t,n){var r=h;return function(i,s){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw s;return x()}for(n.method=i,n.arg=s;;){var o=n.delegate;if(o){var a=S(o,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),s}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",m={};function g(){}function y(){}function v(){}var w={};u(w,s,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(A([])));_&&_!==n&&r.call(_,s)&&(w=_);var E=v.prototype=g.prototype=Object.create(w);function I(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,s,o,a){var u=c(e[i],e,s);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):t.resolve(h).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,a)}))}a(u.arg)}var i;this._invoke=function(e,r){function s(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(s,s):s()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var s=i.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:x}}function x(){return{value:t,done:!0}}return y.prototype=v,u(E,"constructor",v),u(v,"constructor",y),y.displayName=u(v,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,a,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},I(T.prototype),u(T.prototype,o,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,i,s){void 0===s&&(s=Promise);var o=new T(l(t,n,r,i),s);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(E),u(E,a,"Generator"),u(E,s,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},53:(e,t)=>{"use strict";var n,r,i,s;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,h=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,_=b.port2;b.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+v;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){y=d((function(){e(t.unstable_now())}),n)},i=function(){f(y),y=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,o=e[s],a=s+1,u=e[a];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[a]=n,r=a):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[a]=n,r=a}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],N=[],C=1,A=null,x=3,O=!1,R=!1,P=!1;function D(e){for(var t=I(N);null!==t;){if(null===t.callback)T(N);else{if(!(t.startTime<=e))break;T(N),t.sortIndex=t.expirationTime,E(k,t)}t=I(N)}}function L(e){if(P=!1,D(e),!R)if(null!==I(k))R=!0,n(M);else{var t=I(N);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,P&&(P=!1,i()),O=!0;var s=x;try{for(D(n),A=I(k);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"==typeof o){A.callback=null,x=A.priorityLevel;var a=o(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?A.callback=a:A===I(k)&&T(k),D(n)}else T(k);A=I(k)}if(null!==A)var u=!0;else{var l=I(N);null!==l&&r(L,l.startTime-n),u=!1}return u}finally{A=null,x=s,O=!1}}var F=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||O||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return I(k)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,s,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:s,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>a?(e.sortIndex=o,E(N,e),null===I(k)&&e===I(N)&&(P?i():P=!0,r(L,o-a))):(e.sortIndex=u,E(k,e),R||O||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>E,SDK_VERSION:()=>ce,_DEFAULT_ENTRY_NAME:()=>X,_addComponent:()=>ne,_addOrOverwriteComponent:()=>re,_apps:()=>ee,_clearComponents:()=>ae,_components:()=>te,_getProvider:()=>se,_registerComponent:()=>ie,_removeServiceInstance:()=>oe,deleteApp:()=>pe,getApp:()=>de,getApps:()=>fe,initializeApp:()=>he,onLog:()=>ge,registerVersion:()=>me,setLogLevel:()=>ye});var t=n(7294),r=n(3935),i=(n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(7042),n(8309),n(1038),function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)}),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create;var c=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,h=(3&s)<<4|a>>4,d=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{s=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();var l=s<<2|o>>4;if(r.push(l),64!==a){var c=o<<4&240|a>>2;if(r.push(c),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},d=function(e){return function(e){var t=c(e);return h.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=f(e[n],t[n]));return e}var p=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function y(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function v(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function w(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){var e=m();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return"indexedDB"in self&&null!=indexedDB}var E=function(e){function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,I.prototype.create),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),I=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,s=this.errors[e],o=s?T(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new E(i,a,r);return u},e}();function T(e,t){return e.replace(S,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var S=/\{\$([^}]+)}/g;function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function N(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,s=n;i<s.length;i++){var o=s[i];if(!r.includes(o))return!1;var a=e[o],u=t[o];if(C(a)&&C(u)){if(!N(a,u))return!1}else if(a!==u)return!1}for(var l=0,c=r;l<c.length;l++)if(o=c[l],!n.includes(o))return!1;return!0}function C(e){return null!==e&&"object"==typeof e}function A(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r];n(s[0],s[1])}return t.length?"&"+t.join("&"):""}function x(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function O(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function R(e,t){var n=new P(e,t);return n.subscribe.bind(n)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var s,o,a=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(s=c^u&(l^c),o=1518500249):(s=u^l^c,o=1859775393):r<60?(s=u&l|c&(u|l),o=2400959708):(s=u^l^c,o=3395469782),i=(a<<5|a>>>27)+s+h+o+n[r]&4294967295,h=c,c=l,l=4294967295&(u<<30|u>>>2),u=a,a=i;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();var P=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=D),void 0===r.error&&(r.error=D),void 0===r.complete&&(r.complete=D);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),s},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function D(){}function L(e){return e&&e._delegate?e._delegate:e}var M,F=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),U="[DEFAULT]",V=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new p;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:U})}catch(e){}try{for(var r=a(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var s=u(i.value,2),o=s[0],l=s[1],c=this.normalizeInstanceIdentifier(o);try{var h=this.getOrInitializeService({instanceIdentifier:c});l.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=U),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var e;return function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(l(l([],u(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),u(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=U),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=U),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var o=this.getOrInitializeService({instanceIdentifier:s,options:i});try{for(var l=a(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var h=u(c.value,2),d=h[0],f=h[1];s===this.normalizeInstanceIdentifier(d)&&f.resolve(o)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return o},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var s=a(i),o=s.next();!o.done;o=s.next()){var u=o.value;try{u(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===U?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(e){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=U),this.component?this.component.multipleInstances?e:U:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),j=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new V(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function z(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var q,B=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(q||(q={}));var K={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},$=q.INFO,W=((M={})[q.DEBUG]="log",M[q.VERBOSE]="log",M[q.INFO]="info",M[q.WARN]="warn",M[q.ERROR]="error",M),H=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),s=W[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,z(["["+i+"]  "+e.name+":"],n))}},G=function(){function e(e){this.name=e,this._logLevel=$,this._logHandler=H,this._userLogHandler=null,B.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in q))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?K[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,z([this,q.DEBUG],e)),this._logHandler.apply(this,z([this,q.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,z([this,q.VERBOSE],e)),this._logHandler.apply(this,z([this,q.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,z([this,q.INFO],e)),this._logHandler.apply(this,z([this,q.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,z([this,q.WARN],e)),this._logHandler.apply(this,z([this,q.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,z([this,q.ERROR],e)),this._logHandler.apply(this,z([this,q.ERROR],e))},e}();class Q{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Y="@firebase/app",J=new G("@firebase/app"),X="[DEFAULT]",Z={[Y]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ee=new Map,te=new Map;function ne(e,t){try{e.container.addComponent(t)}catch(n){J.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function re(e,t){e.container.addOrOverwriteComponent(t)}function ie(e){const t=e.name;if(te.has(t))return J.debug(`There were multiple attempts to register component ${t}.`),!1;te.set(t,e);for(const t of ee.values())ne(t,e);return!0}function se(e,t){return e.container.getProvider(t)}function oe(e,t,n=X){se(e,t).clearInstance(n)}function ae(){te.clear()}const ue=new I("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class le{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new F("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ue.create("app-deleted",{appName:this._name})}}const ce="9.0.0";function he(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:X,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw ue.create("bad-app-name",{appName:String(r)});const i=ee.get(r);if(i){if(N(e,i.options)&&N(n,i.config))return i;throw ue.create("duplicate-app",{appName:r})}const s=new j(r);for(const e of te.values())s.addComponent(e);const o=new le(e,n,s);return ee.set(r,o),o}function de(e=X){const t=ee.get(e);if(!t)throw ue.create("no-app",{appName:e});return t}function fe(){return Array.from(ee.values())}async function pe(e){const t=e.name;ee.has(t)&&(ee.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function me(e,t,n){var r;let i=null!==(r=Z[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void J.warn(e.join(" "))}ie(new F(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function ge(e,t){if(null!==e&&"function"!=typeof e)throw ue.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=K[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var o=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:q[n].toLowerCase(),message:o,args:i,type:t.name})}},r=0,i=B;r<i.length;r++)n(i[r])}(e,t)}function ye(e){var t;t=e,B.forEach((function(e){e.setLogLevel(t)}))}ie(new F("platform-logger",(e=>new Q(e)),"PRIVATE")),me(Y,"0.7.0",undefined),me("fire-js","");class ve{constructor(e,t){this._delegate=e,this.firebase=t,ne(e,new F("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),pe(this._delegate))))}_getService(e,t=X){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=X){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ne(this._delegate,e)}_addOrOverwriteComponent(e){re(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new I("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),be=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e,i={}){const s=he(e,i);if(k(n,s.name))return n[s.name];const o=new t(s,r);return n[s.name]=o,o},app:i,registerVersion:me,setLogLevel:ye,onLog:ge,apps:null,SDK_VERSION:ce,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(ie(e)&&"PUBLIC"===e.type){const o=(e=i())=>{if("function"!=typeof e[s])throw we.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&f(o,e.serviceProps),r[s]=o,t.prototype[s]=function(...t){return this._getService.bind(this,n).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!k(n,e=e||X))throw we.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(ve);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){f(n,e)},createSubscribe:R,ErrorFactory:I,deepExtend:f}),n}(),_e=new G("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){_e.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&_e.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=be;me("@firebase/app-compat","0.1.0",void 0);const Ie=Ee;Ie.registerVersion("firebase","9.0.0","app-compat"),n(8674),n(5666);const Te=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Se=new I("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new G("@firebase/auth");function Ne(e,...t){ke.logLevel<=q.ERROR&&ke.error(`Auth (${ce}): ${e}`,...t)}function Ce(e,...t){throw xe(e,...t)}function Ae(e,...t){return xe(e,...t)}function xe(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Se.create(e,...t)}function Oe(e,t,...n){if(!e)throw xe(t,...n)}function Re(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ne(t),new Error(t)}function Pe(e,t){e||Re(t)}const De=new Map;function Le(e){Pe(e instanceof Function,"Expected a class definition");let t=De.get(e);return t?(Pe(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,De.set(e,t),t)}function Me(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fe(){return"http:"===Ue()||"https:"===Ue()}function Ue(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ve{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pe(t>e,"Short delay should be less than long delay!"),this.isMobile=g()||w()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Fe()||v()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function je(e,t){Pe(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class ze{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},Be=new Ve(3e4,6e4);function Ke(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function $e(e,t,n,r,i={}){return We(e,i,(()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=A(Object.assign({key:e.config.apiKey},s)).slice(1),a=new(ze.headers());return a.set("Content-Type","application/json"),a.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&a.set("X-Firebase-Locale",e.languageCode),ze.fetch()(Ge(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function We(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},qe),t);try{const t=new Qe(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Ye(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=(i.ok?s.errorMessage:s.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw Ye(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw Ye(e,"email-already-in-use",s);Ce(e,r[t]||t.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(t){if(t instanceof E)throw t;Ce(e,"network-request-failed")}}async function He(e,t,n,r,i={}){const s=await $e(e,t,n,r,i);return"mfaPendingCredential"in s&&Ce(e,"multi-factor-auth-required",{serverResponse:s}),s}function Ge(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?je(e.config,i):`${e.config.apiScheme}://${i}`}class Qe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ae(this.auth,"timeout"))),Be.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ye(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ae(e,t,r);return i.customData._tokenResponse=n,i}function Je(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Xe(e){return 1e3*Number(e)}function Ze(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const e=function(e){try{return h.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return e?JSON.parse(e):(Ne("Failed to decode base64 JWT payload"),null)}catch(e){return Ne("Caught error parsing JWT payload as JSON",e),null}}async function et(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof E&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class tt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class nt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Je(this.lastLoginAt),this.creationTime=Je(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rt(e){var t;const n=e.auth,r=await e.getIdToken(),i=await et(e,async function(e,t){return $e(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Oe(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=o(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const h=e.isAnonymous,d=!(e.email&&s.passwordHash||(null==u?void 0:u.length)),f=!!h&&d,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new nt(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(e,p)}class it{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(void 0!==e.idToken,"internal-error"),Oe(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Ze(e);return Oe(t,"internal-error"),Oe(void 0!==t.exp,"internal-error"),Oe(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await We(e,{},(()=>{const n=A({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Ge(e,r,"/v1/token",`key=${i}`);return ze.fetch()(s,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new it;return n&&(Oe("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Oe("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Oe("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new it,this.toJSON())}_performRefresh(){return Re("not implemented")}}function st(e,t){Oe("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ot{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=o(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new tt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.metadata=new nt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await et(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=L(e),r=await n.getIdToken(t),i=Ze(r);Oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Je(Xe(i.auth_time)),issuedAtTime:Je(Xe(i.iat)),expirationTime:Je(Xe(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=L(e);await rt(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ot(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await rt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await et(this,async function(e,t){return $e(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,u,l;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(u=t.createdAt)&&void 0!==u?u:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;Oe(v&&E,e,"internal-error");const I=it.fromJSON(this.name,E);Oe("string"==typeof v,e,"internal-error"),st(c,e.name),st(h,e.name),Oe("boolean"==typeof w,e,"internal-error"),Oe("boolean"==typeof b,e,"internal-error"),st(d,e.name),st(f,e.name),st(p,e.name),st(m,e.name),st(g,e.name),st(y,e.name);const T=new ot({uid:v,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(T.providerData=_.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,n=!1){const r=new it;r.updateFromServerResponse(t);const i=new ot({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await rt(i),i}}class at{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}at.type="NONE";const ut=at;function lt(e,t,n){return`firebase:${e}:${t}:${n}`}class ct{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=lt(this.userKey,r.apiKey,i),this.fullPersistenceKey=lt("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ot._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ct(Le(ut),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Le(ut);const s=lt(n,e.config.apiKey,e.name);let o=null;for(const n of t)try{const t=await n._get(s);if(t){const r=ot._fromJSON(e,t);n!==i&&(o=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new ct(i,e,n)):new ct(i,e,n)}}function ht(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mt(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yt(t))return"Blackberry";if(vt(t))return"Webos";if(ft(t))return"Safari";if((t.includes("chrome/")||pt(t))&&!t.includes("edge/"))return"Chrome";if(gt(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function dt(e=m()){return/firefox\//i.test(e)}function ft(e=m()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pt(e=m()){return/crios\//i.test(e)}function mt(e=m()){return/iemobile/i.test(e)}function gt(e=m()){return/android/i.test(e)}function yt(e=m()){return/blackberry/i.test(e)}function vt(e=m()){return/webos/i.test(e)}function wt(e=m()){return/iphone|ipad|ipod/i.test(e)}function bt(e=m()){return wt(e)||gt(e)||vt(e)||yt(e)||/windows phone/i.test(e)||mt(e)}function _t(e,t=[]){let n;switch(e){case"Browser":n=ht(m());break;case"Worker":n=`${ht(m())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ce}/${r}`}class Et{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tt(this),this.idTokenSubscription=new Tt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Se,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Le(t)),this._initializationPromise=this.queue((async()=>{var n;this._deleted||(this.persistenceManager=await ct.create(this,e),this._deleted||((null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(t),this._deleted||(this._isInitialized=!0)))})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);r&&r!==i||!(null==s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rt(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?L(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Le(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new I("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Le(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await ct.create(this,[Le(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Oe(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_t(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function It(e){return L(e)}class Tt{constructor(e){this.auth=e,this.observer=null,this.addObserver=R((e=>this.observer=e))}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function St(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function kt(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Nt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Re("not implemented")}_getIdTokenResponse(e){return Re("not implemented")}_linkToIdToken(e,t){return Re("not implemented")}_getReauthenticationResolver(e){return Re("not implemented")}}async function Ct(e,t){return $e(e,"POST","/v1/accounts:resetPassword",Ke(e,t))}async function At(e,t){return $e(e,"POST","/v1/accounts:update",t)}async function xt(e,t){return $e(e,"POST","/v1/accounts:sendOobCode",Ke(e,t))}class Ot extends Nt{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ot(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ot(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return He(e,"POST","/v1/accounts:signInWithPassword",Ke(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return He(e,"POST","/v1/accounts:signInWithEmailLink",Ke(e,t))}(e,{email:this._email,oobCode:this._password});default:Ce(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return At(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return He(e,"POST","/v1/accounts:signInWithEmailLink",Ke(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ce(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Rt(e,t){return He(e,"POST","/v1/accounts:signInWithIdp",Ke(e,t))}class Pt extends Nt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ce("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=o(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Pt(n,r);return Object.assign(s,i),s}_getIdTokenResponse(e){return Rt(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Rt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Rt(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=A(t)}return e}}const Dt={USER_NOT_FOUND:"user-not-found"};class Lt extends Nt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Lt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Lt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return He(e,"POST","/v1/accounts:signInWithPhoneNumber",Ke(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await He(e,"POST","/v1/accounts:signInWithPhoneNumber",Ke(e,t));if(n.temporaryProof)throw Ye(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return He(e,"POST","/v1/accounts:signInWithPhoneNumber",Ke(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Dt)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Lt({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Mt{constructor(e){var t,n,r,i,s,o;const a=x(O(e)),u=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Oe(u&&l&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=x(O(e)).link,n=t?x(O(t)).deep_link_id:null,r=x(O(e)).deep_link_id;return(r?x(O(r)).link:null)||r||n||t||e}(e);try{return new Mt(t)}catch(e){return null}}}class Ft{constructor(){this.providerId=Ft.PROVIDER_ID}static credential(e,t){return Ot._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Mt.parseLink(t);return Oe(n,"argument-error"),Ot._fromEmailAndCode(e,n.code,n.tenantId)}}Ft.PROVIDER_ID="password",Ft.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ft.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ut{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vt extends Ut{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class jt extends Vt{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return Oe("providerId"in t&&"signInMethod"in t,"argument-error"),Pt._fromParams(t)}credential(e){return this._credential(e)}_credential(e){return Oe(e.idToken||e.accessToken,"argument-error"),Pt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return jt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return jt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new jt(o)._credential({idToken:t,accessToken:n,rawNonce:s,pendingToken:i})}catch(e){return null}}}class zt extends Vt{constructor(){super("facebook.com")}static credential(e){return Pt._fromParams({providerId:zt.PROVIDER_ID,signInMethod:zt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zt.credentialFromTaggedObject(e)}static credentialFromError(e){return zt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return zt.credential(e.oauthAccessToken)}catch(e){return null}}}zt.FACEBOOK_SIGN_IN_METHOD="facebook.com",zt.PROVIDER_ID="facebook.com";class qt extends Vt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pt._fromParams({providerId:qt.PROVIDER_ID,signInMethod:qt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qt.credentialFromTaggedObject(e)}static credentialFromError(e){return qt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return qt.credential(t,n)}catch(e){return null}}}qt.GOOGLE_SIGN_IN_METHOD="google.com",qt.PROVIDER_ID="google.com";class Bt extends Vt{constructor(){super("github.com")}static credential(e){return Pt._fromParams({providerId:Bt.PROVIDER_ID,signInMethod:Bt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bt.credentialFromTaggedObject(e)}static credentialFromError(e){return Bt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Bt.credential(e.oauthAccessToken)}catch(e){return null}}}Bt.GITHUB_SIGN_IN_METHOD="github.com",Bt.PROVIDER_ID="github.com";class Kt extends Nt{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Rt(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Rt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Rt(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Kt(n,i):null}static _create(e,t){return new Kt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $t extends Vt{constructor(){super("twitter.com")}static credential(e,t){return Pt._fromParams({providerId:$t.PROVIDER_ID,signInMethod:$t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $t.credentialFromTaggedObject(e)}static credentialFromError(e){return $t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return $t.credential(t,n)}catch(e){return null}}}async function Wt(e,t){return He(e,"POST","/v1/accounts:signUp",Ke(e,t))}$t.TWITTER_SIGN_IN_METHOD="twitter.com",$t.PROVIDER_ID="twitter.com";class Ht{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await ot._fromIdTokenResponse(e,n,r),s=Gt(n);return new Ht({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Gt(n);return new Ht({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Gt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Qt extends E{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,Qt.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(i=e.tenantId)&&void 0!==i?i:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new Qt(e,t,n,r)}}function Yt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Qt._fromErrorAndOperation(e,n,t,r);throw n}))}function Jt(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function Xt(e,t,n=!1){const r=await et(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ht._forOperation(e,"link",r)}async function Zt(e,t,n){await rt(t);const r=!1===e?"provider-already-linked":"no-such-provider";Oe(Jt(t.providerData).has(n)===e,t.auth,r)}async function en(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await et(e,Yt(r,i,t,e),n);Oe(s.idToken,r,"internal-error");const o=Ze(s.idToken);Oe(o,r,"internal-error");const{sub:a}=o;return Oe(e.uid===a,r,"user-mismatch"),Ht._forOperation(e,i,s)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&Ce(r,"user-mismatch"),e}}async function tn(e,t,n=!1){const r="signIn",i=await Yt(e,r,t),s=await Ht._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function nn(e,t){return tn(It(e),t)}async function rn(e,t){const n=L(e);return await Zt(!1,n,t.providerId),Xt(n,t)}async function sn(e,t){return en(L(e),t)}class on{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?an._fromServerResponse(e,t):Ce(e,"internal-error")}}class an extends on{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new an(t)}}function un(e,t,n){var r;Oe((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Oe(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Oe(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iosBundleId=n.iOS.bundleId),n.android&&(Oe(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ln(e,t){const n=L(e),r=await Ct(n,{oobCode:t}),i=r.requestType;switch(Oe(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(r.mfaInfo,n,"internal-error");default:Oe(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=on._fromServerResponse(It(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function cn(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await et(e,At(r,i));await e._updateTokensIfNecessary(s,!0)}class hn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class dn extends hn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class fn extends hn{constructor(e,t){super(e,"facebook.com",t)}}class pn extends dn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class mn extends hn{constructor(e,t){super(e,"google.com",t)}}class gn extends dn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function yn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Ze(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new hn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new fn(s,i);case"github.com":return new pn(s,i);case"google.com":return new mn(s,i);case"twitter.com":return new gn(s,i,e.screenName||null);case"custom":case"anonymous":return new hn(s,null);default:return new hn(s,r,i)}}(n)}class vn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new vn("enroll",e)}static _fromMfaPendingCredential(e){return new vn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return vn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return vn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class wn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=It(e),r=(t.serverResponse.mfaInfo||[]).map((e=>on._fromServerResponse(n,e)));Oe(t.serverResponse.mfaPendingCredential,n,"internal-error");const i=vn._fromMfaPendingCredential(t.serverResponse.mfaPendingCredential);return new wn(i,r,(async e=>{const r=await e._process(n,i);delete t.serverResponse.mfaInfo,delete t.serverResponse.mfaPendingCredential;const s=Object.assign(Object.assign({},t.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await Ht._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Oe(t.user,n,"internal-error"),Ht._forOperation(t.user,t.operationType,s);default:Ce(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class bn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>on._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new bn(e)}async getSession(){return vn._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await et(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await et(this.user,function(e,t){return $e(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:e.tenantId},t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==e.code)throw e}}}const _n=new WeakMap,En="__sak";class In{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(En,"1"),this.storage.removeItem(En),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}class Tn extends In{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=m();return ft(e)||wt(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=bt(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);b()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tn.type="LOCAL";const Sn=Tn;class kn extends In{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}kn.type="SESSION";const Nn=kn;class Cn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Cn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function An(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}Cn.receivers=[];class xn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const u=An("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function On(){return window}function Rn(){return void 0!==On().WorkerGlobalScope&&"function"==typeof On().importScripts}const Pn="firebaseLocalStorageDb",Dn="firebaseLocalStorage",Ln="fbase_key";class Mn{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Fn(e,t){return e.transaction([Dn],t?"readwrite":"readonly").objectStore(Dn)}function Un(){const e=indexedDB.open(Pn,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Dn,{keyPath:Ln})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Dn)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Pn);return new Mn(e).toPromise()}(),t(await Un()))}))}))}async function Vn(e,t,n){const r=Fn(e,!0).put({[Ln]:t,value:n});return new Mn(r).toPromise()}function jn(e,t){const n=Fn(e,!0).delete(t);return new Mn(n).toPromise()}class zn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Un()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cn._getInstance(Rn()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new xn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Un();return await Vn(e,En,"1"),await jn(e,En),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Vn(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Fn(e,!1).get(t),r=await new Mn(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>jn(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Fn(e,!1).getAll();return new Mn(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}zn.type="LOCAL";const qn=zn;function Bn(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ae("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Kn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const $n=1e12;class Wn{constructor(e){this.auth=e,this.counter=$n,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Hn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||$n;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||$n;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||$n;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Hn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;Oe(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Gn=Kn("rcb"),Qn=new Ve(3e4,6e4);class Yn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!On().grecaptcha}load(e,t=""){return Oe(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(On().grecaptcha):new Promise(((n,r)=>{const i=On().setTimeout((()=>{r(Ae(e,"network-request-failed"))}),Qn.get());On()[Gn]=()=>{On().clearTimeout(i),delete On()[Gn];const s=On().grecaptcha;if(!s)return void r(Ae(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Bn(`https://www.google.com/recaptcha/api.js??${A({onload:Gn,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(Ae(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!On().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Jn{async load(e){return new Wn(e)}clearedOneInstance(){}}const Xn="recaptcha",Zn={theme:"light",type:"image"};class er{constructor(e,t=Object.assign({},Zn),n){this.parameters=t,this.type=Xn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=It(n),this.isInvisible="invisible"===this.parameters.size,Oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;Oe(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jn:new Yn,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=On()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Oe(Fe()&&!Rn(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await $e(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Oe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class tr{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Lt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function nr(e,t,n){var r;const i=await n.verify();try{let s;if(Oe("string"==typeof i,e,"argument-error"),Oe(n.type===Xn,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return Oe("enroll"===t.type,e,"internal-error"),(await function(e,t){return $e(e,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{Oe("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return Oe(n,e,"missing-multi-factor-info"),(await function(e,t){return $e(e,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return $e(e,"POST","/v1/accounts:sendVerificationCode",Ke(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class rr{constructor(e){this.providerId=rr.PROVIDER_ID,this.auth=It(e)}verifyPhoneNumber(e,t){return nr(this.auth,e,L(t))}static credential(e,t){return Lt._fromVerification(e,t)}static credentialFromResult(e){const t=e;return rr.credentialFromTaggedObject(t)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Lt._fromTokenResponse(t,n):null}}function ir(e,t){return t?Le(t):(Oe(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}rr.PROVIDER_ID="phone",rr.PHONE_SIGN_IN_METHOD="phone";class sr extends Nt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Rt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Rt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function or(e){return tn(e.auth,new sr(e),e.bypassAuthState)}function ar(e){const{auth:t,user:n}=e;return Oe(n,t,"internal-error"),en(n,new sr(e),e.bypassAuthState)}async function ur(e){const{auth:t,user:n}=e;return Oe(n,t,"internal-error"),Xt(n,new sr(e),e.bypassAuthState)}class lr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return or;case"linkViaPopup":case"linkViaRedirect":return ur;case"reauthViaPopup":case"reauthViaRedirect":return ar;default:Ce(this.auth,"internal-error")}}resolve(e){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cr=new Ve(2e3,1e4);class hr extends lr{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,hr.currentPopupAction&&hr.currentPopupAction.cancel(),hr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Pe(1===this.filter.length,"Popup operations only handle one event");const e=An();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ae(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,cr.get())};e()}}hr.currentPopupAction=null;const dr=new Map;class fr extends lr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=dr.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=gr(t),r="true"===await mr(e)._get(n);return await mr(e)._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}dr.set(this.auth._key(),e)}return e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function pr(e,t){return mr(e)._set(gr(t),"true")}function mr(e){return Le(e._redirectPersistence)}function gr(e){return lt("pendingRedirect",e.config.apiKey,e.name)}async function yr(e,t,n=!1){const r=It(e),i=ir(r,t),s=new fr(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function vr(e){const t=An(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class wr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _r(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!_r(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ae(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(br(e))}saveEventToCache(e){this.cachedEventUids.add(br(e)),this.lastProcessedEventTime=Date.now()}}function br(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function _r({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function Er(e,t={}){return $e(e,"GET","/v1/projects",t)}const Ir=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tr=/^https?/;function Sr(e){const t=Me(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Tr.test(n))return!1;if(Ir.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const kr=new Ve(3e4,6e4);function Nr(){const e=On().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Cr=null;function Ar(e){return Cr=Cr||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){Nr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Nr(),n(Ae(e,"network-request-failed"))},timeout:kr.get()})}if(null===(i=null===(r=On().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=On().gapi)||void 0===s?void 0:s.load)){const t=Kn("iframefcb");return On()[t]=()=>{gapi.load?o():n(Ae(e,"network-request-failed"))},Bn(`https://apis.google.com/js/api.js?onload=${t}`)}o()}})).catch((e=>{throw Cr=null,e}))}(e),Cr}const xr=new Ve(5e3,15e3),Or={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Rr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pr(e){const t=e.config;Oe(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?je(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:ce},i=Rr.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${A(r).slice(1)}`}const Dr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Lr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Mr(e,t,n,r,i,s){Oe(e.config.authDomain,e,"auth-domain-config-required"),Oe(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ce,eventId:i};if(t instanceof Ut){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Vt){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){return e.emulator?je(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${A(a).slice(1)}`}const Fr="webStorageSupport";class Ur extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Re("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Ur(e)}_finalizeEnroll(e,t,n){return function(e,t){return $e(e,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return $e(e,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}var Vr;class jr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zr(){return window}Vr="Browser",ie(new F("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{Oe(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),Oe(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:Vr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_t(Vr)},s=new Et(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Le);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ie(new F("auth-internal",(e=>(e=>new jr(e))(It(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),me("@firebase/auth","0.17.0",void 0);class qr extends wr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Br(e){const t=await $r()._get(Wr(e));return t&&await $r()._remove(Wr(e)),t}function Kr(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function $r(){return Le(Sn)}function Wr(e){return lt("authEvent",e.config.apiKey,e.name)}function Hr(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return x(n.join("?"))}function Gr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ae("no-auth-event")}}function Qr(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Yr(e=m()){return!("file:"!==Qr()&&"ionic:"!==Qr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jr(){try{const e=self.localStorage,t=An();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=m()){return b()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=m()){return/Edge\/\d+/.test(e)}(e)}()||_()}catch(e){return Xr()&&_()}return!1}function Xr(){return void 0!==n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Zr(){return("http:"===Qr()||"https:"===Qr()||v()||Yr())&&!(w()||y())&&Jr()&&!Xr()}function ei(){return Yr()&&"undefined"!=typeof document}const ti={LOCAL:"local",NONE:"none",SESSION:"session"},ni=Oe,ri="persistence";async function ii(e){await e._initializationPromise;const t=si(),n=lt(ri,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}function si(){return"undefined"!=typeof window?window:null}const oi=Oe;class ai{constructor(){this.browserResolver=Le(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nn,this._completeRedirectFn=yr}async _openPopup(e,t,n,r){var i;return Pe(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Dr),{width:r.toString(),height:i.toString(),top:s,left:o}),l=m().toLowerCase();n&&(a=pt(l)?"_blank":n),dt(l)&&(t=t||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=m()){var t;return wt(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Lr(null);const h=window.open(t||"",a,c);Oe(h,e,"popup-blocked");try{h.focus()}catch(e){}return new Lr(h)}(e,Mr(e,t,n,Me(),r),An())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=Mr(e,t,n,Me(),r),On().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Pe(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}async initAndGetManager(e){const t=await async function(e){const t=await Ar(e),n=On().gapi;return Oe(n,e,"internal-error"),t.open({where:document.body,url:Pr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Or,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ae(e,"network-request-failed"),s=On().setTimeout((()=>{r(i)}),xr.get());function o(){On().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new wr(e);return t.register("authEvent",(t=>(Oe(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fr,{type:Fr},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ce(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Er(e);for(const e of t)try{if(Sr(e))return}catch(e){}Ce(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bt()||ft()||wt()}}),this.cordovaResolver=Le(class{constructor(){this._redirectPersistence=Nn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yr}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new qr(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Ce(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,u,l,c;const h=zr();Oe("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Oe(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Oe("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(u=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(c=null===(l=null==h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),dr.clear(),await this._originValidation(e);const s=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Kr(),postBody:null,tenantId:e.tenantId,error:Ae(e,"no-auth-event")}}(e,n,r);await function(e,t){return $r()._set(Wr(e),t)}(e,s);const o=await async function(e,t,n){var r;const{BuildInfo:i}=zr();Pe(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Pe(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return wt()?o.ibi=i.packageName:gt()?o.apn=i.packageName:Ce(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Mr(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}(e,s,t);return async function(e,t,n){const{cordova:r}=zr();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function u(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{o(Ae(e,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(u),document.addEventListener("resume",l,!1),gt()&&document.addEventListener("visibilitychange",c,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await function(e){const{cordova:t}=zr();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=m()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=zr(),n={};wt()?n.iosBundleId=t.packageName:gt()?n.androidPackageName=t.packageName:Ce(e,"operation-not-supported-in-this-environment"),await Er(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=zr(),s=setTimeout((async()=>{await Br(e),t.onEvent(Gr())}),500),o=async n=>{clearTimeout(s);const r=await Br(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Hr(e),n=t.link?decodeURIComponent(t.link):void 0,r=Hr(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Hr(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Hr(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?Ae(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Gr())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,o);const a=r,u=`${i.packageName.toLowerCase()}://`;zr().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(u)&&o({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}}}}),this.underlyingResolver=null,this._redirectPersistence=Nn,this._completeRedirectFn=yr}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return ei()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oi(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!ei()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function ui(e){return e.unwrap()}function li(e){const{_tokenResponse:t}=e instanceof E?e.customData:e;if(!t)return null;if(!(e instanceof E)&&"temporaryProof"in t&&"phoneNumber"in t)return rr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=qt;break;case"facebook.com":r=zt;break;case"github.com":r=Bt;break;case"twitter.com":r=$t;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?Kt._create(n,o):Pt._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new jt(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof E?r.credentialFromError(e):r.credentialFromResult(e)}async function ci(e,t){let n;try{n=await t}catch(t){throw t instanceof E&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new di(e,function(e,t){var n;const r=L(e),i=t;return Oe(t.operationType,r,"argument-error"),Oe(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),wn._fromError(r,i)}(e,t));else if(r){const e=li(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}const{operationType:r,user:i}=n;return{operationType:r,credential:(s=n,li(s)),additionalUserInfo:yn(n),user:fi.getOrCreate(i)};var s}async function hi(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ci(e,n.confirm(t))}}class di{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ci(ui(this.auth),this.resolver.resolveSignIn(e))}}class fi{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=L(e);return _n.has(t)||_n.set(t,bn._fromUser(t)),_n.get(t)}(e)}static getOrCreate(e){return fi.USER_MAP.has(e)||fi.USER_MAP.set(e,new fi(e)),fi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ci(this.auth,rn(this._delegate,e))}async linkWithPhoneNumber(e,t){return hi(this.auth,async function(e,t,n){const r=L(e);await Zt(!1,r,"phone");const i=await nr(r.auth,t,L(n));return new tr(i,(e=>rn(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return ci(this.auth,async function(e,t,n){const r=L(e);Oe(t instanceof Ut,r.auth,"argument-error");const i=ir(r.auth,n);return new hr(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ai))}async linkWithRedirect(e){return await ii(It(this.auth)),function(e,t,n){return async function(e,t,n){const r=L(e);Oe(t instanceof Ut,r.auth,"argument-error");const i=ir(r.auth,n);await Zt(!1,r,t.providerId),await pr(i,r.auth);const s=await vr(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}(this._delegate,e,ai)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ci(this.auth,sn(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return hi(this.auth,async function(e,t,n){const r=L(e),i=await nr(r.auth,t,L(n));return new tr(i,(e=>sn(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return ci(this.auth,async function(e,t,n){const r=L(e);Oe(t instanceof Ut,r.auth,"argument-error");const i=ir(r.auth,n);return new hr(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ai))}async reauthenticateWithRedirect(e){return await ii(It(this.auth)),function(e,t,n){return async function(e,t,n){const r=L(e);Oe(t instanceof Ut,r.auth,"argument-error");const i=ir(r.auth,n);await pr(i,r.auth);const s=await vr(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}(this._delegate,e,ai)}sendEmailVerification(e){return async function(e,t){const n=L(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&un(n.auth,r,t);const{email:i}=await async function(e,t){return xt(e,t)}(n.auth,r);i!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=L(e);await Zt(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return $e(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Jt(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return cn(L(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return cn(L(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Xt(L(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=L(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await et(r,async function(e,t){return $e(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find((({providerId:e})=>"password"===e));o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const r=L(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&un(r.auth,i,n);const{email:s}=await async function(e,t){return xt(e,t)}(r.auth,i);s!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}fi.USER_MAP=new WeakMap;const pi=Oe;class mi{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;pi(n,"invalid-api-key",{appName:e.name});let r=[ut];if("undefined"!=typeof window){r=function(e,t){const n=si();if(!(null==n?void 0:n.sessionStorage))return[];const r=lt(ri,e,t);switch(n.sessionStorage.getItem(r)){case ti.NONE:return[ut];case ti.LOCAL:return[qn,Nn];case ti.SESSION:return[Nn];default:return[]}}(n,e.name);for(const e of[qn,Sn,Nn])r.includes(e)||r.push(e)}pi(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?ai:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(Te),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?fi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=It(e);Oe(r._canInitEmulator,r,"emulator-config-failed"),Oe(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=St(t),{host:o,port:a}=function(e){const t=St(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:kt(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:kt(t)}}}(t),u=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),function(e){function t(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"==typeof window||"undefined"==typeof document||e||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}(i)}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return $e(e,"POST","/v1/accounts:update",Ke(e,t))}(L(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return ln(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Ct(L(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ci(this._delegate,async function(e,t,n){const r=It(e),i=await Wt(r,{returnSecureToken:!0,email:t,password:n}),s=await Ht._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:Fe()?Me():"http://localhost"},{signinMethods:r}=await async function(e,t){return $e(e,"POST","/v1/accounts:createAuthUri",Ke(e,t))}(L(e),n);return r||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Mt.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){pi(Zr(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await It(e)._initializationPromise,yr(e,t,!1)}(this._delegate,ai);return e?ci(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){It(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=gi(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=gi(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=L(e),i={requestType:"EMAIL_SIGNIN",email:t};Oe(n.handleCodeInApp,r,"argument-error"),n&&un(r,i,n),await async function(e,t){return xt(e,t)}(r,i)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=L(e),i={requestType:"PASSWORD_RESET",email:t};n&&un(r,i,n),await async function(e,t){return xt(e,t)}(r,i)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){ni(Object.values(ti).includes(t),e,"invalid-persistence-type"),w()?ni(t!==ti.SESSION,e,"unsupported-persistence-type"):y()?ni(t===ti.NONE,e,"unsupported-persistence-type"):Xr()?ni(t===ti.NONE||t===ti.LOCAL&&_(),e,"unsupported-persistence-type"):ni(t===ti.NONE||Jr(),e,"unsupported-persistence-type")}(this._delegate,e),e){case ti.SESSION:t=Nn;break;case ti.LOCAL:t=await Le(qn)._isAvailable()?qn:Sn;break;case ti.NONE:t=ut;break;default:return Ce("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ci(this._delegate,async function(e){var t;const n=It(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Ht({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Wt(n,{returnSecureToken:!0}),i=await Ht._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return ci(this._delegate,nn(this._delegate,e))}signInWithCustomToken(e){return ci(this._delegate,async function(e,t){const n=It(e),r=await async function(e,t){return He(e,"POST","/v1/accounts:signInWithCustomToken",Ke(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Ht._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}(this._delegate,e))}signInWithEmailAndPassword(e,t){return ci(this._delegate,function(e,t,n){return nn(L(e),Ft.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return ci(this._delegate,async function(e,t,n){const r=L(e),i=Ft.credentialWithLink(t,n||Me());return Oe(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),nn(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return hi(this._delegate,async function(e,t,n){const r=It(e),i=await nr(r,t,L(n));return new tr(i,(e=>nn(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return pi(Zr(),this._delegate,"operation-not-supported-in-this-environment"),ci(this._delegate,async function(e,t,n){const r=It(e);Oe(t instanceof Ut,e,"argument-error");const i=ir(r,n);return new hr(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,ai))}async signInWithRedirect(e){return pi(Zr(),this._delegate,"operation-not-supported-in-this-environment"),await ii(this._delegate),function(e,t,n){return async function(e,t,n){const r=It(e);Oe(t instanceof Ut,e,"argument-error");const i=ir(r,n);return await pr(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}(this._delegate,e,ai)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await ln(L(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function gi(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&fi.getOrCreate(e)),error:t,complete:n}}mi.Persistence=ti;class yi{constructor(){this.providerId="phone",this._delegate=new rr(ui(Ie.auth()))}static credential(e,t){return rr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}yi.PHONE_SIGN_IN_METHOD=rr.PHONE_SIGN_IN_METHOD,yi.PROVIDER_ID=rr.PROVIDER_ID;const vi=Oe;var wi;function bi(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}(wi=Ie).INTERNAL.registerComponent(new F("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new mi(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ft,FacebookAuthProvider:zt,GithubAuthProvider:Bt,GoogleAuthProvider:qt,OAuthProvider:jt,PhoneAuthProvider:yi,PhoneMultiFactorGenerator:class{constructor(){}static assertion(e){return Ur._fromCredential(e)}},RecaptchaVerifier:class{constructor(e,t,n=Ie.app()){var r;vi(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new er(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:$t,Auth:mi,AuthCredential:Nt,Error:E}).setInstantiationMode("LAZY").setMultipleInstances(!1)),wi.registerVersion("@firebase/auth-compat","0.1.0"),n(1249),n(7941),n(7327),n(5003),n(4747),n(9337);var _i=function(e,t){return(_i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Ei(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ii,Ti="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Si=Si||{},ki=Ti||self;function Ni(){}function Ci(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ai(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var xi="closure_uid_"+(1e9*Math.random()>>>0),Oi=0;function Ri(e,t,n){return e.call.apply(e.bind,arguments)}function Pi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Di(e,t,n){return(Di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ri:Pi).apply(null,arguments)}function Li(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Mi(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Fi(){this.s=this.s,this.o=this.o}var Ui={};Fi.prototype.s=!1,Fi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,xi)&&e[xi]||(e[xi]=++Oi)}(this);delete Ui[e]}},Fi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Vi=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ji=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function zi(e){return Array.prototype.concat.apply([],arguments)}function qi(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Bi(e){return/^[\s\xa0]*$/.test(e)}var Ki,$i=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Wi(e,t){return-1!=e.indexOf(t)}function Hi(e,t){return e<t?-1:e>t?1:0}e:{var Gi=ki.navigator;if(Gi){var Qi=Gi.userAgent;if(Qi){Ki=Qi;break e}}Ki=""}function Yi(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ji(e){var t={};for(var n in e)t[n]=e[n];return t}var Xi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zi(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var s=0;s<Xi.length;s++)n=Xi[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function es(e){return es[" "](e),e}es[" "]=Ni;var ts,ns,rs=Wi(Ki,"Opera"),is=Wi(Ki,"Trident")||Wi(Ki,"MSIE"),ss=Wi(Ki,"Edge"),os=ss||is,as=Wi(Ki,"Gecko")&&!(Wi(Ki.toLowerCase(),"webkit")&&!Wi(Ki,"Edge"))&&!(Wi(Ki,"Trident")||Wi(Ki,"MSIE"))&&!Wi(Ki,"Edge"),us=Wi(Ki.toLowerCase(),"webkit")&&!Wi(Ki,"Edge");function ls(){var e=ki.document;return e?e.documentMode:void 0}e:{var cs="",hs=(ns=Ki,as?/rv:([^\);]+)(\)|;)/.exec(ns):ss?/Edge\/([\d\.]+)/.exec(ns):is?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ns):us?/WebKit\/(\S+)/.exec(ns):rs?/(?:Version)[ \/]?(\S+)/.exec(ns):void 0);if(hs&&(cs=hs?hs[1]:""),is){var ds=ls();if(null!=ds&&ds>parseFloat(cs)){ts=String(ds);break e}}ts=cs}var fs,ps={};function ms(){return e=ps,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=$i(String(ts)).split("."),n=$i("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var s=t[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;e=Hi(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||Hi(0==s[2].length,0==o[2].length)||Hi(s[2],o[2]),s=s[3],o=o[3]}while(0==e)}return 0<=e}();var e}ki.document&&is?fs=ls()||parseInt(ts,10)||void 0:fs=void 0;var gs=fs,ys=function(){if(!ki.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ki.addEventListener("test",Ni,t),ki.removeEventListener("test",Ni,t)}catch(e){}return e}();function vs(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ws(e,t){if(vs.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(as){e:{try{es(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:bs[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ws.Z.h.call(this)}}vs.prototype.h=function(){this.defaultPrevented=!0},Mi(ws,vs);var bs={2:"touch",3:"pen",4:"mouse"};ws.prototype.h=function(){ws.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _s="closure_listenable_"+(1e6*Math.random()|0),Es=0;function Is(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Es,this.ca=this.fa=!1}function Ts(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ss(e){this.src=e,this.g={},this.h=0}function ks(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Vi(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ts(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ns(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Ss.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ns(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Is(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Cs="closure_lm_"+(1e6*Math.random()|0),As={};function xs(e,t,n,r,i){if(r&&r.once)return Rs(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)xs(e,t[s],n,r,i);return null}return n=Vs(n),e&&e[_s]?e.N(t,n,Ai(r)?!!r.capture:!!r,i):Os(e,t,n,!1,r,i)}function Os(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Ai(i)?!!i.capture:!!i,a=Fs(e);if(a||(e[Cs]=a=new Ss(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=Ms;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ys||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ls(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Rs(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Rs(e,t[s],n,r,i);return null}return n=Vs(n),e&&e[_s]?e.O(t,n,Ai(r)?!!r.capture:!!r,i):Os(e,t,n,!0,r,i)}function Ps(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ps(e,t[s],n,r,i);else r=Ai(r)?!!r.capture:!!r,n=Vs(n),e&&e[_s]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Ns(s=e.g[t],n,r,i))&&(Ts(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Fs(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ns(t,n,r,i)),(n=-1<e?t[e]:null)&&Ds(n))}function Ds(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[_s])ks(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ls(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Fs(t))?(ks(n,e),0==n.h&&(n.src=null,t[Cs]=null)):Ts(e)}}}function Ls(e){return e in As?As[e]:As[e]="on"+e}function Ms(e,t){if(e.ca)e=!0;else{t=new ws(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ds(e),e=n.call(r,t)}return e}function Fs(e){return(e=e[Cs])instanceof Ss?e:null}var Us="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vs(e){return"function"==typeof e?e:(e[Us]||(e[Us]=function(t){return e.handleEvent(t)}),e[Us])}function js(){Fi.call(this),this.i=new Ss(this),this.P=this,this.I=null}function zs(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new vs(t,e);else if(t instanceof vs)t.target=t.target||e;else{var i=t;Zi(t=new vs(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=qs(o,r,!0,t)&&i}if(i=qs(o=t.g=e,r,!0,t)&&i,i=qs(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=qs(o=t.g=n[s],r,!1,t)&&i}function qs(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&ks(e.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Mi(js,Fi),js.prototype[_s]=!0,js.prototype.removeEventListener=function(e,t,n,r){Ps(this,e,t,n,r)},js.prototype.M=function(){if(js.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ts(n[r]);delete t.g[e],t.h--}}this.I=null},js.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},js.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Bs=ki.JSON.stringify;function Ks(){var e=Xs,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var $s,Ws=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Hs.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Hs=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Gs}),(function(e){return e.reset()})),Gs=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Qs(e){ki.setTimeout((function(){throw e}),0)}function Ys(e,t){$s||function(){var e=ki.Promise.resolve(void 0);$s=function(){e.then(Zs)}}(),Js||($s(),Js=!0),Xs.add(e,t)}var Js=!1,Xs=new Ws;function Zs(){for(var e;e=Ks();){try{e.h.call(e.g)}catch(e){Qs(e)}var t=Hs;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Js=!1}function eo(e,t){js.call(this),this.h=e||1,this.g=t||ki,this.j=Di(this.kb,this),this.l=Date.now()}function to(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function no(e,t,n){if("function"==typeof e)n&&(e=Di(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Di(e.handleEvent,e)}return 2147483647<Number(t)?-1:ki.setTimeout(e,t||0)}function ro(e){e.g=no((function(){e.g=null,e.i&&(e.i=!1,ro(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Mi(eo,js),(Ii=eo.prototype).da=!1,Ii.S=null,Ii.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zs(this,"tick"),this.da&&(to(this),this.start()))}},Ii.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ii.M=function(){eo.Z.M.call(this),to(this),delete this.g};var io=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:ro(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ki.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Fi);function so(e){Fi.call(this),this.h=e,this.g={}}Mi(so,Fi);var oo=[];function ao(e,t,n,r){Array.isArray(n)||(n&&(oo[0]=n.toString()),n=oo);for(var i=0;i<n.length;i++){var s=xs(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function uo(e){Yi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ds(e)}),e),e.g={}}function lo(){this.g=!0}function co(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Bs(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}so.prototype.M=function(){so.Z.M.call(this),uo(this)},so.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lo.prototype.Aa=function(){this.g=!1},lo.prototype.info=function(){};var ho={},fo=null;function po(){return fo=fo||new js}function mo(e){vs.call(this,ho.Ma,e)}function go(e){var t=po();zs(t,new mo(t,e))}function yo(e,t){vs.call(this,ho.STAT_EVENT,e),this.stat=t}function vo(e){var t=po();zs(t,new yo(t,e))}function wo(e,t){vs.call(this,ho.Na,e),this.size=t}function bo(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return ki.setTimeout((function(){e()}),t)}ho.Ma="serverreachability",Mi(mo,vs),ho.STAT_EVENT="statevent",Mi(yo,vs),ho.Na="timingevent",Mi(wo,vs);var _o={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Eo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Io(){}function To(e){return e.h||(e.h=e.i())}function So(){}Io.prototype.h=null;var ko,No={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Co(){vs.call(this,"d")}function Ao(){vs.call(this,"c")}function xo(){}function Oo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new so(this),this.P=Po,e=os?125:void 0,this.W=new eo(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ro}function Ro(){this.i=null,this.g="",this.h=!1}Mi(Co,vs),Mi(Ao,vs),Mi(xo,Io),xo.prototype.g=function(){return new XMLHttpRequest},xo.prototype.i=function(){return{}},ko=new xo;var Po=45e3,Do={},Lo={};function Mo(e,t,n){e.K=1,e.v=sa(Zo(t)),e.s=n,e.U=!0,Fo(e,null)}function Fo(e,t){e.F=Date.now(),zo(e),e.A=Zo(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),va(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ro,e.g=wu(e.l,n?t:null,!e.s),0<e.O&&(e.L=new io(Di(e.Ia,e,e.g),e.O)),ao(e.V,e.g,"readystatechange",e.gb),t=e.H?Ji(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),go(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Uo(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Vo(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=jo(e,n))==Lo){4==t&&(e.o=4,vo(14),i=!1),co(e.j,e.m,null,"[Incomplete Response]");break}if(r==Do){e.o=4,vo(15),co(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}co(e.j,e.m,r,null),Wo(e,r)}Uo(e)&&r!=Lo&&r!=Do&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,vo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),hu(t),t.L=!0,vo(11))):(co(e.j,e.m,n,"[Invalid Chunked Response]"),$o(e),Ko(e))}function jo(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Lo:(n=Number(t.substring(n,r)),isNaN(n)?Do:(r+=1)+n>t.length?Lo:(t=t.substr(r,n),e.C=r+n,t))}function zo(e){e.Y=Date.now()+e.P,qo(e,e.P)}function qo(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=bo(Di(e.eb,e),t)}function Bo(e){e.B&&(ki.clearTimeout(e.B),e.B=null)}function Ko(e){0==e.l.G||e.I||pu(e.l,e)}function $o(e){Bo(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,to(e.W),uo(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Wo(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Sa(n.i,e)))if(n.I=e.N,!e.J&&Sa(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fu(n),nu(n)}cu(n),vo(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=bo(Di(n.ab,n),6e3));if(1>=Ta(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else gu(n,11)}else if((e.J||n.g==e)&&fu(n),!Bi(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=s[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(Wi(c,"spdy")||Wi(c,"quic")||Wi(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(ka(h,h.h),h.h=null))}if(r.D){var d=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,ia(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=vu(r,r.H?r.la:null,r.W),f.J){Na(r.i,f);var p=f,m=r.K;m&&p.setTimeout(m),p.B&&(Bo(p),zo(p)),r.g=f}else lu(r);0<n.l.length&&su(n)}else"stop"!=s[0]&&"close"!=s[0]||gu(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?gu(n,7):tu(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}go(4)}catch(s){}}function Ho(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ci(e)||"string"==typeof e)ji(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ci(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Ci(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Go(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Go)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Qo(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Yo(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Yo(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Yo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ii=Oo.prototype).setTimeout=function(e){this.P=e},Ii.gb=function(e){e=e.target;var t=this.L;t&&3==Ya(e)?t.l():this.Ia(e)},Ii.Ia=function(e){try{if(e==this.g)e:{var t=Ya(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||os||this.g&&(this.h.h||this.g.ga()||Ja(this.g)))){this.I||4!=t||7==n||go(8==n||0>=r?3:2),Bo(this);var i=this.g.ba();this.N=i;t:if(Uo(this)){var s=Ja(this.g);e="";var o=s.length,a=4==Ya(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$o(this),Ko(this);var u="";break t}this.h.i=new ki.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bi(l)){var h=l;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,vo(12),$o(this),Ko(this);break e}co(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wo(this,i)}this.U?(Vo(this,t,u),os&&this.i&&3==t&&(ao(this.V,this.W,"tick",this.fb),this.W.start())):(co(this.j,this.m,u,null),Wo(this,u)),4==t&&$o(this),this.i&&!this.I&&(4==t?pu(this.l,this):(this.i=!1,zo(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,vo(12)):(this.o=0,vo(13)),$o(this),Ko(this)}}}catch(t){}},Ii.fb=function(){if(this.g){var e=Ya(this.g),t=this.g.ga();this.C<t.length&&(Bo(this),Vo(this,e,t),this.i&&4!=e&&zo(this))}},Ii.cancel=function(){this.I=!0,$o(this)},Ii.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(go(3),vo(17)),$o(this),this.o=2,Ko(this)):qo(this,this.Y-e)},(Ii=Go.prototype).R=function(){Qo(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ii.T=function(){return Qo(this),this.g.concat()},Ii.get=function(e,t){return Yo(this.h,e)?this.h[e]:t},Ii.set=function(e,t){Yo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ii.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Jo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Xo){this.g=void 0!==t?t:e.g,ea(this,e.j),this.s=e.s,ta(this,e.i),na(this,e.m),this.l=e.l,t=e.h;var n=new pa;n.i=t.i,t.g&&(n.g=new Go(t.g),n.h=t.h),ra(this,n),this.o=e.o}else e&&(n=String(e).match(Jo))?(this.g=!!t,ea(this,n[1]||"",!0),this.s=oa(n[2]||""),ta(this,n[3]||"",!0),na(this,n[4]),this.l=oa(n[5]||"",!0),ra(this,n[6]||"",!0),this.o=oa(n[7]||"")):(this.g=!!t,this.h=new pa(null,this.g))}function Zo(e){return new Xo(e)}function ea(e,t,n){e.j=n?oa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ta(e,t,n){e.i=n?oa(t,!0):t}function na(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ra(e,t,n){t instanceof pa?(e.h=t,function(e,t){t&&!e.j&&(ma(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ga(this,t),va(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=aa(t,da)),e.h=new pa(t,e.g))}function ia(e,t,n){e.h.set(t,n)}function sa(e){return ia(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function oa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function aa(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ua),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ua(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(aa(t,la,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(aa(t,la,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(aa(n,"/"==n.charAt(0)?ha:ca,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",aa(n,fa)),e.join("")};var la=/[#\/\?@]/g,ca=/[#\?:]/g,ha=/[#\?]/g,da=/[#\?@]/g,fa=/#/g;function pa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ma(e){e.g||(e.g=new Go,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ga(e,t){ma(e),t=wa(e,t),Yo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Yo((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Qo(e)))}function ya(e,t){return ma(e),t=wa(e,t),Yo(e.g.h,t)}function va(e,t,n){ga(e,t),0<n.length&&(e.i=null,e.g.set(wa(e,t),qi(n)),e.h+=n.length)}function wa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ii=pa.prototype).add=function(e,t){ma(this),this.i=null,e=wa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ii.forEach=function(e,t){ma(this),this.g.forEach((function(n,r){ji(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ii.T=function(){ma(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},Ii.R=function(e){ma(this);var t=[];if("string"==typeof e)ya(this,e)&&(t=zi(t,this.g.get(wa(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=zi(t,e[n])}return t},Ii.set=function(e,t){return ma(this),this.i=null,ya(this,e=wa(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ii.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ii.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var ba=function(e,t){this.h=e,this.g=t};function _a(e){this.l=e||Ea,e=ki.PerformanceNavigationTiming?0<(e=ki.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(ki.g&&ki.g.Ea&&ki.g.Ea()&&ki.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ea=10;function Ia(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ta(e){return e.h?1:e.g?e.g.size:0}function Sa(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ka(e,t){e.g?e.g.add(t):e.h=t}function Na(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ca(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Ei(e.g.values()),s=i.next();!s.done;s=i.next()){var o=s.value;r=r.concat(o.D)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return qi(e.i)}function Aa(){}function xa(){this.g=new Aa}function Oa(e,t,n){var r=n||"";try{Ho(e,(function(e,n){var i=e;Ai(e)&&(i=Bs(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Ra(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Pa(e){this.l=e.$b||null,this.j=e.ib||!1}function Da(e,t){js.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=La,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_a.prototype.cancel=function(){var e,t;if(this.i=Ca(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Ei(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Aa.prototype.stringify=function(e){return ki.JSON.stringify(e,void 0)},Aa.prototype.parse=function(e){return ki.JSON.parse(e,void 0)},Mi(Pa,Io),Pa.prototype.g=function(){return new Da(this.l,this.j)},Pa.prototype.i=function(e){return function(){return e}}({}),Mi(Da,js);var La=0;function Ma(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Fa(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ua(e)}function Ua(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ii=Da.prototype).open=function(e,t){if(this.readyState!=La)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ua(this)},Ii.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ki).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ii.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fa(this)),this.readyState=La},Ii.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ki.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ma(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ii.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Fa(this):Ua(this),3==this.readyState&&Ma(this)}},Ii.Ua=function(e){this.g&&(this.response=this.responseText=e,Fa(this))},Ii.Ta=function(e){this.g&&(this.response=e,Fa(this))},Ii.ha=function(){this.g&&Fa(this)},Ii.setRequestHeader=function(e,t){this.v.append(e,t)},Ii.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ii.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Da.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Va=ki.JSON.parse;function ja(e){js.call(this),this.headers=new Go,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=za,this.K=this.L=!1}Mi(ja,js);var za="",qa=/^https?$/i,Ba=["POST","PUT"];function Ka(e){return"content-type"==e.toLowerCase()}function $a(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Wa(e),Ga(e)}function Wa(e){e.D||(e.D=!0,zs(e,"complete"),zs(e,"error"))}function Ha(e){if(e.h&&void 0!==Si&&(!e.C[1]||4!=Ya(e)||2!=e.ba()))if(e.v&&4==Ya(e))no(e.Fa,0,e);else if(zs(e,"readystatechange"),4==Ya(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.H).match(Jo)[1]||null;if(!s&&ki.self&&ki.self.location){var o=ki.self.location.protocol;s=o.substr(0,o.length-1)}i=!qa.test(s?s.toLowerCase():"")}t=i}if(t)zs(e,"complete"),zs(e,"success");else{e.m=6;try{var a=2<Ya(e)?e.g.statusText:""}catch(e){a=""}e.j=a+" ["+e.ba()+"]",Wa(e)}}finally{Ga(e)}}}function Ga(e,t){if(e.g){Qa(e);var n=e.g,r=e.C[0]?Ni:null;e.g=null,e.C=null,t||zs(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Qa(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ki.clearTimeout(e.A),e.A=null)}function Ya(e){return e.g?e.g.readyState:0}function Ja(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case za:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Xa(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Yi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):ia(e,t,n))}function Za(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function eu(e){this.za=0,this.l=[],this.h=new lo,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Za("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Za("baseRetryDelayMs",5e3,e),this.$a=Za("retryDelaySeedMs",1e4,e),this.Ya=Za("forwardChannelMaxRetries",2,e),this.ra=Za("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new _a(e&&e.concurrentRequestLimit),this.Ca=new xa,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function tu(e){if(ru(e),3==e.G){var t=e.V++,n=Zo(e.F);ia(n,"SID",e.J),ia(n,"RID",t),ia(n,"TYPE","terminate"),au(e,n),(t=new Oo(e,e.h,t,void 0)).K=2,t.v=sa(Zo(n)),n=!1,ki.navigator&&ki.navigator.sendBeacon&&(n=ki.navigator.sendBeacon(t.v.toString(),"")),!n&&ki.Image&&((new Image).src=t.v,n=!0),n||(t.g=wu(t.l,null),t.g.ea(t.v)),t.F=Date.now(),zo(t)}yu(e)}function nu(e){e.g&&(hu(e),e.g.cancel(),e.g=null)}function ru(e){nu(e),e.u&&(ki.clearTimeout(e.u),e.u=null),fu(e),e.i.cancel(),e.m&&("number"==typeof e.m&&ki.clearTimeout(e.m),e.m=null)}function iu(e,t){e.l.push(new ba(e.Za++,t)),3==e.G&&su(e)}function su(e){Ia(e.i)||e.m||(e.m=!0,Ys(e.Ha,e),e.C=0)}function ou(e,t){var n;n=t?t.m:e.V++;var r=Zo(e.F);ia(r,"SID",e.J),ia(r,"RID",n),ia(r,"AID",e.U),au(e,r),e.o&&e.s&&Xa(r,e.o,e.s),n=new Oo(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=uu(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ka(e.i,n),Mo(n,r,t)}function au(e,t){e.j&&Ho({},(function(e,n){ia(t,n,e)}))}function uu(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Di(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=s))s=Math.max(0,i[u].h-100),a=!1;else try{Oa(c,o,"req"+l+"_")}catch(e){r&&r(c)}}if(a){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function lu(e){e.g||e.u||(e.Y=1,Ys(e.Ga,e),e.A=0)}function cu(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=bo(Di(e.Ga,e),mu(e,e.A)),e.A++,0))}function hu(e){null!=e.B&&(ki.clearTimeout(e.B),e.B=null)}function du(e){e.g=new Oo(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Zo(e.oa);ia(t,"RID","rpc"),ia(t,"SID",e.J),ia(t,"CI",e.N?"0":"1"),ia(t,"AID",e.U),au(e,t),ia(t,"TYPE","xmlhttp"),e.o&&e.s&&Xa(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=sa(Zo(t)),n.s=null,n.U=!0,Fo(n,e)}function fu(e){null!=e.v&&(ki.clearTimeout(e.v),e.v=null)}function pu(e,t){var n=null;if(e.g==t){fu(e),hu(e),e.g=null;var r=2}else{if(!Sa(e.i,t))return;n=t.D,Na(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;zs(r=po(),new wo(r,n,t,i)),su(e)}else lu(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ta(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=bo(Di(e.Ha,e,t),mu(e,e.C)),e.C++,0)))}(e,t)||2==r&&cu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:gu(e,5);break;case 4:gu(e,10);break;case 3:gu(e,6);break;default:gu(e,2)}}function mu(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function gu(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Di(e.jb,e);n||(n=new Xo("//www.google.com/images/cleardot.gif"),ki.location&&"http"==ki.location.protocol||ea(n,"https"),sa(n)),function(e,t){var n=new lo;if(ki.Image){var r=new Image;r.onload=Li(Ra,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Li(Ra,n,r,"TestLoadImage: error",!1,t),r.onabort=Li(Ra,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Li(Ra,n,r,"TestLoadImage: timeout",!1,t),ki.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else vo(2);e.G=0,e.j&&e.j.va(t),yu(e),ru(e)}function yu(e){e.G=0,e.I=-1,e.j&&(0==Ca(e.i).length&&0==e.l.length||(e.i.i.length=0,qi(e.l),e.l.length=0),e.j.ua())}function vu(e,t,n){var r=function(e){return e instanceof Xo?Zo(e):new Xo(e,void 0)}(n);if(""!=r.i)t&&ta(r,t+"."+r.i),na(r,r.m);else{var i=ki.location;r=function(e,t,n,r){var i=new Xo(null,void 0);return e&&ea(i,e),t&&ta(i,t),n&&na(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Yi(e.aa,(function(e,t){ia(r,t,e)})),t=e.D,n=e.sa,t&&n&&ia(r,t,n),ia(r,"VER",e.ma),au(e,r),r}function wu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ja(new Pa({ib:!0})):new ja(e.qa)).L=e.H,t}function bu(){}function _u(){if(is&&!(10<=Number(gs)))throw Error("Environmental error: no available transport.")}function Eu(e,t){js.call(this),this.g=new eu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Bi(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Bi(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Su(this)}function Iu(e){Co.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tu(){Ao.call(this),this.status=1}function Su(e){this.g=e}(Ii=ja.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ko.g(),this.C=this.u?To(this.u):To(ko),this.g.onreadystatechange=Di(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void $a(this,e)}e=n||"";var i=new Go(this.headers);r&&Ho(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ka,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=ki.FormData&&e instanceof ki.FormData,!(0<=Vi(Ba,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Qa(this),0<this.B&&((this.K=function(e){return is&&ms()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Di(this.pa,this)):this.A=no(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){$a(this,e)}},Ii.pa=function(){void 0!==Si&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zs(this,"timeout"),this.abort(8))},Ii.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,zs(this,"complete"),zs(this,"abort"),Ga(this))},Ii.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ga(this,!0)),ja.Z.M.call(this)},Ii.Fa=function(){this.s||(this.F||this.v||this.l?Ha(this):this.cb())},Ii.cb=function(){Ha(this)},Ii.ba=function(){try{return 2<Ya(this)?this.g.status:-1}catch(e){return-1}},Ii.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Ii.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Va(t)}},Ii.Da=function(){return this.m},Ii.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ii=eu.prototype).ma=8,Ii.G=1,Ii.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},Ii.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Oo(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Zi(n=Ji(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=uu(this,t,r),ia(i=Zo(this.F),"RID",e),ia(i,"CVER",22),this.D&&ia(i,"X-HTTP-Session-Id",this.D),au(this,i),this.o&&n&&Xa(i,this.o,n),ka(this.i,t),this.Ra&&ia(i,"TYPE","init"),this.ja?(ia(i,"$req",r),ia(i,"SID","null"),t.$=!0,Mo(t,i,null)):Mo(t,i,r),this.G=2}}else 3==this.G&&(e?ou(this,e):0==this.l.length||Ia(this.i)||ou(this))},Ii.Ga=function(){if(this.u=null,du(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=bo(Di(this.bb,this),e)}},Ii.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vo(10),nu(this),du(this))},Ii.ab=function(){null!=this.v&&(this.v=null,nu(this),cu(this),vo(19))},Ii.jb=function(e){e?(this.h.info("Successfully pinged google.com"),vo(2)):(this.h.info("Failed to ping google.com"),vo(1))},(Ii=bu.prototype).xa=function(){},Ii.wa=function(){},Ii.va=function(){},Ii.ua=function(){},Ii.Oa=function(){},_u.prototype.g=function(e,t){return new Eu(e,t)},Mi(Eu,js),Eu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ys(Di(e.hb,e,t))),vo(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=vu(e,null,e.W),su(e)},Eu.prototype.close=function(){tu(this.g)},Eu.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,iu(this.g,t)}else this.v?((t={}).__data__=Bs(e),iu(this.g,t)):iu(this.g,e)},Eu.prototype.M=function(){this.g.j=null,delete this.j,tu(this.g),delete this.g,Eu.Z.M.call(this)},Mi(Iu,Co),Mi(Tu,Ao),Mi(Su,bu),Su.prototype.xa=function(){zs(this.g,"a")},Su.prototype.wa=function(e){zs(this.g,new Iu(e))},Su.prototype.va=function(e){zs(this.g,new Tu(e))},Su.prototype.ua=function(){zs(this.g,"b")},_u.prototype.createWebChannel=_u.prototype.g,Eu.prototype.send=Eu.prototype.u,Eu.prototype.open=Eu.prototype.m,Eu.prototype.close=Eu.prototype.close,_o.NO_ERROR=0,_o.TIMEOUT=8,_o.HTTP_ERROR=6,Eo.COMPLETE="complete",So.EventType=No,No.OPEN="a",No.CLOSE="b",No.ERROR="c",No.MESSAGE="d",js.prototype.listen=js.prototype.N,ja.prototype.listenOnce=ja.prototype.O,ja.prototype.getLastError=ja.prototype.La,ja.prototype.getLastErrorCode=ja.prototype.Da,ja.prototype.getStatus=ja.prototype.ba,ja.prototype.getResponseJson=ja.prototype.Qa,ja.prototype.getResponseText=ja.prototype.ga,ja.prototype.send=ja.prototype.ea;var ku=_o,Nu=Eo,Cu=ho,Au=10,xu=11,Ou=Pa,Ru=So,Pu=ja;class Du{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Du.UNAUTHENTICATED=new Du(null),Du.GOOGLE_CREDENTIALS=new Du("google-credentials-uid"),Du.FIRST_PARTY=new Du("first-party-uid"),Du.MOCK_USER=new Du("mock-user");let Lu="9.0.0";const Mu=new G("@firebase/firestore");function Fu(){return Mu.logLevel}function Uu(e,...t){if(Mu.logLevel<=q.DEBUG){const n=t.map(zu);Mu.debug(`Firestore (${Lu}): ${e}`,...n)}}function Vu(e,...t){if(Mu.logLevel<=q.ERROR){const n=t.map(zu);Mu.error(`Firestore (${Lu}): ${e}`,...n)}}function ju(e,...t){if(Mu.logLevel<=q.WARN){const n=t.map(zu);Mu.warn(`Firestore (${Lu}): ${e}`,...n)}}function zu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function qu(e="Unexpected state"){const t=`FIRESTORE (${Lu}) INTERNAL ASSERTION FAILED: `+e;throw Vu(t),new Error(t)}function Bu(e,t){e||qu()}function Ku(e,t){return e}const $u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wu extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Gu{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Qu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Du.UNAUTHENTICATED)))}shutdown(){}}class Yu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ju{constructor(e){this.t=e,this.currentUser=Du.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Hu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hu,e.enqueueRetryable((()=>r(this.currentUser)))};const s=t=>{e.enqueueRetryable((async()=>{Uu("FirebaseCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),await i.promise,await r(this.currentUser)}))};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Uu("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hu)}}),0),e.enqueueRetryable((async()=>{0===this.i&&(await i.promise,await r(this.currentUser))}))}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Uu("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Bu("string"==typeof t.accessToken),new Gu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bu(null===e||"string"==typeof e),new Du(e)}}class Xu{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Du.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Zu{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Xu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Du.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class el{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function tl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}el.T=-1;class nl{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=tl(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function rl(e,t){return e<t?-1:e>t?1:0}function il(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function sl(e){return e+"\0"}class ol{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Wu($u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Wu($u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Wu($u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Wu($u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ol.fromMillis(Date.now())}static fromDate(e){return ol.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ol(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rl(this.nanoseconds,e.nanoseconds):rl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class al{constructor(e){this.timestamp=e}static fromTimestamp(e){return new al(e)}static min(){return new al(new ol(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ul(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ll(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class hl{constructor(e,t,n){void 0===t?t=0:t>e.length&&qu(),void 0===n?n=e.length-t:n>e.length-t&&qu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===hl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dl extends hl{construct(e,t,n){return new dl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Wu($u.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new dl(t)}static emptyPath(){return new dl([])}}const fl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pl extends hl{construct(e,t,n){return new pl(e,t,n)}static isValidIdentifier(e){return fl.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pl.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pl(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Wu($u.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Wu($u.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Wu($u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Wu($u.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pl(t)}static emptyPath(){return new pl([])}}class ml{constructor(e){this.fields=e,e.sort(pl.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class gl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new gl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new gl(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gl.EMPTY_BYTE_STRING=new gl("");const yl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vl(e){if(Bu(!!e),"string"==typeof e){let t=0;const n=yl.exec(e);if(Bu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:wl(e.seconds),nanos:wl(e.nanos)}}function wl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bl(e){return"string"==typeof e?gl.fromBase64String(e):gl.fromUint8Array(e)}function _l(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function El(e){const t=e.mapValue.fields.__previous_value__;return _l(t)?El(t):t}function Il(e){const t=vl(e.mapValue.fields.__local_write_time__.timestampValue);return new ol(t.seconds,t.nanos)}function Tl(e){return null==e}function Sl(e){return 0===e&&1/e==-1/0}function kl(e){return"number"==typeof e&&Number.isInteger(e)&&!Sl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Nl{constructor(e){this.path=e}static fromPath(e){return new Nl(dl.fromString(e))}static fromName(e){return new Nl(dl.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===dl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nl(new dl(e.slice()))}}function Cl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_l(e)?4:10:qu()}function Al(e,t){const n=Cl(e);if(n!==Cl(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Il(e).isEqual(Il(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=vl(e.timestampValue),r=vl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return bl(e.bytesValue).isEqual(bl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wl(e.geoPointValue.latitude)===wl(t.geoPointValue.latitude)&&wl(e.geoPointValue.longitude)===wl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wl(e.integerValue)===wl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=wl(e.doubleValue),r=wl(t.doubleValue);return n===r?Sl(n)===Sl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return il(e.arrayValue.values||[],t.arrayValue.values||[],Al);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ul(n)!==ul(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Al(n[e],r[e])))return!1;return!0}(e,t);default:return qu()}}function xl(e,t){return void 0!==(e.values||[]).find((e=>Al(e,t)))}function Ol(e,t){const n=Cl(e),r=Cl(t);if(n!==r)return rl(n,r);switch(n){case 0:return 0;case 1:return rl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=wl(e.integerValue||e.doubleValue),r=wl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Rl(e.timestampValue,t.timestampValue);case 4:return Rl(Il(e),Il(t));case 5:return rl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=bl(e),r=bl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=rl(n[e],r[e]);if(0!==t)return t}return rl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=rl(wl(e.latitude),wl(t.latitude));return 0!==n?n:rl(wl(e.longitude),wl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Ol(n[e],r[e]);if(t)return t}return rl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=rl(r[e],s[e]);if(0!==t)return t;const o=Ol(n[r[e]],i[s[e]]);if(0!==o)return o}return rl(r.length,s.length)}(e.mapValue,t.mapValue);default:throw qu()}}function Rl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rl(e,t);const n=vl(e),r=vl(t),i=rl(n.seconds,r.seconds);return 0!==i?i:rl(n.nanos,r.nanos)}function Pl(e){return Dl(e)}function Dl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=vl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?bl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Nl.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Dl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Dl(e.fields[i])}`;return n+"}"}(e.mapValue):qu();var t,n}function Ll(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ml(e){return!!e&&"integerValue"in e}function Fl(e){return!!e&&"arrayValue"in e}function Ul(e){return!!e&&"nullValue"in e}function Vl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jl(e){return!!e&&"mapValue"in e}function zl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ll(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=zl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zl(e.arrayValue.values[n]);return t}return Object.assign({},e)}class ql{constructor(e){this.value=e}static empty(){return new ql({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!jl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(t)}setAll(e){let t=pl.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=zl(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());jl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Al(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];jl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ll(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new ql(zl(this.value))}}function Bl(e){const t=[];return ll(e.fields,((e,n)=>{const r=new pl([e]);if(jl(n)){const e=Bl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ml(t)}class Kl{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Kl(e,0,al.min(),ql.empty(),0)}static newFoundDocument(e,t,n){return new Kl(e,1,t,n,0)}static newNoDocument(e,t){return new Kl(e,2,t,ql.empty(),0)}static newUnknownDocument(e,t){return new Kl(e,3,t,ql.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ql.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ql.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Kl(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $l{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function Wl(e,t=null,n=[],r=[],i=null,s=null,o=null){return new $l(e,t,n,r,i,s,o)}function Hl(e){const t=Ku(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+Pl(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Tl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=oc(t.startAt)),t.endAt&&(e+="|ub:",e+=oc(t.endAt)),t.A=e}return t.A}function Gl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!uc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Al(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cc(e.startAt,t.startAt)&&cc(e.endAt,t.endAt)}function Ql(e){return Nl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Yl extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new Jl(e,t,n):"array-contains"===t?new tc(e,n):"in"===t?new nc(e,n):"not-in"===t?new rc(e,n):"array-contains-any"===t?new ic(e,n):new Yl(e,t,n)}static R(e,t,n){return"in"===t?new Xl(e,n):new Zl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Ol(t,this.value)):null!==t&&Cl(this.value)===Cl(t)&&this.P(Ol(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qu()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Jl extends Yl{constructor(e,t,n){super(e,t,n),this.key=Nl.fromName(n.referenceValue)}matches(e){const t=Nl.comparator(e.key,this.key);return this.P(t)}}class Xl extends Yl{constructor(e,t){super(e,"in",t),this.keys=ec(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Zl extends Yl{constructor(e,t){super(e,"not-in",t),this.keys=ec(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ec(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Nl.fromName(e.referenceValue)))}class tc extends Yl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fl(t)&&xl(t.arrayValue,this.value)}}class nc extends Yl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xl(this.value.arrayValue,t)}}class rc extends Yl{constructor(e,t){super(e,"not-in",t)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xl(this.value.arrayValue,t)}}class ic extends Yl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fl(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>xl(this.value.arrayValue,e)))}}class sc{constructor(e,t){this.position=e,this.before=t}}function oc(e){return`${e.before?"b":"a"}:${e.position.map((e=>Pl(e))).join(",")}`}class ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function uc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function lc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Nl.comparator(Nl.fromName(o.referenceValue),n.key):Ol(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function cc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Al(e.position[n],t.position[n]))return!1;return!0}class hc{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null,this.startAt,this.endAt}}function dc(e,t,n,r,i,s,o,a){return new hc(e,t,n,r,i,s,o,a)}function fc(e){return new hc(e)}function pc(e){return!Tl(e.limit)&&"F"===e.limitType}function mc(e){return!Tl(e.limit)&&"L"===e.limitType}function gc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function yc(e){for(const t of e.filters)if(t.v())return t.field;return null}function vc(e){return null!==e.collectionGroup}function wc(e){const t=Ku(e);if(null===t.V){t.V=[];const e=yc(t),n=gc(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new ac(e)),t.V.push(new ac(pl.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new ac(pl.keyField(),e))}}}return t.V}function bc(e){const t=Ku(e);if(!t.S)if("F"===t.limitType)t.S=Wl(t.path,t.collectionGroup,wc(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of wc(t)){const t="desc"===n.dir?"asc":"desc";e.push(new ac(n.field,t))}const n=t.endAt?new sc(t.endAt.position,!t.endAt.before):null,r=t.startAt?new sc(t.startAt.position,!t.startAt.before):null;t.S=Wl(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function _c(e,t,n){return new hc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ec(e,t){return Gl(bc(e),bc(t))&&e.limitType===t.limitType}function Ic(e){return`${Hl(bc(e))}|lt:${e.limitType}`}function Tc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Pl(t.value)}`;var t})).join(", ")}]`),Tl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+oc(e.startAt)),e.endAt&&(t+=", endAt: "+oc(e.endAt)),`Target(${t})`}(bc(e))}; limitType=${e.limitType})`}function Sc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Nl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!lc(e.startAt,wc(e),t)||e.endAt&&lc(e.endAt,wc(e),t))}(e,t)}function kc(e){return(t,n)=>{let r=!1;for(const i of wc(e)){const e=Nc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Nc(e,t,n){const r=e.field.isKeyField()?Nl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ol(r,i):qu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qu()}}function Cc(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sl(t)?"-0":t}}function Ac(e){return{integerValue:""+e}}function xc(e,t){return kl(t)?Ac(t):Cc(e,t)}class Oc{constructor(){this._=void 0}}function Rc(e,t,n){return e instanceof Lc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Mc?Fc(e,t):e instanceof Uc?Vc(e,t):function(e,t){const n=Dc(e,t),r=zc(n)+zc(e.C);return Ml(n)&&Ml(e.C)?Ac(r):Cc(e.N,r)}(e,t)}function Pc(e,t,n){return e instanceof Mc?Fc(e,t):e instanceof Uc?Vc(e,t):n}function Dc(e,t){return e instanceof jc?Ml(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Lc extends Oc{}class Mc extends Oc{constructor(e){super(),this.elements=e}}function Fc(e,t){const n=qc(t);for(const t of e.elements)n.some((e=>Al(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Uc extends Oc{constructor(e){super(),this.elements=e}}function Vc(e,t){let n=qc(t);for(const t of e.elements)n=n.filter((e=>!Al(e,t)));return{arrayValue:{values:n}}}class jc extends Oc{constructor(e,t){super(),this.N=e,this.C=t}}function zc(e){return wl(e.integerValue||e.doubleValue)}function qc(e){return Fl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Bc{constructor(e,t){this.field=e,this.transform=t}}class Kc{constructor(e,t){this.version=e,this.transformResults=t}}class $c{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $c}static exists(e){return new $c(void 0,e)}static updateTime(e){return new $c(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Hc{}function Gc(e,t,n){e instanceof Zc?function(e,t,n){const r=e.value.clone(),i=nh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof eh?function(e,t,n){if(!Wc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=nh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(th(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Qc(e,t,n){e instanceof Zc?function(e,t,n){if(!Wc(e.precondition,t))return;const r=e.value.clone(),i=rh(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Xc(t),r).setHasLocalMutations()}(e,t,n):e instanceof eh?function(e,t,n){if(!Wc(e.precondition,t))return;const r=rh(e.fieldTransforms,n,t),i=t.data;i.setAll(th(e)),i.setAll(r),t.convertToFoundDocument(Xc(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Wc(e.precondition,t)&&t.convertToNoDocument(al.min())}(e,t)}function Yc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Dc(r.transform,e||null);null!=i&&(null==n&&(n=ql.empty()),n.set(r.field,i))}return n||null}function Jc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&il(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Mc&&t instanceof Mc||e instanceof Uc&&t instanceof Uc?il(e.elements,t.elements,Al):e instanceof jc&&t instanceof jc?Al(e.C,t.C):e instanceof Lc&&t instanceof Lc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Xc(e){return e.isFoundDocument()?e.version:al.min()}class Zc extends Hc{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class eh extends Hc{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function th(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function nh(e,t,n){const r=new Map;Bu(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Pc(o,a,n[i]))}return r}function rh(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Rc(e,s,t))}return r}class ih extends Hc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class sh extends Hc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class oh{constructor(e){this.count=e}}var ah,uh;function lh(e){switch(e){case $u.OK:return qu();case $u.CANCELLED:case $u.UNKNOWN:case $u.DEADLINE_EXCEEDED:case $u.RESOURCE_EXHAUSTED:case $u.INTERNAL:case $u.UNAVAILABLE:case $u.UNAUTHENTICATED:return!1;case $u.INVALID_ARGUMENT:case $u.NOT_FOUND:case $u.ALREADY_EXISTS:case $u.PERMISSION_DENIED:case $u.FAILED_PRECONDITION:case $u.ABORTED:case $u.OUT_OF_RANGE:case $u.UNIMPLEMENTED:case $u.DATA_LOSS:return!0;default:return qu()}}function ch(e){if(void 0===e)return Vu("GRPC error has no .code"),$u.UNKNOWN;switch(e){case ah.OK:return $u.OK;case ah.CANCELLED:return $u.CANCELLED;case ah.UNKNOWN:return $u.UNKNOWN;case ah.DEADLINE_EXCEEDED:return $u.DEADLINE_EXCEEDED;case ah.RESOURCE_EXHAUSTED:return $u.RESOURCE_EXHAUSTED;case ah.INTERNAL:return $u.INTERNAL;case ah.UNAVAILABLE:return $u.UNAVAILABLE;case ah.UNAUTHENTICATED:return $u.UNAUTHENTICATED;case ah.INVALID_ARGUMENT:return $u.INVALID_ARGUMENT;case ah.NOT_FOUND:return $u.NOT_FOUND;case ah.ALREADY_EXISTS:return $u.ALREADY_EXISTS;case ah.PERMISSION_DENIED:return $u.PERMISSION_DENIED;case ah.FAILED_PRECONDITION:return $u.FAILED_PRECONDITION;case ah.ABORTED:return $u.ABORTED;case ah.OUT_OF_RANGE:return $u.OUT_OF_RANGE;case ah.UNIMPLEMENTED:return $u.UNIMPLEMENTED;case ah.DATA_LOSS:return $u.DATA_LOSS;default:return qu()}}(uh=ah||(ah={}))[uh.OK=0]="OK",uh[uh.CANCELLED=1]="CANCELLED",uh[uh.UNKNOWN=2]="UNKNOWN",uh[uh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",uh[uh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",uh[uh.NOT_FOUND=5]="NOT_FOUND",uh[uh.ALREADY_EXISTS=6]="ALREADY_EXISTS",uh[uh.PERMISSION_DENIED=7]="PERMISSION_DENIED",uh[uh.UNAUTHENTICATED=16]="UNAUTHENTICATED",uh[uh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",uh[uh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",uh[uh.ABORTED=10]="ABORTED",uh[uh.OUT_OF_RANGE=11]="OUT_OF_RANGE",uh[uh.UNIMPLEMENTED=12]="UNIMPLEMENTED",uh[uh.INTERNAL=13]="INTERNAL",uh[uh.UNAVAILABLE=14]="UNAVAILABLE",uh[uh.DATA_LOSS=15]="DATA_LOSS";class hh{constructor(e,t){this.comparator=e,this.root=t||fh.EMPTY}insert(e,t){return new hh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fh.BLACK,null,null))}remove(e){return new hh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fh{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:fh.RED,this.left=null!=r?r:fh.EMPTY,this.right=null!=i?i:fh.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new fh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return fh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qu();if(this.right.isRed())throw qu();const e=this.left.check();if(e!==this.right.check())throw qu();return e+(this.isRed()?0:1)}}fh.EMPTY=null,fh.RED=!0,fh.BLACK=!1,fh.EMPTY=new class{constructor(){this.size=0}get key(){throw qu()}get value(){throw qu()}get color(){throw qu()}get left(){throw qu()}get right(){throw qu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new fh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ph{constructor(e){this.comparator=e,this.data=new hh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mh(this.data.getIterator())}getIteratorFrom(e){return new mh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ph))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ph(this.comparator);return t.data=e,t}}class mh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const gh=new hh(Nl.comparator);function yh(){return gh}const vh=new hh(Nl.comparator);function wh(){return vh}const bh=new hh(Nl.comparator);function _h(){return bh}const Eh=new ph(Nl.comparator);function Ih(...e){let t=Eh;for(const n of e)t=t.add(n);return t}const Th=new ph(rl);function Sh(){return Th}class kh{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Nh.createSynthesizedTargetChangeForCurrentChange(e,t)),new kh(al.min(),n,Sh(),yh(),Ih())}}class Nh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Nh(gl.EMPTY_BYTE_STRING,t,Ih(),Ih(),Ih())}}class Ch{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class Ah{constructor(e,t){this.targetId=e,this.O=t}}class xh{constructor(e,t,n=gl.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Oh{constructor(){this.F=0,this.M=Dh(),this.L=gl.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Ih(),t=Ih(),n=Ih();return this.M.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:qu()}})),new Nh(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=Dh()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Rh{constructor(e){this.tt=e,this.et=new Map,this.nt=yh(),this.st=Ph(),this.it=new ph(rl)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,(t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:qu()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach(((e,n)=>{this.ht(n)&&t(n)}))}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(Ql(e))if(0===n){const n=new Nl(e.path);this.at(t,n,Kl.newNoDocument(n,al.min()))}else Bu(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach(((n,r)=>{const i=this.dt(r);if(i){if(n.current&&Ql(i.target)){const t=new Nl(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,Kl.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}}));let n=Ih();this.st.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new kh(e,t,this.it,this.nt,n);return this.nt=yh(),this.st=Ph(),this.it=new ph(rl),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Oh,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new ph(rl),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Uu("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new Oh),this.tt.getRemoteKeysForTarget(e).forEach((t=>{this.at(e,t,null)}))}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Ph(){return new hh(Nl.comparator)}function Dh(){return new hh(Nl.comparator)}const Lh={asc:"ASCENDING",desc:"DESCENDING"},Mh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Fh{constructor(e,t){this.databaseId=e,this.D=t}}function Uh(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vh(e,t){return e.D?t.toBase64():t.toUint8Array()}function jh(e,t){return Uh(e,t.toTimestamp())}function zh(e){return Bu(!!e),al.fromTimestamp(function(e){const t=vl(e);return new ol(t.seconds,t.nanos)}(e))}function qh(e,t){return function(e){return new dl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Bh(e){const t=dl.fromString(e);return Bu(fd(t)),t}function Kh(e,t){return qh(e.databaseId,t.path)}function $h(e,t){const n=Bh(t);if(n.get(1)!==e.databaseId.projectId)throw new Wu($u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Wu($u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Nl(Qh(n))}function Wh(e,t){return qh(e.databaseId,t)}function Hh(e){const t=Bh(e);return 4===t.length?dl.emptyPath():Qh(t)}function Gh(e){return new dl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Qh(e){return Bu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Yh(e,t,n){return{name:Kh(e,t),fields:n.value.mapValue.fields}}function Jh(e,t,n){const r=$h(e,t.name),i=zh(t.updateTime),s=new ql({mapValue:{fields:t.fields}}),o=Kl.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Xh(e,t){let n;if(t instanceof Zc)n={update:Yh(e,t.key,t.value)};else if(t instanceof ih)n={delete:Kh(e,t.key)};else if(t instanceof eh)n={update:Yh(e,t.key,t.data),updateMask:dd(t.fieldMask)};else{if(!(t instanceof sh))return qu();n={verify:Kh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Lc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Mc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Uc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof jc)return{fieldPath:t.field.canonicalString(),increment:n.C};throw qu()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:jh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qu()}(e,t.precondition)),n}function Zh(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?$c.updateTime(zh(e.updateTime)):void 0!==e.exists?$c.exists(e.exists):$c.none()}(t.currentDocument):$c.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Bu("REQUEST_TIME"===t.setToServerValue),n=new Lc;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Mc(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Uc(e)}else"increment"in t?n=new jc(e,t.increment):qu();const r=pl.fromServerFormat(t.fieldPath);return new Bc(r,n)}(e,t))):[];if(t.update){t.update.name;const i=$h(e,t.update.name),s=new ql({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new ml(t.map((e=>pl.fromServerFormat(e))))}(t.updateMask);return new eh(i,s,e,n,r)}return new Zc(i,s,n,r)}if(t.delete){const r=$h(e,t.delete);return new ih(r,n)}if(t.verify){const r=$h(e,t.verify);return new sh(r,n)}return qu()}function ed(e,t){return{documents:[Wh(e,t.path)]}}function td(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Wh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Wh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Vl(e.value))return{unaryFilter:{field:ud(e.field),op:"IS_NAN"}};if(Ul(e.value))return{unaryFilter:{field:ud(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vl(e.value))return{unaryFilter:{field:ud(e.field),op:"IS_NOT_NAN"}};if(Ul(e.value))return{unaryFilter:{field:ud(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ud(e.field),op:ad(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ud(e.field),direction:od(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.D||Tl(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=id(t.startAt)),t.endAt&&(n.structuredQuery.endAt=id(t.endAt)),n}function nd(e){let t=Hh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Bu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=rd(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new ac(ld(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Tl(t)?null:t}(n.limit));let u=null;n.startAt&&(u=sd(n.startAt));let l=null;return n.endAt&&(l=sd(n.endAt)),dc(t,i,o,s,a,"F",u,l)}function rd(e){return e?void 0!==e.unaryFilter?[hd(e)]:void 0!==e.fieldFilter?[cd(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>rd(e))).reduce(((e,t)=>e.concat(t))):qu():[]}function id(e){return{before:e.before,values:e.position}}function sd(e){const t=!!e.before,n=e.values||[];return new sc(n,t)}function od(e){return Lh[e]}function ad(e){return Mh[e]}function ud(e){return{fieldPath:e.canonicalString()}}function ld(e){return pl.fromServerFormat(e.fieldPath)}function cd(e){return Yl.create(ld(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return qu()}}(e.fieldFilter.op),e.fieldFilter.value)}function hd(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ld(e.unaryFilter.field);return Yl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ld(e.unaryFilter.field);return Yl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ld(e.unaryFilter.field);return Yl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ld(e.unaryFilter.field);return Yl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return qu()}}function dd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function fd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function pd(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=gd(t)),t=md(e.get(n),t);return gd(t)}function md(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function gd(e){return e+""}function yd(e){const t=e.length;if(Bu(t>=2),2===t)return Bu(""===e.charAt(0)&&""===e.charAt(1)),dl.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&qu(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:qu()}s=t+2}return new dl(r)}class vd{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class wd{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}wd.store="owner",wd.key="owner";class bd{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}bd.store="mutationQueues",bd.keyPath="userId";class _d{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}_d.store="mutations",_d.keyPath="batchId",_d.userMutationsIndex="userMutationsIndex",_d.userMutationsKeyPath=["userId","batchId"];class Ed{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,pd(t)]}static key(e,t,n){return[e,pd(t),n]}}Ed.store="documentMutations",Ed.PLACEHOLDER=new Ed;class Id{constructor(e,t){this.path=e,this.readTime=t}}class Td{constructor(e,t){this.path=e,this.version=t}}class Sd{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Sd.store="remoteDocuments",Sd.readTimeIndex="readTimeIndex",Sd.readTimeIndexPath="readTime",Sd.collectionReadTimeIndex="collectionReadTimeIndex",Sd.collectionReadTimeIndexPath=["parentPath","readTime"];class kd{constructor(e){this.byteSize=e}}kd.store="remoteDocumentGlobal",kd.key="remoteDocumentGlobalKey";class Nd{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Nd.store="targets",Nd.keyPath="targetId",Nd.queryTargetsIndexName="queryTargetsIndex",Nd.queryTargetsKeyPath=["canonicalId","targetId"];class Cd{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Cd.store="targetDocuments",Cd.keyPath=["targetId","path"],Cd.documentTargetsIndex="documentTargetsIndex",Cd.documentTargetsKeyPath=["path","targetId"];class Ad{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Ad.key="targetGlobalKey",Ad.store="targetGlobal";class xd{constructor(e,t){this.collectionId=e,this.parent=t}}xd.store="collectionParents",xd.keyPath=["collectionId","parent"];class Od{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Od.store="clientMetadata",Od.keyPath="clientId";class Rd{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Rd.store="bundles",Rd.keyPath="bundleId";class Pd{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Pd.store="namedQueries",Pd.keyPath="name";const Dd=[bd.store,_d.store,Ed.store,Sd.store,Nd.store,wd.store,Ad.store,Cd.store,Od.store,kd.store,xd.store,Rd.store,Pd.store],Ld="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Md{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class Fd{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Fd(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Fd?t:Fd.resolve(t)}catch(e){return Fd.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Fd.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Fd.reject(t)}static resolve(e){return new Fd(((t,n)=>{t(e)}))}static reject(e){return new Fd(((t,n)=>{n(e)}))}static waitFor(e){return new Fd(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Fd.resolve(!1);for(const n of e)t=t.next((e=>e?Fd.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}class Ud{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Tt=new Hu,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{t.error?this.Tt.reject(new zd(e,t.error)):this.Tt.resolve()},this.transaction.onerror=t=>{const n=Wd(t.target.error);this.Tt.reject(new zd(e,n))}}static open(e,t,n,r){try{return new Ud(t,e.transaction(r,n))}catch(e){throw new zd(t,e)}}get It(){return this.Tt.promise}abort(e){e&&this.Tt.reject(e),this.aborted||(Uu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Bd(t)}}class Vd{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===Vd.Rt(m())&&Vu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Uu("SimpleDb","Removing database:",e),Kd(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(Vd.bt())return!0;const e=m(),t=Vd.Rt(e),n=0<t&&t<10,r=Vd.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static bt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Dt(e){return this.db||(Uu("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new zd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Wu($u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new zd(e,r))},r.onupgradeneeded=e=>{Uu("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.At.Ct(t,r.transaction,e.oldVersion,this.version).next((()=>{Uu("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.Nt&&(this.db.onversionchange=e=>this.Nt(e)),this.db}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Dt(e);const t=Ud.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).catch((e=>(t.abort(e),Fd.reject(e)))).toPromise();return s.catch((()=>{})),await t.It,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(Uu("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class jd{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Kd(this.kt.delete())}}class zd extends Wu{constructor(e,t){super($u.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function qd(e){return"IndexedDbTransactionError"===e.name}class Bd{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Uu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Uu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Kd(n)}add(e){return Uu("SimpleDb","ADD",this.store.name,e,e),Kd(this.store.add(e))}get(e){return Kd(this.store.get(e)).next((t=>(void 0===t&&(t=null),Uu("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Uu("SimpleDb","DELETE",this.store.name,e),Kd(this.store.delete(e))}count(){return Uu("SimpleDb","COUNT",this.store.name),Kd(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,((e,t)=>{r.push(t)})).next((()=>r))}Ut(e,t){Uu("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,((e,t,n)=>n.delete()))}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new Fd(((n,r)=>{t.onerror=e=>{const t=Wd(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Bt(e,t){const n=[];return new Fd(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new jd(i),o=t(i.primaryKey,i.value,s);if(o instanceof Fd){const e=o.catch((e=>(s.done(),Fd.reject(e))));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}})).next((()=>Fd.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Kd(e){return new Fd(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Wd(e.target.error);n(t)}}))}let $d=!1;function Wd(e){const t=Vd.Rt(m());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Wu("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $d||($d=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Hd extends Md{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Gd(e,t){const n=Ku(e);return Vd.St(n.Qt,t)}class Qd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Gc(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Qc(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Qc(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(al.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ih())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,((e,t)=>Jc(e,t)))&&il(this.baseMutations,e.baseMutations,((e,t)=>Jc(e,t)))}}class Yd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Bu(e.mutations.length===n.length);let r=_h();const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Yd(e,t,n,r)}}class Jd{constructor(e,t,n,r,i=al.min(),s=al.min(),o=gl.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Jd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Jd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Jd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Xd{constructor(e){this.Wt=e}}function Zd(e,t){if(t.document)return Jh(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Nl.fromSegments(t.noDocument.path),n=sf(t.noDocument.readTime),r=Kl.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Nl.fromSegments(t.unknownDocument.path),n=sf(t.unknownDocument.version);return Kl.newUnknownDocument(e,n)}return qu()}function ef(e,t,n){const r=tf(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Kh(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Uh(e,t.version.toTimestamp())}}(e.Wt,t),s=t.hasCommittedMutations;return new Sd(null,null,n,s,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=rf(t.version),s=t.hasCommittedMutations;return new Sd(null,new Id(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=rf(t.version);return new Sd(new Td(e,n),null,null,!0,r,i)}return qu()}function tf(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function nf(e){const t=new ol(e[0],e[1]);return al.fromTimestamp(t)}function rf(e){const t=e.toTimestamp();return new vd(t.seconds,t.nanoseconds)}function sf(e){const t=new ol(e.seconds,e.nanoseconds);return al.fromTimestamp(t)}function of(e,t){const n=(t.baseMutations||[]).map((t=>Zh(e.Wt,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>Zh(e.Wt,t))),i=ol.fromMillis(t.localWriteTimeMs);return new Qd(t.batchId,i,n,r)}function af(e){const t=sf(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?sf(e.lastLimboFreeSnapshotVersion):al.min();let r;var i;return void 0!==e.query.documents?(Bu(1===(i=e.query).documents.length),r=bc(fc(Hh(i.documents[0])))):r=function(e){return bc(nd(e))}(e.query),new Jd(r,e.targetId,0,e.lastListenSequenceNumber,t,n,gl.fromBase64String(e.resumeToken))}function uf(e,t){const n=rf(t.snapshotVersion),r=rf(t.lastLimboFreeSnapshotVersion);let i;i=Ql(t.target)?ed(e.Wt,t.target):td(e.Wt,t.target);const s=t.resumeToken.toBase64();return new Nd(t.targetId,Hl(t.target),n,s,t.sequenceNumber,r,i)}function lf(e){const t=nd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_c(t,t.limit,"L"):t}class cf{getBundleMetadata(e,t){return hf(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:sf(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return hf(e).put({bundleId:(n=t).id,createTime:rf(zh(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return df(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:lf(t.bundledQuery),readTime:sf(t.readTime)};var t}))}saveNamedQuery(e,t){return df(e).put(function(e){return{name:e.name,readTime:rf(zh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function hf(e){return Gd(e,Rd.store)}function df(e){return Gd(e,Pd.store)}class ff{constructor(){this.Gt=new pf}addToCollectionParentIndex(e,t){return this.Gt.add(t),Fd.resolve()}getCollectionParents(e,t){return Fd.resolve(this.Gt.getEntries(t))}}class pf{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ph(dl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ph(dl.comparator)).toArray()}}class mf{constructor(){this.zt=new pf}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.zt.add(t)}));const i={collectionId:n,parent:pd(r)};return gf(e).put(i)}return Fd.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[sl(t),""],!1,!0);return gf(e).Lt(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(yd(r.parent))}return n}))}}function gf(e){return Gd(e,xd.store)}const yf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new vf(e,vf.DEFAULT_COLLECTION_PERCENTILE,vf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wf(e,t,n){const r=e.store(_d.store),i=e.store(Ed.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Kt({range:o},((e,t,n)=>(a++,n.delete())));s.push(u.next((()=>{Bu(1===a)})));const l=[];for(const e of n.mutations){const r=Ed.key(t,e.key.path,n.batchId);s.push(i.delete(r)),l.push(e.key)}return Fd.waitFor(s).next((()=>l))}function bf(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qu();t=e.noDocument}return JSON.stringify(t).length}vf.DEFAULT_COLLECTION_PERCENTILE=10,vf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vf.DEFAULT=new vf(41943040,vf.DEFAULT_COLLECTION_PERCENTILE,vf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vf.DISABLED=new vf(-1,0,0);class _f{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){Bu(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new _f(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return If(e).Kt({index:_d.userMutationsIndex,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Tf(e),s=If(e);return s.add({}).next((o=>{Bu("number"==typeof o);const a=new Qd(o,t,n,r),u=function(e,t,n){const r=n.baseMutations.map((t=>Xh(e.Wt,t))),i=n.mutations.map((t=>Xh(e.Wt,t)));return new _d(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),l=[];let c=new ph(((e,t)=>rl(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Ed.key(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),l.push(s.put(u)),l.push(i.put(t,Ed.PLACEHOLDER))}return c.forEach((t=>{l.push(this.Ht.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Jt[o]=a.keys()})),Fd.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return If(e).get(t).next((e=>e?(Bu(e.userId===this.userId),of(this.N,e)):null))}Xt(e,t){return this.Jt[t]?Fd.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return If(e).Kt({index:_d.userMutationsIndex,range:r},((e,t,r)=>{t.userId===this.userId&&(Bu(t.batchId>=n),i=of(this.N,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return If(e).Kt({index:_d.userMutationsIndex,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return If(e).Lt(_d.userMutationsIndex,t).next((e=>e.map((e=>of(this.N,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ed.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Tf(e).Kt({range:r},((n,r,s)=>{const[o,a,u]=n,l=yd(a);if(o===this.userId&&t.path.isEqual(l))return If(e).get(u).next((e=>{if(!e)throw qu();Bu(e.userId===this.userId),i.push(of(this.N,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ph(rl);const r=[];return t.forEach((t=>{const i=Ed.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Tf(e).Kt({range:s},((e,r,i)=>{const[s,o,a]=e,u=yd(o);s===this.userId&&t.path.isEqual(u)?n=n.add(a):i.done()}));r.push(o)})),Fd.waitFor(r).next((()=>this.Zt(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ed.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new ph(rl);return Tf(e).Kt({range:s},((e,t,i)=>{const[s,a,u]=e,l=yd(a);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(u)):i.done()})).next((()=>this.Zt(e,o)))}Zt(e,t){const n=[],r=[];return t.forEach((t=>{r.push(If(e).get(t).next((e=>{if(null===e)throw qu();Bu(e.userId===this.userId),n.push(of(this.N,e))})))})),Fd.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return wf(e.Qt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.te(t.batchId)})),Fd.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Fd.resolve();const n=IDBKeyRange.lowerBound(Ed.prefixForUser(this.userId)),r=[];return Tf(e).Kt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=yd(e[1]);r.push(t)}else n.done()})).next((()=>{Bu(0===r.length)}))}))}containsKey(e,t){return Ef(e,this.userId,t)}ee(e){return Sf(e).get(this.userId).next((e=>e||new bd(this.userId,-1,"")))}}function Ef(e,t,n){const r=Ed.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Tf(e).Kt({range:s,qt:!0},((e,n,r)=>{const[s,a,u]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function If(e){return Gd(e,_d.store)}function Tf(e){return Gd(e,Ed.store)}function Sf(e){return Gd(e,bd.store)}class kf{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new kf(0)}static ie(){return new kf(-1)}}class Nf{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next((t=>{const n=new kf(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.re(e).next((e=>al.fromTimestamp(new ol(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.re(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.re(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r))))}addTargetData(e,t){return this.ae(e,t).next((()=>this.re(e).next((n=>(n.targetCount+=1,this.ce(t,n),this.oe(e,n))))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Cf(e).delete(t.targetId))).next((()=>this.re(e))).next((t=>(Bu(t.targetCount>0),t.targetCount-=1,this.oe(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Cf(e).Kt(((s,o)=>{const a=af(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Fd.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Cf(e).Kt(((e,n)=>{const r=af(n);t(r)}))}re(e){return Af(e).get(Ad.key).next((e=>(Bu(null!==e),e)))}oe(e,t){return Af(e).put(Ad.key,t)}ae(e,t){return Cf(e).put(uf(this.N,t))}ce(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Hl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Cf(e).Kt({range:r,index:Nd.queryTargetsIndexName},((e,n,r)=>{const s=af(n);Gl(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=xf(e);return t.forEach((t=>{const s=pd(t.path);r.push(i.put(new Cd(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))})),Fd.waitFor(r)}removeMatchingKeys(e,t,n){const r=xf(e);return Fd.forEach(t,(t=>{const i=pd(t.path);return Fd.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=xf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=xf(e);let i=Ih();return r.Kt({range:n,qt:!0},((e,t,n)=>{const r=yd(e[1]),s=new Nl(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=pd(t.path),r=IDBKeyRange.bound([n],[sl(n)],!1,!0);let i=0;return xf(e).Kt({index:Cd.documentTargetsIndex,qt:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}Et(e,t){return Cf(e).get(t).next((e=>e?af(e):null))}}function Cf(e){return Gd(e,Nd.store)}function Af(e){return Gd(e,Ad.store)}function xf(e){return Gd(e,Cd.store)}async function Of(e){if(e.code!==$u.FAILED_PRECONDITION||e.message!==Ld)throw e;Uu("LocalStore","Unexpectedly lost primary lease")}function Rf([e,t],[n,r]){const i=rl(e,n);return 0===i?rl(t,r):i}class Pf{constructor(e){this.ue=e,this.buffer=new ph(Rf),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Rf(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Df{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){const t=this.de?3e5:6e4;Uu("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.we=null,this.de=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){qd(e)?Uu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Of(e)}await this._e(e)}))}}class Lf{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Fd.resolve(el.T);const n=new Pf(t);return this.me.forEachTarget(e,(e=>n.fe(e.sequenceNumber))).next((()=>this.me.ye(e,(e=>n.fe(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Uu("LruGarbageCollector","Garbage collection skipped; disabled"),Fd.resolve(yf)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Uu("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yf):this.pe(e,t)))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Uu("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),Fu()<=q.DEBUG&&Uu("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-l}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(u-a)+"ms\n"+`Total Duration: ${u-l}ms`),Fd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class Mf{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Lf(e,t)}(this,t)}ge(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Ee(e){let t=0;return this.ye(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Te(e,((e,n)=>t(n)))}addReference(e,t,n){return Ff(e,n)}removeReference(e,t,n){return Ff(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Ff(e,t)}Ie(e,t){return function(e,t){let n=!1;return Sf(e).jt((r=>Ef(e,r,t).next((e=>(e&&(n=!0),Fd.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Te(e,((s,o)=>{if(o<=t){const t=this.Ie(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s),xf(e).delete([0,pd(s.path)]))))}));r.push(t)}})).next((()=>Fd.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Ff(e,t)}Te(e,t){const n=xf(e);let r,i=el.T;return n.Kt({index:Cd.documentTargetsIndex},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==el.T&&t(new Nl(yd(r)),i),i=o,r=s):i=el.T})).next((()=>{i!==el.T&&t(new Nl(yd(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ff(e,t){return xf(e).put(function(e,t){return new Cd(0,pd(e.path),t)}(t,e.currentSequenceNumber))}class Uf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){ll(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return cl(this.inner)}}class Vf{constructor(){this.changes=new Uf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:al.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Kl.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Fd.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jf{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return Bf(e).put(Kf(t),n)}removeEntry(e,t){const n=Bf(e),r=Kf(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Ae(e,n))))}getEntry(e,t){return Bf(e).get(Kf(t)).next((e=>this.Re(t,e)))}Pe(e,t){return Bf(e).get(Kf(t)).next((e=>({document:this.Re(t,e),size:bf(e)})))}getEntries(e,t){let n=yh();return this.be(e,t,((e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)})).next((()=>n))}ve(e,t){let n=yh(),r=new hh(Nl.comparator);return this.be(e,t,((e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,bf(t))})).next((()=>({documents:n,Ve:r})))}be(e,t,n){if(t.isEmpty())return Fd.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return Bf(e).Kt({range:r},((e,t,r)=>{const o=Nl.fromSegments(e);for(;s&&Nl.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()})).next((()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null}))}getDocumentsMatchingQuery(e,t,n){let r=yh();const i=t.path.length+1,s={};if(n.isEqual(al.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=tf(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Sd.collectionReadTimeIndex}return Bf(e).Kt(s,((e,n,s)=>{if(e.length!==i)return;const o=Zd(this.N,n);t.path.isPrefixOf(o.key.path)?Sc(t,o)&&(r=r.insert(o.key,o)):s.done()})).next((()=>r))}newChangeBuffer(e){return new zf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return qf(e).get(kd.key).next((e=>(Bu(!!e),e)))}Ae(e,t){return qf(e).put(kd.key,t)}Re(e,t){if(t){const e=Zd(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(al.min()))return e}return Kl.newInvalidDocument(e)}}class zf extends Vf{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Uf((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new ph(((e,t)=>rl(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=ef(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const u=bf(a);n+=u-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=ef(this.Se.N,Kl.newNoDocument(i,al.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))})),r.forEach((n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))})),t.push(this.Se.updateMetadata(e,n)),Fd.waitFor(t)}getFromCache(e,t){return this.Se.Pe(e,t).next((e=>(this.De.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.Se.ve(e,t).next((({documents:e,Ve:t})=>(t.forEach(((e,t)=>{this.De.set(e,t)})),e)))}}function qf(e){return Gd(e,kd.store)}function Bf(e){return Gd(e,Sd.store)}function Kf(e){return e.path.toArray()}class $f{constructor(e){this.N=e}Ct(e,t,n,r){Bu(n<r&&n>=0&&r<=11);const i=new Ud("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(wd.store)}(e),function(e){e.createObjectStore(bd.store,{keyPath:bd.keyPath}),e.createObjectStore(_d.store,{keyPath:_d.keyPath,autoIncrement:!0}).createIndex(_d.userMutationsIndex,_d.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Ed.store)}(e),Wf(e),function(e){e.createObjectStore(Sd.store)}(e));let s=Fd.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Cd.store),e.deleteObjectStore(Nd.store),e.deleteObjectStore(Ad.store)}(e),Wf(e)),s=s.next((()=>function(e){const t=e.store(Ad.store),n=new Ad(0,0,al.min().toTimestamp(),0);return t.put(Ad.key,n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(_d.store).Lt().next((n=>{e.deleteObjectStore(_d.store),e.createObjectStore(_d.store,{keyPath:_d.keyPath,autoIncrement:!0}).createIndex(_d.userMutationsIndex,_d.userMutationsKeyPath,{unique:!0});const r=t.store(_d.store),i=n.map((e=>r.put(e)));return Fd.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore(Od.store,{keyPath:Od.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Ce(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore(kd.store)}(e),this.Ne(i))))),n<7&&r>=7&&(s=s.next((()=>this.xe(i)))),n<8&&r>=8&&(s=s.next((()=>this.ke(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Sd.store);t.createIndex(Sd.readTimeIndex,Sd.readTimeIndexPath,{unique:!1}),t.createIndex(Sd.collectionReadTimeIndex,Sd.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((()=>this.$e(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(Rd.store,{keyPath:Rd.keyPath})}(e),function(e){e.createObjectStore(Pd.store,{keyPath:Pd.keyPath})}(e)}))),s}Ne(e){let t=0;return e.store(Sd.store).Kt(((e,n)=>{t+=bf(n)})).next((()=>{const n=new kd(t);return e.store(kd.store).put(kd.key,n)}))}Ce(e){const t=e.store(bd.store),n=e.store(_d.store);return t.Lt().next((t=>Fd.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(_d.userMutationsIndex,r).next((n=>Fd.forEach(n,(n=>{Bu(n.userId===t.userId);const r=of(this.N,n);return wf(e,t.userId,r).next((()=>{}))}))))}))))}xe(e){const t=e.store(Cd.store),n=e.store(Sd.store);return e.store(Ad.store).get(Ad.key).next((e=>{const r=[];return n.Kt(((n,i)=>{const s=new dl(n),o=function(e){return[0,pd(e)]}(s);r.push(t.get(o).next((n=>n?Fd.resolve():(n=>t.put(new Cd(0,pd(n),e.highestListenSequenceNumber)))(s))))})).next((()=>Fd.waitFor(r)))}))}ke(e,t){e.createObjectStore(xd.store,{keyPath:xd.keyPath});const n=t.store(xd.store),r=new pf,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:pd(r)})}};return t.store(Sd.store).Kt({qt:!0},((e,t)=>{const n=new dl(e);return i(n.popLast())})).next((()=>t.store(Ed.store).Kt({qt:!0},(([e,t,n],r)=>{const s=yd(t);return i(s.popLast())}))))}$e(e){const t=e.store(Nd.store);return t.Kt(((e,n)=>{const r=af(n),i=uf(this.N,r);return t.put(i)}))}}function Wf(e){e.createObjectStore(Cd.store,{keyPath:Cd.keyPath}).createIndex(Cd.documentTargetsIndex,Cd.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Nd.store,{keyPath:Nd.keyPath}).createIndex(Nd.queryTargetsIndexName,Nd.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ad.store)}const Hf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Gf{constructor(e,t,n,r,i,s,o,a,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=u,this.Me=l,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!Gf.Pt())throw new Wu($u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mf(this,r),this.We=t+"main",this.N=new Xd(a),this.Ge=new Vd(this.We,11,new $f(this.N)),this.ze=new Nf(this.referenceDelegate,this.N),this.Ht=new mf,this.He=function(e,t){return new jf(e,t)}(this.N,this.Ht),this.Je=new cf,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===l&&Vu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Wu($u.FAILED_PRECONDITION,Hf);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.ze.getHighestSequenceNumber(e)))})).then((e=>{this.Le=new el(e,this.Fe)})).then((()=>{this.Be=!0})).catch((e=>(this.Ge&&this.Ge.close(),Promise.reject(e))))}nn(e){return this.Qe=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((async()=>{this.started&&await this.Xe()})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Yf(e).put(new Od(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.sn(e).next((e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.Qe(!1))))}))})).next((()=>this.rn(e))).next((t=>this.isPrimary&&!t?this.on(e).next((()=>!1)):!!t&&this.an(e).next((()=>!0)))))).catch((e=>{if(qd(e))return Uu("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Uu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable((()=>this.Qe(e))),this.isPrimary=e}))}sn(e){return Qf(e).get(wd.key).next((e=>Fd.resolve(this.cn(e))))}un(e){return Yf(e).delete(this.clientId)}async hn(){if(this.isPrimary&&!this.ln(this.je,18e5)){this.je=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Gd(e,Od.store);return t.Lt().next((e=>{const n=this.fn(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Fd.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ye)for(const t of e)this.Ye.removeItem(this.dn(t.clientId))}}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Xe().then((()=>this.hn())).then((()=>this.en()))))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Fd.resolve(!0):Qf(e).get(wd.key).next((t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new Wu($u.FAILED_PRECONDITION,Hf);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yf(e).Lt().next((e=>void 0===this.fn(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Uu("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),await this.Ge.runTransaction("shutdown","readwrite",[wd.store,Od.store],(e=>{const t=new Hd(e,el.T);return this.on(t).next((()=>this.un(t)))})),this.Ge.close(),this.yn()}fn(e,t){return e.filter((e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId)))}pn(){return this.runTransaction("getActiveClients","readonly",(e=>Yf(e).Lt().next((e=>this.fn(e,18e5).map((e=>e.clientId))))))}get started(){return this.Be}getMutationQueue(e){return _f.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){Uu("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.Ge.runTransaction(e,r,Dd,(r=>(i=new Hd(r,this.Le?this.Le.next():el.T),"readwrite-primary"===t?this.sn(i).next((e=>!!e||this.rn(i))).next((t=>{if(!t)throw Vu(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.Qe(!1))),new Wu($u.FAILED_PRECONDITION,Ld);return n(i)})).next((e=>this.an(i).next((()=>e)))):this.En(i).next((()=>n(i)))))).then((e=>(i.raiseOnCommittedEvent(),e)))}En(e){return Qf(e).get(wd.key).next((e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Wu($u.FAILED_PRECONDITION,Hf)}))}an(e){const t=new wd(this.clientId,this.allowTabSynchronization,Date.now());return Qf(e).put(wd.key,t)}static Pt(){return Vd.Pt()}on(e){const t=Qf(e);return t.get(wd.key).next((e=>this.cn(e)?(Uu("IndexedDbPersistence","Releasing primary lease."),t.delete(wd.key)):Fd.resolve()))}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(Vu(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe())))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Uu("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Vu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Vu("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qf(e){return Gd(e,wd.store)}function Yf(e){return Gd(e,Od.store)}function Jf(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Xf{constructor(e,t){this.progress=e,this.Tn=t}}class Zf{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Rn(e,t,n)))}Rn(e,t,n){return this.He.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}Pn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}bn(e,t){return this.He.getEntries(e,t).next((t=>this.vn(e,t).next((()=>t))))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.Pn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Nl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):vc(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new Nl(t)).next((e=>{let t=wh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Sn(e,t,n){const r=t.collectionGroup;let i=wh();return this.Ht.getCollectionParents(e,r).next((s=>Fd.forEach(s,(s=>{const o=function(e,t){return new hc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Dn(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Cn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=Kl.newInvalidDocument(n),r=r.insert(n,i)),Qc(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{Sc(t,n)||(r=r.remove(e))})),r)))}Cn(e,t,n){let r=Ih();for(const e of t)for(const t of e.mutations)t instanceof eh&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.He.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class ep{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=Ih(),r=Ih();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new ep(e,t.fromCache,n,r)}}class tp{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(al.min())?this.Fn(e,t):this.On.bn(e,r).next((i=>{const s=this.Mn(t,i);return(pc(t)||mc(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(Fu()<=q.DEBUG&&Uu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Tc(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Mn(e,t){let n=new ph(kc(e));return t.forEach(((t,r)=>{Sc(e,r)&&(n=n.add(r))})),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return Fu()<=q.DEBUG&&Uu("QueryEngine","Using full collection scan to execute query:",Tc(t)),this.On.getDocumentsMatchingQuery(e,t,al.min())}}class np{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new hh(rl),this.qn=new Uf((e=>Hl(e)),Gl),this.Kn=al.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Zf(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Un)))}}function rp(e,t,n,r){return new np(e,t,n,r)}async function ip(e,t){const n=Ku(e);let r=n.In,i=n.Qn;const s=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n.In.getAllMutationBatches(e).next((o=>(s=o,r=n.persistence.getMutationQueue(t),i=new Zf(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let o=Ih();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.bn(e,o).next((e=>({Wn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s}function sp(e){const t=Ku(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ze.getLastRemoteSnapshotVersion(e)))}function op(e,t,n,r,i){let s=Ih();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=yh();return n.forEach(((n,o)=>{const a=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(al.min())?(t.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,u),s=s.insert(n,o)):Uu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function ap(e,t){const n=Ku(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t))))}function up(e,t){const n=Ku(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ze.getTargetData(e,t).next((i=>i?(r=i,Fd.resolve(r)):n.ze.allocateTargetId(e).next((i=>(r=new Jd(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}async function lp(e,t,n){const r=Ku(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!qd(e))throw e;Uu("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)}function cp(e,t,n){const r=Ku(e);let i=al.min(),s=Ih();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Ku(e),i=r.qn.get(n);return void 0!==i?Fd.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,bc(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:al.min(),n?s:Ih()))).next((e=>({documents:e,Gn:s})))))}function hp(e,t){const n=Ku(e),r=Ku(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.Et(e,t).next((e=>e?e.target:null))))}function dp(e){const t=Ku(e);return t.persistence.runTransaction("Get new document changes","readonly",(e=>function(e,t,n){const r=Ku(e);let i=yh(),s=tf(n);const o=Bf(t),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:Sd.readTimeIndex,range:a},((e,t)=>{const n=Zd(r.N,t);i=i.insert(n.key,n),s=t.readTime})).next((()=>({Tn:i,readTime:nf(s)})))}(t.jn,e,t.Kn))).then((({Tn:e,readTime:n})=>(t.Kn=n,e)))}async function fp(e,t,n=Ih()){const r=await up(e,bc(lf(t.bundledQuery))),i=Ku(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=zh(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(e,t);const o=r.withResumeToken(gl.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next((()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.ze.addMatchingKeys(e,n,r.targetId))).next((()=>i.Je.saveNamedQuery(e,t)))}))}class pp{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Fd.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:zh(n.createTime)}),Fd.resolve()}getNamedQuery(e,t){return Fd.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:lf(e.bundledQuery),readTime:zh(e.readTime)}}(t)),Fd.resolve()}}class mp{constructor(){this.Zn=new ph(gp.ts),this.es=new ph(gp.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new gp(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.rs(new gp(e,t))}os(e,t){e.forEach((e=>this.removeReference(e,t)))}cs(e){const t=new Nl(new dl([])),n=new gp(t,e),r=new gp(t,e+1),i=[];return this.es.forEachInRange([n,r],(e=>{this.rs(e),i.push(e.key)})),i}us(){this.Zn.forEach((e=>this.rs(e)))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Nl(new dl([])),n=new gp(t,e),r=new gp(t,e+1);let i=Ih();return this.es.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new gp(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class gp{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Nl.comparator(e.key,t.key)||rl(e.ls,t.ls)}static ns(e,t){return rl(e.ls,t.ls)||Nl.comparator(e.key,t.key)}}class yp{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new ph(gp.ts)}checkEmpty(e){return Fd.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];const s=new Qd(i,t,n,r);this.In.push(s);for(const t of r)this.ds=this.ds.add(new gp(t.key,i)),this.Ht.addToCollectionParentIndex(e,t.key.path.popLast());return Fd.resolve(s)}lookupMutationBatch(e,t){return Fd.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this._s(n),i=r<0?0:r;return Fd.resolve(this.In.length>i?this.In[i]:null)}getHighestUnacknowledgedBatchId(){return Fd.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Fd.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new gp(t,0),r=new gp(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],(e=>{const t=this.ws(e.ls);i.push(t)})),Fd.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ph(rl);return t.forEach((e=>{const t=new gp(e,0),r=new gp(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],(e=>{n=n.add(e.ls)}))})),Fd.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Nl.isDocumentKey(i)||(i=i.child(""));const s=new gp(new Nl(i),0);let o=new ph(rl);return this.ds.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),s),Fd.resolve(this.gs(o))}gs(e){const t=[];return e.forEach((e=>{const n=this.ws(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Bu(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return Fd.forEach(t.mutations,(r=>{const i=new gp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ds=n}))}te(e){}containsKey(e,t){const n=new gp(t,0),r=this.ds.firstAfterOrEqual(n);return Fd.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.In.length,Fd.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class vp{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new hh(Nl.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Fd.resolve(n?n.document.clone():Kl.newInvalidDocument(t))}getEntries(e,t){let n=yh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Kl.newInvalidDocument(e))})),Fd.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=yh();const i=new Nl(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||Sc(t,i)&&(r=r.insert(i.key,i.clone()))}return Fd.resolve(r)}Es(e,t){return Fd.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new wp(this)}getSize(e){return Fd.resolve(this.size)}}class wp extends Vf{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)})),Fd.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class bp{constructor(e){this.persistence=e,this.Ts=new Uf((e=>Hl(e)),Gl),this.lastRemoteSnapshotVersion=al.min(),this.highestTargetId=0,this.Is=0,this.As=new mp,this.targetCount=0,this.Rs=kf.se()}forEachTarget(e,t){return this.Ts.forEach(((e,n)=>t(n))),Fd.resolve()}getLastRemoteSnapshotVersion(e){return Fd.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fd.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Fd.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Fd.resolve()}ae(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new kf(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Fd.resolve()}updateTargetData(e,t){return this.ae(t),Fd.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Fd.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Ts.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Fd.waitFor(i).next((()=>r))}getTargetCount(e){return Fd.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return Fd.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),Fd.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Fd.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Fd.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return Fd.resolve(n)}containsKey(e,t){return Fd.resolve(this.As.containsKey(t))}}class _p{constructor(e,t){this.Ps={},this.Le=new el(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new bp(this),this.Ht=new ff,this.He=function(e,t){return new vp(e,t)}(this.Ht,(e=>this.referenceDelegate.bs(e))),this.N=new Xd(t),this.Je=new pp(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new yp(this.Ht,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){Uu("MemoryPersistence","Starting transaction:",e);const r=new Ep(this.Le.next());return this.referenceDelegate.vs(),n(r).next((e=>this.referenceDelegate.Vs(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ss(e,t){return Fd.or(Object.values(this.Ps).map((n=>()=>n.containsKey(e,t))))}}class Ep extends Md{constructor(e){super(),this.currentSequenceNumber=e}}class Ip{constructor(e){this.persistence=e,this.Ds=new mp,this.Cs=null}static Ns(e){return new Ip(e)}get xs(){if(this.Cs)return this.Cs;throw qu()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Fd.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Fd.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Fd.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fd.forEach(this.xs,(n=>{const r=Nl.fromPath(n);return this.ks(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Cs=null,t.apply(e))))}updateLimboDocument(e,t){return this.ks(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}bs(e){return 0}ks(e,t){return Fd.or([()=>Fd.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Tp(e,t){return`firestore_clients_${e}_${t}`}function Sp(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function kp(e,t){return`firestore_targets_${e}_${t}`}class Np{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Wu(r.error.code,r.error.message))),s?new Np(e,t,r.state,i):(Vu("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cp{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Wu(n.error.code,n.error.message))),i?new Cp(e,n.state,r):(Vu("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ap{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Sh();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=kl(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new Ap(e,i):(Vu("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class xp{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new xp(t.clientId,t.onlineState):(Vu("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Op{constructor(){this.activeTargetIds=Sh()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rp{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new hh(rl),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=Tp(this.persistenceKey,this.Ls),this.Qs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Op),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.pn();for(const t of e){if(t===this.Ls)continue;const e=this.getItem(Tp(this.persistenceKey,t));if(e){const n=Ap.$s(t,e);n&&(this.qs=this.qs.insert(n.clientId,n))}}this.Ys();const t=this.storage.getItem(this.Hs);if(t){const e=this.Xs(t);e&&this.Zs(e)}for(const e of this.Ks)this.Us(e);this.Ks=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(kp(this.persistenceKey,e));if(n){const r=Cp.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kp(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.ni(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Uu("SharedClientState","READ",e,t),t}setItem(e,t){Uu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Uu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){const t=e;if(t.storageArea===this.storage){if(Uu("SharedClientState","EVENT",t.key,t.newValue),t.key===this.js)return void Vu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ws.test(t.key)){if(null==t.newValue){const e=this.ai(t.key);return this.ci(e,null)}{const e=this.ui(t.key,t.newValue);if(e)return this.ci(e.clientId,e)}}else if(this.Gs.test(t.key)){if(null!==t.newValue){const e=this.hi(t.key,t.newValue);if(e)return this.li(e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.fi(t.key,t.newValue);if(e)return this.di(e)}}else if(t.key===this.Hs){if(null!==t.newValue){const e=this.Xs(t.newValue);if(e)return this.Zs(e)}}else if(t.key===this.Qs){const e=function(e){let t=el.T;if(null!=e)try{const n=JSON.parse(e);Bu("number"==typeof n),t=n}catch(e){Vu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==el.T&&this.sequenceNumberHandler(e)}else if(t.key===this.Js)return this.syncEngine.wi()}else this.Ks.push(t)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new Np(this.currentUser,e,t,n),i=Sp(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=Sp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){const t={clientId:this.Ls,onlineState:e};this.storage.setItem(this.Hs,JSON.stringify(t))}ii(e,t,n){const r=kp(this.persistenceKey,e),i=new Cp(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ai(e);return Ap.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Np.$s(new Du(i),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return Cp.$s(r,t)}Xs(e){return xp.$s(e)}async li(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine._i(e.batchId,e.state,e.error);Uu("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.gi(s,o).then((()=>{this.qs=n}))}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Sh();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Pp{constructor(){this.yi=new Op,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Op,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Dp{Ei(e){}shutdown(){}}class Lp{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Uu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}Ri(){Uu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Mp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Fp{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Up extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Fi=t+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);Uu("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then((e=>(Uu("RestConnection","Received: ",e),e)),(t=>{throw ju("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t}))}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Lu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){const n=Mp[e];return`${this.Fi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise(((i,s)=>{const o=new Pu;o.listenOnce(Nu.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case ku.NO_ERROR:const t=o.getResponseJson();Uu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ku.TIMEOUT:Uu("Connection",'RPC "'+e+'" timed out'),s(new Wu($u.DEADLINE_EXCEEDED,"Request time out"));break;case ku.HTTP_ERROR:const n=o.getStatus();if(Uu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values($u).indexOf(t)>=0?t:$u.UNKNOWN}(e.status);s(new Wu(t,e.message))}else s(new Wu($u.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Wu($u.UNAVAILABLE,"Connection failed."));break;default:qu()}}finally{Uu("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);o.send(t,"POST",a,n,15)}))}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new _u,i=po(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Ou({})),this.Ui(s.initMessageHeaders,t),g()||w()||m().indexOf("Electron/")>=0||b()||m().indexOf("MSAppHost/")>=0||v()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");Uu("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let u=!1,l=!1;const c=new Fp({vi:e=>{l?Uu("Connection","Not sending because WebChannel is closed:",e):(u||(Uu("Connection","Opening WebChannel transport."),a.open(),u=!0),Uu("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return h(a,Ru.EventType.OPEN,(()=>{l||Uu("Connection","WebChannel transport opened.")})),h(a,Ru.EventType.CLOSE,(()=>{l||(l=!0,Uu("Connection","WebChannel transport closed"),c.$i())})),h(a,Ru.EventType.ERROR,(e=>{l||(l=!0,ju("Connection","WebChannel transport errored:",e),c.$i(new Wu($u.UNAVAILABLE,"The operation could not be completed")))})),h(a,Ru.EventType.MESSAGE,(e=>{var t;if(!l){const n=e.data[0];Bu(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Uu("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=ah[e];if(void 0!==t)return ch(t)}(e),n=i.message;void 0===t&&(t=$u.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),l=!0,c.$i(new Wu(t,n)),a.close()}else Uu("Connection","WebChannel received:",n),c.Oi(n)}})),h(i,Cu.STAT_EVENT,(e=>{e.stat===Au?Uu("Connection","Detected buffering proxy"):e.stat===xu&&Uu("Connection","Detected no buffering proxy")})),setTimeout((()=>{c.ki()}),0),c}}function Vp(){return"undefined"!=typeof window?window:null}function jp(){return"undefined"!=typeof document?document:null}function zp(e){return new Fh(e,!0)}class qp{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&Uu("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Ji=Date.now(),e()))),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Bp{constructor(e,t,n,r,i,s){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new qp(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,(()=>this.dr())))}wr(e){this._r(),this.stream.send(e)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(e,t){this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===$u.RESOURCE_EXHAUSTED?(Vu(t.toString()),Vu("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):t&&t.code===$u.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(t)}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then((e=>{this.sr===t&&this.yr(e)}),(t=>{e((()=>{const e=new Wu($u.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)}))}))}yr(e){const t=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si((()=>{t((()=>(this.state=2,this.listener.Si())))})),this.stream.Ci((e=>{t((()=>this.pr(e)))})),this.stream.onMessage((e=>{t((()=>this.onMessage(e)))}))}ur(){this.state=4,this.rr.Xi((async()=>{this.state=0,this.start()}))}pr(e){return Uu("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget((()=>this.sr===e?t():(Uu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Kp extends Bp{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.D?(Bu(void 0===t||"string"==typeof t),gl.fromBase64String(t||"")):(Bu(void 0===t||t instanceof Uint8Array),gl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?$u.UNKNOWN:ch(e.code);return new Wu(t,e.message||"")}(o);n=new xh(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=$h(e,r.document.name),s=zh(r.document.updateTime),o=new ql({mapValue:{fields:r.document.fields}}),a=Kl.newFoundDocument(i,s,o),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Ch(u,l,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=$h(e,r.document),s=r.readTime?zh(r.readTime):al.min(),o=Kl.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ch([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=$h(e,r.document),s=r.removedTargetIds||[];n=new Ch([],s,i,null)}else{if(!("filter"in t))return qu();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new oh(r),s=e.targetId;n=new Ah(s,i)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return al.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?al.min():t.readTime?zh(t.readTime):al.min()}(e);return this.listener.Tr(t,n)}Ir(e){const t={};t.database=Gh(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=Ql(r)?{documents:ed(e,r)}:{query:td(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Vh(e,t.resumeToken):t.snapshotVersion.compareTo(al.min())>0&&(n.readTime=Uh(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=Gh(this.N),t.removeTarget=e,this.wr(t)}}class $p extends Bp{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(Bu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(Bu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?zh(e.updateTime):zh(t);return n.isEqual(al.min())&&(n=zh(t)),new Kc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=zh(e.commitTime);return this.listener.vr(n,t)}return Bu(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Gh(this.N),this.wr(e)}br(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Xh(this.N,e)))};this.wr(t)}}class Wp extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new Wu($u.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Li(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===$u.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Wu($u.UNKNOWN,e.toString())}))}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Ki(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===$u.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Wu($u.UNKNOWN,e.toString())}))}terminate(){this.Dr=!0}}class Hp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve()))))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Vu(t),this.$r=!1):Uu("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Gp{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ei((e=>{n.enqueueAndForget((async()=>{rm(this)&&(Uu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ku(e);t.Kr.add(4),await Yp(t),t.Wr.set("Unknown"),t.Kr.delete(4),await Qp(t)}(this))}))})),this.Wr=new Hp(n,r)}}async function Qp(e){if(rm(e))for(const t of e.jr)await t(!0)}async function Yp(e){for(const t of e.jr)await t(!1)}function Jp(e,t){const n=Ku(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),nm(n)?tm(n):bm(n).cr()&&Zp(n,t))}function Xp(e,t){const n=Ku(e),r=bm(n);n.qr.delete(t),r.cr()&&em(n,t),0===n.qr.size&&(r.cr()?r.lr():rm(n)&&n.Wr.set("Unknown"))}function Zp(e,t){e.Gr.Y(t.targetId),bm(e).Ir(t)}function em(e,t){e.Gr.Y(t),bm(e).Ar(t)}function tm(e){e.Gr=new Rh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),bm(e).start(),e.Wr.Or()}function nm(e){return rm(e)&&!bm(e).ar()&&e.qr.size>0}function rm(e){return 0===Ku(e).Kr.size}function im(e){e.Gr=void 0}async function sm(e){e.qr.forEach(((t,n)=>{Zp(e,t)}))}async function om(e,t){im(e),nm(e)?(e.Wr.Lr(t),tm(e)):e.Wr.set("Unknown")}async function am(e,t,n){if(e.Wr.set("Online"),t instanceof xh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}(e,t)}catch(n){Uu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await um(e,n)}else if(t instanceof Ch?e.Gr.rt(t):t instanceof Ah?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(al.min()))try{const t=await sp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(gl.EMPTY_BYTE_STRING,n.snapshotVersion)),em(e,t);const r=new Jd(n.target,t,1,n.sequenceNumber);Zp(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Uu("RemoteStore","Failed to raise snapshot:",t),await um(e,t)}}async function um(e,t,n){if(!qd(t))throw t;e.Kr.add(1),await Yp(e),e.Wr.set("Offline"),n||(n=()=>sp(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Uu("RemoteStore","Retrying IndexedDB access"),await n(),e.Kr.delete(1),await Qp(e)}))}function lm(e,t){return t().catch((n=>um(e,n,t)))}async function cm(e){const t=Ku(e),n=_m(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;hm(t);)try{const e=await ap(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,dm(t,e)}catch(e){await um(t,e)}fm(t)&&pm(t)}function hm(e){return rm(e)&&e.Ur.length<10}function dm(e,t){e.Ur.push(t);const n=_m(e);n.cr()&&n.Pr&&n.br(t.mutations)}function fm(e){return rm(e)&&!_m(e).ar()&&e.Ur.length>0}function pm(e){_m(e).start()}async function mm(e){_m(e).Sr()}async function gm(e){const t=_m(e);for(const n of e.Ur)t.br(n.mutations)}async function ym(e,t,n){const r=e.Ur.shift(),i=Yd.from(r,t,n);await lm(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await cm(e)}async function vm(e,t){t&&_m(e).Pr&&await async function(e,t){if(lh(n=t.code)&&n!==$u.ABORTED){const n=e.Ur.shift();_m(e).hr(),await lm(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await cm(e)}var n}(e,t),fm(e)&&pm(e)}async function wm(e,t){const n=Ku(e);t?(n.Kr.delete(2),await Qp(n)):t||(n.Kr.add(2),await Yp(n),n.Wr.set("Unknown"))}function bm(e){return e.zr||(e.zr=function(e,t,n){const r=Ku(e);return r.Cr(),new Kp(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:sm.bind(null,e),Ci:om.bind(null,e),Tr:am.bind(null,e)}),e.jr.push((async t=>{t?(e.zr.hr(),nm(e)?tm(e):e.Wr.set("Unknown")):(await e.zr.stop(),im(e))}))),e.zr}function _m(e){return e.Hr||(e.Hr=function(e,t,n){const r=Ku(e);return r.Cr(),new $p(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:mm.bind(null,e),Ci:vm.bind(null,e),Vr:gm.bind(null,e),vr:ym.bind(null,e)}),e.jr.push((async t=>{t?(e.Hr.hr(),await cm(e)):(await e.Hr.stop(),e.Ur.length>0&&(Uu("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))}))),e.Hr}class Em{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Em(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wu($u.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Im(e,t){if(Vu("AsyncQueue",`${t}: ${e}`),qd(e))return new Wu($u.UNAVAILABLE,`${t}: ${e}`);throw e}class Tm{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Nl.comparator(t.key,n.key):(e,t)=>Nl.comparator(e.key,t.key),this.keyedMap=wh(),this.sortedSet=new hh(this.comparator)}static emptySet(e){return new Tm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Tm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Sm{constructor(){this.Jr=new hh(Nl.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):qu():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal(((t,n)=>{e.push(n)})),e}}class km{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new km(e,t,Tm.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class Nm{constructor(){this.Xr=void 0,this.listeners=[]}}class Cm{constructor(){this.queries=new Uf((e=>Ic(e)),Ec),this.onlineState="Unknown",this.Zr=new Set}}async function Am(e,t){const n=Ku(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Nm),i)try{s.Xr=await n.onListen(r)}catch(e){const n=Im(e,`Initialization of query '${Tc(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&Pm(n)}async function xm(e,t){const n=Ku(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Om(e,t){const n=Ku(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.no(e)&&(r=!0);i.Xr=e}}r&&Pm(n)}function Rm(e,t,n){const r=Ku(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function Pm(e){e.Zr.forEach((e=>{e.next()}))}class Dm{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new km(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)}oo(e){if(e.docChanges.length>0)return!0;const t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}co(e){e=km.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class Lm{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class Mm{constructor(e){this.N=e}zn(e){return $h(this.N,e)}Hn(e){return e.metadata.exists?Jh(this.N,e.document,!1):Kl.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return zh(e)}}class Fm{constructor(e,t,n){this.lo=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=Um(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,n=new Mm(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Ih()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Ku(e);let s=Ih(),o=yh(),a=_h();for(const e of n){const n=t.zn(e.metadata.name);e.document&&(s=s.add(n)),o=o.insert(n,t.Hn(e)),a=a.insert(n,t.Jn(e.metadata.readTime))}const u=i.jn.newChangeBuffer({trackRemovals:!0}),l=await up(i,function(e){return bc(fc(dl.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>op(e,u,o,al.min(),a).next((t=>(u.apply(e),t))).next((t=>i.ze.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.ze.addMatchingKeys(e,s,l.targetId))).next((()=>i.Qn.vn(e,t))).next((()=>t))))))}(this.localStore,new Mm(this.N),this.documents,this.lo.id),t=this.wo(this.documents);for(const e of this.queries)await fp(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",new Xf(Object.assign({},this.progress),e)}}function Um(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Vm{constructor(e){this.key=e}}class jm{constructor(e){this.key=e}}class zm{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Ih(),this.mutatedKeys=Ih(),this.po=kc(e),this.Eo=new Tm(this.po)}get To(){return this._o}Io(e,t){const n=t?t.Ao:new Sm,r=t?t.Eo:this.Eo;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=pc(this.query)&&r.size===this.query.limit?r.last():null,u=mc(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),c=Sc(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;l&&c?l.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Ro(l,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.po(c,a)>0||u&&this.po(c,u)<0)&&(o=!0)):!l&&c?(n.track({type:0,doc:c}),f=!0):l&&!c&&(n.track({type:1,doc:l}),f=!0,(a||u)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),pc(this.query)||mc(this.query))for(;s.size>this.query.limit;){const e=pc(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Eo:s,Ao:n,Ln:o,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qu()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc))),this.Po(n);const s=t?this.bo():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==i.length||a?{snapshot:new km(this.query,e.Eo,r,i,e.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Sm,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}Po(e){e&&(e.addedDocuments.forEach((e=>this._o=this._o.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this._o=this._o.delete(e))),this.current=e.current)}bo(){if(!this.current)return[];const e=this.yo;this.yo=Ih(),this.Eo.forEach((e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))}));const t=[];return e.forEach((e=>{this.yo.has(e)||t.push(new jm(e))})),this.yo.forEach((n=>{e.has(n)||t.push(new Vm(n))})),t}So(e){this._o=e.Gn,this.yo=Ih();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return km.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class qm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Bm{constructor(e){this.key=e,this.Co=!1}}class Km{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new Uf((e=>Ic(e)),Ec),this.ko=new Map,this.$o=new Set,this.Oo=new hh(Nl.comparator),this.Fo=new Map,this.Mo=new mp,this.Lo={},this.Bo=new Map,this.Uo=kf.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}async function $m(e,t){const n=yg(e);let r,i;const s=n.xo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const e=await up(n.localStore,bc(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Wm(n,t,r,"current"===s),n.isPrimaryClient&&Jp(n.remoteStore,e)}return i}async function Wm(e,t,n,r){e.Ko=(t,n,r)=>async function(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=await cp(e.localStore,t.query,!1).then((({documents:e})=>t.view.Io(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return rg(e,t.targetId,o.vo),o.snapshot}(e,t,n,r);const i=await cp(e.localStore,t,!0),s=new zm(t,i.Gn),o=s.Io(i.documents),a=Nh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=s.applyChanges(o,e.isPrimaryClient,a);rg(e,n,u.vo);const l=new qm(t,n,s);return e.xo.set(t,l),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),u.snapshot}async function Hm(e,t){const n=Ku(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter((e=>!Ec(e,t)))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await lp(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Xp(n.remoteStore,r.targetId),tg(n,r.targetId)})).catch(Of)):(tg(n,r.targetId),await lp(n.localStore,r.targetId,!0))}async function Gm(e,t){const n=Ku(e);try{const e=await function(e,t){const n=Ku(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach(((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next((()=>n.ze.addMatchingKeys(e,t.addedDocuments,s))));const u=t.resumeToken;if(u.approximateByteSize()>0){const l=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,l),function(e,t,n){return Bu(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,t)&&o.push(n.ze.updateTargetData(e,l))}}));let a=yh();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(op(e,s,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(al.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next((t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Fd.waitFor(o).next((()=>s.apply(e))).next((()=>n.Qn.vn(e,a))).next((()=>a))})).then((e=>(n.Un=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fo.get(t);r&&(Bu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?Bu(r.Co):e.removedDocuments.size>0&&(Bu(r.Co),r.Co=!1))})),await og(n,e,t)}catch(e){await Of(e)}}function Qm(e,t,n){const r=Ku(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach(((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ku(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.eo(t)&&(r=!0)})),r&&Pm(n)}(r.eventManager,t),e.length&&r.No.Tr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ym(e,t,n){const r=Ku(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),s=i&&i.key;if(s){let e=new hh(Nl.comparator);e=e.insert(s,Kl.newNoDocument(s,al.min()));const n=Ih().add(s),i=new kh(al.min(),new Map,new ph(rl),e,n);await Gm(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(t),sg(r)}else await lp(r.localStore,t,!1).then((()=>tg(r,t,n))).catch(Of)}async function Jm(e,t){const n=Ku(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ku(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Fd.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Bu(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((()=>e.In.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.bn(e,r)))}))}(n.localStore,t);eg(n,r,null),Zm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await og(n,e)}catch(e){await Of(e)}}async function Xm(e,t,n){const r=Ku(e);try{const e=await function(e,t){const n=Ku(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.In.lookupMutationBatch(e,t).next((t=>(Bu(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.bn(e,r)))}))}(r.localStore,t);eg(r,t,n),Zm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await og(r,e)}catch(n){await Of(n)}}function Zm(e,t){(e.Bo.get(t)||[]).forEach((e=>{e.resolve()})),e.Bo.delete(t)}function eg(e,t,n){const r=Ku(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function tg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach((t=>{e.Mo.containsKey(t)||ng(e,t)}))}function ng(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(Xp(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),sg(e))}function rg(e,t,n){for(const r of n)r instanceof Vm?(e.Mo.addReference(r.key,t),ig(e,r)):r instanceof jm?(Uu("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||ng(e,r.key)):qu()}function ig(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(Uu("SyncEngine","New document in limbo: "+n),e.$o.add(r),sg(e))}function sg(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new Nl(dl.fromString(t)),r=e.Uo.next();e.Fo.set(r,new Bm(n)),e.Oo=e.Oo.insert(n,r),Jp(e.remoteStore,new Jd(bc(fc(n.path)),r,2,el.T))}}async function og(e,t,n){const r=Ku(e),i=[],s=[],o=[];r.xo.isEmpty()||(r.xo.forEach(((e,a)=>{o.push(r.Ko(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=ep.kn(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.No.Tr(i),await async function(e,t){const n=Ku(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Fd.forEach(t,(t=>Fd.forEach(t.Nn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Fd.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!qd(e))throw e;Uu("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Un.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Un=n.Un.insert(t,i)}}}(r.localStore,s))}async function ag(e,t){const n=Ku(e);if(!n.currentUser.isEqual(t)){Uu("SyncEngine","User change. New user:",t.toKey());const e=await ip(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach((e=>{e.forEach((e=>{e.reject(new Wu($u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await og(n,e.Wn)}}function ug(e,t){const n=Ku(e),r=n.Fo.get(t);if(r&&r.Co)return Ih().add(r.key);{let e=Ih();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.To)}return e}}async function lg(e,t){const n=Ku(e),r=await cp(n.localStore,t.query,!0),i=t.view.So(r);return n.isPrimaryClient&&rg(n,t.targetId,i.vo),i}async function cg(e){const t=Ku(e);return dp(t.localStore).then((e=>og(t,e)))}async function hg(e,t,n,r){const i=Ku(e),s=await function(e,t){const n=Ku(e),r=Ku(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Xt(e,t).next((t=>t?n.Qn.bn(e,t):Fd.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await cm(i.remoteStore):"acknowledged"===n||"rejected"===n?(eg(i,t,r||null),Zm(i,t),function(e,t){Ku(Ku(e).In).te(t)}(i.localStore,t)):qu(),await og(i,s)):Uu("SyncEngine","Cannot apply mutation batch with id: "+t)}async function dg(e,t,n){const r=Ku(e),i=[],s=[];for(const e of t){let t;const n=r.ko.get(e);if(n&&0!==n.length){t=await up(r.localStore,bc(n[0]));for(const e of n){const t=r.xo.get(e),n=await lg(r,t);n.snapshot&&s.push(n.snapshot)}}else{const n=await hp(r.localStore,e);t=await up(r.localStore,n),await Wm(r,fg(n),e,!1)}i.push(t)}return r.No.Tr(s),i}function fg(e){return dc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function pg(e){const t=Ku(e);return Ku(Ku(t.localStore).persistence).pn()}async function mg(e,t,n,r){const i=Ku(e);if(i.qo)Uu("SyncEngine","Ignoring unexpected query state notification.");else if(i.ko.has(t))switch(n){case"current":case"not-current":{const e=await dp(i.localStore),r=kh.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await og(i,e,r);break}case"rejected":await lp(i.localStore,t,!0),tg(i,t,r);break;default:qu()}}async function gg(e,t,n){const r=yg(e);if(r.qo){for(const e of t){if(r.ko.has(e)){Uu("SyncEngine","Adding an already active target "+e);continue}const t=await hp(r.localStore,e),n=await up(r.localStore,t);await Wm(r,fg(t),n.targetId,!1),Jp(r.remoteStore,n)}for(const e of n)r.ko.has(e)&&await lp(r.localStore,e,!1).then((()=>{Xp(r.remoteStore,e),tg(r,e)})).catch(Of)}}function yg(e){const t=Ku(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ug.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ym.bind(null,t),t.No.Tr=Om.bind(null,t.eventManager),t.No.jo=Rm.bind(null,t.eventManager),t}function vg(e){const t=Ku(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Jm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Xm.bind(null,t),t}class wg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=zp(e.databaseInfo.databaseId),this.sharedClientState=this.Wo(e),this.persistence=this.Go(e),await this.persistence.start(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e)}zo(e){return null}Ho(e){return rp(this.persistence,new tp,e.initialUser,this.N)}Go(e){return new _p(Ip.Ns,this.N)}Wo(e){return new Pp}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bg extends wg{constructor(e,t,n){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=Ku(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=Bf(e);let n=al.min();return t.Kt({index:Sd.readTimeIndex,reverse:!0},((e,t,r)=>{t.readTime&&(n=nf(t.readTime)),r.done()})).next((()=>n))}(e))).then((e=>{t.Kn=e}))}(this.localStore),await this.Jo.initialize(this,e),await vg(this.Jo.syncEngine),await cm(this.Jo.remoteStore),await this.persistence.nn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Ho(e){return rp(this.persistence,new tp,e.initialUser,this.N)}zo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new Df(t,e.asyncQueue)}Go(e){const t=Jf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vf.withCacheSize(this.cacheSizeBytes):vf.DEFAULT;return new Gf(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Vp(),jp(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new Pp}}class _g extends bg{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Jo.syncEngine;this.sharedClientState instanceof Rp&&(this.sharedClientState.syncEngine={_i:hg.bind(null,t),mi:mg.bind(null,t),gi:gg.bind(null,t),pn:pg.bind(null,t),wi:cg.bind(null,t)},await this.sharedClientState.start()),await this.persistence.nn((async e=>{await async function(e,t){const n=Ku(e);if(yg(n),vg(n),!0===t&&!0!==n.qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await dg(n,e.toArray());n.qo=!0,await wm(n.remoteStore,!0);for(const e of t)Jp(n.remoteStore,e)}else if(!1===t&&!1!==n.qo){const e=[];let t=Promise.resolve();n.ko.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(tg(n,i),lp(n.localStore,i,!0)))),Xp(n.remoteStore,i)})),await t,await dg(n,e),function(e){const t=Ku(e);t.Fo.forEach(((e,n)=>{Xp(t.remoteStore,n)})),t.Mo.us(),t.Fo=new Map,t.Oo=new hh(Nl.comparator)}(n),n.qo=!1,await wm(n.remoteStore,!1)}}(this.Jo.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())}))}Wo(e){const t=Vp();if(!Rp.Pt(t))throw new Wu($u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Jf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Rp(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Eg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Qm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ag.bind(null,this.syncEngine),await wm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Cm}createDatastore(e){const t=zp(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Up(r));var r;return function(e,t,n){return new Wp(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Qm(this.syncEngine,e,0),s=Lp.Pt()?new Lp:new Dp,new Gp(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Km(e,t,n,r,i,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ku(e);Uu("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),await Yp(t),t.Qr.shutdown(),t.Wr.set("Unknown")}(this.remoteStore)}}function Ig(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class Tg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Sg{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new Hu,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then((e=>{e&&e.ho()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Zo.cancel()}async getMetadata(){return this.metadata.promise}async Qo(){return await this.getMetadata(),this.ea()}async ea(){const e=await this.na();if(null===e)return null;const t=this.ta.decode(e),n=Number(t);isNaN(n)&&this.sa(`length string (${t}) is not valid number`);const r=await this.ia(n);return new Lm(JSON.parse(r),e.length+n)}ra(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async na(){for(;this.ra()<0&&!await this.oa(););if(0===this.buffer.length)return null;const e=this.ra();e<0&&this.sa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ia(e){for(;this.buffer.length<e;)await this.oa()&&this.sa("Reached the end of bundle when more is expected.");const t=this.ta.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}async oa(){const e=await this.Zo.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class kg{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Wu($u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Ku(e),r=Gh(n.N)+"/documents",i={documents:t.map((e=>Kh(n.N,e)))},s=await n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Bu(!!t.found),t.found.name,t.found.updateTime;const n=$h(e,t.found.name),r=zh(t.found.updateTime),i=new ql({mapValue:{fields:t.found.fields}});return Kl.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Bu(!!t.missing),Bu(!!t.readTime);const n=$h(e,t.missing),r=zh(t.readTime);return Kl.newNoDocument(n,r)}(e,t):qu()}(n.N,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());Bu(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ih(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Nl.fromPath(t);this.mutations.push(new sh(n,this.precondition(n)))})),await async function(e,t){const n=Ku(e),r=Gh(n.N)+"/documents",i={writes:t.map((e=>Xh(n.N,e)))};await n.Li("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qu();t=al.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Wu($u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?$c.updateTime(t):$c.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(al.min()))throw new Wu($u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $c.updateTime(t)}return $c.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ng{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new qp(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){this.rr.Xi((async()=>{const e=new kg(this.datastore),t=this.ua(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ha(e)}))))})).catch((e=>{this.ha(e)}))}))}ua(e){try{const t=this.updateFunction(e);return!Tl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget((()=>(this.ca(),Promise.resolve())))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!lh(t)}return!1}}class Cg{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Du.UNAUTHENTICATED,this.clientId=nl.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,(async e=>{Uu("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e}))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Wu($u.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),e.resolve()}catch(t){const n=Im(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Ag(e,t){e.asyncQueue.verifyOperationInProgress(),Uu("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ip(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function xg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Og(e);Uu("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=Ku(e);n.asyncQueue.verifyOperationInProgress(),Uu("RemoteStore","RemoteStore received new credentials");const r=rm(n);n.Kr.add(3),await Yp(n),r&&n.Wr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),await Qp(n)}(t.remoteStore,e))),e.onlineComponents=t}async function Og(e){return e.offlineComponents||(Uu("FirestoreClient","Using default OfflineComponentProvider"),await Ag(e,new wg)),e.offlineComponents}async function Rg(e){return e.onlineComponents||(Uu("FirestoreClient","Using default OnlineComponentProvider"),await xg(e,new Eg)),e.onlineComponents}function Pg(e){return Og(e).then((e=>e.persistence))}function Dg(e){return Og(e).then((e=>e.localStore))}function Lg(e){return Rg(e).then((e=>e.remoteStore))}function Mg(e){return Rg(e).then((e=>e.syncEngine))}async function Fg(e){const t=await Rg(e),n=t.eventManager;return n.onListen=$m.bind(null,t.syncEngine),n.onUnlisten=Hm.bind(null,t.syncEngine),n}function Ug(e,t,n={}){const r=new Hu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Tg({next:s=>{t.enqueueAndForget((()=>xm(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Wu($u.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Wu($u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Dm(fc(n.path),s,{includeMetadataChanges:!0,uo:!0});return Am(e,o)}(await Fg(e),e.asyncQueue,t,n,r))),r.promise}function Vg(e,t,n={}){const r=new Hu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Tg({next:n=>{t.enqueueAndForget((()=>xm(e,o))),n.fromCache&&"server"===r.source?i.reject(new Wu($u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Dm(n,s,{includeMetadataChanges:!0,uo:!0});return Am(e,o)}(await Fg(e),e.asyncQueue,t,n,r))),r.promise}class jg{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class zg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zg&&e.projectId===this.projectId&&e.database===this.database}}const qg=new Map;function Bg(e,t,n){if(!n)throw new Wu($u.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Kg(e,t,n,r){if(!0===t&&!0===r)throw new Wu($u.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function $g(e){if(!Nl.isDocumentKey(e))throw new Wu($u.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Wg(e){if(Nl.isDocumentKey(e))throw new Wu($u.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Hg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){if(e.constructor){const t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":qu()}function Gg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Wu($u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hg(e);throw new Wu($u.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Qg(e,t){if(t<=0)throw new Wu($u.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Yg{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Wu($u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Wu($u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Kg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jg{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yg({}),this._settingsFrozen=!1,e instanceof zg?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Wu($u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zg(e.options.projectId)}(e))}get app(){if(!this._app)throw new Wu($u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Wu($u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yg(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Qu;switch(e.type){case"gapi":const t=e.client;return Bu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Zu(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Wu($u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qg.get(e);t&&(Uu("ComponentProvider","Removing Datastore"),qg.delete(e),t.terminate())}(this),Promise.resolve()}}class Xg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ey(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xg(this.firestore,e,this._key)}}class Zg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Zg(this.firestore,e,this._query)}}class ey extends Zg{constructor(e,t,n){super(e,t,fc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xg(this.firestore,null,new Nl(e))}withConverter(e){return new ey(this.firestore,e,this._path)}}function ty(e,t,...n){if(e=L(e),Bg("collection","path",t),e instanceof Jg){const r=dl.fromString(t,...n);return Wg(r),new ey(e,null,r)}{if(!(e instanceof Xg||e instanceof ey))throw new Wu($u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=dl.fromString(e.path,...n).child(dl.fromString(t));return Wg(r),new ey(e.firestore,null,r)}}function ny(e,t,...n){if(e=L(e),1===arguments.length&&(t=nl.I()),Bg("doc","path",t),e instanceof Jg){const r=dl.fromString(t,...n);return $g(r),new Xg(e,null,new Nl(r))}{if(!(e instanceof Xg||e instanceof ey))throw new Wu($u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(dl.fromString(t,...n));return $g(r),new Xg(e.firestore,e instanceof ey?e.converter:null,new Nl(r))}}function ry(e,t){return e=L(e),t=L(t),(e instanceof Xg||e instanceof ey)&&(t instanceof Xg||t instanceof ey)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function iy(e,t){return e=L(e),t=L(t),e instanceof Zg&&t instanceof Zg&&e.firestore===t.firestore&&Ec(e._query,t._query)&&e.converter===t.converter}class sy{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new qp(this,"async_queue_retry"),this.Ea=()=>{const e=jp();e&&Uu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=jp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=jp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise((()=>{}));const t=new Hu;return this.Ia((()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.da.push(e),this.Aa())))}async Aa(){if(0!==this.da.length){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(e){if(!qd(e))throw e;Uu("AsyncQueue","Operation failed with retryable error: "+e)}this.da.length>0&&this.rr.Xi((()=>this.Aa()))}}Ia(e){const t=this.fa.then((()=>(this.ga=!0,e().catch((e=>{throw this.ma=e,this.ga=!1,Vu("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((e=>(this.ga=!1,e))))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ta(),this.pa.indexOf(e)>-1&&(t=0);const r=Em.createAndSchedule(this,e,t,n,(e=>this.Ra(e)));return this._a.push(r),r}Ta(){this.ma&&qu()}verifyOperationInProgress(){}async Pa(){let e;do{e=this.fa,await e}while(e!==this.fa)}ba(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.Pa().then((()=>{this._a.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pa()}))}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function oy(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class ay{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class uy extends Jg{constructor(e,t){super(e,t),this.type="firestore",this._queue=new sy,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||cy(this),this._firestoreClient.terminate()}}function ly(e){return e._firestoreClient||cy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cy(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new jg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Cg(e._credentials,e._queue,r)}function hy(e,t,n){const r=new Hu;return e.asyncQueue.enqueue((async()=>{try{await Ag(e,n),await xg(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===$u.FAILED_PRECONDITION||e.code===$u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then((()=>r.promise))}function dy(e){if(e._initialized||e._terminated)throw new Wu($u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fy{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Wu($u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pl(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class py{constructor(e){this._byteString=e}static fromBase64String(e){try{return new py(gl.fromBase64String(e))}catch(e){throw new Wu($u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new py(gl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class my{constructor(e){this._methodName=e}}class gy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Wu($u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Wu($u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rl(this._lat,e._lat)||rl(this._long,e._long)}}const yy=/^__.*__$/;class vy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new eh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zc(e,this.data,t,this.fieldTransforms)}}class wy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new eh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function by(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qu()}}class _y{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new _y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return zy(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(by(this.Da)&&yy.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class Ey{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||zp(e)}Ba(e,t,n,r=!1){return new _y({Da:e,methodName:t,La:n,path:pl.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Iy(e){const t=e._freezeSettings(),n=zp(e._databaseId);return new Ey(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ty(e,t,n,r,i,s={}){const o=e.Ba(s.merge||s.mergeFields?2:0,t,n,i);Fy("Data must be an object, but it was:",o,r);const a=Ly(r,o);let u,l;if(s.merge)u=new ml(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Uy(t,r,n);if(!o.contains(i))throw new Wu($u.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);qy(e,i)||e.push(i)}u=new ml(e),l=o.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,l=o.fieldTransforms;return new vy(new ql(a),u,l)}class Sy extends my{_toFieldTransform(e){if(2!==e.Da)throw 1===e.Da?e.Fa(`${this._methodName}() can only appear at the top level of your update data`):e.Fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sy}}function ky(e,t,n){return new _y({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class Ny extends my{_toFieldTransform(e){return new Bc(e.path,new Lc)}isEqual(e){return e instanceof Ny}}class Cy extends my{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=ky(this,e,!0),n=this.Ua.map((e=>Dy(e,t))),r=new Mc(n);return new Bc(e.path,r)}isEqual(e){return this===e}}class Ay extends my{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=ky(this,e,!0),n=this.Ua.map((e=>Dy(e,t))),r=new Uc(n);return new Bc(e.path,r)}isEqual(e){return this===e}}class xy extends my{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new jc(e.N,xc(e.N,this.qa));return new Bc(e.path,t)}isEqual(e){return this===e}}function Oy(e,t,n,r){const i=e.Ba(1,t,n);Fy("Data must be an object, but it was:",i,r);const s=[],o=ql.empty();ll(r,((e,r)=>{const a=jy(t,e,n);r=L(r);const u=i.$a(a);if(r instanceof Sy)s.push(a);else{const e=Dy(r,u);null!=e&&(s.push(a),o.set(a,e))}}));const a=new ml(s);return new wy(o,a,i.fieldTransforms)}function Ry(e,t,n,r,i,s){const o=e.Ba(1,t,n),a=[Uy(t,r,n)],u=[i];if(s.length%2!=0)throw new Wu($u.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)a.push(Uy(t,s[e])),u.push(s[e+1]);const l=[],c=ql.empty();for(let e=a.length-1;e>=0;--e)if(!qy(l,a[e])){const t=a[e];let n=u[e];n=L(n);const r=o.$a(t);if(n instanceof Sy)l.push(t);else{const e=Dy(n,r);null!=e&&(l.push(t),c.set(t,e))}}const h=new ml(l);return new wy(c,h,o.fieldTransforms)}function Py(e,t,n,r=!1){return Dy(n,e.Ba(r?4:3,t))}function Dy(e,t){if(My(e=L(e)))return Fy("Unsupported field value:",t,e),Ly(e,t);if(e instanceof my)return function(e,t){if(!by(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Dy(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=L(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xc(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ol.fromDate(e);return{timestampValue:Uh(t.N,n)}}if(e instanceof ol){const n=new ol(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Uh(t.N,n)}}if(e instanceof gy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof py)return{bytesValue:Vh(t.N,e._byteString)};if(e instanceof Xg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:qh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${Hg(e)}`)}(e,t)}function Ly(e,t){const n={};return cl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ll(e,((e,r)=>{const i=Dy(r,t.Na(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function My(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ol||e instanceof gy||e instanceof py||e instanceof Xg||e instanceof my)}function Fy(e,t,n){if(!My(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Hg(n);throw"an object"===r?t.Fa(e+" a custom object"):t.Fa(e+" "+r)}}function Uy(e,t,n){if((t=L(t))instanceof fy)return t._internalPath;if("string"==typeof t)return jy(e,t);throw zy("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Vy=new RegExp("[~\\*/\\[\\]]");function jy(e,t,n){if(t.search(Vy)>=0)throw zy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new fy(...t.split("."))._internalPath}catch(r){throw zy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function zy(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Wu($u.INVALID_ARGUMENT,a+e+u)}function qy(e,t){return e.some((e=>e.isEqual(t)))}class By{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ky(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($y("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ky extends By{data(){return super.data()}}function $y(e,t){return"string"==typeof t?jy(e,t):t instanceof fy?t._internalPath:t._delegate._internalPath}class Wy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hy extends By{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field($y("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Gy extends Hy{data(e={}){return super.data(e)}}class Qy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Wy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Gy(this._firestore,this._userDataWriter,n.key,n,new Wy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Wu($u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Gy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Wy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Gy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Yy(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Yy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qu()}}function Jy(e,t){return e instanceof Hy&&t instanceof Hy?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Qy&&t instanceof Qy&&e._firestore===t._firestore&&iy(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Xy(e){if(mc(e)&&0===e.explicitOrderBy.length)throw new Wu($u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zy{}function ev(e,...t){for(const n of t)e=n._apply(e);return e}class tv extends Zy{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=Iy(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Wu($u.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){uv(o,s);const t=[];for(const n of o)t.push(av(r,e,n));a={arrayValue:{values:t}}}else a=av(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||uv(o,s),a=Py(n,"where",o,"in"===s||"not-in"===s);const u=Yl.create(i,s,a);return function(e,t){if(t.v()){const n=yc(e);if(null!==n&&!n.isEqual(t.field))throw new Wu($u.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=gc(e);null!==r&&lv(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Wu($u.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Wu($u.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,u),u}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Zg(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new hc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class nv extends Zy{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Wu($u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Wu($u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new ac(t,n);return function(e,t){if(null===gc(e)){const n=yc(e);null!==n&&lv(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new Zg(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new hc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class rv extends Zy{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new Zg(e.firestore,e.converter,_c(e._query,this.Ga,this.za))}}class iv extends Zy{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=ov(e,this.type,this.Ha,this.Ja);return new Zg(e.firestore,e.converter,function(e,t){return new hc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class sv extends Zy{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=ov(e,this.type,this.Ha,this.Ja);return new Zg(e.firestore,e.converter,function(e,t){return new hc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function ov(e,t,n,r){if(n[0]=L(n[0]),n[0]instanceof By)return function(e,t,n,r,i){if(!r)throw new Wu($u.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const n of wc(e))if(n.field.isKeyField())s.push(Ll(t,r.key));else{const e=r.data.field(n.field);if(_l(e))throw new Wu($u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new Wu($u.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new sc(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Iy(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Wu($u.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<i.length;s++){const u=i[s];if(o[s].field.isKeyField()){if("string"!=typeof u)throw new Wu($u.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof u}`);if(!vc(e)&&-1!==u.indexOf("/"))throw new Wu($u.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${u}' contains a slash.`);const n=e.path.child(dl.fromString(u));if(!Nl.isDocumentKey(n))throw new Wu($u.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Nl(n);a.push(Ll(t,i))}else{const e=Py(n,r,u);a.push(e)}}return new sc(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function av(e,t,n){if("string"==typeof(n=L(n))){if(""===n)throw new Wu($u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!vc(t)&&-1!==n.indexOf("/"))throw new Wu($u.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(dl.fromString(n));if(!Nl.isDocumentKey(r))throw new Wu($u.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ll(e,new Nl(r))}if(n instanceof Xg)return Ll(e,n._key);throw new Wu($u.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hg(n)}.`)}function uv(e,t){if(!Array.isArray(e)||0===e.length)throw new Wu($u.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Wu($u.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function lv(e,t,n){if(!n.isEqual(t))throw new Wu($u.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class cv{convertValue(e,t="none"){switch(Cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qu()}}convertObject(e,t){const n={};return ll(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new gy(wl(e.latitude),wl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=El(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const t=vl(e);return new ol(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=dl.fromString(e);Bu(fd(n));const r=new zg(n.get(1),n.get(3)),i=new Nl(n.popFirst(5));return r.isEqual(t)||Vu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function hv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class dv extends cv{constructor(e){super(),this.firestore=e}convertBytes(e){return new py(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xg(this.firestore,null,t)}}class fv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Iy(e)}set(e,t,n){this._verifyNotCommitted();const r=pv(e,this._firestore),i=hv(r.converter,t,n),s=Ty(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,$c.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=pv(e,this._firestore);let s;return s="string"==typeof(t=L(t))||t instanceof fy?Ry(this._dataReader,"WriteBatch.update",i._key,t,n,r):Oy(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,$c.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pv(e,this._firestore);return this._mutations=this._mutations.concat(new ih(t._key,$c.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Wu($u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pv(e,t){if((e=L(e)).firestore!==t)throw new Wu($u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class mv extends cv{constructor(e){super(),this.firestore=e}convertBytes(e){return new py(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xg(this.firestore,null,t)}}function gv(e,t,n){e=Gg(e,Xg);const r=Gg(e.firestore,uy),i=hv(e.converter,t,n);return wv(r,[Ty(Iy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,$c.none())])}function yv(e,t,n,...r){e=Gg(e,Xg);const i=Gg(e.firestore,uy),s=Iy(i);let o;return o="string"==typeof(t=L(t))||t instanceof fy?Ry(s,"updateDoc",e._key,t,n,r):Oy(s,"updateDoc",e._key,t),wv(i,[o.toMutation(e._key,$c.exists(!0))])}function vv(e,...t){var n,r,i;e=L(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||oy(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(oy(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,l,c;if(e instanceof Xg)l=Gg(e.firestore,uy),c=fc(e._key.path),u={next:n=>{t[o]&&t[o](bv(l,e,n))},error:t[o+1],complete:t[o+2]};else{const n=Gg(e,Zg);l=Gg(n.firestore,uy),c=n._query;const r=new mv(l);u={next:e=>{t[o]&&t[o](new Qy(l,r,n,e))},error:t[o+1],complete:t[o+2]},Xy(e._query)}return function(e,t,n,r){const i=new Tg(r),s=new Dm(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Am(await Fg(e),s))),()=>{i.Xo(),e.asyncQueue.enqueueAndForget((async()=>xm(await Fg(e),s)))}}(ly(l),c,a,u)}function wv(e,t){return function(e,t){const n=new Hu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=vg(e);try{const e=await function(e,t){const n=Ku(e),r=ol.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ih());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Qn.bn(e,i).next((i=>{s=i;const o=[];for(const e of t){const t=Yc(e,s.get(e.key));null!=t&&o.push(new eh(e.key,t,Bl(t.value.mapValue),$c.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new hh(rl)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),await og(r,e.changes),await cm(r.remoteStore)}catch(e){const t=Im(e,"Failed to persist write");n.reject(t)}}(await Mg(e),t,n))),n.promise}(ly(e),t)}function bv(e,t,n){const r=n.docs.get(t._key),i=new mv(e);return new Hy(e,i,t._key,r,new Wy(n.hasPendingWrites,n.fromCache),t.converter)}class _v extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Iy(e)}get(e){const t=pv(e,this._firestore),n=new dv(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return qu();const r=e[0];if(r.isFoundDocument())return new By(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new By(this._firestore,n,t._key,null,t.converter);throw qu()}))}set(e,t,n){const r=pv(e,this._firestore),i=hv(r.converter,t,n),s=Ty(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=pv(e,this._firestore);let s;return s="string"==typeof(t=L(t))||t instanceof fy?Ry(this._dataReader,"Transaction.update",i._key,t,n,r):Oy(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=pv(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pv(e,this._firestore),n=new mv(this._firestore);return super.get(e).then((e=>new Hy(this._firestore,n,t._key,e._document,new Wy(!1,!1),t.converter)))}}function Ev(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Wu("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function Iv(){if("undefined"==typeof Uint8Array)throw new Wu("unimplemented","Uint8Arrays are not available in this environment.")}function Tv(){if("undefined"==typeof atob)throw new Wu("unimplemented","Blobs are unavailable in Firestore in this environment.")}Lu=ce,ie(new F("firestore",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new uy(n,new Ju(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r}),"PUBLIC")),me("@firebase/firestore","3.0.0",void 0);class Sv{constructor(e){this._delegate=e}static fromBase64String(e){return Tv(),new Sv(py.fromBase64String(e))}static fromUint8Array(e){return Iv(),new Sv(py.fromUint8Array(e))}toBase64(){return Tv(),this._delegate.toBase64()}toUint8Array(){return Iv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class Nv{enableIndexedDbPersistence(e,t){return function(e,t){dy(e=Gg(e,uy));const n=ly(e),r=e._freezeSettings(),i=new Eg;return hy(n,i,new bg(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){dy(e=Gg(e,uy));const t=ly(e),n=e._freezeSettings(),r=new Eg;return hy(t,r,new _g(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Wu($u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Hu;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Vd.Pt())return Promise.resolve();const t=e+"main";await Vd.delete(t)}(Jf(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Cv{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof zg||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||ju("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const o=(e=Gg(e,Jg))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&ju("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Du.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=s({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[d(JSON.stringify({alg:"none",type:"JWT"})),d(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Wu($u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Du(o)}e._credentials=new Yu(new Gu(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Pg(e),n=await Lg(e);return t.setNetworkEnabled(!0),function(e){const t=Ku(e);return t.Kr.delete(0),Qp(t)}(n)}))}(ly(e=Gg(e,uy)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Pg(e),n=await Lg(e);return t.setNetworkEnabled(!1),async function(e){const t=Ku(e);t.Kr.add(0),await Yp(t),t.Wr.set("Offline")}(n)}))}(ly(e=Gg(e,uy)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Kg("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new Hu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Ku(e);rm(n.remoteStore)||Uu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Ku(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.In.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Bo.get(e)||[];r.push(t),n.Bo.set(e,r)}catch(e){const n=Im(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Mg(e),t))),t.promise}(ly(e=Gg(e,uy)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new Tg(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ku(e).Zr.add(t),t.next()}(await Fg(e),n))),()=>{n.Xo(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ku(e).Zr.delete(t)}(await Fg(e),n)))}}(ly(e=Gg(e,uy)),oy(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Wu("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qv(this,ty(this._delegate,e))}catch(e){throw Dv(e,"collection()","Firestore.collection()")}}doc(e){try{return new Pv(this,ny(this._delegate,e))}catch(e){throw Dv(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vv(this,function(e,t){if(e=Gg(e,Jg),Bg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Wu($u.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zg(e,null,function(e){return new hc(dl.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Dv(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new Hu;return e.asyncQueue.enqueueAndForget((async()=>{const r=await function(e){return Rg(e).then((e=>e.datastore))}(e);new Ng(e.asyncQueue,r,t,n).run()})),n.promise}(ly(e),(n=>t(new _v(e,n))))}(this._delegate,(t=>e(new xv(this,t))))}batch(){return ly(this._delegate),new Ov(new fv(this._delegate,(e=>wv(this._delegate,e))))}loadBundle(e){return function(e,t){const n=ly(e=Gg(e,uy)),r=new ay;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Sg(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ig(e,t);if(e instanceof ArrayBuffer)return Ig(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,zp(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Ku(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Ku(e),r=zh(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Je.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(Um(r));const i=new Fm(r,e.localStore,t.N);let s=await t.Qo();for(;s;){const e=await i.fo(s);e&&n._updateProgress(e),s=await t.Qo()}const o=await i.complete();await og(e,o.Tn,void 0),await function(e,t){const n=Ku(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Je.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress)}catch(e){ju("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(r,t,n).then((()=>{r.sharedClientState.notifyBundleLoaded()}))}(await Mg(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Ku(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Je.getNamedQuery(e,t)))}(await Dg(e),t)))}(ly(e=Gg(e,uy)),t).then((t=>t?new Zg(e,null,t.query):null))}(this._delegate,e).then((e=>e?new Vv(this,e):null))}}class Av extends cv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sv(new py(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Pv.forKey(t,this.firestore,null)}}class xv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Av(e)}get(e){const t=Bv(e);return this._delegate.get(t).then((e=>new Fv(this._firestore,new Hy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Bv(e);return n?(Ev("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Bv(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Bv(e);return this._delegate.delete(t),this}}class Ov{constructor(e){this._delegate=e}set(e,t,n){const r=Bv(e);return n?(Ev("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Bv(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Bv(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Rv{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Gy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Uv(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Rv.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Rv(e,new Av(e),t),r.set(t,i)),i}}Rv.INSTANCES=new WeakMap;class Pv{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Av(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Wu("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Pv(t,new Xg(t._delegate,n,new Nl(e)))}static forKey(e,t,n){return new Pv(t,new Xg(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new qv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qv(this.firestore,ty(this._delegate,e))}catch(e){throw Dv(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=L(e))instanceof Xg&&ry(this._delegate,e)}set(e,t){t=Ev("DocumentReference.set",t);try{return t?gv(this._delegate,e,t):gv(this._delegate,e)}catch(e){throw Dv(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?yv(this._delegate,e):yv(this._delegate,e,t,...n)}catch(e){throw Dv(e,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return wv(Gg(e.firestore,uy),[new ih(e._key,$c.none())])}(this._delegate)}onSnapshot(...e){const t=Lv(e),n=Mv(e,(e=>new Fv(this.firestore,new Hy(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return vv(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Gg(e,Xg);const t=Gg(e.firestore,uy),n=ly(t),r=new mv(t);return function(e,t){const n=new Hu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Ku(e);return n.persistence.runTransaction("read document","readonly",(e=>n.Qn.An(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Wu($u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Im(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Dg(e),t,n))),n.promise}(n,e._key).then((n=>new Hy(t,r,e._key,n,new Wy(null!==n&&n.hasLocalMutations,!0),e.converter)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Gg(e,Xg);const t=Gg(e.firestore,uy);return Ug(ly(t),e._key,{source:"server"}).then((n=>bv(t,e,n)))}(this._delegate):function(e){e=Gg(e,Xg);const t=Gg(e.firestore,uy);return Ug(ly(t),e._key).then((n=>bv(t,e,n)))}(this._delegate),t.then((e=>new Fv(this.firestore,new Hy(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Pv(this.firestore,e?this._delegate.withConverter(Rv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Dv(e,t,n){return e.message=e.message.replace(t,n),e}function Lv(e){for(const t of e)if("object"==typeof t&&!kv(t))return t;return{}}function Mv(e,t){var n,r;let i;return i=kv(e[0])?e[0]:kv(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Fv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Pv(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Jy(this._delegate,e._delegate)}}class Uv extends Fv{data(e){const t=this._delegate.data(e);return function(e,t){e||qu()}(void 0!==t),t}}class Vv{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Av(e)}where(e,t,n){try{return new Vv(this.firestore,ev(this._delegate,function(e,t,n){const r=t,i=$y("where",e);return new tv(i,r,n)}(e,t,n)))}catch(e){throw Dv(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vv(this.firestore,ev(this._delegate,function(e,t="asc"){const n=t,r=$y("orderBy",e);return new nv(r,n)}(e,t)))}catch(e){throw Dv(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vv(this.firestore,ev(this._delegate,function(e){return Qg("limit",e),new rv("limit",e,"F")}(e)))}catch(e){throw Dv(e,"limit()","Query.limit()")}}limitToLast(e){try{return new Vv(this.firestore,ev(this._delegate,function(e){return Qg("limitToLast",e),new rv("limitToLast",e,"L")}(e)))}catch(e){throw Dv(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vv(this.firestore,ev(this._delegate,function(...e){return new iv("startAt",e,!0)}(...e)))}catch(e){throw Dv(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vv(this.firestore,ev(this._delegate,function(...e){return new iv("startAfter",e,!1)}(...e)))}catch(e){throw Dv(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vv(this.firestore,ev(this._delegate,function(...e){return new sv("endBefore",e,!0)}(...e)))}catch(e){throw Dv(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vv(this.firestore,ev(this._delegate,function(...e){return new sv("endAt",e,!1)}(...e)))}catch(e){throw Dv(e,"endAt()","Query.endAt()")}}isEqual(e){return iy(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Gg(e,Zg);const t=Gg(e.firestore,uy),n=ly(t),r=new mv(t);return function(e,t){const n=new Hu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await cp(e,t,!0),i=new zm(t,r.Gn),s=i.Io(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Im(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Dg(e),t,n))),n.promise}(n,e._query).then((n=>new Qy(t,r,e,n)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Gg(e,Zg);const t=Gg(e.firestore,uy),n=ly(t),r=new mv(t);return Vg(n,e._query,{source:"server"}).then((n=>new Qy(t,r,e,n)))}(this._delegate):function(e){e=Gg(e,Zg);const t=Gg(e.firestore,uy),n=ly(t),r=new mv(t);return Xy(e._query),Vg(n,e._query).then((n=>new Qy(t,r,e,n)))}(this._delegate),t.then((e=>new zv(this.firestore,new Qy(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=Lv(e),n=Mv(e,(e=>new zv(this.firestore,new Qy(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return vv(this._delegate,t,n)}withConverter(e){return new Vv(this.firestore,e?this._delegate.withConverter(Rv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class jv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Uv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vv(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Uv(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new jv(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Uv(this._firestore,n))}))}isEqual(e){return Jy(this._delegate,e._delegate)}}class qv extends Vv{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Pv(this.firestore,e):null}doc(e){try{return new Pv(this.firestore,void 0===e?ny(this._delegate):ny(this._delegate,e))}catch(e){throw Dv(e,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Gg(e.firestore,uy),r=ny(e),i=hv(e.converter,t);return wv(n,[Ty(Iy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,$c.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new Pv(this.firestore,e)))}isEqual(e){return ry(this._delegate,e._delegate)}withConverter(e){return new qv(this.firestore,e?this._delegate.withConverter(Rv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Bv(e){return Gg(e,Xg)}class Kv{constructor(...e){this._delegate=new fy(...e)}static documentId(){return new Kv(pl.keyField().canonicalString())}isEqual(e){return(e=L(e))instanceof fy&&this._delegate._internalPath.isEqual(e._internalPath)}}class $v{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Ny("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new $v(e)}static delete(){const e=new Sy("deleteField");return e._methodName="FieldValue.delete",new $v(e)}static arrayUnion(...e){const t=function(...e){return new Cy("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new $v(t)}static arrayRemove(...e){const t=function(...e){return new Ay("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new $v(t)}static increment(e){const t=function(e){return new xy("increment",e)}(e);return t._methodName="FieldValue.increment",new $v(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Wv={Firestore:Cv,GeoPoint:gy,Timestamp:ol,Blob:Sv,Transaction:xv,WriteBatch:Ov,DocumentReference:Pv,DocumentSnapshot:Fv,Query:Vv,QueryDocumentSnapshot:Uv,QuerySnapshot:zv,CollectionReference:qv,FieldPath:Kv,FieldValue:$v,setLogLevel:function(e){!function(e){Mu.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function Hv(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function Gv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){!function(e,t){e.INTERNAL.registerComponent(new F("firestore-compat",(e=>((e,t)=>new Cv(e,t,new Nv))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())),"PUBLIC").setServiceProps(Object.assign({},Wv)))}(e),e.registerVersion("@firebase/firestore-compat","0.1.0")}(Ie),Ie.initializeApp({apiKey:"AIzaSyBvHCpKNrfKfc2AZZLP8D0K1AGlUFcX1aE",authDomain:"test-budget-38b21.firebaseapp.com",databaseURL:"https://test-budget-38b21.firebaseio.com",projectId:"test-budget-38b21",storageBucket:"test-budget-38b21.appspot.com",messagingSenderId:"1067130269246",appId:"1:1067130269246:web:504d76c1afc05bcbf12b6f"});var Yv=function(e){return{signIn:function(){var t=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){bi(s,r,i,o,a,"next",e)}function a(e){bi(s,r,i,o,a,"throw",e)}o(void 0)}))}}(regeneratorRuntime.mark((function t(){var n,r,i,s,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new e.auth.GoogleAuthProvider).setCustomParameters({prompt:"select_account"}),t.prev=2,t.next=5,e.auth().signInWithRedirect(n);case 5:r=t.sent,i=r.user,console.log(i.displayName,i.email,i.photoURL),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(2),s=t.t0.code,o=t.t0.message,console.log(s,o);case 15:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}(),signOut:function(){e.auth().signOut()},onAuthStateChanged:function(t){return e.auth().onAuthStateChanged(t)}}}(Ie),Jv=Yv.signIn,Xv=Yv.signOut,Zv=Yv.onAuthStateChanged,ew=function(e){var t,n=e.firestore();return{getBudgets:function(e){return n.collection("budgets").where("uid","==",e.uid).orderBy("createdAt").get().then((function(e){return e.docs.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gv(Object(n),!0).forEach((function(t){Qv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:e.id},e.data())}))}))},updateBudget:function(e,t,r){return n.collection("budgets").doc(e).set({amount:t,weekly_amount:r},{merge:!0})},createBudget:(t=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){Hv(s,r,i,o,a,"next",e)}function a(e){Hv(s,r,i,o,a,"throw",e)}o(void 0)}))}}(regeneratorRuntime.mark((function e(t,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.collection("budgets").add({amount:0,createdAt:new Date,name:r,uid:t.uid,weekly_amount:0,weekly_budget:i}).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)})),e.abrupt("return");case 2:case"end":return e.stop()}}),e)}))),function(e,n,r){return t.apply(this,arguments)})}}(Ie),tw=ew.getBudgets,nw=ew.updateBudget,rw=ew.createBudget;function iw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sw=function(e){return new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(e)},ow=function(e){var n=e.user;return null!==n?t.createElement("button",{className:"btn btn-outline-danger",onClick:function(e){e.preventDefault(),Xv()}},t.createElement("i",{className:"bi bi-box-arrow-in-left"})," ",t.createElement("em",null,n.displayName)):t.createElement("button",{className:"btn btn-outline-success",onClick:function(e){e.preventDefault(),Jv()}},t.createElement("i",{className:"bi bi-box-arrow-in-right"}))},aw=function(e){return t.createElement("div",{style:{marginTop:"50px"},className:"d-flex justify-content-center"},t.createElement("div",{style:{width:"3rem",height:"3rem"},className:"spinner-border",role:"status"},t.createElement("span",{className:"visually-hidden"},"Loading...")))},uw=function(e){return t.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},t.createElement("div",{className:"container-fluid"},t.createElement("span",{className:"navbar-brand"},"My Budgets"),t.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},t.createElement("span",{className:"navbar-toggler-icon"})),t.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},t.createElement("ul",{className:"navbar-nav me-auto mb-2 mb-md-0"}),t.createElement("form",{className:"d-flex"},t.createElement(ow,{user:null})))))},lw=(n(2222),Object.prototype.hasOwnProperty),cw=new WeakMap,hw=0,dw=function(){function e(e){void 0===e&&(e={}),this.cache=new Map(Object.entries(e)),this.subs=[]}return e.prototype.get=function(e){var t=this.serializeKey(e)[0];return this.cache.get(t)},e.prototype.set=function(e,t){var n=this.serializeKey(e)[0];this.cache.set(n,t),this.notify()},e.prototype.keys=function(){return Array.from(this.cache.keys())},e.prototype.has=function(e){var t=this.serializeKey(e)[0];return this.cache.has(t)},e.prototype.clear=function(){this.cache.clear(),this.notify()},e.prototype.delete=function(e){var t=this.serializeKey(e)[0];this.cache.delete(t),this.notify()},e.prototype.serializeKey=function(e){var t=null;if("function"==typeof e)try{e=e()}catch(t){e=""}return Array.isArray(e)?(t=e,e=function(e){if(!e.length)return"";for(var t="arg",n=0;n<e.length;++n)if(null!==e[n]){var r=void 0;"object"!=typeof e[n]&&"function"!=typeof e[n]?r="string"==typeof e[n]?'"'+e[n]+'"':String(e[n]):cw.has(e[n])?r=cw.get(e[n]):(r=hw,cw.set(e[n],hw++)),t+="@"+r}else t+="@null";return t}(e)):e=String(e||""),[e,t,e?"err@"+e:"",e?"validating@"+e:""]},e.prototype.subscribe=function(e){var t=this;if("function"!=typeof e)throw new Error("Expected the listener to be a function.");var n=!0;return this.subs.push(e),function(){if(n){n=!1;var r=t.subs.indexOf(e);r>-1&&(t.subs[r]=t.subs[t.subs.length-1],t.subs.length--)}}},e.prototype.notify=function(){for(var e=0,t=this.subs;e<t.length;e++)(0,t[e])()},e}(),fw=!0;const pw={isOnline:function(){return fw},isDocumentVisible:function(){return"undefined"==typeof document||void 0===document.visibilityState||"hidden"!==document.visibilityState},fetcher:function(e){return fetch(e).then((function(e){return e.json()}))},registerOnFocus:function(e){"undefined"!=typeof window&&void 0!==window.addEventListener&&"undefined"!=typeof document&&void 0!==document.addEventListener&&(document.addEventListener("visibilitychange",(function(){return e()}),!1),window.addEventListener("focus",(function(){return e()}),!1))},registerOnReconnect:function(e){"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",(function(){fw=!0,e()}),!1),window.addEventListener("offline",(function(){return fw=!1}),!1))}};var mw=function(){return(mw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},gw=new dw,yw="undefined"!=typeof window&&navigator.connection&&-1!==["slow-2g","2g"].indexOf(navigator.connection.effectiveType);const vw=mw({onLoadingSlow:function(){},onSuccess:function(){},onError:function(){},onErrorRetry:function(e,t,n,r,i){if(n.isDocumentVisible()&&!("number"==typeof n.errorRetryCount&&i.retryCount>n.errorRetryCount)){var s=Math.min(i.retryCount,8),o=~~((Math.random()+.5)*(1<<s))*n.errorRetryInterval;setTimeout(r,o,i)}},errorRetryInterval:1e3*(yw?10:5),focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:1e3*(yw?5:3),refreshInterval:0,revalidateOnFocus:!0,revalidateOnReconnect:!0,refreshWhenHidden:!1,refreshWhenOffline:!1,shouldRetryOnError:!0,suspense:!1,compare:function e(t,n){var r,i;if(t===n)return!0;if(t&&n&&(r=t.constructor)===n.constructor){if(r===Date)return t.getTime()===n.getTime();if(r===RegExp)return t.toString()===n.toString();if(r===Array){if((i=t.length)===n.length)for(;i--&&e(t[i],n[i]););return-1===i}if(!r||"object"==typeof t){for(r in i=0,t){if(lw.call(t,r)&&++i&&!lw.call(n,r))return!1;if(!(r in n)||!e(t[r],n[r]))return!1}return Object.keys(n).length===i}}return t!=t&&n!=n},isPaused:function(){return!1}},pw);var ww="undefined"==typeof window||!!("undefined"!=typeof Deno&&Deno&&Deno.version&&Deno.version.deno),bw=ww?null:window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout(e,1)},_w=ww?t.useEffect:t.useLayoutEffect,Ew=(0,t.createContext)({});Ew.displayName="SWRConfigContext";const Iw=Ew;var Tw,Sw=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},kw=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Nw={},Cw={},Aw={},xw={},Ow={},Rw={},Pw={},Dw=(Tw=0,function(){return++Tw});if(!ww){var Lw=function(e){if(vw.isDocumentVisible()&&vw.isOnline())for(var t in e)e[t][0]&&e[t][0]()};"function"==typeof vw.registerOnFocus&&vw.registerOnFocus((function(){return Lw(Aw)})),"function"==typeof vw.registerOnReconnect&&vw.registerOnReconnect((function(){return Lw(xw)}))}var Mw=function(e,t){void 0===t&&(t=!0);var n=gw.serializeKey(e),r=n[0],i=n[2],s=n[3];if(!r)return Promise.resolve();var o=Ow[r];if(r&&o){for(var a=gw.get(r),u=gw.get(i),l=gw.get(s),c=[],h=0;h<o.length;++h)c.push(o[h](t,a,u,l,h>0));return Promise.all(c).then((function(){return gw.get(r)}))}return Promise.resolve(gw.get(r))},Fw=function(e,t,n,r){var i=Ow[e];if(e&&i)for(var s=0;s<i.length;++s)i[s](!1,t,n,r)},Uw=function(e,t,n){return void 0===n&&(n=!0),Sw(void 0,void 0,void 0,(function(){var r,i,s,o,a,u,l,c,h,d,f,p,m;return kw(this,(function(g){switch(g.label){case 0:if(r=gw.serializeKey(e),i=r[0],s=r[2],!i)return[2];if(void 0===t)return[2,Mw(e,n)];if(Rw[i]=Dw()-1,Pw[i]=0,o=Rw[i],a=Cw[i],c=!1,t&&"function"==typeof t)try{t=t(gw.get(i))}catch(e){t=void 0,l=e}if(!t||"function"!=typeof t.then)return[3,5];c=!0,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,t];case 2:return u=g.sent(),[3,4];case 3:return h=g.sent(),l=h,[3,4];case 4:return[3,6];case 5:u=t,g.label=6;case 6:if((d=function(){if(o!==Rw[i]||a!==Cw[i]){if(l)throw l;return!0}})())return[2,u];if(void 0!==u&&gw.set(i,u),gw.set(s,l),Pw[i]=Dw()-1,!c&&d())return[2,u];if(f=Ow[i]){for(p=[],m=0;m<f.length;++m)p.push(f[m](!!n,u,l,void 0,m>0));return[2,Promise.all(p).then((function(){if(l)throw l;return gw.get(i)}))]}if(l)throw l;return[2,u]}}))}))};Object.defineProperty(Iw.Provider,"default",{value:vw}),Iw.Provider;const Vw=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n[0],s=Object.assign({},vw,(0,t.useContext)(Iw),n.length>2?n[2]:2===n.length&&"object"==typeof n[1]?n[1]:{}),o=n.length>2||2===n.length&&"function"==typeof n[1]||null===n[1]?n[1]:s.fetcher,a=gw.serializeKey(i),u=a[0],l=a[1],c=a[2],h=a[3],d=(0,t.useRef)(s);_w((function(){d.current=s}));var f=function(){return s.revalidateOnMount||!s.initialData&&void 0===s.revalidateOnMount},p=function(){var e=gw.get(u);return void 0===e?s.initialData:e},m=function(){return!!gw.get(h)||u&&f()},g=p(),y=gw.get(c),v=m(),w=(0,t.useRef)({data:!1,error:!1,isValidating:!1}),b=(0,t.useRef)({data:g,error:y,isValidating:v});(0,t.useDebugValue)(b.current.data);var _,E,I=(0,t.useState)({})[1],T=(0,t.useCallback)((function(e){var t=!1;for(var n in e)b.current[n]!==e[n]&&(b.current[n]=e[n],w.current[n]&&(t=!0));if(t){if(S.current||!N.current)return;I({})}}),[]),S=(0,t.useRef)(!1),k=(0,t.useRef)(u),N=(0,t.useRef)(!1),C=(0,t.useCallback)((function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];S.current||N.current&&u===k.current&&(t=d.current)[e].apply(t,n)}),[u]),A=(0,t.useCallback)((function(e,t){return Uw(k.current,e,t)}),[]),x=function(e,t){return e[u]?e[u].push(t):e[u]=[t],function(){var n=e[u],r=n.indexOf(t);r>=0&&(n[r]=n[n.length-1],n.pop())}},O=(0,t.useCallback)((function(t){return void 0===t&&(t={}),Sw(e,void 0,void 0,(function(){var e,n,r,i,a,f,p,m,g,y;return kw(this,(function(v){switch(v.label){case 0:if(!u||!o)return[2,!1];if(S.current)return[2,!1];if(d.current.isPaused())return[2,!1];e=t.retryCount,n=void 0===e?0:e,r=t.dedupe,i=void 0!==r&&r,a=!0,f=void 0!==Nw[u]&&i,v.label=1;case 1:return v.trys.push([1,6,,7]),T({isValidating:!0}),gw.set(h,!0),f||Fw(u,b.current.data,b.current.error,!0),p=void 0,m=void 0,f?(m=Cw[u],[4,Nw[u]]):[3,3];case 2:return p=v.sent(),[3,5];case 3:return s.loadingTimeout&&!gw.get(u)&&setTimeout((function(){a&&C("onLoadingSlow",u,s)}),s.loadingTimeout),Nw[u]=null!==l?o.apply(void 0,l):o(u),Cw[u]=m=Dw(),[4,Nw[u]];case 4:p=v.sent(),setTimeout((function(){delete Nw[u],delete Cw[u]}),s.dedupingInterval),C("onSuccess",p,u,s),v.label=5;case 5:return Cw[u]>m?[2,!1]:Rw[u]&&(m<=Rw[u]||m<=Pw[u]||0===Pw[u])?(T({isValidating:!1}),[2,!1]):(gw.set(c,void 0),gw.set(h,!1),g={isValidating:!1},void 0!==b.current.error&&(g.error=void 0),s.compare(b.current.data,p)||(g.data=p),s.compare(gw.get(u),p)||gw.set(u,p),T(g),f||Fw(u,p,g.error,!1),[3,7]);case 6:return y=v.sent(),delete Nw[u],delete Cw[u],d.current.isPaused()?(T({isValidating:!1}),[2,!1]):(gw.set(c,y),b.current.error!==y&&(T({isValidating:!1,error:y}),f||Fw(u,void 0,y,!1)),C("onError",y,u,s),s.shouldRetryOnError&&C("onErrorRetry",y,u,s,O,{retryCount:n+1,dedupe:!0}),[3,7]);case 7:return a=!1,[2,!0]}}))}))}),[u]);if(_w((function(){if(u){S.current=!1;var e=N.current;N.current=!0;var t=b.current.data,n=p();k.current=u,s.compare(t,n)||T({data:n});var r=function(){return O({dedupe:!0})};(e||f())&&(void 0===n||ww?r():bw(r));var i=!1,o=x(Aw,(function(){!i&&d.current.revalidateOnFocus&&(i=!0,r(),setTimeout((function(){return i=!1}),d.current.focusThrottleInterval))})),a=x(xw,(function(){d.current.revalidateOnReconnect&&r()})),l=x(Ow,(function(e,t,n,i,o){void 0===e&&(e=!0),void 0===o&&(o=!0);var a={},u=!1;return void 0===t||s.compare(b.current.data,t)||(a.data=t,u=!0),b.current.error!==n&&(a.error=n,u=!0),void 0!==i&&b.current.isValidating!==i&&(a.isValidating=i,u=!0),u&&T(a),!!e&&(o?r():O())}));return function(){T=function(){return null},S.current=!0,o(),a(),l()}}}),[u,O]),_w((function(){var t=null,n=function(){return Sw(e,void 0,void 0,(function(){return kw(this,(function(e){switch(e.label){case 0:return b.current.error||!d.current.refreshWhenHidden&&!d.current.isDocumentVisible()||!d.current.refreshWhenOffline&&!d.current.isOnline()?[3,2]:[4,O({dedupe:!0})];case 1:e.sent(),e.label=2;case 2:return d.current.refreshInterval&&t&&(t=setTimeout(n,d.current.refreshInterval)),[2]}}))}))};return d.current.refreshInterval&&(t=setTimeout(n,d.current.refreshInterval)),function(){t&&(clearTimeout(t),t=null)}}),[s.refreshInterval,s.refreshWhenHidden,s.refreshWhenOffline,O]),s.suspense){if(_=gw.get(u),E=gw.get(c),void 0===_&&(_=g),void 0===E&&(E=y),void 0===_&&void 0===E){if(Nw[u]||O(),Nw[u]&&"function"==typeof Nw[u].then)throw Nw[u];_=Nw[u]}if(void 0===_&&E)throw E}var R=(0,t.useMemo)((function(){var e={revalidate:O,mutate:A};return Object.defineProperties(e,{error:{get:function(){return w.current.error=!0,s.suspense?E:k.current===u?b.current.error:y},enumerable:!0},data:{get:function(){return w.current.data=!0,s.suspense?_:k.current===u?b.current.data:g},enumerable:!0},isValidating:{get:function(){return w.current.isValidating=!0,!!u&&b.current.isValidating},enumerable:!0}}),e}),[O,g,y,A,u,s.suspense,E,_]);return R};function jw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zw(Object(n),!0).forEach((function(t){Bw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kw(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function $w(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){Kw(s,r,i,o,a,"next",e)}function a(e){Kw(s,r,i,o,a,"throw",e)}o(void 0)}))}}var Ww=function(e){var t,n,r,i=Vw(["budgets",e.uid],(function(e,t){return console.assert("budgets"===e),tw({uid:t})})),s=i.data,o=i.error,a=i.isValidating,u=i.mutate;return{data:s,error:o,isValidating:a,Methods:{spend:(r=$w(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(s.map((function(e){return t.id===e.id?qw(qw({},t),{},{amount:t.amount-n,weekly_amount:t.weekly_amount+n}):e})),!1),e.next=3,nw(t.id,t.amount-n,t.weekly_amount+n);case 3:u();case 4:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)}),recharge:(n=$w(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u((function(e){return e.map((function(e){return t.id===e.id?qw(qw({},t),{},{amount:t.amount+t.weekly_budget,weekly_amount:0}):e}))}),!1),e.next=3,nw(t.id,t.amount+t.weekly_budget,0);case 3:u();case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),create:(t=$w(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u([].concat(function(e){if(Array.isArray(e))return jw(e)}(r=s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return jw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jw(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{amount:0,id:"temporary_id",name:"".concat(n.name," (").concat(n.description,")"),weekly_amount:0,weekly_budget:n.budget}]),!1),t.next=3,rw(e,"".concat(n.name," (").concat(n.description,")"),n.budget);case 3:u();case 4:case"end":return t.stop()}var r}),t)}))),function(e){return t.apply(this,arguments)})}}};function Hw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gw=document.body.appendChild(document.createElement("div")),Qw=function(e){var n,i,s=e.opened,o=e.setOpened,a=e.children,u=(n=t.useState(!1),i=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(n,i)||function(e,t){if(e){if("string"==typeof e)return Hw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hw(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=u[0],c=u[1],h=t.useRef(null),d=t.useRef(null);return t.useEffect((function(){d.current=new bootstrap.Modal(h.current),h.current.addEventListener("hidden.bs.modal",(function(e){c(!1),o(!1)})),h.current.addEventListener("shown.bs.modal",(function(){c(!0)}))}),[]),t.useEffect((function(){s?d.current.show():(c(!1),d.current.hide())}),[s]),r.createPortal(t.createElement("div",{ref:h,className:"modal fade",tabIndex:"-1","aria-hidden":"true"},t.createElement("div",{className:"modal-dialog"},t.createElement("div",{className:"modal-content"},l?a:null))),Gw)};function Yw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jw=function(e){var n=e.setOpened,r=e.budget,i=e.action,s=t.useRef(null);t.useEffect((function(){s.current.focus()}),[]);var o,a,u=(o=t.useState(""),a=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(o,a)||function(e,t){if(e){if("string"==typeof e)return Yw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yw(e,t):void 0}}(o,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=u[0],c=u[1];return t.createElement(t.Fragment,null,t.createElement("div",{className:"modal-header"},t.createElement("h5",{className:"modal-title"},r.name),t.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),t.createElement("form",{onSubmit:function(e){e.preventDefault(),i(parseFloat(l)),n(!1)}},t.createElement("div",{className:"modal-body"},t.createElement("div",{className:"form-floating"},t.createElement("input",{ref:s,id:"floatingInput",type:"number",className:"form-control",value:l,step:"0.01",onChange:function(e){c(e.target.value)},placeholder:"3.14",required:!0}),t.createElement("label",{htmlFor:"floatingInput"},"Quanto hai speso?")),t.createElement("small",{className:"form-text text-muted"},"Il tuo budget è ",sw(r.amount))),t.createElement("div",{className:"modal-footer"},t.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"Sure!"))))};function Xw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zw=function(e){var n,r,i=e.budget,s=e.spend,o=(n=t.useState(!1),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Xw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xw(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],u=o[1];return t.createElement("div",{key:i.id,className:"col-sm-6"},t.createElement(Qw,{opened:a,setOpened:u},t.createElement(Jw,{setOpened:u,budget:i,action:s})),t.createElement("div",{className:"card border-secondary",style:{margin:"10px"}},t.createElement("div",{className:"card-header"},i.name," ",t.createElement("sub",null,sw(i.weekly_budget)),t.createElement("span",{className:"float-end"},t.createElement("form",{className:"row row-cols-auto align-items-center"},t.createElement("strong",null,t.createElement("em",null,sw(i.amount))),t.createElement("div",{className:"dropdown"},t.createElement("button",{className:"btn btn-sm btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"⚙"),t.createElement("div",{className:"dropdown-menu dropdown-menu-end"},t.createElement("button",{className:"dropdown-item",onClick:function(e){e.preventDefault()}},"TODO"),t.createElement("button",{className:"dropdown-item",onClick:function(e){e.preventDefault()}},"TODO")))))),t.createElement("div",{className:"card-body"},t.createElement("p",{style:{marginTop:"4px"}},t.createElement("span",{className:"card-subtitle mb-2 text-muted"},sw(i.weekly_amount)),t.createElement("button",{className:"btn btn-outline-primary float-end",onClick:function(){u(!0)}},"Add cost")))))},eb=function(e){var n=e.amount,r=e.weekly_amount,i=Math.max(0,n-r),s=100*i/n;return t.createElement("div",{className:"progress"},t.createElement("div",{className:"progress-bar",style:{width:"".concat(s,"%")}},sw(i)))},tb=function(e){var n=e.user;return Ww(n).isValidating?t.createElement("div",{className:"spinner-border",style:{position:"fixed",bottom:"1em",right:"1em"},role:"status"},t.createElement("span",{className:"visually-hidden"},"Loading...")):null},nb=function(e){var n=e.opened,r=e.setOpened,i=e.action;return t.createElement(Qw,{opened:n,setOpened:r},t.createElement("div",{className:"modal-header"},t.createElement("h5",{className:"modal-title"},"Recharge All"),t.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),t.createElement("div",{className:"modal-body"},"Sicuro di voler ricaricare tutti i budget?"),t.createElement("div",{className:"modal-footer",style:{display:"block"}},t.createElement("button",{className:"btn btn-outline-danger float-end",onClick:function(){i(),r(!1)}},"Ok")))};function rb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ib(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ib(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ib(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sb=function(e){var n=e.action,r=t.useRef(null);t.useEffect((function(){r.current.focus()}),[]);var i=rb(t.useState(""),2),s=i[0],o=i[1],a=rb(t.useState(""),2),u=a[0],l=a[1],c=rb(t.useState(""),2),h=c[0],d=c[1],f=function(e){"budget"===e.target.name?d(parseFloat(e.target.value)):(0,{name:o,description:l}[e.target.name])(e.target.value)};return t.createElement(t.Fragment,null,t.createElement("div",{className:"modal-header"},t.createElement("h5",{className:"modal-title"},"New Budget"),t.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),t.createElement("form",{onSubmit:function(e){e.preventDefault(),n({name:s,description:u,budget:h})}},t.createElement("div",{className:"modal-body"},t.createElement("div",{className:"form-floating mb-3"},t.createElement("input",{ref:r,className:"form-control",name:"name",placeholder:" ",value:s,onChange:f,required:!0}),t.createElement("label",null,"Name")),t.createElement("div",{className:"form-floating mb-3"},t.createElement("textarea",{className:"form-control",name:"description",rows:"3",placeholder:" ",style:{height:"100px"},value:u,onChange:f}),t.createElement("label",null,"Description")),t.createElement("div",{className:"form-floating mb-3"},t.createElement("input",{type:"number",min:"0.01",step:"0.01",className:"form-control",value:h,onChange:f,name:"budget",placeholder:" ",required:!0}),t.createElement("label",null,"Budget"))),t.createElement("div",{className:"modal-footer",style:{display:"block"}},t.createElement("button",{type:"submit",className:"btn btn-outline-danger float-end"},"Ok"))))},ob=function(e){var n=e.opened,r=e.setOpened,i=e.action;return t.createElement(Qw,{opened:n,setOpened:r},t.createElement(sb,{action:function(e){i(e),r(!1)}}))};function ab(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ub(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ub(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ub(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lb=function(e){var n=e.user,r=e.budgets,i=e.Methods,s=ab(t.useState(!1),2),o=s[0],a=s[1],u=ab(t.useState(!1),2),l=u[0],c=u[1],h=r.reduce((function(e,t){return e+t.weekly_budget}),0);return t.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},t.createElement(nb,{opened:o,setOpened:a,action:function(){r.forEach((function(e){i.recharge(e)}))}}),t.createElement(ob,{opened:l,setOpened:c,action:function(e){i.create(e)}}),t.createElement("div",{className:"container-fluid"},t.createElement("span",{className:"navbar-brand"},"My Budgets ",t.createElement("sub",null,sw(h))),t.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},t.createElement("span",{className:"navbar-toggler-icon"})),t.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},t.createElement("ul",{className:"navbar-nav me-auto mb-2 mb-md-0"},t.createElement("li",{className:"nav-item"},t.createElement("a",{className:"nav-link",href:"#",onClick:function(e){e.preventDefault(),a(!0)}},"Recharge all")),t.createElement("li",{className:"nav-item"},t.createElement("a",{className:"nav-link",href:"#",onClick:function(e){e.preventDefault(),c(!0)}},"New budget"))),t.createElement("form",{className:"d-flex"},t.createElement(ow,{user:n})))))},cb=function(e){var n=e.user,r=e.error;return t.createElement(t.Fragment,null,t.createElement(uw,{user:n}),t.createElement("div",{className:"container"},t.createElement("div",{style:{marginTop:"10px"},className:"alert alert-danger",role:"alert"},t.createElement("p",null,"Errore nel caricamento dei budget!"),t.createElement("hr",null),t.createElement("p",null,t.createElement("em",null,r.message)))))},hb=function(e){var n=e.user,r=Ww(n),i=r.data,s=r.error,o=r.Methods;if(void 0!==s)return t.createElement(cb,{user:n,error:s});if(void 0===i)return t.createElement(aw,null);var a=i.reduce((function(e,t){return e+t.amount}),0),u=i.reduce((function(e,t){return e+t.weekly_amount}),0),l=i.map((function(e){return t.createElement(Zw,{key:e.id,budget:e,spend:function(t){o.spend(e,t)}})}));return t.createElement(t.Fragment,null,t.createElement(lb,{user:n,budgets:i,Methods:o}),t.createElement("div",{className:"container",style:{paddingTop:"1em"}},t.createElement("div",{style:{marginTop:"4px"}},t.createElement(eb,{amount:a,weekly_amount:u})),t.createElement("div",{className:"row"},l)),t.createElement(tb,{user:n}))},db=function(e){return t.createElement(t.Fragment,null,t.createElement(uw,null),t.createElement("div",{className:"container"},t.createElement("div",{style:{marginTop:"10px"},className:"alert alert-danger",role:"alert"},t.createElement("p",null,"Please authenticate!"))))},fb=function(e){var n=function(){var e,n,r=(e=t.useState(void 0),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,n)||function(e,t){if(e){if("string"==typeof e)return iw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iw(e,t):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],s=r[1];return t.useEffect((function(){return Zv(s)}),[]),i}();return void 0===n?t.createElement(aw,null):null===n?t.createElement(db,null):t.createElement(hb,{user:n})};r.render(t.createElement(fb,null),document.getElementById("app"))})()})();