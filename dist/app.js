/*! For license information please see app.js.LICENSE.txt */
(()=>{var e={3099:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},6077:(e,t,n)=>{var r=n(111);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},1223:(e,t,n)=>{var r=n(5112),i=n(30),o=n(3070),s=r("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},5787:e=>{e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},9670:(e,t,n)=>{var r=n(111);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},8533:(e,t,n)=>{"use strict";var r=n(2092).forEach,i=n(9341)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},8457:(e,t,n)=>{"use strict";var r=n(9974),i=n(7908),o=n(3411),s=n(7659),a=n(7466),u=n(6135),l=n(1246);e.exports=function(e){var t,n,c,h,f,d,p=i(e),m="function"==typeof this?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,v=void 0!==y,b=l(p),w=0;if(v&&(y=r(y,g>2?arguments[2]:void 0,2)),null==b||m==Array&&s(b))for(n=new m(t=a(p.length));t>w;w++)d=v?y(p[w],w):p[w],u(n,w,d);else for(f=(h=b.call(p)).next,n=new m;!(c=f.call(h)).done;w++)d=v?o(h,y,[c.value,w],!0):c.value,u(n,w,d);return n.length=w,n}},1318:(e,t,n)=>{var r=n(5656),i=n(7466),o=n(1400),s=function(e){return function(t,n,s){var a,u=r(t),l=i(u.length),c=o(s,l);if(e&&n!=n){for(;l>c;)if((a=u[c++])!=a)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},2092:(e,t,n)=>{var r=n(9974),i=n(8361),o=n(7908),s=n(7466),a=n(5417),u=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,c=4==e,h=6==e,f=7==e,d=5==e||h;return function(p,m,g,y){for(var v,b,w=o(p),E=i(w),S=r(m,g,3),_=s(E.length),k=0,T=y||a,I=t?T(p,_):n||f?T(p,0):void 0;_>k;k++)if((d||k in E)&&(b=S(v=E[k],k,w),e))if(t)I[k]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return k;case 2:u.call(I,v)}else switch(e){case 4:return!1;case 7:u.call(I,v)}return h?-1:l||c?c:I}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},1194:(e,t,n)=>{var r=n(7293),i=n(5112),o=n(7392),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,n)=>{"use strict";var r=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},7475:(e,t,n)=>{var r=n(111),i=n(3157),o=n(5112)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)?r(t)&&null===(t=t[o])&&(t=void 0):t=void 0),void 0===t?Array:t}},5417:(e,t,n)=>{var r=n(7475);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},3411:(e,t,n)=>{var r=n(9670),i=n(9212);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){throw i(e),t}}},7072:(e,t,n)=>{var r=n(5112)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},4326:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},648:(e,t,n)=>{var r=n(1694),i=n(4326),o=n(5112)("toStringTag"),s="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:s?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},9920:(e,t,n)=>{var r=n(6656),i=n(3887),o=n(1236),s=n(3070);e.exports=function(e,t){for(var n=i(t),a=s.f,u=o.f,l=0;l<n.length;l++){var c=n[l];r(e,c)||a(e,c,u(t,c))}}},8544:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:(e,t,n)=>{"use strict";var r=n(3383).IteratorPrototype,i=n(30),o=n(9114),s=n(8003),a=n(7497),u=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,l,!1,!0),a[l]=u,e}},8880:(e,t,n)=>{var r=n(9781),i=n(3070),o=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,n)=>{"use strict";var r=n(4948),i=n(3070),o=n(9114);e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},654:(e,t,n)=>{"use strict";var r=n(2109),i=n(4994),o=n(9518),s=n(7674),a=n(8003),u=n(8880),l=n(1320),c=n(5112),h=n(1913),f=n(7497),d=n(3383),p=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,g=c("iterator"),y="keys",v="values",b="entries",w=function(){return this};e.exports=function(e,t,n,c,d,E,S){i(n,t,c);var _,k,T,I=function(e){if(e===d&&x)return x;if(!m&&e in A)return A[e];switch(e){case y:case v:case b:return function(){return new n(this,e)}}return function(){return new n(this)}},N=t+" Iterator",C=!1,A=e.prototype,O=A[g]||A["@@iterator"]||d&&A[d],x=!m&&O||I(d),R="Array"==t&&A.entries||O;if(R&&(_=o(R.call(new e)),p!==Object.prototype&&_.next&&(h||o(_)===p||(s?s(_,p):"function"!=typeof _[g]&&u(_,g,w)),a(_,N,!0,!0),h&&(f[N]=w))),d==v&&O&&O.name!==v&&(C=!0,x=function(){return O.call(this)}),h&&!S||A[g]===x||u(A,g,x),f[t]=x,d)if(k={values:I(v),keys:E?x:I(y),entries:I(b)},S)for(T in k)(m||C||!(T in A))&&l(A,T,k[T]);else r({target:t,proto:!0,forced:m||C},k);return k}},7235:(e,t,n)=>{var r=n(857),i=n(6656),o=n(6061),s=n(3070).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},9781:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var r=n(7854),i=n(111),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7871:e=>{e.exports="object"==typeof window},1528:(e,t,n)=>{var r=n(8113),i=n(7854);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},6833:(e,t,n)=>{var r=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:(e,t,n)=>{var r=n(4326),i=n(7854);e.exports="process"==r(i.process)},1036:(e,t,n)=>{var r=n(8113);e.exports=/web0s(?!.*chrome)/i.test(r)},8113:(e,t,n)=>{var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:(e,t,n)=>{var r,i,o=n(7854),s=n(8113),a=o.process,u=o.Deno,l=a&&a.versions||u&&u.version,c=l&&l.v8;c?i=(r=c.split("."))[0]<4?1:r[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var r=n(7854),i=n(1236).f,o=n(8880),s=n(1320),a=n(3505),u=n(9920),l=n(4705);e.exports=function(e,t){var n,c,h,f,d,p=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[p]||a(p,{}):(r[p]||{}).prototype)for(c in t){if(f=t[c],h=e.noTargetGet?(d=i(n,c))&&d.value:n[c],!l(m?c:p+(g?".":"#")+c,e.forced)&&void 0!==h){if(typeof f==typeof h)continue;u(f,h)}(e.sham||h&&h.sham)&&o(f,"sham",!0),s(n,c,f,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9974:(e,t,n)=>{var r=n(3099);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},5005:(e,t,n)=>{var r=n(7854),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},1246:(e,t,n)=>{var r=n(648),i=n(7497),o=n(5112)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},7854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:(e,t,n)=>{var r=n(7908),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},3501:e=>{e.exports={}},842:(e,t,n)=>{var r=n(7854);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},490:(e,t,n)=>{var r=n(5005);e.exports=r("document","documentElement")},4664:(e,t,n)=>{var r=n(9781),i=n(7293),o=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var r=n(7293),i=n(4326),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},2788:(e,t,n)=>{var r=n(5465),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},9909:(e,t,n)=>{var r,i,o,s=n(8536),a=n(7854),u=n(111),l=n(8880),c=n(6656),h=n(5465),f=n(6200),d=n(3501),p="Object already initialized",m=a.WeakMap;if(s||h.state){var g=h.state||(h.state=new m),y=g.get,v=g.has,b=g.set;r=function(e,t){if(v.call(g,e))throw new TypeError(p);return t.facade=e,b.call(g,e,t),t},i=function(e){return y.call(g,e)||{}},o=function(e){return v.call(g,e)}}else{var w=f("state");d[w]=!0,r=function(e,t){if(c(e,w))throw new TypeError(p);return t.facade=e,l(e,w,t),t},i=function(e){return c(e,w)?e[w]:{}},o=function(e){return c(e,w)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},7659:(e,t,n)=>{var r=n(5112),i=n(7497),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},3157:(e,t,n)=>{var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},4705:(e,t,n)=>{var r=n(7293),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==l||n!=u&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},111:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:e=>{e.exports=!1},2190:(e,t,n)=>{var r=n(5005),i=n(3307);e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return"function"==typeof t&&Object(e)instanceof t}},408:(e,t,n)=>{var r=n(9670),i=n(7659),o=n(7466),s=n(9974),a=n(1246),u=n(9212),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var c,h,f,d,p,m,g,y=n&&n.that,v=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),E=s(t,y,1+v+w),S=function(e){return c&&u(c),new l(!0,e)},_=function(e){return v?(r(e),w?E(e[0],e[1],S):E(e[0],e[1])):w?E(e,S):E(e)};if(b)c=e;else{if("function"!=typeof(h=a(e)))throw TypeError("Target is not iterable");if(i(h)){for(f=0,d=o(e.length);d>f;f++)if((p=_(e[f]))&&p instanceof l)return p;return new l(!1)}c=h.call(e)}for(m=c.next;!(g=m.call(c)).done;){try{p=_(g.value)}catch(e){throw u(c),e}if("object"==typeof p&&p&&p instanceof l)return p}return new l(!1)}},9212:(e,t,n)=>{var r=n(9670);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},3383:(e,t,n)=>{"use strict";var r,i,o,s=n(7293),a=n(9518),u=n(8880),l=n(6656),c=n(5112),h=n(1913),f=c("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):d=!0);var p=null==r||s((function(){var e={};return r[f].call(e)!==e}));p&&(r={}),h&&!p||l(r,f)||u(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},7497:e=>{e.exports={}},5948:(e,t,n)=>{var r,i,o,s,a,u,l,c,h=n(7854),f=n(1236).f,d=n(261).set,p=n(6833),m=n(1528),g=n(1036),y=n(5268),v=h.MutationObserver||h.WebKitMutationObserver,b=h.document,w=h.process,E=h.Promise,S=f(h,"queueMicrotask"),_=S&&S.value;_||(r=function(){var e,t;for(y&&(e=w.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?s():o=void 0,e}}o=void 0,e&&e.enter()},p||y||g||!v||!b?!m&&E&&E.resolve?((l=E.resolve(void 0)).constructor=E,c=l.then,s=function(){c.call(l,r)}):s=y?function(){w.nextTick(r)}:function(){d.call(h,r)}:(a=!0,u=b.createTextNode(""),new v(r).observe(u,{characterData:!0}),s=function(){u.data=a=!a})),e.exports=_||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},3366:(e,t,n)=>{var r=n(7854);e.exports=r.Promise},133:(e,t,n)=>{var r=n(7392),i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:(e,t,n)=>{var r=n(7854),i=n(2788),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},8523:(e,t,n)=>{"use strict";var r=n(3099),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},30:(e,t,n)=>{var r,i=n(9670),o=n(6048),s=n(748),a=n(3501),u=n(490),l=n(317),c=n(6200)("IE_PROTO"),h=function(){},f=function(e){return"<script>"+e+"<\/script>"},d=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},p=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;p="undefined"!=typeof document?document.domain&&r?d(r):((t=l("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):d(r);for(var n=s.length;n--;)delete p.prototype[s[n]];return p()};a[c]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=i(e),n=new h,h.prototype=null,n[c]=e):n=p(),void 0===t?n:o(n,t)}},6048:(e,t,n)=>{var r=n(9781),i=n(3070),o=n(9670),s=n(1956);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),a=r.length,u=0;a>u;)i.f(e,n=r[u++],t[n]);return e}},3070:(e,t,n)=>{var r=n(9781),i=n(4664),o=n(9670),s=n(4948),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t),o(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var r=n(9781),i=n(5296),o=n(9114),s=n(5656),a=n(4948),u=n(6656),l=n(4664),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=s(e),t=a(t),l)try{return c(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},1156:(e,t,n)=>{var r=n(5656),i=n(8006).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(r(e))}},8006:(e,t,n)=>{var r=n(6324),i=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var r=n(6656),i=n(7908),o=n(6200),s=n(8544),a=o("IE_PROTO"),u=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},6324:(e,t,n)=>{var r=n(6656),i=n(5656),o=n(1318).indexOf,s=n(3501);e.exports=function(e,t){var n,a=i(e),u=0,l=[];for(n in a)!r(s,n)&&r(a,n)&&l.push(n);for(;t.length>u;)r(a,n=t[u++])&&(~o(l,n)||l.push(n));return l}},1956:(e,t,n)=>{var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var r=n(9670),i=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},288:(e,t,n)=>{"use strict";var r=n(1694),i=n(648);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},2140:(e,t,n)=>{var r=n(111);e.exports=function(e,t){var n,i;if("string"===t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if("string"!==t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},3887:(e,t,n)=>{var r=n(5005),i=n(8006),o=n(5181),s=n(9670);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},857:(e,t,n)=>{var r=n(7854);e.exports=r},2534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9478:(e,t,n)=>{var r=n(9670),i=n(111),o=n(8523);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},2248:(e,t,n)=>{var r=n(1320);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},1320:(e,t,n)=>{var r=n(7854),i=n(8880),o=n(6656),s=n(3505),a=n(2788),u=n(9909),l=u.get,c=u.enforce,h=String(String).split("String");(e.exports=function(e,t,n,a){var u,l=!!a&&!!a.unsafe,f=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),(u=c(n)).source||(u.source=h.join("string"==typeof t?t:""))),e!==r?(l?!d&&e[t]&&(f=!0):delete e[t],f?e[t]=n:i(e,t,n)):f?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||a(this)}))},4488:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:(e,t,n)=>{var r=n(7854);e.exports=function(e,t){try{Object.defineProperty(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},6340:(e,t,n)=>{"use strict";var r=n(5005),i=n(3070),o=n(5112),s=n(9781),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},8003:(e,t,n)=>{var r=n(3070).f,i=n(6656),o=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},6200:(e,t,n)=>{var r=n(2309),i=n(9711),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5465:(e,t,n)=>{var r=n(7854),i=n(3505),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},2309:(e,t,n)=>{var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.16.3",mode:r?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},6707:(e,t,n)=>{var r=n(9670),i=n(3099),o=n(5112)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[o])?t:i(n)}},8710:(e,t,n)=>{var r=n(9958),i=n(1340),o=n(4488),s=function(e){return function(t,n){var s,a,u=i(o(t)),l=r(n),c=u.length;return l<0||l>=c?e?"":void 0:(s=u.charCodeAt(l))<55296||s>56319||l+1===c||(a=u.charCodeAt(l+1))<56320||a>57343?e?u.charAt(l):s:e?u.slice(l,l+2):a-56320+(s-55296<<10)+65536}};e.exports={codeAt:s(!1),charAt:s(!0)}},261:(e,t,n)=>{var r,i,o,s,a=n(7854),u=n(7293),l=n(9974),c=n(490),h=n(317),f=n(6833),d=n(5268),p=a.setImmediate,m=a.clearImmediate,g=a.process,y=a.MessageChannel,v=a.Dispatch,b=0,w={};try{r=a.location}catch(e){}var E=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},S=function(e){return function(){E(e)}},_=function(e){E(e.data)},k=function(e){a.postMessage(String(e),r.protocol+"//"+r.host)};p&&m||(p=function(e){for(var t=[],n=arguments.length,r=1;n>r;)t.push(arguments[r++]);return w[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(b),b},m=function(e){delete w[e]},d?i=function(e){g.nextTick(S(e))}:v&&v.now?i=function(e){v.now(S(e))}:y&&!f?(s=(o=new y).port2,o.port1.onmessage=_,i=l(s.postMessage,s,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&r&&"file:"!==r.protocol&&!u(k)?(i=k,a.addEventListener("message",_,!1)):i="onreadystatechange"in h("script")?function(e){c.appendChild(h("script")).onreadystatechange=function(){c.removeChild(this),E(e)}}:function(e){setTimeout(S(e),0)}),e.exports={set:p,clear:m}},1400:(e,t,n)=>{var r=n(9958),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5656:(e,t,n)=>{var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9958:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},7466:(e,t,n)=>{var r=n(9958),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:(e,t,n)=>{var r=n(4488);e.exports=function(e){return Object(r(e))}},7593:(e,t,n)=>{var r=n(111),i=n(2190),o=n(2140),s=n(5112)("toPrimitive");e.exports=function(e,t){if(!r(e)||i(e))return e;var n,a=e[s];if(void 0!==a){if(void 0===t&&(t="default"),n=a.call(e,t),!r(n)||i(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},4948:(e,t,n)=>{var r=n(7593),i=n(2190);e.exports=function(e){var t=r(e,"string");return i(t)?t:String(t)}},1694:(e,t,n)=>{var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},1340:(e,t,n)=>{var r=n(2190);e.exports=function(e){if(r(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},9711:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},3307:(e,t,n)=>{var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:(e,t,n)=>{var r=n(5112);t.f=r},5112:(e,t,n)=>{var r=n(7854),i=n(2309),o=n(6656),s=n(9711),a=n(133),u=n(3307),l=i("wks"),c=r.Symbol,h=u?c:c&&c.withoutSetter||s;e.exports=function(e){return o(l,e)&&(a||"string"==typeof l[e])||(a&&o(c,e)?l[e]=c[e]:l[e]=h("Symbol."+e)),l[e]}},2222:(e,t,n)=>{"use strict";var r=n(2109),i=n(7293),o=n(3157),s=n(111),a=n(7908),u=n(7466),l=n(6135),c=n(5417),h=n(1194),f=n(5112),d=n(7392),p=f("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",y=d>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=h("concat"),b=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,forced:!y||!v},{concat:function(e){var t,n,r,i,o,s=a(this),h=c(s,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(b(o=-1===t?s:arguments[t])){if(f+(i=u(o.length))>m)throw TypeError(g);for(n=0;n<i;n++,f++)n in o&&l(h,f,o[n])}else{if(f>=m)throw TypeError(g);l(h,f++,o)}return h.length=f,h}})},7327:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).filter;r({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},1038:(e,t,n)=>{var r=n(2109),i=n(8457);r({target:"Array",stat:!0,forced:!n(7072)((function(e){Array.from(e)}))},{from:i})},6992:(e,t,n)=>{"use strict";var r=n(5656),i=n(1223),o=n(7497),s=n(9909),a=n(654),u="Array Iterator",l=s.set,c=s.getterFor(u);e.exports=a(Array,"Array",(function(e,t){l(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},1249:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).map;r({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},7042:(e,t,n)=>{"use strict";var r=n(2109),i=n(111),o=n(3157),s=n(1400),a=n(7466),u=n(5656),l=n(6135),c=n(5112),h=n(1194)("slice"),f=c("species"),d=[].slice,p=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,c,h=u(this),m=a(h.length),g=s(e,m),y=s(void 0===t?m:t,m);if(o(h)&&("function"!=typeof(n=h.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[f])&&(n=void 0):n=void 0,n===Array||void 0===n))return d.call(h,g,y);for(r=new(void 0===n?Array:n)(p(y-g,0)),c=0;g<y;g++,c++)g in h&&l(r,c,h[g]);return r.length=c,r}})},8309:(e,t,n)=>{var r=n(9781),i=n(3070).f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,u="name";r&&!(u in o)&&i(o,u,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return""}}})},5003:(e,t,n)=>{var r=n(2109),i=n(7293),o=n(5656),s=n(1236).f,a=n(9781),u=i((function(){s(1)}));r({target:"Object",stat:!0,forced:!a||u,sham:!a},{getOwnPropertyDescriptor:function(e,t){return s(o(e),t)}})},9337:(e,t,n)=>{var r=n(2109),i=n(9781),o=n(3887),s=n(5656),a=n(1236),u=n(6135);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=s(e),i=a.f,l=o(r),c={},h=0;l.length>h;)void 0!==(n=i(r,t=l[h++]))&&u(c,t,n);return c}})},7941:(e,t,n)=>{var r=n(2109),i=n(7908),o=n(1956);r({target:"Object",stat:!0,forced:n(7293)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},1539:(e,t,n)=>{var r=n(1694),i=n(1320),o=n(288);r||i(Object.prototype,"toString",o,{unsafe:!0})},8674:(e,t,n)=>{"use strict";var r,i,o,s,a=n(2109),u=n(1913),l=n(7854),c=n(5005),h=n(3366),f=n(1320),d=n(2248),p=n(7674),m=n(8003),g=n(6340),y=n(111),v=n(3099),b=n(5787),w=n(2788),E=n(408),S=n(7072),_=n(6707),k=n(261).set,T=n(5948),I=n(9478),N=n(842),C=n(8523),A=n(2534),O=n(9909),x=n(4705),R=n(5112),P=n(7871),D=n(5268),L=n(7392),M=R("species"),U="Promise",F=O.get,V=O.set,j=O.getterFor(U),z=h&&h.prototype,B=h,q=z,H=l.TypeError,$=l.document,W=l.process,K=C.f,G=K,Q=!!($&&$.createEvent&&l.dispatchEvent),Y="function"==typeof PromiseRejectionEvent,X="unhandledrejection",J=!1,Z=x(U,(function(){var e=w(B),t=e!==String(B);if(!t&&66===L)return!0;if(u&&!q.finally)return!0;if(L>=51&&/native code/.test(e))return!1;var n=new B((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[M]=r,!(J=n.then((function(){}))instanceof r)||!t&&P&&!Y})),ee=Z||!S((function(e){B.all(e).catch((function(){}))})),te=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},ne=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;T((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var s,a,u,l=n[o++],c=i?l.ok:l.fail,h=l.resolve,f=l.reject,d=l.domain;try{c?(i||(2===e.rejection&&se(e),e.rejection=1),!0===c?s=r:(d&&d.enter(),s=c(r),d&&(d.exit(),u=!0)),s===l.promise?f(H("Promise-chain cycle")):(a=te(s))?a.call(s,h,f):h(s)):f(r)}catch(e){d&&!u&&d.exit(),f(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ie(e)}))}},re=function(e,t,n){var r,i;Q?((r=$.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!Y&&(i=l["on"+e])?i(r):e===X&&N("Unhandled promise rejection",n)},ie=function(e){k.call(l,(function(){var t,n=e.facade,r=e.value;if(oe(e)&&(t=A((function(){D?W.emit("unhandledRejection",r,n):re(X,n,r)})),e.rejection=D||oe(e)?2:1,t.error))throw t.value}))},oe=function(e){return 1!==e.rejection&&!e.parent},se=function(e){k.call(l,(function(){var t=e.facade;D?W.emit("rejectionHandled",t):re("rejectionhandled",t,e.value)}))},ae=function(e,t,n){return function(r){e(t,r,n)}},ue=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ne(e,!0))},le=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw H("Promise can't be resolved itself");var r=te(t);r?T((function(){var n={done:!1};try{r.call(t,ae(le,n,e),ae(ue,n,e))}catch(t){ue(n,t,e)}})):(e.value=t,e.state=1,ne(e,!1))}catch(t){ue({done:!1},t,e)}}};if(Z&&(q=(B=function(e){b(this,B,U),v(e),r.call(this);var t=F(this);try{e(ae(le,t),ae(ue,t))}catch(e){ue(t,e)}}).prototype,(r=function(e){V(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(q,{then:function(e,t){var n=j(this),r=K(_(this,B));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=D?W.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&ne(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=F(e);this.promise=e,this.resolve=ae(le,t),this.reject=ae(ue,t)},C.f=K=function(e){return e===B||e===o?new i(e):G(e)},!u&&"function"==typeof h&&z!==Object.prototype)){s=z.then,J||(f(z,"then",(function(e,t){var n=this;return new B((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),f(z,"catch",q.catch,{unsafe:!0}));try{delete z.constructor}catch(e){}p&&p(z,q)}a({global:!0,wrap:!0,forced:Z},{Promise:B}),m(B,U,!1,!0),g(U),o=c(U),a({target:U,stat:!0,forced:Z},{reject:function(e){var t=K(this);return t.reject.call(void 0,e),t.promise}}),a({target:U,stat:!0,forced:u||Z},{resolve:function(e){return I(u&&this===o?B:this,e)}}),a({target:U,stat:!0,forced:ee},{all:function(e){var t=this,n=K(t),r=n.resolve,i=n.reject,o=A((function(){var n=v(t.resolve),o=[],s=0,a=1;E(e,(function(e){var u=s++,l=!1;o.push(void 0),a++,n.call(t,e).then((function(e){l||(l=!0,o[u]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=K(t),r=n.reject,i=A((function(){var i=v(t.resolve);E(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},8783:(e,t,n)=>{"use strict";var r=n(8710).charAt,i=n(1340),o=n(9909),s=n(654),a="String Iterator",u=o.set,l=o.getterFor(a);s(String,"String",(function(e){u(this,{type:a,string:i(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},1817:(e,t,n)=>{"use strict";var r=n(2109),i=n(9781),o=n(7854),s=n(6656),a=n(111),u=n(3070).f,l=n(9920),c=o.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var h={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new c(e):void 0===e?c():c(e);return""===e&&(h[t]=!0),t};l(f,c);var d=f.prototype=c.prototype;d.constructor=f;var p=d.toString,m="Symbol(test)"==String(c("test")),g=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=p.call(e);if(s(h,e))return"";var n=m?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},2165:(e,t,n)=>{n(7235)("iterator")},2526:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),o=n(5005),s=n(1913),a=n(9781),u=n(133),l=n(7293),c=n(6656),h=n(3157),f=n(111),d=n(2190),p=n(9670),m=n(7908),g=n(5656),y=n(4948),v=n(1340),b=n(9114),w=n(30),E=n(1956),S=n(8006),_=n(1156),k=n(5181),T=n(1236),I=n(3070),N=n(5296),C=n(8880),A=n(1320),O=n(2309),x=n(6200),R=n(3501),P=n(9711),D=n(5112),L=n(6061),M=n(7235),U=n(8003),F=n(9909),V=n(2092).forEach,j=x("hidden"),z="Symbol",B=D("toPrimitive"),q=F.set,H=F.getterFor(z),$=Object.prototype,W=i.Symbol,K=o("JSON","stringify"),G=T.f,Q=I.f,Y=_.f,X=N.f,J=O("symbols"),Z=O("op-symbols"),ee=O("string-to-symbol-registry"),te=O("symbol-to-string-registry"),ne=O("wks"),re=i.QObject,ie=!re||!re.prototype||!re.prototype.findChild,oe=a&&l((function(){return 7!=w(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=G($,t);r&&delete $[t],Q(e,t,n),r&&e!==$&&Q($,t,r)}:Q,se=function(e,t){var n=J[e]=w(W.prototype);return q(n,{type:z,tag:e,description:t}),a||(n.description=t),n},ae=function(e,t,n){e===$&&ae(Z,t,n),p(e);var r=y(t);return p(n),c(J,r)?(n.enumerable?(c(e,j)&&e[j][r]&&(e[j][r]=!1),n=w(n,{enumerable:b(0,!1)})):(c(e,j)||Q(e,j,b(1,{})),e[j][r]=!0),oe(e,r,n)):Q(e,r,n)},ue=function(e,t){p(e);var n=g(t),r=E(n).concat(fe(n));return V(r,(function(t){a&&!le.call(n,t)||ae(e,t,n[t])})),e},le=function(e){var t=y(e),n=X.call(this,t);return!(this===$&&c(J,t)&&!c(Z,t))&&(!(n||!c(this,t)||!c(J,t)||c(this,j)&&this[j][t])||n)},ce=function(e,t){var n=g(e),r=y(t);if(n!==$||!c(J,r)||c(Z,r)){var i=G(n,r);return!i||!c(J,r)||c(n,j)&&n[j][r]||(i.enumerable=!0),i}},he=function(e){var t=Y(g(e)),n=[];return V(t,(function(e){c(J,e)||c(R,e)||n.push(e)})),n},fe=function(e){var t=e===$,n=Y(t?Z:g(e)),r=[];return V(n,(function(e){!c(J,e)||t&&!c($,e)||r.push(J[e])})),r};u||(A((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,t=P(e),n=function(e){this===$&&n.call(Z,e),c(this,j)&&c(this[j],t)&&(this[j][t]=!1),oe(this,t,b(1,e))};return a&&ie&&oe($,t,{configurable:!0,set:n}),se(t,e)}).prototype,"toString",(function(){return H(this).tag})),A(W,"withoutSetter",(function(e){return se(P(e),e)})),N.f=le,I.f=ae,T.f=ce,S.f=_.f=he,k.f=fe,L.f=function(e){return se(D(e),e)},a&&(Q(W.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),s||A($,"propertyIsEnumerable",le,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:W}),V(E(ne),(function(e){M(e)})),r({target:z,stat:!0,forced:!u},{for:function(e){var t=v(e);if(c(ee,t))return ee[t];var n=W(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!d(e))throw TypeError(e+" is not a symbol");if(c(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!a},{create:function(e,t){return void 0===t?w(e):ue(w(e),t)},defineProperty:ae,defineProperties:ue,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:he,getOwnPropertySymbols:fe}),r({target:"Object",stat:!0,forced:l((function(){k.f(1)}))},{getOwnPropertySymbols:function(e){return k.f(m(e))}}),K&&r({target:"JSON",stat:!0,forced:!u||l((function(){var e=W();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(f(t)||void 0!==e)&&!d(e))return h(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!d(t))return t}),i[1]=t,K.apply(null,i)}}),W.prototype[B]||C(W.prototype,B,W.prototype.valueOf),U(W,z),R[j]=!0},4747:(e,t,n)=>{var r=n(7854),i=n(8324),o=n(8533),s=n(8880);for(var a in i){var u=r[a],l=u&&u.prototype;if(l&&l.forEach!==o)try{s(l,"forEach",o)}catch(e){l.forEach=o}}},3948:(e,t,n)=>{var r=n(7854),i=n(8324),o=n(6992),s=n(8880),a=n(5112),u=a("iterator"),l=a("toStringTag"),c=o.values;for(var h in i){var f=r[h],d=f&&f.prototype;if(d){if(d[u]!==c)try{s(d,u,c)}catch(e){d[u]=c}if(d[l]||s(d,l,h),i[h])for(var p in o)if(d[p]!==o[p])try{s(d,p,o[p])}catch(e){d[p]=o[p]}}}},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var s,a,u=i(e),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))n.call(s,c)&&(u[c]=s[c]);if(t){a=t(s);for(var h=0;h<a.length;h++)r.call(s,a[h])&&(u[a[h]]=s[a[h]])}}return u}},4448:(e,t,n)=>{"use strict";var r=n(7294),i=n(7418),o=n(3840);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,_=60106,k=60107,T=60108,I=60114,N=60109,C=60110,A=60112,O=60113,x=60120,R=60115,P=60116,D=60121,L=60128,M=60129,U=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;S=V("react.element"),_=V("react.portal"),k=V("react.fragment"),T=V("react.strict_mode"),I=V("react.profiler"),N=V("react.provider"),C=V("react.context"),A=V("react.forward_ref"),O=V("react.suspense"),x=V("react.suspense_list"),R=V("react.memo"),P=V("react.lazy"),D=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),U=V("react.offscreen"),F=V("react.legacy_hidden")}var j,z="function"==typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===j)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var H=!1;function $(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return $(e.type,!1);case 11:return $(e.type.render,!1);case 22:return $(e.type._render,!1);case 1:return $(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case I:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case x:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return K(e.type);case D:return K(e._render);case P:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function le(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ne=null,Ce=null;function Ae(e){if(e=Zr(e)){if("function"!=typeof Ie)throw Error(s(280));var t=e.stateNode;t&&(t=ti(t),Ie(e.stateNode,e.type,t))}}function Oe(e){Ne?Ce?Ce.push(e):Ce=[e]:Ne=e}function xe(){if(Ne){var e=Ne,t=Ce;if(Ce=Ne=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Re(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Re,Me=!1,Ue=!1;function Fe(){null===Ne&&null===Ce||(De(),xe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var je=!1;if(h)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){je=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){je=!1}function Be(e,t,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var qe=!1,He=null,$e=!1,We=null,Ke={onError:function(e){qe=!0,He=e}};function Ge(e,t,n,r,i,o,s,a,u){qe=!1,He=null,Be.apply(Ke,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Xe(e){if(Qe(e)!==e)throw Error(s(188))}function Je(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],st=null,at=null,ut=null,lt=new Map,ct=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&null!==(t=Zr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Jr(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Zr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Zr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==at&&yt(at)&&(at=null),null!==ut&&yt(ut)&&(ut=null),lt.forEach(vt),ct.forEach(vt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function Et(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==at&&wt(at,e),null!==ut&&wt(ut,e),lt.forEach(t),ct.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},kt={},Tt={};function It(e){if(kt[e])return kt[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return kt[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Nt=It("animationend"),Ct=It("animationiteration"),At=It("animationstart"),Ot=It("transitionend"),xt=new Map,Rt=new Map,Pt=["abort","abort",Nt,"animationEnd",Ct,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),xt.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var u=o&~s;0!==u?(r=Mt(u),i=Lt):0!=(a&=o)&&(r=Mt(a),i=Lt)}else 0!=(o=n&~s)?(r=Mt(o),i=Lt):0!==a&&(r=Mt(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&s)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Vt(10,t):e;case 10:return 0===(e=jt(192&~t))?Vt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&0===(e=jt(4186112&~t))&&(e=512),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function jt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/$t|0)|0},Ht=Math.log,$t=Math.LN2,Wt=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,Gt=!0;function Qt(e,t,n,r){Me||De();var i=Xt,o=Me;Me=!0;try{Pe(i,e,t,n,r)}finally{(Me=o)||Fe()}}function Yt(e,t,n,r){Kt(Wt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}xr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Te(r);if(null!==(i=Jr(i))){var o=Qe(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Ye(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return xr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,ln,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=an(hn),dn=i({},hn,{view:0,detail:0}),pn=an(dn),mn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(un=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=un=0,cn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=an(mn),yn=an(i({},mn,{dataTransfer:0})),vn=an(i({},dn,{relatedTarget:0})),bn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=an(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),En=an(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function In(){return Tn}var Nn=an(i({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Cn=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),On=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=an(i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],Pn=h&&"CompositionEvent"in window,Dn=null;h&&"documentMode"in document&&(Dn=document.documentMode);var Ln=h&&"TextEvent"in window&&!Dn,Mn=h&&(!Pn||Dn&&8<Dn&&11>=Dn),Un=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Hn(e,t,n,r){Oe(r),0<(t=Pr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Wn=null;function Kn(e){Tr(e,0)}function Gn(e){if(X(ei(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(h){var Xn;if(h){var Jn="oninput"in document;if(!Jn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Jn="function"==typeof Zn.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){$n&&($n.detachEvent("onpropertychange",tr),Wn=$n=null)}function tr(e){if("value"===e.propertyName&&Gn(Wn)){var t=[];if(Hn(t,Wn,e,Te(e)),e=Kn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,Fe()}}}}function nr(e,t,n){"focusin"===e?(er(),Wn=n,($n=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Wn)}function ir(e,t){if("click"===e)return Gn(t)}function or(e,t){if("input"===e||"change"===e)return Gn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ar=Object.prototype.hasOwnProperty;function ur(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ar.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=h&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==mr||mr!==J(r)||(r="selectionStart"in(r=mr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Pr(gr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Pt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<wr.length;Er++)Rt.set(wr[Er],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_r=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,u,l){if(Ge.apply(this,arguments),qe){if(!qe)throw Error(s(198));var c=He;qe=!1,He=null,$e||($e=!0,We=c)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;kr(i,a,l),o=u}else for(s=0;s<r.length;s++){if(u=(a=r[s]).instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;kr(i,a,l),o=u}}}if($e)throw e=We,$e=!1,We=null,e}function Ir(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(Or(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){e[Nr]||(e[Nr]=!0,a.forEach((function(t){_r.has(t)||Ar(t,!1,e,null),Ar(t,!0,e,null)})))}function Ar(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&_r.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=ni(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Or(o,e,i,t),s.add(a))}function Or(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function xr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=Jr(a)))return;if(5===(u=s.tag)||6===u){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e();Ue=!0;try{Le(e,t,n)}finally{Ue=!1,Fe()}}((function(){var r=o,i=Te(n),s=[];e:{var a=xt.get(e);if(void 0!==a){var u=fn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Nt:case Ct:case At:u=bn;break;case Ot:u=On;break;case"scroll":u=pn;break;case"wheel":u=xn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!=(4&t),h=!c&&"scroll"===e,f=c?null!==a?a+"Capture":null:a;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&null!=(m=Ve(p,f))&&c.push(Rr(p,m,d))),h)break;p=p.return}0<c.length&&(a=new u(a,l,null,n,i),s.push({event:a,listeners:c}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(l=n.relatedTarget||n.fromElement)||!Jr(l)&&!l[Yr])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?Jr(l):null)&&(l!==(h=Qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=gn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?a:ei(u),d=null==l?a:ei(l),(a=new c(m,p+"leave",u,n,i)).target=h,a.relatedTarget=d,m=null,Jr(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,m=c),h=m,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Dr(d))p++;for(d=0,m=f;m;m=Dr(m))d++;for(;0<p-d;)c=Dr(c),p--;for(;0<d-p;)f=Dr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Dr(c),f=Dr(f)}c=null}else c=null;null!==u&&Lr(s,a,u,c,!1),null!==l&&null!==h&&Lr(s,h,l,c,!0)}if("select"===(u=(a=r?ei(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var g=Qn;else if(qn(a))if(Yn)g=or;else{g=rr;var y=nr}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ie(a,"number",a.value)),y=r?ei(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(s,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(s,n,i)}var v;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,zn=!0)),0<(y=Pr(r,b)).length&&(b=new En(b,e,null,n,i),s.push({event:b,listeners:y}),(v||null!==(v=jn(n)))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=nn(),tn=en=Zt=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Pr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v)}Tr(s,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ve(e,n))&&r.unshift(Rr(e,o,i)),null!=(o=Ve(e,t))&&r.push(Rr(e,o,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(u=Ve(n,o))&&s.unshift(Rr(n,u,a)):i||null!=(u=Ve(n,o))&&s.push(Rr(n,u,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Mr(){}var Ur=null,Fr=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function jr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"==typeof setTimeout?setTimeout:void 0,Br="function"==typeof clearTimeout?clearTimeout:void 0;function qr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Hr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Wr=0,Kr=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Kr,Qr="__reactProps$"+Kr,Yr="__reactContainer$"+Kr,Xr="__reactEvents$"+Kr;function Jr(e){var t=e[Gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[Gr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Gr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function Zr(e){return!(e=e[Gr]||e[Yr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ti(e){return e[Qr]||null}function ni(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function si(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function ai(e,t){ii++,ri[ii]=e.current,e.current=t}var ui={},li=oi(ui),ci=oi(!1),hi=ui;function fi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function di(e){return null!=e.childContextTypes}function pi(){si(ci),si(li)}function mi(e,t,n){if(li.current!==ui)throw Error(s(168));ai(li,t),ai(ci,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,K(t)||"Unknown",o));return i({},n,r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,hi=li.current,ai(li,e),ai(ci,ci.current),!0}function vi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=gi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,si(ci),si(li),ai(li,e)):si(ci),ai(ci,n)}var bi=null,wi=null,Ei=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,_i=o.unstable_cancelCallback,ki=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Ii=o.unstable_now,Ni=o.unstable_getCurrentPriorityLevel,Ci=o.unstable_ImmediatePriority,Ai=o.unstable_UserBlockingPriority,Oi=o.unstable_NormalPriority,xi=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Pi={},Di=void 0!==Ti?Ti:function(){},Li=null,Mi=null,Ui=!1,Fi=Ii(),Vi=1e4>Fi?Ii:function(){return Ii()-Fi};function ji(){switch(Ni()){case Ci:return 99;case Ai:return 98;case Oi:return 97;case xi:return 96;case Ri:return 95;default:throw Error(s(332))}}function zi(e){switch(e){case 99:return Ci;case 98:return Ai;case 97:return Oi;case 96:return xi;case 95:return Ri;default:throw Error(s(332))}}function Bi(e,t){return e=zi(e),Ei(e,t)}function qi(e,t,n){return e=zi(e),Si(e,t,n)}function Hi(){if(null!==Mi){var e=Mi;Mi=null,_i(e)}$i()}function $i(){if(!Ui&&null!==Li){Ui=!0;var e=0;try{var t=Li;Bi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Si(Ci,Hi),t}finally{Ui=!1}}}var Wi=E.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Gi=oi(null),Qi=null,Yi=null,Xi=null;function Ji(){Xi=Yi=Qi=null}function Zi(e){var t=Gi.current;si(Gi),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){Qi=e,Xi=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ps=!0),e.firstContext=null)}function no(e,t){if(Xi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Xi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===Qi)throw Error(s(308));Yi=t,Qi.dependencies={lanes:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function so(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ao(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lo(e,t,n,r){var o=e.updateQueue;ro=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==a&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=l)}}if(null!==s){for(f=o.baseState,a=0,h=c=l=null;;){u=s.lane;var d=s.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(u=t,d=n,m.tag){case 1:if("function"==typeof(p=m.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=m.payload)?p.call(d,f,u):p))break e;f=i({},f,u);break e;case 2:ro=!0}}null!==s.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[s]:u.push(s))}else d={eventTime:d,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(c=h=d,l=f):h=h.next=d,a|=u;if(null===(s=s.next)){if(null===(u=o.shared.pending))break;s=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=h,La|=a,e.lanes=a,e.memoizedState=f}}function co(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var ho=(new r.Component).refs;function fo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=su(),i=au(e),o=so(r,i);o.payload=t,null!=n&&(o.callback=n),ao(e,o),uu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=su(),i=au(e),o=so(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),ao(e,o),uu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=su(),r=au(e),i=so(n,r);i.tag=2,null!=t&&(i.callback=t),ao(e,i),uu(e,r,n)}};function mo(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function go(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=di(t)?hi:li.current,o=(r=null!=(r=t.contextTypes))?fi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function vo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,io(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=di(t)?hi:li.current,i.context=fi(e,o)),lo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),lo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ju(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Hu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=zu(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Bu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Hu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=zu(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case _:return(t=$u(t,e.mode,n)).return=e,t}if(bo(t)||B(t))return(t=Bu(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===k?h(e,t,n.props.children,r,i):l(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null}if(bo(n)||B(n))return null!==i?null:h(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===k?h(t,e,r.props.children,i,r.key):l(t,e,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||B(r))return h(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function m(i,s,a,u){for(var l=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=d(i,h,a[m],u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===c?l=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),l;if(null===h){for(;m<a.length;m++)null!==(h=f(i,a[m],u))&&(s=o(h,s,m),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?l=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),l}function g(i,a,u,l){var c=B(u);if("function"!=typeof c)throw Error(s(150));if(null==(u=c.call(u)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,y=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=d(i,m,v.value,l);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=f(i,v.value,l))&&(a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return c}for(m=r(i,m);!v.done;g++,v=u.next())null!==(v=p(m,i,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"==typeof o&&null!==o&&o.type===k&&null===o.key;l&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case S:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===k){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=wo(e,l,o),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===k?((r=Bu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=zu(o.type,o.key,o.props,null,e.mode,u)).ref=wo(e,r,o),u.return=e,e=u)}return a(e);case _:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$u(o,e.mode,u)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Hu(o,e.mode,u)).return=e,e=r),a(e);if(bo(o))return m(e,r,o,u);if(B(o))return g(e,r,o,u);if(c&&Eo(e,o),void 0===o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,K(e.type)||"Component"))}return n(e,r)}}var _o=So(!0),ko=So(!1),To={},Io=oi(To),No=oi(To),Co=oi(To);function Ao(e){if(e===To)throw Error(s(174));return e}function Oo(e,t){switch(ai(Co,t),ai(No,e),ai(Io,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Io),ai(Io,t)}function xo(){si(Io),si(No),si(Co)}function Ro(e){Ao(Co.current);var t=Ao(Io.current),n=de(t,e.type);t!==n&&(ai(No,e),ai(Io,n))}function Po(e){No.current===e&&(si(Io),si(No))}var Do=oi(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=null,Uo=null,Fo=!1;function Vo(e,t){var n=Fu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function jo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function zo(e){if(Fo){var t=Uo;if(t){var n=t;if(!jo(e,t)){if(!(t=Hr(n.nextSibling))||!jo(e,t))return e.flags=-1025&e.flags|2,Fo=!1,void(Mo=e);Vo(Mo,n)}Mo=e,Uo=Hr(t.firstChild)}else e.flags=-1025&e.flags|2,Fo=!1,Mo=e}}function Bo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function qo(e){if(e!==Mo)return!1;if(!Fo)return Bo(e),Fo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!jr(t,e.memoizedProps))for(t=Uo;t;)Vo(e,t),t=Hr(t.nextSibling);if(Bo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Uo=Hr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Uo=null}}else Uo=Mo?Hr(e.stateNode.nextSibling):null;return!0}function Ho(){Uo=Mo=null,Fo=!1}var $o=[];function Wo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Ko=E.ReactCurrentDispatcher,Go=E.ReactCurrentBatchConfig,Qo=0,Yo=null,Xo=null,Jo=null,Zo=!1,es=!1;function ts(){throw Error(s(321))}function ns(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function rs(e,t,n,r,i,o){if(Qo=o,Yo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ko.current=null===e||null===e.memoizedState?As:Os,e=n(r,i),es){o=0;do{if(es=!1,!(25>o))throw Error(s(301));o+=1,Jo=Xo=null,t.updateQueue=null,Ko.current=xs,e=n(r,i)}while(es)}if(Ko.current=Cs,t=null!==Xo&&null!==Xo.next,Qo=0,Jo=Xo=Yo=null,Zo=!1,t)throw Error(s(300));return e}function is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Jo?Yo.memoizedState=Jo=e:Jo=Jo.next=e,Jo}function os(){if(null===Xo){var e=Yo.alternate;e=null!==e?e.memoizedState:null}else e=Xo.next;var t=null===Jo?Yo.memoizedState:Jo.next;if(null!==t)Jo=t,Xo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Xo=e).memoizedState,baseState:Xo.baseState,baseQueue:Xo.baseQueue,queue:Xo.queue,next:null},null===Jo?Yo.memoizedState=Jo=e:Jo=Jo.next=e}return Jo}function ss(e,t){return"function"==typeof t?t(e):t}function as(e){var t=os(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Xo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=a=o=null,l=i;do{var c=l.lane;if((Qo&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(a=u=h,o=r):u=u.next=h,Yo.lanes|=c,La|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=a,sr(r,t.memoizedState)||(Ps=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function us(e){var t=os(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);sr(o,t.memoizedState)||(Ps=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ls(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Qo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(s(350))}function cs(e,t,n,r){var i=Na;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),u=Ko.current,l=u.useState((function(){return ls(i,t,n)})),c=l[1],h=l[0];l=Jo;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,m=f.source;f=f.subscribe;var g=Yo;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=o(t._source);if(!sr(a,e)){e=n(t._source),sr(h,e)||(c(e),e=au(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var u=31-qt(s),l=1<<u;r[u]|=e,s&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=au(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),sr(p,n)&&sr(m,t)&&sr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ss,lastRenderedState:h}).dispatch=c=Ns.bind(null,Yo,e),l.queue=e,l.baseQueue=null,h=ls(i,t,n),l.memoizedState=l.baseState=h),h}function hs(e,t,n){return cs(os(),e,t,n)}function fs(e){var t=is();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e}).dispatch=Ns.bind(null,Yo,e),[t.memoizedState,e]}function ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Yo.updateQueue)?(t={lastEffect:null},Yo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ps(e){return e={current:e},is().memoizedState=e}function ms(){return os().memoizedState}function gs(e,t,n,r){var i=is();Yo.flags|=e,i.memoizedState=ds(1|t,n,void 0,void 0===r?null:r)}function ys(e,t,n,r){var i=os();r=void 0===r?null:r;var o=void 0;if(null!==Xo){var s=Xo.memoizedState;if(o=s.destroy,null!==r&&ns(r,s.deps))return void ds(t,n,o,r)}Yo.flags|=e,i.memoizedState=ds(1|t,n,o,r)}function vs(e,t){return gs(516,4,e,t)}function bs(e,t){return ys(516,4,e,t)}function ws(e,t){return ys(4,2,e,t)}function Es(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ss(e,t,n){return n=null!=n?n.concat([e]):null,ys(4,2,Es.bind(null,t,e),n)}function _s(){}function ks(e,t){var n=os();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ns(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ts(e,t){var n=os();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ns(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Is(e,t){var n=ji();Bi(98>n?98:n,(function(){e(!0)})),Bi(97<n?97:n,(function(){var n=Go.transition;Go.transition=1;try{e(!1),t()}finally{Go.transition=n}}))}function Ns(e,t,n){var r=su(),i=au(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Yo||null!==s&&s===Yo)es=Zo=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=s(a,n);if(o.eagerReducer=s,o.eagerState=u,sr(u,a))return}catch(e){}uu(e,i,r)}}var Cs={readContext:no,useCallback:ts,useContext:ts,useEffect:ts,useImperativeHandle:ts,useLayoutEffect:ts,useMemo:ts,useReducer:ts,useRef:ts,useState:ts,useDebugValue:ts,useDeferredValue:ts,useTransition:ts,useMutableSource:ts,useOpaqueIdentifier:ts,unstable_isNewReconciler:!1},As={readContext:no,useCallback:function(e,t){return is().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:vs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,gs(4,2,Es.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4,2,e,t)},useMemo:function(e,t){var n=is();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=is();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ns.bind(null,Yo,e),[r.memoizedState,e]},useRef:ps,useState:fs,useDebugValue:_s,useDeferredValue:function(e){var t=fs(e),n=t[0],r=t[1];return vs((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=fs(!1),t=e[0];return ps(e=Is.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=is();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},cs(r,e,t,n)},useOpaqueIdentifier:function(){if(Fo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Wr++).toString(36))),Error(s(355))})),n=fs(t)[1];return 0==(2&Yo.mode)&&(Yo.flags|=516,ds(5,(function(){n("r:"+(Wr++).toString(36))}),void 0,null)),t}return fs(t="r:"+(Wr++).toString(36)),t},unstable_isNewReconciler:!1},Os={readContext:no,useCallback:ks,useContext:no,useEffect:bs,useImperativeHandle:Ss,useLayoutEffect:ws,useMemo:Ts,useReducer:as,useRef:ms,useState:function(){return as(ss)},useDebugValue:_s,useDeferredValue:function(e){var t=as(ss),n=t[0],r=t[1];return bs((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=as(ss)[0];return[ms().current,e]},useMutableSource:hs,useOpaqueIdentifier:function(){return as(ss)[0]},unstable_isNewReconciler:!1},xs={readContext:no,useCallback:ks,useContext:no,useEffect:bs,useImperativeHandle:Ss,useLayoutEffect:ws,useMemo:Ts,useReducer:us,useRef:ms,useState:function(){return us(ss)},useDebugValue:_s,useDeferredValue:function(e){var t=us(ss),n=t[0],r=t[1];return bs((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=us(ss)[0];return[ms().current,e]},useMutableSource:hs,useOpaqueIdentifier:function(){return us(ss)[0]},unstable_isNewReconciler:!1},Rs=E.ReactCurrentOwner,Ps=!1;function Ds(e,t,n,r){t.child=null===e?ko(t,null,n,r):_o(t,e.child,n,r)}function Ls(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=rs(e,t,n,r,o,i),null===e||Ps?(t.flags|=1,Ds(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Zs(e,t,i))}function Ms(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||Vu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Us(e,t,s,r,i,o))}return s=e.child,0==(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?Zs(e,t,o):(t.flags|=1,(e=ju(s,r)).ref=t.ref,e.return=t,t.child=e)}function Us(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Ps=!1,0==(o&i))return t.lanes=e.lanes,Zs(e,t,o);0!=(16384&e.flags)&&(Ps=!0)}return js(e,t,n,r,o)}function Fs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},gu(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},gu(0,e),null;t.memoizedState={baseLanes:0},gu(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,gu(0,r);return Ds(e,t,i,n),t.child}function Vs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function js(e,t,n,r,i){var o=di(n)?hi:li.current;return o=fi(t,o),to(t,i),n=rs(e,t,n,r,o,i),null===e||Ps?(t.flags|=1,Ds(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Zs(e,t,i))}function zs(e,t,n,r,i){if(di(n)){var o=!0;yi(t)}else o=!1;if(to(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),go(t,n,r),vo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,l=n.contextType;l="object"==typeof l&&null!==l?no(l):fi(t,l=di(n)?hi:li.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||u!==l)&&yo(t,s,r,l),ro=!1;var f=t.memoizedState;s.state=f,lo(t,r,s,i),u=t.memoizedState,a!==r||f!==u||ci.current||ro?("function"==typeof c&&(fo(t,n,c,r),u=t.memoizedState),(a=ro||mo(t,n,a,r,f,u,l))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4)):("function"==typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,oo(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Ki(t.type,a),s.props=l,h=t.pendingProps,f=s.context,u="object"==typeof(u=n.contextType)&&null!==u?no(u):fi(t,u=di(n)?hi:li.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||f!==u)&&yo(t,s,r,u),ro=!1,f=t.memoizedState,s.state=f,lo(t,r,s,i);var p=t.memoizedState;a!==h||f!==p||ci.current||ro?("function"==typeof d&&(fo(t,n,d,r),p=t.memoizedState),(l=ro||mo(t,n,l,r,f,p,u))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=u,r=l):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Bs(e,t,n,r,o,i)}function Bs(e,t,n,r,i,o){Vs(e,t);var s=0!=(64&t.flags);if(!r&&!s)return i&&vi(t,n,!1),Zs(e,t,o);r=t.stateNode,Rs.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,a,o)):Ds(e,t,a,o),t.memoizedState=r.state,i&&vi(t,n,!0),t.child}function qs(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),Oo(e,t.containerInfo)}var Hs,$s,Ws,Ks={dehydrated:null,retryLane:0};function Gs(e,t,n){var r,i=t.pendingProps,o=Do.current,s=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ai(Do,1&o),null===e?(void 0!==i.fallback&&zo(t),e=i.children,o=i.fallback,s?(e=Qs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ks,e):"number"==typeof i.unstable_expectedLoadTime?(e=Qs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ks,t.lanes=33554432,e):((n=qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=function(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0==(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=ju(s,a),null!==e?r=ju(e,r):(r=Bu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Ks,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=ju(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Qs(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=qu(t,i,0,null),n=Bu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ys(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Xs(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function Js(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ds(e,t,r.children,n),0!=(2&(r=Do.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ys(e,n);else if(19===e.tag)Ys(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ai(Do,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xs(t,!0,n,null,o,t.lastEffect);break;case"together":Xs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),La|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=ju(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ju(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ea(e,t){if(!Fo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ta(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(t.type)&&pi(),null;case 3:return xo(),si(ci),si(li),Wo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Po(t);var o=Ao(Co.current);if(n=t.type,null!==e&&null!=t.stateNode)$s(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Ao(Io.current),qo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Gr]=t,r[Qr]=a,n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Ir(Sr[e],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":ee(r,a),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ir("invalid",r);break;case"textarea":ue(r,a),Ir("invalid",r)}for(var l in _e(n,a),e=null,a)a.hasOwnProperty(l)&&(o=a[l],"children"===l?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Ir("scroll",r));switch(n){case"input":Y(r),re(r,a,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Gr]=t,e[Qr]=r,Hs(e,t),t.stateNode=e,l=ke(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),o=r;break;case"iframe":case"object":case"embed":Ir("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Ir(Sr[o],e);o=r;break;case"source":Ir("error",e),o=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),o=r;break;case"details":Ir("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Ir("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":ue(e,r),o=ae(e,r),Ir("invalid",e);break;default:o=r}_e(n,o);var c=o;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?Ee(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"==typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Ir("scroll",e):null!=h&&w(e,a,h,l))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Mr)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ws(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));n=Ao(Co.current),Ao(Io.current),qo(t)?(r=t.stateNode,n=t.memoizedProps,r[Gr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Gr]=t,t.stateNode=r)}return null;case 13:return si(Do),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&qo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Do.current)?0===Ra&&(Ra=3):(0!==Ra&&3!==Ra||(Ra=4),null===Na||0==(134217727&La)&&0==(134217727&Ma)||fu(Na,Aa))),(r||n)&&(t.flags|=4),null);case 4:return xo(),null===e&&Cr(t.stateNode.containerInfo),null;case 10:return Zi(t),null;case 17:return di(t.type)&&pi(),null;case 19:if(si(Do),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(l=r.rendering))if(a)ea(r,!1);else{if(0!==Ra||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Lo(e))){for(t.flags|=64,ea(r,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ai(Do,1&Do.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>ja&&(t.flags|=64,a=!0,ea(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Lo(l))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ea(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Fo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>ja&&1073741824!==n&&(t.flags|=64,a=!0,ea(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=Do.current,ai(Do,a?1&t|2:1&t),n):null;case 23:case 24:return yu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function na(e){switch(e.tag){case 1:di(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(xo(),si(ci),si(li),Wo(),0!=(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Po(e),null;case 13:return si(Do),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(Do),null;case 4:return xo(),null;case 10:return Zi(e),null;case 23:case 24:return yu(),null;default:return null}}function ra(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ia(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Hs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$s=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ao(Io.current);var s,a=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Mr)}for(h in _e(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var l=o[h];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var c=r[h];if(l=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Ir("scroll",e),a||l===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Ws=function(e,t,n,r){n!==r&&(t.flags|=4)};var oa="function"==typeof WeakMap?WeakMap:Map;function sa(e,t,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ha||(Ha=!0,$a=r),ia(0,t)},n}function aa(e,t,n){(n=so(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ia(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Wa?Wa=new Set([this]):Wa.add(this),ia(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ua="function"==typeof WeakSet?WeakSet:Set;function la(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Du(e,t)}else t.current=null}function ca(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ki(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(s(163))}function ha(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(xu(n,e),Ou(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ki(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&co(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}co(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(s(163))}function fa(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function da(e,t){if(wi&&"function"==typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(bi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))xu(t,n);else{r=t;try{i()}catch(e){Du(r,e)}}n=n.next}while(n!==e)}break;case 1:if(la(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Du(t,e)}break;case 5:la(t);break;case 4:ba(e,t)}}function pa(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ma(e){return 5===e.tag||3===e.tag||4===e.tag}function ga(e){e:{for(var t=e.return;null!==t;){if(ma(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ya(e,n,t):va(e,n,t)}function ya(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(ya(e,t,n),e=e.sibling;null!==e;)ya(e,t,n),e=e.sibling}function va(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(va(e,t,n),e=e.sibling;null!==e;)va(e,t,n),e=e.sibling}function ba(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,u=i,l=u;;)if(da(a,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(a=n,u=i.stateNode,8===a.nodeType?a.parentNode.removeChild(u):a.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(da(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function wa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var a=o[i],u=o[i+1];"style"===a?Ee(n,u):"dangerouslySetInnerHTML"===a?ge(n,u):"children"===a?ye(n,u):w(n,a,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Va=Vi(),fa(t.child,!0)),void Ea(t);case 19:return void Ea(t);case 17:return;case 23:case 24:return void fa(t,null!==t.memoizedState)}throw Error(s(163))}function Ea(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ua),t.forEach((function(t){var r=Mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Sa(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var _a=Math.ceil,ka=E.ReactCurrentDispatcher,Ta=E.ReactCurrentOwner,Ia=0,Na=null,Ca=null,Aa=0,Oa=0,xa=oi(0),Ra=0,Pa=null,Da=0,La=0,Ma=0,Ua=0,Fa=null,Va=0,ja=1/0;function za(){ja=Vi()+500}var Ba,qa=null,Ha=!1,$a=null,Wa=null,Ka=!1,Ga=null,Qa=90,Ya=[],Xa=[],Ja=null,Za=0,eu=null,tu=-1,nu=0,ru=0,iu=null,ou=!1;function su(){return 0!=(48&Ia)?Vi():-1!==tu?tu:tu=Vi()}function au(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===ji()?1:2;if(0===nu&&(nu=Da),0!==Wi.transition){0!==ru&&(ru=null!==Fa?Fa.pendingLanes:0),e=nu;var t=4186112&~ru;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=ji(),e=Vt(0!=(4&Ia)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nu)}function uu(e,t,n){if(50<Za)throw Za=0,eu=null,Error(s(185));if(null===(e=lu(e,t)))return null;Bt(e,t,n),e===Na&&(Ma|=t,4===Ra&&fu(e,Aa));var r=ji();1===t?0!=(8&Ia)&&0==(48&Ia)?du(e):(cu(e,n),0===Ia&&(za(),Hi())):(0==(4&Ia)||98!==r&&99!==r||(null===Ja?Ja=new Set([e]):Ja.add(e)),cu(e,n)),Fa=e}function lu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function cu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-qt(a),l=1<<u,c=o[u];if(-1===c){if(0==(l&r)||0!=(l&i)){c=t,Mt(l);var h=Lt;o[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);a&=~l}if(r=Ut(e,e===Na?Aa:0),t=Lt,0===r)null!==n&&(n!==Pi&&_i(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Pi&&_i(n)}15===t?(n=du.bind(null,e),null===Li?(Li=[n],Mi=Si(Ci,$i)):Li.push(n),n=Pi):n=14===t?qi(99,du.bind(null,e)):qi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),hu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function hu(e){if(tu=-1,ru=nu=0,0!=(48&Ia))throw Error(s(327));var t=e.callbackNode;if(Au()&&e.callbackNode!==t)return null;var n=Ut(e,e===Na?Aa:0);if(0===n)return null;var r=n,i=Ia;Ia|=16;var o=wu();for(Na===e&&Aa===r||(za(),vu(e,r));;)try{_u();break}catch(t){bu(e,t)}if(Ji(),ka.current=o,Ia=i,null!==Ca?r=0:(Na=null,Aa=0,r=Ra),0!=(Da&Ma))vu(e,0);else if(0!==r){if(2===r&&(Ia|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=Ft(e))&&(r=Eu(e,n))),1===r)throw t=Pa,vu(e,0),fu(e,n),cu(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:Iu(e);break;case 3:if(fu(e,n),(62914560&n)===n&&10<(r=Va+500-Vi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){su(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(Iu.bind(null,e),r);break}Iu(e);break;case 4:if(fu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-qt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_a(n/1960))-n)){e.timeoutHandle=zr(Iu.bind(null,e),n);break}Iu(e);break;case 5:Iu(e);break;default:throw Error(s(329))}}return cu(e,Vi()),e.callbackNode===t?hu.bind(null,e):null}function fu(e,t){for(t&=~Ua,t&=~Ma,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function du(e){if(0!=(48&Ia))throw Error(s(327));if(Au(),e===Na&&0!=(e.expiredLanes&Aa)){var t=Aa,n=Eu(e,t);0!=(Da&Ma)&&(n=Eu(e,t=Ut(e,t)))}else n=Eu(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ia|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=Ft(e))&&(n=Eu(e,t))),1===n)throw n=Pa,vu(e,0),fu(e,t),cu(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Iu(e),cu(e,Vi()),null}function pu(e,t){var n=Ia;Ia|=1;try{return e(t)}finally{0===(Ia=n)&&(za(),Hi())}}function mu(e,t){var n=Ia;Ia&=-2,Ia|=8;try{return e(t)}finally{0===(Ia=n)&&(za(),Hi())}}function gu(e,t){ai(xa,Oa),Oa|=t,Da|=t}function yu(){Oa=xa.current,si(xa)}function vu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Br(n)),null!==Ca)for(n=Ca.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:xo(),si(ci),si(li),Wo();break;case 5:Po(r);break;case 4:xo();break;case 13:case 19:si(Do);break;case 10:Zi(r);break;case 23:case 24:yu()}n=n.return}Na=e,Ca=ju(e.current,null),Aa=Oa=Da=t,Ra=0,Pa=null,Ua=Ma=La=0}function bu(e,t){for(;;){var n=Ca;try{if(Ji(),Ko.current=Cs,Zo){for(var r=Yo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Zo=!1}if(Qo=0,Jo=Xo=Yo=null,es=!1,Ta.current=null,null===n||null===n.return){Ra=1,Pa=t,Ca=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=Aa,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var l=u;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Do.current),f=s;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var y=new Set;y.add(l),f.updateQueue=y}else g.add(l);if(0==(2&f.mode)){if(f.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=so(-1,1);v.tag=2,ao(a,v)}a.lanes|=1;break e}u=void 0,a=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new oa,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(a)){u.add(a);var w=Lu.bind(null,o,l,a);l.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((K(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ra&&(Ra=2),u=ra(u,a),f=s;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,uo(f,sa(0,o,t));break e;case 1:o=u;var E=f.type,S=f.stateNode;if(0==(64&f.flags)&&("function"==typeof E.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Wa||!Wa.has(S)))){f.flags|=4096,t&=-t,f.lanes|=t,uo(f,aa(f,o,t));break e}}f=f.return}while(null!==f)}Tu(n)}catch(e){t=e,Ca===n&&null!==n&&(Ca=n=n.return);continue}break}}function wu(){var e=ka.current;return ka.current=Cs,null===e?Cs:e}function Eu(e,t){var n=Ia;Ia|=16;var r=wu();for(Na===e&&Aa===t||vu(e,t);;)try{Su();break}catch(t){bu(e,t)}if(Ji(),Ia=n,ka.current=r,null!==Ca)throw Error(s(261));return Na=null,Aa=0,Ra}function Su(){for(;null!==Ca;)ku(Ca)}function _u(){for(;null!==Ca&&!ki();)ku(Ca)}function ku(e){var t=Ba(e.alternate,e,Oa);e.memoizedProps=e.pendingProps,null===t?Tu(e):Ca=t,Ta.current=null}function Tu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ta(n,t,Oa)))return void(Ca=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Oa)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=na(t)))return n.flags&=2047,void(Ca=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ca=t);Ca=t=e}while(null!==t);0===Ra&&(Ra=5)}function Iu(e){var t=ji();return Bi(99,Nu.bind(null,e,t)),null}function Nu(e,t){do{Au()}while(null!==Ga);if(0!=(48&Ia))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-qt(o),c=1<<l;i[l]=0,a[l]=-1,u[l]=-1,o&=~c}if(null!==Ja&&0==(24&r)&&Ja.has(e)&&Ja.delete(e),e===Na&&(Ca=Na=null,Aa=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ia,Ia|=32,Ta.current=null,Ur=Gt,dr(a=fr())){if("selectionStart"in a)u={start:a.selectionStart,end:a.selectionEnd};else e:if(u=(u=a.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(e){u=null;break e}var h=0,f=-1,d=-1,p=0,m=0,g=a,y=null;t:for(;;){for(var v;g!==u||0!==o&&3!==g.nodeType||(f=h+o),g!==l||0!==c&&3!==g.nodeType||(d=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===a)break t;if(y===u&&++p===o&&(f=h),y===l&&++m===c&&(d=h),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Fr={focusedElem:a,selectionRange:u},Gt=!1,iu=null,ou=!1,qa=r;do{try{Cu()}catch(e){if(null===qa)throw Error(s(330));Du(qa,e),qa=qa.nextEffect}}while(null!==qa);iu=null,qa=r;do{try{for(a=e;null!==qa;){var b=qa.flags;if(16&b&&ye(qa.stateNode,""),128&b){var w=qa.alternate;if(null!==w){var E=w.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&b){case 2:ga(qa),qa.flags&=-3;break;case 6:ga(qa),qa.flags&=-3,wa(qa.alternate,qa);break;case 1024:qa.flags&=-1025;break;case 1028:qa.flags&=-1025,wa(qa.alternate,qa);break;case 4:wa(qa.alternate,qa);break;case 8:ba(a,u=qa);var S=u.alternate;pa(u),null!==S&&pa(S)}qa=qa.nextEffect}}catch(e){if(null===qa)throw Error(s(330));Du(qa,e),qa=qa.nextEffect}}while(null!==qa);if(E=Fr,w=fr(),b=E.focusedElem,a=E.selectionRange,w!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==a&&dr(b)&&(w=a.start,void 0===(E=a.end)&&(E=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(E,b.value.length)):(E=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),u=b.textContent.length,S=Math.min(a.start,u),a=void 0===a.end?S:Math.min(a.end,u),!E.extend&&S>a&&(u=a,a=S,S=u),u=cr(b,S),o=cr(b,a),u&&o&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),S>a?(E.addRange(w),E.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),E.addRange(w))))),w=[];for(E=b;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(E=w[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Gt=!!Ur,Fr=Ur=null,e.current=n,qa=r;do{try{for(b=e;null!==qa;){var _=qa.flags;if(36&_&&ha(b,qa.alternate,qa),128&_){w=void 0;var k=qa.ref;if(null!==k){var T=qa.stateNode;switch(qa.tag){case 5:w=T;break;default:w=T}"function"==typeof k?k(w):k.current=w}}qa=qa.nextEffect}}catch(e){if(null===qa)throw Error(s(330));Du(qa,e),qa=qa.nextEffect}}while(null!==qa);qa=null,Di(),Ia=i}else e.current=n;if(Ka)Ka=!1,Ga=e,Qa=t;else for(qa=r;null!==qa;)t=qa.nextEffect,qa.nextEffect=null,8&qa.flags&&((_=qa).sibling=null,_.stateNode=null),qa=t;if(0===(r=e.pendingLanes)&&(Wa=null),1===r?e===eu?Za++:(Za=0,eu=e):Za=0,n=n.stateNode,wi&&"function"==typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(bi,n,void 0,64==(64&n.current.flags))}catch(e){}if(cu(e,Vi()),Ha)throw Ha=!1,e=$a,$a=null,e;return 0!=(8&Ia)||Hi(),null}function Cu(){for(;null!==qa;){var e=qa.alternate;ou||null===iu||(0!=(8&qa.flags)?Ze(qa,iu)&&(ou=!0):13===qa.tag&&Sa(e,qa)&&Ze(qa,iu)&&(ou=!0));var t=qa.flags;0!=(256&t)&&ca(e,qa),0==(512&t)||Ka||(Ka=!0,qi(97,(function(){return Au(),null}))),qa=qa.nextEffect}}function Au(){if(90!==Qa){var e=97<Qa?97:Qa;return Qa=90,Bi(e,Ru)}return!1}function Ou(e,t){Ya.push(t,e),Ka||(Ka=!0,qi(97,(function(){return Au(),null})))}function xu(e,t){Xa.push(t,e),Ka||(Ka=!0,qi(97,(function(){return Au(),null})))}function Ru(){if(null===Ga)return!1;var e=Ga;if(Ga=null,0!=(48&Ia))throw Error(s(331));var t=Ia;Ia|=32;var n=Xa;Xa=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(s(330));Du(o,e)}}for(n=Ya,Ya=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(s(330));Du(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ia=t,Hi(),!0}function Pu(e,t,n){ao(e,t=sa(0,t=ra(n,t),1)),t=su(),null!==(e=lu(e,1))&&(Bt(e,1,t),cu(e,t))}function Du(e,t){if(3===e.tag)Pu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Pu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Wa||!Wa.has(r))){var i=aa(n,e=ra(t,e),1);if(ao(n,i),i=su(),null!==(n=lu(n,1)))Bt(n,1,i),cu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Wa||!Wa.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Lu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=su(),e.pingedLanes|=e.suspendedLanes&n,Na===e&&(Aa&n)===n&&(4===Ra||3===Ra&&(62914560&Aa)===Aa&&500>Vi()-Va?vu(e,0):Ua|=n),cu(e,t)}function Mu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===ji()?1:2:(0===nu&&(nu=Da),0===(t=jt(62914560&~nu))&&(t=4194304))),n=su(),null!==(e=lu(e,t))&&(Bt(e,t,n),cu(e,n))}function Uu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Fu(e,t,n,r){return new Uu(e,t,n,r)}function Vu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ju(e,t){var n=e.alternate;return null===n?((n=Fu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zu(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Vu(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case k:return Bu(n.children,i,o,t);case M:a=8,i|=16;break;case T:a=8,i|=1;break;case I:return(e=Fu(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case O:return(e=Fu(13,n,t,i)).type=O,e.elementType=O,e.lanes=o,e;case x:return(e=Fu(19,n,t,i)).elementType=x,e.lanes=o,e;case U:return qu(n,i,o,t);case F:return(e=Fu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case N:a=10;break e;case C:a=9;break e;case A:a=11;break e;case R:a=14;break e;case P:a=16,r=null;break e;case D:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Fu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Bu(e,t,n,r){return(e=Fu(7,e,r,t)).lanes=n,e}function qu(e,t,n,r){return(e=Fu(23,e,r,t)).elementType=U,e.lanes=n,e}function Hu(e,t,n){return(e=Fu(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=Fu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Ku(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gu(e,t,n,r){var i=t.current,o=su(),a=au(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var l=n.type;if(di(l)){n=gi(n,l,u);break e}}n=u}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ao(i,t),uu(i,a,o),a}function Qu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Yu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xu(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}function Ju(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Wu(e,t,null!=n&&!0===n.hydrate),t=Fu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[Yr]=n.current,Cr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Qu(s);a.call(e)}}Gu(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ju(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Qu(s);u.call(e)}}mu((function(){Gu(t,s,e,i)}))}return Qu(s)}function tl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(s(200));return Ku(e,t,null,n)}Ba=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ci.current)Ps=!0;else{if(0==(n&r)){switch(Ps=!1,t.tag){case 3:qs(t),Ho();break;case 5:Ro(t);break;case 1:di(t.type)&&yi(t);break;case 4:Oo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ai(Gi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Gs(e,t,n):(ai(Do,1&Do.current),null!==(t=Zs(e,t,n))?t.sibling:null);ai(Do,1&Do.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Js(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ai(Do,Do.current),r)break;return null;case 23:case 24:return t.lanes=0,Fs(e,t,n)}return Zs(e,t,n)}Ps=0!=(16384&e.flags)}else Ps=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,li.current),to(t,n),i=rs(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,di(r)){var o=!0;yi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&fo(t,r,a,e),i.updater=po,t.stateNode=i,i._reactInternals=t,vo(t,r,e,n),t=Bs(null,t,r,!0,o,n)}else t.tag=0,Ds(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Vu(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(i),e=Ki(i,e),o){case 0:t=js(null,t,i,e,n);break e;case 1:t=zs(null,t,i,e,n);break e;case 11:t=Ls(null,t,i,e,n);break e;case 14:t=Ms(null,t,i,Ki(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,js(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,zs(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:if(qs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oo(e,t),lo(t,r,null,n),(r=t.memoizedState.element)===i)Ho(),t=Zs(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Uo=Hr(t.stateNode.containerInfo.firstChild),Mo=t,o=Fo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],$o.push(o);for(n=ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ds(e,t,r,n),Ho();t=t.child}return t;case 5:return Ro(t),null===e&&zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,jr(r,i)?a=null:null!==o&&jr(r,o)&&(t.flags|=16),Vs(e,t),Ds(e,t,a,n),t.child;case 6:return null===e&&zo(t),null;case 13:return Gs(e,t,n);case 4:return Oo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):Ds(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ls(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return Ds(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ds(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var u=t.type._context;if(ai(Gi,u._currentValue),u._currentValue=o,null!==a)if(u=a.value,0==(o=sr(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!ci.current){t=Zs(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){a=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===u.tag&&((c=so(-1,n&-n)).tag=2,ao(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),eo(u.return,n),l.lanes|=n;break}c=c.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Ds(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(i=no(i,o.unstable_observedBits)),t.flags|=1,Ds(e,t,r,n),t.child;case 14:return o=Ki(i=t.type,t.pendingProps),Ms(e,t,i,o=Ki(i.type,o),r,n);case 15:return Us(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,di(r)?(e=!0,yi(t)):e=!1,to(t,n),go(t,r,i),vo(t,r,i,n),Bs(null,t,r,!0,e,n);case 19:return Js(e,t,n);case 23:case 24:return Fs(e,t,n)}throw Error(s(156,t.tag))},Ju.prototype.render=function(e){Gu(e,this._internalRoot,null,null)},Ju.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Gu(null,e,null,(function(){t[Yr]=null}))},et=function(e){13===e.tag&&(uu(e,4,su()),Xu(e,4))},tt=function(e){13===e.tag&&(uu(e,67108864,su()),Xu(e,67108864))},nt=function(e){if(13===e.tag){var t=su(),n=au(e);uu(e,n,t),Xu(e,n)}},rt=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(s(90));X(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Re=pu,Pe=function(e,t,n,r,i){var o=Ia;Ia|=4;try{return Bi(98,e.bind(null,t,n,r,i))}finally{0===(Ia=o)&&(za(),Hi())}},De=function(){0==(49&Ia)&&(function(){if(null!==Ja){var e=Ja;Ja=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,cu(e,Vi())}))}Hi()}(),Au())},Le=function(e,t){var n=Ia;Ia|=2;try{return e(t)}finally{0===(Ia=n)&&(za(),Hi())}};var nl={Events:[Zr,ei,ti,Oe,xe,Au,{current:!1}]},rl={findFiberByHostInstance:Jr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},il={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{bi=ol.inject(il),wi=ol}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nl,t.createPortal=tl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ia;if(0!=(48&n))return e(t);Ia|=1;try{if(e)return Bi(99,e.bind(null,t))}finally{Ia=n,Hi()}},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(s(200));return el(null,e,t,!0,n)},t.render=function(e,t,n){if(!Zu(t))throw Error(s(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(s(40));return!!e._reactRootContainer&&(mu((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[Yr]=null}))})),!0)},t.unstable_batchedUpdates=pu,t.unstable_createPortal=function(e,t){return tl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return el(e,t,n,!1,r)},t.version="17.0.2"},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},2408:(e,t,n)=>{"use strict";var r=n(7418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),s=h("react.provider"),a=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),l=h("react.memo"),c=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:w.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return s=s(u=e),e=""===r?"."+I(u,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),N(s,t,n,"",(function(e){return e}))):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+I(a=e[l],l);u+=N(a,t,n,c,s)}else if("function"==typeof(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),l=0;!(a=e.next()).done;)u+=N(a=a.value,t,n,c=r+I(a,l++),s);else if("object"===a)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function x(){var e=O.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var o=r({},e.props),s=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];o.children=l}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return x().useCallback(e,t)},t.useContext=function(e,t){return x().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return x().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return x().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return x().useLayoutEffect(e,t)},t.useMemo=function(e,t){return x().useMemo(e,t)},t.useReducer=function(e,t,n){return x().useReducer(e,t,n)},t.useRef=function(e){return x().useRef(e)},t.useState=function(e){return x().useState(e)},t.version="17.0.2"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new C(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=T(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,s),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",m={};function g(){}function y(){}function v(){}var b={};u(b,o,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,o)&&(b=E);var S=v.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,o,s,a){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:O}}function O(){return{value:t,done:!0}}return y.prototype=v,u(S,"constructor",v),u(v,"constructor",y),y.displayName=u(v,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,a,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},_(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},_(S),u(S,a,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,h=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+v;try{g(!0,e)?E.postMessage(null):(m=!1,g=null)}catch(e){throw E.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,E.postMessage(null))},r=function(e,n){y=f((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,u=e[a];if(void 0!==s&&0>T(s,n))void 0!==u&&0>T(u,s)?(e[r]=u,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[a]=n,r=a}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],N=[],C=1,A=null,O=3,x=!1,R=!1,P=!1;function D(e){for(var t=_(N);null!==t;){if(null===t.callback)k(N);else{if(!(t.startTime<=e))break;k(N),t.sortIndex=t.expirationTime,S(I,t)}t=_(N)}}function L(e){if(P=!1,D(e),!R)if(null!==_(I))R=!0,n(M);else{var t=_(N);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,P&&(P=!1,i()),x=!0;var o=O;try{for(D(n),A=_(I);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=A.callback;if("function"==typeof s){A.callback=null,O=A.priorityLevel;var a=s(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?A.callback=a:A===_(I)&&k(I),D(n)}else k(I);A=_(I)}if(null!==A)var u=!0;else{var l=_(N);null!==l&&r(L,l.startTime-n),u=!1}return u}finally{A=null,O=o,x=!1}}var U=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||x||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return _(I)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:s,expirationTime:u=s+u,sortIndex:-1},s>a?(e.sortIndex=s,S(N,e),null===_(I)&&e===_(N)&&(P?i():P=!0,r(L,s-a))):(e.sortIndex=u,S(I,e),R||x||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";var e=n(7294),t=n(3935),r=(n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(7042),n(8309),n(1038),function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)});function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function a(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create;var u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|l>>6,d=63&l;u||(d=64,s||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var l=o<<2|s>>4;if(r.push(l),64!==a){var c=s<<4&240|a>>2;if(r.push(c),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function f(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function p(){var e=c();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}var m=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),g=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?y(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},e}();function y(e,t){return e.replace(v,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function b(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var s=o[i];if(!r.includes(s))return!1;var a=e[s],u=t[s];if(w(a)&&w(u)){if(!b(a,u))return!1}else if(a!==u)return!1}for(var l=0,c=r;l<c.length;l++)if(s=c[l],!n.includes(s))return!1;return!0}function w(e){return null!==e&&"object"==typeof e}function E(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function S(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function _(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=c^u&(l^c),s=1518500249):(o=u^l^c,s=1859775393):r<60?(o=u&l|c&(u|l),s=2400959708):(o=u^l^c,s=3395469782),i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295,h=c,c=l,l=4294967295&(u<<30|u>>>2),u=a,a=i;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();var k=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function T(){}function I(e){return e&&e._delegate?e._delegate:e}var N,C=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),A="[DEFAULT]",O=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new l;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:A})}catch(e){}try{for(var r=o(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var a=s(i.value,2),u=a[0],l=a[1],c=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:c});l.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=A),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var e;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(a(a([],s(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),s(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=A),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=A),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:i});try{for(var l=o(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var h=s(c.value,2),f=h[0],d=h[1];a===this.normalizeInstanceIdentifier(f)&&d.resolve(u)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return u},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var s=o(i),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===A?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=A),this.component?this.component.multipleInstances?e:A:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),x=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new O(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function R(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var P,D=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(P||(P={}));var L={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},M=P.INFO,U=((N={})[P.DEBUG]="log",N[P.VERBOSE]="log",N[P.INFO]="info",N[P.WARN]="warn",N[P.ERROR]="error",N),F=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=U[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,R(["["+i+"]  "+e.name+":"],n))}},V=function(){function e(e){this.name=e,this._logLevel=M,this._logHandler=F,this._userLogHandler=null,D.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in P))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?L[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,R([this,P.DEBUG],e)),this._logHandler.apply(this,R([this,P.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,R([this,P.VERBOSE],e)),this._logHandler.apply(this,R([this,P.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,R([this,P.INFO],e)),this._logHandler.apply(this,R([this,P.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,R([this,P.WARN],e)),this._logHandler.apply(this,R([this,P.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,R([this,P.ERROR],e)),this._logHandler.apply(this,R([this,P.ERROR],e))},e}();class j{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const z="@firebase/app",B=new V("@firebase/app"),q={[z]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},H=new Map,$=new Map;function W(e,t){try{e.container.addComponent(t)}catch(n){B.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function K(e){const t=e.name;if($.has(t))return B.debug(`There were multiple attempts to register component ${t}.`),!1;$.set(t,e);for(const t of H.values())W(t,e);return!0}function G(e,t){return e.container.getProvider(t)}const Q=new g("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Y{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new C("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Q.create("app-deleted",{appName:this._name})}}const X="9.0.0";function J(e="[DEFAULT]"){const t=H.get(e);if(!t)throw Q.create("no-app",{appName:e});return t}function Z(e,t,n){var r;let i=null!==(r=q[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void B.warn(e.join(" "))}K(new C(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}K(new C("platform-logger",(e=>new j(e)),"PRIVATE")),Z(z,"0.7.0",undefined),Z("fire-js",""),Z("firebase","9.0.0","app"),n(8674),n(5666);const ee=new g("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),te=new V("@firebase/auth");function ne(e,...t){te.logLevel<=P.ERROR&&te.error(`Auth (9.0.0): ${e}`,...t)}function re(e,...t){throw oe(e,...t)}function ie(e,...t){return oe(e,...t)}function oe(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ee.create(e,...t)}function se(e,t,...n){if(!e)throw oe(t,...n)}function ae(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ne(t),new Error(t)}function ue(e,t){e||ae(t)}const le=new Map;function ce(e){ue(e instanceof Function,"Expected a class definition");let t=le.get(e);return t?(ue(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,le.set(e,t),t)}function he(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function fe(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class de{constructor(e,t){this.shortDelay=e,this.longDelay=t,ue(t>e,"Short delay should be less than long delay!"),this.isMobile=h()||d()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===fe()||"https:"===fe()||f()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function pe(e,t){ue(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class me{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},ye=new de(3e4,6e4);function ve(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function be(e,t,n,r,i={}){return we(e,i,(()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=E(Object.assign({key:e.config.apiKey},o)).slice(1),a=new(me.headers());return a.set("Content-Type","application/json"),a.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&a.set("X-Firebase-Locale",e.languageCode),me.fetch()(Se(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function we(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ge),t);try{const t=new _e(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ke(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=(i.ok?o.errorMessage:o.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw ke(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===t)throw ke(e,"email-already-in-use",o);re(e,r[t]||t.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(t){if(t instanceof m)throw t;re(e,"network-request-failed")}}async function Ee(e,t,n,r,i={}){const o=await be(e,t,n,r,i);return"mfaPendingCredential"in o&&re(e,"multi-factor-auth-required",{serverResponse:o}),o}function Se(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?pe(e.config,i):`${e.config.apiScheme}://${i}`}class _e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ie(this.auth,"timeout"))),ye.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ke(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ie(e,t,r);return i.customData._tokenResponse=n,i}function Te(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Ie(e){return 1e3*Number(e)}function Ne(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ne("JWT malformed, contained fewer than 3 sections"),null;try{const e=function(e){try{return u.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return e?JSON.parse(e):(ne("Failed to decode base64 JWT payload"),null)}catch(e){return ne("Caught error parsing JWT payload as JSON",e),null}}async function Ce(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof m&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class Ae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class Oe{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Te(this.lastLoginAt),this.creationTime=Te(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xe(e){var t;const n=e.auth,r=await e.getIdToken(),o=await Ce(e,async function(e,t){return be(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));se(null==o?void 0:o.users.length,n,"internal-error");const s=o.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=i(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const h=e.isAnonymous,f=!(e.email&&s.passwordHash||(null==u?void 0:u.length)),d=!!h&&f,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Oe(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,p)}class Re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(void 0!==e.idToken,"internal-error"),se(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Ne(e);return se(t,"internal-error"),se(void 0!==t.exp,"internal-error"),se(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return se(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await we(e,{},(()=>{const n=E({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Se(e,r,"/v1/token",`key=${i}`);return me.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Re;return n&&(se("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(se("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(se("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Re,this.toJSON())}_performRefresh(){return ae("not implemented")}}function Pe(e,t){se("string"==typeof e||void 0===e,"internal-error",{appName:t})}class De{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,o=i(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.metadata=new Oe(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ce(this,this.stsTokenManager.getToken(this.auth,e));return se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=I(e),r=await n.getIdToken(t),i=Ne(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Te(Ie(i.auth_time)),issuedAtTime:Te(Ie(i.iat)),expirationTime:Te(Ie(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=I(e);await xe(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new De(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await xe(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ce(this,async function(e,t){return be(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,u,l;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,d=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(u=t.createdAt)&&void 0!==u?u:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:S}=t;se(v&&S,e,"internal-error");const _=Re.fromJSON(this.name,S);se("string"==typeof v,e,"internal-error"),Pe(c,e.name),Pe(h,e.name),se("boolean"==typeof b,e,"internal-error"),se("boolean"==typeof w,e,"internal-error"),Pe(f,e.name),Pe(d,e.name),Pe(p,e.name),Pe(m,e.name),Pe(g,e.name),Pe(y,e.name);const k=new De({uid:v,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:w,photoURL:d,phoneNumber:f,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(k.providerData=E.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t,n=!1){const r=new Re;r.updateFromServerResponse(t);const i=new De({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await xe(i),i}}class Le{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Le.type="NONE";const Me=Le;function Ue(e,t,n){return`firebase:${e}:${t}:${n}`}class Fe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ue(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ue("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?De._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Fe(ce(Me),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ce(Me);const o=Ue(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=De._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new Fe(i,e,n)):new Fe(i,e,n)}}function Ve(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(je(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($e(t))return"Blackberry";if(We(t))return"Webos";if(ze(t))return"Safari";if((t.includes("chrome/")||Be(t))&&!t.includes("edge/"))return"Chrome";if(He(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function je(e=c()){return/firefox\//i.test(e)}function ze(e=c()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Be(e=c()){return/crios\//i.test(e)}function qe(e=c()){return/iemobile/i.test(e)}function He(e=c()){return/android/i.test(e)}function $e(e=c()){return/blackberry/i.test(e)}function We(e=c()){return/webos/i.test(e)}function Ke(e=c()){return/iphone|ipad|ipod/i.test(e)}function Ge(e=c()){return Ke(e)||He(e)||We(e)||$e(e)||/windows phone/i.test(e)||qe(e)}function Qe(e,t=[]){let n;switch(e){case"Browser":n=Ve(c());break;case"Worker":n=`${Ve(c())}-${e}`;break;default:n=e}return`${n}/JsCore/9.0.0/${t.length?t.join(","):"FirebaseCore-web"}`}class Ye{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Je(this),this.idTokenSubscription=new Je(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ee,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ce(t)),this._initializationPromise=this.queue((async()=>{var n;this._deleted||(this.persistenceManager=await Fe.create(this,e),this._deleted||((null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(t),this._deleted||(this._isInitialized=!0)))})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(e);r&&r!==i||!(null==o?void 0:o.user)||(n=o.user)}return n?n._redirectEventId?(se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xe(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?I(e):null;return t&&se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ce(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new g("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ce(e)||this._popupRedirectResolver;se(t,this,"argument-error"),this.redirectPersistenceManager=await Fe.create(this,[ce(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return se(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Xe(e){return I(e)}class Je{constructor(e){var t;this.auth=e,this.observer=null,this.addObserver=(t=new k((e=>this.observer=e),undefined)).subscribe.bind(t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class Ze{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ae("not implemented")}_getIdTokenResponse(e){return ae("not implemented")}_linkToIdToken(e,t){return ae("not implemented")}_getReauthenticationResolver(e){return ae("not implemented")}}class et extends Ze{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new et(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new et(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return Ee(e,"POST","/v1/accounts:signInWithPassword",ve(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Ee(e,"POST","/v1/accounts:signInWithEmailLink",ve(e,t))}(e,{email:this._email,oobCode:this._password});default:re(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return async function(e,t){return be(e,"POST","/v1/accounts:update",t)}(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Ee(e,"POST","/v1/accounts:signInWithEmailLink",ve(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:re(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function tt(e,t){return Ee(e,"POST","/v1/accounts:signInWithIdp",ve(e,t))}class nt extends Ze{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new nt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):re("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=i(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new nt(n,r);return Object.assign(s,o),s}_getIdTokenResponse(e){return tt(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,tt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tt(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=E(t)}return e}}const rt={USER_NOT_FOUND:"user-not-found"};class it extends Ze{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new it({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new it({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ee(e,"POST","/v1/accounts:signInWithPhoneNumber",ve(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ee(e,"POST","/v1/accounts:signInWithPhoneNumber",ve(e,t));if(n.temporaryProof)throw ke(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ee(e,"POST","/v1/accounts:signInWithPhoneNumber",ve(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),rt)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new it({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ot{constructor(e){var t,n,r,i,o,s;const a=S(_(e)),u=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);se(u&&l&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=S(_(e)).link,n=t?S(_(t)).deep_link_id:null,r=S(_(e)).deep_link_id;return(r?S(_(r)).link:null)||r||n||t||e}(e);try{return new ot(t)}catch(e){return null}}}class st{constructor(){this.providerId=st.PROVIDER_ID}static credential(e,t){return et._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ot.parseLink(t);return se(n,"argument-error"),et._fromEmailAndCode(e,n.code,n.tenantId)}}st.PROVIDER_ID="password",st.EMAIL_PASSWORD_SIGN_IN_METHOD="password",st.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class at{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ut extends at{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lt extends ut{constructor(){super("facebook.com")}static credential(e){return nt._fromParams({providerId:lt.PROVIDER_ID,signInMethod:lt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lt.credentialFromTaggedObject(e)}static credentialFromError(e){return lt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return lt.credential(e.oauthAccessToken)}catch(e){return null}}}lt.FACEBOOK_SIGN_IN_METHOD="facebook.com",lt.PROVIDER_ID="facebook.com";class ct extends ut{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return nt._fromParams({providerId:ct.PROVIDER_ID,signInMethod:ct.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ct.credentialFromTaggedObject(e)}static credentialFromError(e){return ct.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ct.credential(t,n)}catch(e){return null}}}ct.GOOGLE_SIGN_IN_METHOD="google.com",ct.PROVIDER_ID="google.com";class ht extends ut{constructor(){super("github.com")}static credential(e){return nt._fromParams({providerId:ht.PROVIDER_ID,signInMethod:ht.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ht.credentialFromTaggedObject(e)}static credentialFromError(e){return ht.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return ht.credential(e.oauthAccessToken)}catch(e){return null}}}ht.GITHUB_SIGN_IN_METHOD="github.com",ht.PROVIDER_ID="github.com";class ft extends ut{constructor(){super("twitter.com")}static credential(e,t){return nt._fromParams({providerId:ft.PROVIDER_ID,signInMethod:ft.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ft.credentialFromTaggedObject(e)}static credentialFromError(e){return ft.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ft.credential(t,n)}catch(e){return null}}}ft.TWITTER_SIGN_IN_METHOD="twitter.com",ft.PROVIDER_ID="twitter.com";class dt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await De._fromIdTokenResponse(e,n,r),o=pt(n);return new dt({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=pt(n);return new dt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function pt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class mt extends m{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,mt.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(i=e.tenantId)&&void 0!==i?i:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new mt(e,t,n,r)}}function gt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw mt._fromErrorAndOperation(e,n,t,r);throw n}))}new WeakMap;const yt="__sak";class vt{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yt,"1"),this.storage.removeItem(yt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}class bt extends vt{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=c();return ze(e)||Ke(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ge(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);p()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bt.type="LOCAL";const wt=bt;class Et extends vt{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Et.type="SESSION";const St=Et;class _t{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new _t(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function kt(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}_t.receivers=[];class Tt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const u=kt("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function It(){return window}function Nt(){return void 0!==It().WorkerGlobalScope&&"function"==typeof It().importScripts}const Ct="firebaseLocalStorageDb",At="firebaseLocalStorage",Ot="fbase_key";class xt{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Rt(e,t){return e.transaction([At],t?"readwrite":"readonly").objectStore(At)}function Pt(){const e=indexedDB.open(Ct,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(At,{keyPath:Ot})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(At)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ct);return new xt(e).toPromise()}(),t(await Pt()))}))}))}async function Dt(e,t,n){const r=Rt(e,!0).put({[Ot]:t,value:n});return new xt(r).toPromise()}function Lt(e,t){const n=Rt(e,!0).delete(t);return new xt(n).toPromise()}class Mt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Pt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_t._getInstance(Nt()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Tt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pt();return await Dt(e,yt,"1"),await Lt(e,yt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Dt(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Rt(e,!1).get(t),r=await new xt(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Lt(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Rt(e,!1).getAll();return new xt(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Mt.type="LOCAL";const Ut=Mt;function Ft(e){return`__${e}${Math.floor(1e6*Math.random())}`}Ft("rcb"),new de(3e4,6e4);class Vt{constructor(e){this.providerId=Vt.PROVIDER_ID,this.auth=Xe(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var r;const i=await n.verify();try{let o;if(se("string"==typeof i,e,"argument-error"),se("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o)return se("enroll"===t.type,e,"internal-error"),(await function(e,t){return be(e,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{se("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;return se(n,e,"missing-multi-factor-info"),(await function(e,t){return be(e,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return be(e,"POST","/v1/accounts:sendVerificationCode",ve(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}(this.auth,e,I(t))}static credential(e,t){return it._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Vt.credentialFromTaggedObject(t)}static credentialFromError(e){return Vt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?it._fromTokenResponse(t,n):null}}function jt(e,t){return t?ce(t):(se(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Vt.PROVIDER_ID="phone",Vt.PHONE_SIGN_IN_METHOD="phone";class zt extends Ze{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Bt(e){return async function(e,t,n=!1){const r="signIn",i=await gt(e,r,t),o=await dt._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}(e.auth,new zt(e),e.bypassAuthState)}function qt(e){const{auth:t,user:n}=e;return se(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await Ce(e,gt(r,i,t,e),n);se(o.idToken,r,"internal-error");const s=Ne(o.idToken);se(s,r,"internal-error");const{sub:a}=s;return se(e.uid===a,r,"user-mismatch"),dt._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&re(r,"user-mismatch"),e}}(n,new zt(e),e.bypassAuthState)}async function Ht(e){const{auth:t,user:n}=e;return se(n,t,"internal-error"),async function(e,t,n=!1){const r=await Ce(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return dt._forOperation(e,"link",r)}(n,new zt(e),e.bypassAuthState)}class $t{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bt;case"linkViaPopup":case"linkViaRedirect":return Ht;case"reauthViaPopup":case"reauthViaRedirect":return qt;default:re(this.auth,"internal-error")}}resolve(e){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wt=new de(2e3,1e4);class Kt extends $t{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Kt.currentPopupAction&&Kt.currentPopupAction.cancel(),Kt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){ue(1===this.filter.length,"Popup operations only handle one event");const e=kt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ie(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ie(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Wt.get())};e()}}Kt.currentPopupAction=null;const Gt=new Map;class Qt extends $t{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Gt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Xt(t),r="true"===await Yt(e)._get(n);return await Yt(e)._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Gt.set(this.auth._key(),e)}return e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Yt(e){return ce(e._redirectPersistence)}function Xt(e){return Ue("pendingRedirect",e.config.apiKey,e.name)}function Jt(e,t,n){return async function(e,t,n){const r=Xe(e);se(t instanceof at,e,"argument-error");const i=jt(r,n);return await async function(e,t){return Yt(e)._set(Xt(t),"true")}(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}async function Zt(e,t,n=!1){const r=Xe(e),i=jt(r,t),o=new Qt(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class en{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!nn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ie(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tn(e))}saveEventToCache(e){this.cachedEventUids.add(tn(e)),this.lastProcessedEventTime=Date.now()}}function tn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function nn({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const rn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,on=/^https?/;function sn(e){const t=he(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!on.test(n))return!1;if(rn.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const an=new de(3e4,6e4);function un(){const e=It().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let ln=null;function cn(e){return ln=ln||function(e){return new Promise(((t,n)=>{var r,i,o,s;function a(){un(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{un(),n(ie(e,"network-request-failed"))},timeout:an.get()})}if(null===(i=null===(r=It().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=It().gapi)||void 0===o?void 0:o.load)){const t=Ft("iframefcb");return It()[t]=()=>{gapi.load?a():n(ie(e,"network-request-failed"))},s=`https://apis.google.com/js/api.js?onload=${t}`,new Promise(((e,t)=>{const n=document.createElement("script");n.setAttribute("src",s),n.onload=e,n.onerror=e=>{const n=ie("internal-error");n.customData=e,t(n)},n.type="text/javascript",n.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(n)}))}a()}})).catch((e=>{throw ln=null,e}))}(e),ln}const hn=new de(5e3,15e3),fn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pn(e){const t=e.config;se(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?pe(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:X},i=dn.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${E(r).slice(1)}`}const mn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function yn(e,t,n,r,i,o){se(e.config.authDomain,e,"auth-domain-config-required"),se(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:X,eventId:i};if(t instanceof at){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof ut){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){return e.emulator?pe(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${E(a).slice(1)}`}const vn="webStorageSupport",bn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=St,this._completeRedirectFn=Zt}async _openPopup(e,t,n,r){var i;return ue(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},mn),{width:r.toString(),height:i.toString(),top:o,left:s}),l=c().toLowerCase();n&&(a=Be(l)?"_blank":n),je(l)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=c()){var t;return Ke(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new gn(null);const f=window.open(t||"",a,h);se(f,e,"popup-blocked");try{f.focus()}catch(e){}return new gn(f)}(e,yn(e,t,n,he(),r),kt())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=yn(e,t,n,he(),r),It().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ue(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}async initAndGetManager(e){const t=await async function(e){const t=await cn(e),n=It().gapi;return se(n,e,"internal-error"),t.open({where:document.body,url:pn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fn,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ie(e,"network-request-failed"),o=It().setTimeout((()=>{r(i)}),hn.get());function s(){It().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new en(e);return t.register("authEvent",(t=>(se(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vn,{type:vn},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),re(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return be(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(sn(e))return}catch(e){}re(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ge()||ze()||Ke()}};var wn;class En{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Sn(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}wn="Browser",K(new C("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{se(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),se(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:wn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qe(wn)},o=new Ye(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ce);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),K(new C("auth-internal",(e=>(e=>new En(e))(Xe(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Z("@firebase/auth","0.17.0",void 0),n(1249),n(7941),n(7327),n(5003),n(4747),n(9337);var _n=function(e,t){return(_n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function kn(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Tn,In="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Nn=Nn||{},Cn=In||self;function An(){}function On(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function xn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Rn="closure_uid_"+(1e9*Math.random()>>>0),Pn=0;function Dn(e,t,n){return e.call.apply(e.bind,arguments)}function Ln(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Mn(e,t,n){return(Mn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Dn:Ln).apply(null,arguments)}function Un(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Fn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Vn(){this.s=this.s,this.o=this.o}var jn={};Vn.prototype.s=!1,Vn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Rn)&&e[Rn]||(e[Rn]=++Pn)}(this);delete jn[e]}},Vn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var zn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Bn=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function qn(e){return Array.prototype.concat.apply([],arguments)}function Hn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function $n(e){return/^[\s\xa0]*$/.test(e)}var Wn,Kn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Gn(e,t){return-1!=e.indexOf(t)}function Qn(e,t){return e<t?-1:e>t?1:0}e:{var Yn=Cn.navigator;if(Yn){var Xn=Yn.userAgent;if(Xn){Wn=Xn;break e}}Wn=""}function Jn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Zn(e){var t={};for(var n in e)t[n]=e[n];return t}var er="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tr(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<er.length;o++)n=er[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function nr(e){return nr[" "](e),e}nr[" "]=An;var rr,ir,or=Gn(Wn,"Opera"),sr=Gn(Wn,"Trident")||Gn(Wn,"MSIE"),ar=Gn(Wn,"Edge"),ur=ar||sr,lr=Gn(Wn,"Gecko")&&!(Gn(Wn.toLowerCase(),"webkit")&&!Gn(Wn,"Edge"))&&!(Gn(Wn,"Trident")||Gn(Wn,"MSIE"))&&!Gn(Wn,"Edge"),cr=Gn(Wn.toLowerCase(),"webkit")&&!Gn(Wn,"Edge");function hr(){var e=Cn.document;return e?e.documentMode:void 0}e:{var fr="",dr=(ir=Wn,lr?/rv:([^\);]+)(\)|;)/.exec(ir):ar?/Edge\/([\d\.]+)/.exec(ir):sr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ir):cr?/WebKit\/(\S+)/.exec(ir):or?/(?:Version)[ \/]?(\S+)/.exec(ir):void 0);if(dr&&(fr=dr?dr[1]:""),sr){var pr=hr();if(null!=pr&&pr>parseFloat(fr)){rr=String(pr);break e}}rr=fr}var mr,gr={};function yr(){return e=gr,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=Kn(String(rr)).split("."),n=Kn("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;e=Qn(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||Qn(0==o[2].length,0==s[2].length)||Qn(o[2],s[2]),o=o[3],s=s[3]}while(0==e)}return 0<=e}();var e}Cn.document&&sr?mr=hr()||parseInt(rr,10)||void 0:mr=void 0;var vr=mr,br=function(){if(!Cn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Cn.addEventListener("test",An,t),Cn.removeEventListener("test",An,t)}catch(e){}return e}();function wr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Er(e,t){if(wr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(lr){e:{try{nr(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Sr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Er.Z.h.call(this)}}wr.prototype.h=function(){this.defaultPrevented=!0},Fn(Er,wr);var Sr={2:"touch",3:"pen",4:"mouse"};Er.prototype.h=function(){Er.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _r="closure_listenable_"+(1e6*Math.random()|0),kr=0;function Tr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++kr,this.ca=this.fa=!1}function Ir(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Nr(e){this.src=e,this.g={},this.h=0}function Cr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=zn(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ir(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ar(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Nr.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Ar(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new Tr(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Or="closure_lm_"+(1e6*Math.random()|0),xr={};function Rr(e,t,n,r,i){if(r&&r.once)return Dr(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Rr(e,t[o],n,r,i);return null}return n=zr(n),e&&e[_r]?e.N(t,n,xn(r)?!!r.capture:!!r,i):Pr(e,t,n,!1,r,i)}function Pr(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=xn(i)?!!i.capture:!!i,a=Vr(e);if(a||(e[Or]=a=new Nr(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=Fr;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)br||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ur(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Dr(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Dr(e,t[o],n,r,i);return null}return n=zr(n),e&&e[_r]?e.O(t,n,xn(r)?!!r.capture:!!r,i):Pr(e,t,n,!0,r,i)}function Lr(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Lr(e,t[o],n,r,i);else r=xn(r)?!!r.capture:!!r,n=zr(n),e&&e[_r]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Ar(o=e.g[t],n,r,i))&&(Ir(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=Vr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ar(t,n,r,i)),(n=-1<e?t[e]:null)&&Mr(n))}function Mr(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[_r])Cr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ur(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Vr(t))?(Cr(n,e),0==n.h&&(n.src=null,t[Or]=null)):Ir(e)}}}function Ur(e){return e in xr?xr[e]:xr[e]="on"+e}function Fr(e,t){if(e.ca)e=!0;else{t=new Er(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Mr(e),e=n.call(r,t)}return e}function Vr(e){return(e=e[Or])instanceof Nr?e:null}var jr="__closure_events_fn_"+(1e9*Math.random()>>>0);function zr(e){return"function"==typeof e?e:(e[jr]||(e[jr]=function(t){return e.handleEvent(t)}),e[jr])}function Br(){Vn.call(this),this.i=new Nr(this),this.P=this,this.I=null}function qr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new wr(t,e);else if(t instanceof wr)t.target=t.target||e;else{var i=t;tr(t=new wr(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Hr(s,r,!0,t)&&i}if(i=Hr(s=t.g=e,r,!0,t)&&i,i=Hr(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Hr(s=t.g=n[o],r,!1,t)&&i}function Hr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Cr(e.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Fn(Br,Vn),Br.prototype[_r]=!0,Br.prototype.removeEventListener=function(e,t,n,r){Lr(this,e,t,n,r)},Br.prototype.M=function(){if(Br.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ir(n[r]);delete t.g[e],t.h--}}this.I=null},Br.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Br.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var $r=Cn.JSON.stringify;function Wr(){var e=ei,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Kr,Gr=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Qr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Qr=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Yr}),(function(e){return e.reset()})),Yr=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Xr(e){Cn.setTimeout((function(){throw e}),0)}function Jr(e,t){Kr||function(){var e=Cn.Promise.resolve(void 0);Kr=function(){e.then(ti)}}(),Zr||(Kr(),Zr=!0),ei.add(e,t)}var Zr=!1,ei=new Gr;function ti(){for(var e;e=Wr();){try{e.h.call(e.g)}catch(e){Xr(e)}var t=Qr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Zr=!1}function ni(e,t){Br.call(this),this.h=e||1,this.g=t||Cn,this.j=Mn(this.kb,this),this.l=Date.now()}function ri(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ii(e,t,n){if("function"==typeof e)n&&(e=Mn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Mn(e.handleEvent,e)}return 2147483647<Number(t)?-1:Cn.setTimeout(e,t||0)}function oi(e){e.g=ii((function(){e.g=null,e.i&&(e.i=!1,oi(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Fn(ni,Br),(Tn=ni.prototype).da=!1,Tn.S=null,Tn.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qr(this,"tick"),this.da&&(ri(this),this.start()))}},Tn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Tn.M=function(){ni.Z.M.call(this),ri(this),delete this.g};var si=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_n(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:oi(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Vn);function ai(e){Vn.call(this),this.h=e,this.g={}}Fn(ai,Vn);var ui=[];function li(e,t,n,r){Array.isArray(n)||(n&&(ui[0]=n.toString()),n=ui);for(var i=0;i<n.length;i++){var o=Rr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function ci(e){Jn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Mr(e)}),e),e.g={}}function hi(){this.g=!0}function fi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return $r(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}ai.prototype.M=function(){ai.Z.M.call(this),ci(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hi.prototype.Aa=function(){this.g=!1},hi.prototype.info=function(){};var di={},pi=null;function mi(){return pi=pi||new Br}function gi(e){wr.call(this,di.Ma,e)}function yi(e){var t=mi();qr(t,new gi(t,e))}function vi(e,t){wr.call(this,di.STAT_EVENT,e),this.stat=t}function bi(e){var t=mi();qr(t,new vi(t,e))}function wi(e,t){wr.call(this,di.Na,e),this.size=t}function Ei(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Cn.setTimeout((function(){e()}),t)}di.Ma="serverreachability",Fn(gi,wr),di.STAT_EVENT="statevent",Fn(vi,wr),di.Na="timingevent",Fn(wi,wr);var Si={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_i={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ki(){}function Ti(e){return e.h||(e.h=e.i())}function Ii(){}ki.prototype.h=null;var Ni,Ci={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ai(){wr.call(this,"d")}function Oi(){wr.call(this,"c")}function xi(){}function Ri(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ai(this),this.P=Di,e=ur?125:void 0,this.W=new ni(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Pi}function Pi(){this.i=null,this.g="",this.h=!1}Fn(Ai,wr),Fn(Oi,wr),Fn(xi,ki),xi.prototype.g=function(){return new XMLHttpRequest},xi.prototype.i=function(){return{}},Ni=new xi;var Di=45e3,Li={},Mi={};function Ui(e,t,n){e.K=1,e.v=so(eo(t)),e.s=n,e.U=!0,Fi(e,null)}function Fi(e,t){e.F=Date.now(),Bi(e),e.A=eo(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),wo(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Pi,e.g=Es(e.l,n?t:null,!e.s),0<e.O&&(e.L=new si(Mn(e.Ia,e,e.g),e.O)),li(e.V,e.g,"readystatechange",e.gb),t=e.H?Zn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),yi(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Vi(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function ji(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=zi(e,n))==Mi){4==t&&(e.o=4,bi(14),i=!1),fi(e.j,e.m,null,"[Incomplete Response]");break}if(r==Li){e.o=4,bi(15),fi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}fi(e.j,e.m,r,null),Ki(e,r)}Vi(e)&&r!=Mi&&r!=Li&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,bi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ds(t),t.L=!0,bi(11))):(fi(e.j,e.m,n,"[Invalid Chunked Response]"),Wi(e),$i(e))}function zi(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Mi:(n=Number(t.substring(n,r)),isNaN(n)?Li:(r+=1)+n>t.length?Mi:(t=t.substr(r,n),e.C=r+n,t))}function Bi(e){e.Y=Date.now()+e.P,qi(e,e.P)}function qi(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ei(Mn(e.eb,e),t)}function Hi(e){e.B&&(Cn.clearTimeout(e.B),e.B=null)}function $i(e){0==e.l.G||e.I||gs(e.l,e)}function Wi(e){Hi(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ri(e.W),ci(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ki(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||No(n.i,e)))if(n.I=e.N,!e.J&&No(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ms(n),is(n)}fs(n),bi(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ei(Mn(n.ab,n),6e3));if(1>=Io(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else vs(n,11)}else if((e.J||n.g==e)&&ms(n),!$n(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(Gn(c,"spdy")||Gn(c,"quic")||Gn(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Co(h,h.h),h.h=null))}if(r.D){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,oo(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ws(r,r.H?r.la:null,r.W),d.J){Ao(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(Hi(p),Bi(p)),r.g=d}else hs(r);0<n.l.length&&as(n)}else"stop"!=o[0]&&"close"!=o[0]||vs(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?vs(n,7):rs(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}yi(4)}catch(o){}}function Gi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(On(e)||"string"==typeof e)Bn(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(On(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(On(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Qi(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Qi)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Yi(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Xi(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Xi(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Xi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Tn=Ri.prototype).setTimeout=function(e){this.P=e},Tn.gb=function(e){e=e.target;var t=this.L;t&&3==Jo(e)?t.l():this.Ia(e)},Tn.Ia=function(e){try{if(e==this.g)e:{var t=Jo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ur||this.g&&(this.h.h||this.g.ga()||Zo(this.g)))){this.I||4!=t||7==n||yi(8==n||0>=r?3:2),Hi(this);var i=this.g.ba();this.N=i;t:if(Vi(this)){var o=Zo(this.g);e="";var s=o.length,a=4==Jo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Wi(this),$i(this);var u="";break t}this.h.i=new Cn.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$n(l)){var h=l;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,bi(12),Wi(this),$i(this);break e}fi(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ki(this,i)}this.U?(ji(this,t,u),ur&&this.i&&3==t&&(li(this.V,this.W,"tick",this.fb),this.W.start())):(fi(this.j,this.m,u,null),Ki(this,u)),4==t&&Wi(this),this.i&&!this.I&&(4==t?gs(this.l,this):(this.i=!1,Bi(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,bi(12)):(this.o=0,bi(13)),Wi(this),$i(this)}}}catch(t){}},Tn.fb=function(){if(this.g){var e=Jo(this.g),t=this.g.ga();this.C<t.length&&(Hi(this),ji(this,e,t),this.i&&4!=e&&Bi(this))}},Tn.cancel=function(){this.I=!0,Wi(this)},Tn.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(yi(3),bi(17)),Wi(this),this.o=2,$i(this)):qi(this,this.Y-e)},(Tn=Qi.prototype).R=function(){Yi(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Tn.T=function(){return Yi(this),this.g.concat()},Tn.get=function(e,t){return Xi(this.h,e)?this.h[e]:t},Tn.set=function(e,t){Xi(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Tn.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ji=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zi(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Zi){this.g=void 0!==t?t:e.g,to(this,e.j),this.s=e.s,no(this,e.i),ro(this,e.m),this.l=e.l,t=e.h;var n=new go;n.i=t.i,t.g&&(n.g=new Qi(t.g),n.h=t.h),io(this,n),this.o=e.o}else e&&(n=String(e).match(Ji))?(this.g=!!t,to(this,n[1]||"",!0),this.s=ao(n[2]||""),no(this,n[3]||"",!0),ro(this,n[4]),this.l=ao(n[5]||"",!0),io(this,n[6]||"",!0),this.o=ao(n[7]||"")):(this.g=!!t,this.h=new go(null,this.g))}function eo(e){return new Zi(e)}function to(e,t,n){e.j=n?ao(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function no(e,t,n){e.i=n?ao(t,!0):t}function ro(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function io(e,t,n){t instanceof go?(e.h=t,function(e,t){t&&!e.j&&(yo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(vo(this,t),wo(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=uo(t,po)),e.h=new go(t,e.g))}function oo(e,t,n){e.h.set(t,n)}function so(e){return oo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ao(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function uo(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,lo),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lo(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Zi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(uo(t,co,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(uo(t,co,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(uo(n,"/"==n.charAt(0)?fo:ho,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",uo(n,mo)),e.join("")};var co=/[#\/\?@]/g,ho=/[#\?:]/g,fo=/[#\?]/g,po=/[#\?@]/g,mo=/#/g;function go(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function yo(e){e.g||(e.g=new Qi,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function vo(e,t){yo(e),t=Eo(e,t),Xi(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Xi((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Yi(e)))}function bo(e,t){return yo(e),t=Eo(e,t),Xi(e.g.h,t)}function wo(e,t,n){vo(e,t),0<n.length&&(e.i=null,e.g.set(Eo(e,t),Hn(n)),e.h+=n.length)}function Eo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Tn=go.prototype).add=function(e,t){yo(this),this.i=null,e=Eo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Tn.forEach=function(e,t){yo(this),this.g.forEach((function(n,r){Bn(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Tn.T=function(){yo(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Tn.R=function(e){yo(this);var t=[];if("string"==typeof e)bo(this,e)&&(t=qn(t,this.g.get(Eo(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=qn(t,e[n])}return t},Tn.set=function(e,t){return yo(this),this.i=null,bo(this,e=Eo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Tn.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Tn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};var So=function(e,t){this.h=e,this.g=t};function _o(e){this.l=e||ko,e=Cn.PerformanceNavigationTiming?0<(e=Cn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Cn.g&&Cn.g.Ea&&Cn.g.Ea()&&Cn.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ko=10;function To(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Io(e){return e.h?1:e.g?e.g.size:0}function No(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Co(e,t){e.g?e.g.add(t):e.h=t}function Ao(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Oo(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=kn(e.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Hn(e.i)}function xo(){}function Ro(){this.g=new xo}function Po(e,t,n){var r=n||"";try{Gi(e,(function(e,n){var i=e;xn(e)&&(i=$r(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Do(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Lo(e){this.l=e.$b||null,this.j=e.ib||!1}function Mo(e,t){Br.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Uo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_o.prototype.cancel=function(){var e,t;if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=kn(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},xo.prototype.stringify=function(e){return Cn.JSON.stringify(e,void 0)},xo.prototype.parse=function(e){return Cn.JSON.parse(e,void 0)},Fn(Lo,ki),Lo.prototype.g=function(){return new Mo(this.l,this.j)},Lo.prototype.i=function(e){return function(){return e}}({}),Fn(Mo,Br);var Uo=0;function Fo(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Vo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,jo(e)}function jo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Tn=Mo.prototype).open=function(e,t){if(this.readyState!=Uo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,jo(this)},Tn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Cn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Tn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vo(this)),this.readyState=Uo},Tn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jo(this)),this.g&&(this.readyState=3,jo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Cn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fo(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Tn.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vo(this):jo(this),3==this.readyState&&Fo(this)}},Tn.Ua=function(e){this.g&&(this.response=this.responseText=e,Vo(this))},Tn.Ta=function(e){this.g&&(this.response=e,Vo(this))},Tn.ha=function(){this.g&&Vo(this)},Tn.setRequestHeader=function(e,t){this.v.append(e,t)},Tn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Tn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var zo=Cn.JSON.parse;function Bo(e){Br.call(this),this.headers=new Qi,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qo,this.K=this.L=!1}Fn(Bo,Br);var qo="",Ho=/^https?$/i,$o=["POST","PUT"];function Wo(e){return"content-type"==e.toLowerCase()}function Ko(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Go(e),Yo(e)}function Go(e){e.D||(e.D=!0,qr(e,"complete"),qr(e,"error"))}function Qo(e){if(e.h&&void 0!==Nn&&(!e.C[1]||4!=Jo(e)||2!=e.ba()))if(e.v&&4==Jo(e))ii(e.Fa,0,e);else if(qr(e,"readystatechange"),4==Jo(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Ji)[1]||null;if(!o&&Cn.self&&Cn.self.location){var s=Cn.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ho.test(o?o.toLowerCase():"")}t=i}if(t)qr(e,"complete"),qr(e,"success");else{e.m=6;try{var a=2<Jo(e)?e.g.statusText:""}catch(e){a=""}e.j=a+" ["+e.ba()+"]",Go(e)}}finally{Yo(e)}}}function Yo(e,t){if(e.g){Xo(e);var n=e.g,r=e.C[0]?An:null;e.g=null,e.C=null,t||qr(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Xo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Cn.clearTimeout(e.A),e.A=null)}function Jo(e){return e.g?e.g.readyState:0}function Zo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case qo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function es(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Jn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):oo(e,t,n))}function ts(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ns(e){this.za=0,this.l=[],this.h=new hi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ts("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ts("baseRetryDelayMs",5e3,e),this.$a=ts("retryDelaySeedMs",1e4,e),this.Ya=ts("forwardChannelMaxRetries",2,e),this.ra=ts("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new _o(e&&e.concurrentRequestLimit),this.Ca=new Ro,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function rs(e){if(os(e),3==e.G){var t=e.V++,n=eo(e.F);oo(n,"SID",e.J),oo(n,"RID",t),oo(n,"TYPE","terminate"),ls(e,n),(t=new Ri(e,e.h,t,void 0)).K=2,t.v=so(eo(n)),n=!1,Cn.navigator&&Cn.navigator.sendBeacon&&(n=Cn.navigator.sendBeacon(t.v.toString(),"")),!n&&Cn.Image&&((new Image).src=t.v,n=!0),n||(t.g=Es(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Bi(t)}bs(e)}function is(e){e.g&&(ds(e),e.g.cancel(),e.g=null)}function os(e){is(e),e.u&&(Cn.clearTimeout(e.u),e.u=null),ms(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Cn.clearTimeout(e.m),e.m=null)}function ss(e,t){e.l.push(new So(e.Za++,t)),3==e.G&&as(e)}function as(e){To(e.i)||e.m||(e.m=!0,Jr(e.Ha,e),e.C=0)}function us(e,t){var n;n=t?t.m:e.V++;var r=eo(e.F);oo(r,"SID",e.J),oo(r,"RID",n),oo(r,"AID",e.U),ls(e,r),e.o&&e.s&&es(r,e.o,e.s),n=new Ri(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=cs(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Co(e.i,n),Ui(n,r,t)}function ls(e,t){e.j&&Gi({},(function(e,n){oo(t,n,e)}))}function cs(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Mn(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=o))o=Math.max(0,i[u].h-100),a=!1;else try{Po(c,s,"req"+l+"_")}catch(e){r&&r(c)}}if(a){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function hs(e){e.g||e.u||(e.Y=1,Jr(e.Ga,e),e.A=0)}function fs(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Ei(Mn(e.Ga,e),ys(e,e.A)),e.A++,0))}function ds(e){null!=e.B&&(Cn.clearTimeout(e.B),e.B=null)}function ps(e){e.g=new Ri(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=eo(e.oa);oo(t,"RID","rpc"),oo(t,"SID",e.J),oo(t,"CI",e.N?"0":"1"),oo(t,"AID",e.U),ls(e,t),oo(t,"TYPE","xmlhttp"),e.o&&e.s&&es(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=so(eo(t)),n.s=null,n.U=!0,Fi(n,e)}function ms(e){null!=e.v&&(Cn.clearTimeout(e.v),e.v=null)}function gs(e,t){var n=null;if(e.g==t){ms(e),ds(e),e.g=null;var r=2}else{if(!No(e.i,t))return;n=t.D,Ao(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;qr(r=mi(),new wi(r,n,t,i)),as(e)}else hs(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Io(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Ei(Mn(e.Ha,e,t),ys(e,e.C)),e.C++,0)))}(e,t)||2==r&&fs(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:vs(e,5);break;case 4:vs(e,10);break;case 3:vs(e,6);break;default:vs(e,2)}}function ys(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function vs(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Mn(e.jb,e);n||(n=new Zi("//www.google.com/images/cleardot.gif"),Cn.location&&"http"==Cn.location.protocol||to(n,"https"),so(n)),function(e,t){var n=new hi;if(Cn.Image){var r=new Image;r.onload=Un(Do,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Un(Do,n,r,"TestLoadImage: error",!1,t),r.onabort=Un(Do,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Un(Do,n,r,"TestLoadImage: timeout",!1,t),Cn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else bi(2);e.G=0,e.j&&e.j.va(t),bs(e),os(e)}function bs(e){e.G=0,e.I=-1,e.j&&(0==Oo(e.i).length&&0==e.l.length||(e.i.i.length=0,Hn(e.l),e.l.length=0),e.j.ua())}function ws(e,t,n){var r=function(e){return e instanceof Zi?eo(e):new Zi(e,void 0)}(n);if(""!=r.i)t&&no(r,t+"."+r.i),ro(r,r.m);else{var i=Cn.location;r=function(e,t,n,r){var i=new Zi(null,void 0);return e&&to(i,e),t&&no(i,t),n&&ro(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Jn(e.aa,(function(e,t){oo(r,t,e)})),t=e.D,n=e.sa,t&&n&&oo(r,t,n),oo(r,"VER",e.ma),ls(e,r),r}function Es(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Bo(new Lo({ib:!0})):new Bo(e.qa)).L=e.H,t}function Ss(){}function _s(){if(sr&&!(10<=Number(vr)))throw Error("Environmental error: no available transport.")}function ks(e,t){Br.call(this),this.g=new ns(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!$n(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$n(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Ns(this)}function Ts(e){Ai.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Is(){Oi.call(this),this.status=1}function Ns(e){this.g=e}(Tn=Bo.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ni.g(),this.C=this.u?Ti(this.u):Ti(Ni),this.g.onreadystatechange=Mn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void Ko(this,e)}e=n||"";var i=new Qi(this.headers);r&&Gi(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Wo,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Cn.FormData&&e instanceof Cn.FormData,!(0<=zn($o,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xo(this),0<this.B&&((this.K=function(e){return sr&&yr()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mn(this.pa,this)):this.A=ii(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Ko(this,e)}},Tn.pa=function(){void 0!==Nn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qr(this,"timeout"),this.abort(8))},Tn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,qr(this,"complete"),qr(this,"abort"),Yo(this))},Tn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yo(this,!0)),Bo.Z.M.call(this)},Tn.Fa=function(){this.s||(this.F||this.v||this.l?Qo(this):this.cb())},Tn.cb=function(){Qo(this)},Tn.ba=function(){try{return 2<Jo(this)?this.g.status:-1}catch(e){return-1}},Tn.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Tn.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),zo(t)}},Tn.Da=function(){return this.m},Tn.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Tn=ns.prototype).ma=8,Tn.G=1,Tn.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},Tn.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ri(this,this.h,e,void 0),n=this.s;if(this.P&&(n?tr(n=Zn(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=cs(this,t,r),oo(i=eo(this.F),"RID",e),oo(i,"CVER",22),this.D&&oo(i,"X-HTTP-Session-Id",this.D),ls(this,i),this.o&&n&&es(i,this.o,n),Co(this.i,t),this.Ra&&oo(i,"TYPE","init"),this.ja?(oo(i,"$req",r),oo(i,"SID","null"),t.$=!0,Ui(t,i,null)):Ui(t,i,r),this.G=2}}else 3==this.G&&(e?us(this,e):0==this.l.length||To(this.i)||us(this))},Tn.Ga=function(){if(this.u=null,ps(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ei(Mn(this.bb,this),e)}},Tn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bi(10),is(this),ps(this))},Tn.ab=function(){null!=this.v&&(this.v=null,is(this),fs(this),bi(19))},Tn.jb=function(e){e?(this.h.info("Successfully pinged google.com"),bi(2)):(this.h.info("Failed to ping google.com"),bi(1))},(Tn=Ss.prototype).xa=function(){},Tn.wa=function(){},Tn.va=function(){},Tn.ua=function(){},Tn.Oa=function(){},_s.prototype.g=function(e,t){return new ks(e,t)},Fn(ks,Br),ks.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Jr(Mn(e.hb,e,t))),bi(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ws(e,null,e.W),as(e)},ks.prototype.close=function(){rs(this.g)},ks.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,ss(this.g,t)}else this.v?((t={}).__data__=$r(e),ss(this.g,t)):ss(this.g,e)},ks.prototype.M=function(){this.g.j=null,delete this.j,rs(this.g),delete this.g,ks.Z.M.call(this)},Fn(Ts,Ai),Fn(Is,Oi),Fn(Ns,Ss),Ns.prototype.xa=function(){qr(this.g,"a")},Ns.prototype.wa=function(e){qr(this.g,new Ts(e))},Ns.prototype.va=function(e){qr(this.g,new Is(e))},Ns.prototype.ua=function(){qr(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,ks.prototype.send=ks.prototype.u,ks.prototype.open=ks.prototype.m,ks.prototype.close=ks.prototype.close,Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,_i.COMPLETE="complete",Ii.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",Br.prototype.listen=Br.prototype.N,Bo.prototype.listenOnce=Bo.prototype.O,Bo.prototype.getLastError=Bo.prototype.La,Bo.prototype.getLastErrorCode=Bo.prototype.Da,Bo.prototype.getStatus=Bo.prototype.ba,Bo.prototype.getResponseJson=Bo.prototype.Qa,Bo.prototype.getResponseText=Bo.prototype.ga,Bo.prototype.send=Bo.prototype.ea;var Cs=Si,As=_i,Os=di,xs=10,Rs=11,Ps=Lo,Ds=Ii,Ls=Bo;class Ms{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ms.UNAUTHENTICATED=new Ms(null),Ms.GOOGLE_CREDENTIALS=new Ms("google-credentials-uid"),Ms.FIRST_PARTY=new Ms("first-party-uid"),Ms.MOCK_USER=new Ms("mock-user");let Us="9.0.0";const Fs=new V("@firebase/firestore");function Vs(){return Fs.logLevel}function js(e,...t){if(Fs.logLevel<=P.DEBUG){const n=t.map(qs);Fs.debug(`Firestore (${Us}): ${e}`,...n)}}function zs(e,...t){if(Fs.logLevel<=P.ERROR){const n=t.map(qs);Fs.error(`Firestore (${Us}): ${e}`,...n)}}function Bs(e,...t){if(Fs.logLevel<=P.WARN){const n=t.map(qs);Fs.warn(`Firestore (${Us}): ${e}`,...n)}}function qs(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Hs(e="Unexpected state"){const t=`FIRESTORE (${Us}) INTERNAL ASSERTION FAILED: `+e;throw zs(t),new Error(t)}function $s(e,t){e||Hs()}function Ws(e,t){return e}const Ks={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gs extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ys{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Xs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ms.UNAUTHENTICATED)))}shutdown(){}}class Js{constructor(e){this.t=e,this.currentUser=Ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qs,e.enqueueRetryable((()=>r(this.currentUser)))};const o=t=>{e.enqueueRetryable((async()=>{js("FirebaseCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),await i.promise,await r(this.currentUser)}))};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(js("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qs)}}),0),e.enqueueRetryable((async()=>{0===this.i&&(await i.promise,await r(this.currentUser))}))}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(js("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?($s("string"==typeof t.accessToken),new Ys(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $s(null===e||"string"==typeof e),new Ms(e)}}class Zs{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Ms.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class ea{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Zs(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Ms.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ta{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function na(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}ta.T=-1;class ra{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=na(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function ia(e,t){return e<t?-1:e>t?1:0}function oa(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class sa{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Gs(Ks.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Gs(Ks.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Gs(Ks.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Gs(Ks.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sa.fromMillis(Date.now())}static fromDate(e){return sa.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new sa(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ia(this.nanoseconds,e.nanoseconds):ia(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class aa{constructor(e){this.timestamp=e}static fromTimestamp(e){return new aa(e)}static min(){return new aa(new sa(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ua(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function la(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ca(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ha{constructor(e,t,n){void 0===t?t=0:t>e.length&&Hs(),void 0===n?n=e.length-t:n>e.length-t&&Hs(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ha.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ha?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fa extends ha{construct(e,t,n){return new fa(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Gs(Ks.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new fa(t)}static emptyPath(){return new fa([])}}const da=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pa extends ha{construct(e,t,n){return new pa(e,t,n)}static isValidIdentifier(e){return da.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pa(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Gs(Ks.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Gs(Ks.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Gs(Ks.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Gs(Ks.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pa(t)}static emptyPath(){return new pa([])}}class ma{constructor(e){this.fields=e,e.sort(pa.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ga{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ga(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ga(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ia(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ga.EMPTY_BYTE_STRING=new ga("");const ya=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(e){if($s(!!e),"string"==typeof e){let t=0;const n=ya.exec(e);if($s(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ba(e.seconds),nanos:ba(e.nanos)}}function ba(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wa(e){return"string"==typeof e?ga.fromBase64String(e):ga.fromUint8Array(e)}function Ea(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sa(e){const t=e.mapValue.fields.__previous_value__;return Ea(t)?Sa(t):t}function _a(e){const t=va(e.mapValue.fields.__local_write_time__.timestampValue);return new sa(t.seconds,t.nanos)}function ka(e){return null==e}function Ta(e){return 0===e&&1/e==-1/0}class Ia{constructor(e){this.path=e}static fromPath(e){return new Ia(fa.fromString(e))}static fromName(e){return new Ia(fa.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===fa.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ia(new fa(e.slice()))}}function Na(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ea(e)?4:10:Hs()}function Ca(e,t){const n=Na(e);if(n!==Na(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _a(e).isEqual(_a(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=va(e.timestampValue),r=va(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wa(e.bytesValue).isEqual(wa(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ba(e.geoPointValue.latitude)===ba(t.geoPointValue.latitude)&&ba(e.geoPointValue.longitude)===ba(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ba(e.integerValue)===ba(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ba(e.doubleValue),r=ba(t.doubleValue);return n===r?Ta(n)===Ta(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return oa(e.arrayValue.values||[],t.arrayValue.values||[],Ca);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ua(n)!==ua(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Ca(n[e],r[e])))return!1;return!0}(e,t);default:return Hs()}}function Aa(e,t){return void 0!==(e.values||[]).find((e=>Ca(e,t)))}function Oa(e,t){const n=Na(e),r=Na(t);if(n!==r)return ia(n,r);switch(n){case 0:return 0;case 1:return ia(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ba(e.integerValue||e.doubleValue),r=ba(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return xa(e.timestampValue,t.timestampValue);case 4:return xa(_a(e),_a(t));case 5:return ia(e.stringValue,t.stringValue);case 6:return function(e,t){const n=wa(e),r=wa(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=ia(n[e],r[e]);if(0!==t)return t}return ia(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ia(ba(e.latitude),ba(t.latitude));return 0!==n?n:ia(ba(e.longitude),ba(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Oa(n[e],r[e]);if(t)return t}return ia(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=ia(r[e],o[e]);if(0!==t)return t;const s=Oa(n[r[e]],i[o[e]]);if(0!==s)return s}return ia(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Hs()}}function xa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ia(e,t);const n=va(e),r=va(t),i=ia(n.seconds,r.seconds);return 0!==i?i:ia(n.nanos,r.nanos)}function Ra(e){return Pa(e)}function Pa(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=va(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wa(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ia.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Pa(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Pa(e.fields[i])}`;return n+"}"}(e.mapValue):Hs();var t,n}function Da(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function La(e){return!!e&&"integerValue"in e}function Ma(e){return!!e&&"arrayValue"in e}function Ua(e){return!!e&&"nullValue"in e}function Fa(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Va(e){return!!e&&"mapValue"in e}function ja(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return la(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ja(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ja(e.arrayValue.values[n]);return t}return Object.assign({},e)}class za{constructor(e){this.value=e}static empty(){return new za({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Va(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(t)}setAll(e){let t=pa.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ja(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Va(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ca(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Va(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){la(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new za(ja(this.value))}}function Ba(e){const t=[];return la(e.fields,((e,n)=>{const r=new pa([e]);if(Va(n)){const e=Ba(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ma(t)}class qa{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new qa(e,0,aa.min(),za.empty(),0)}static newFoundDocument(e,t,n){return new qa(e,1,t,n,0)}static newNoDocument(e,t){return new qa(e,2,t,za.empty(),0)}static newUnknownDocument(e,t){return new qa(e,3,t,za.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=za.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=za.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new qa(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ha{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.A=null}}function $a(e,t=null,n=[],r=[],i=null,o=null,s=null){return new Ha(e,t,n,r,i,o,s)}function Wa(e){const t=Ws(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+Ra(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ka(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=ou(t.startAt)),t.endAt&&(e+="|ub:",e+=ou(t.endAt)),t.A=e}return t.A}function Ka(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!au(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Ca(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lu(e.startAt,t.startAt)&&lu(e.endAt,t.endAt)}function Ga(e){return Ia.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Qa extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new Ya(e,t,n):"array-contains"===t?new eu(e,n):"in"===t?new tu(e,n):"not-in"===t?new nu(e,n):"array-contains-any"===t?new ru(e,n):new Qa(e,t,n)}static R(e,t,n){return"in"===t?new Xa(e,n):new Ja(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Oa(t,this.value)):null!==t&&Na(this.value)===Na(t)&&this.P(Oa(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Hs()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ya extends Qa{constructor(e,t,n){super(e,t,n),this.key=Ia.fromName(n.referenceValue)}matches(e){const t=Ia.comparator(e.key,this.key);return this.P(t)}}class Xa extends Qa{constructor(e,t){super(e,"in",t),this.keys=Za(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ja extends Qa{constructor(e,t){super(e,"not-in",t),this.keys=Za(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Za(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ia.fromName(e.referenceValue)))}class eu extends Qa{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ma(t)&&Aa(t.arrayValue,this.value)}}class tu extends Qa{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Aa(this.value.arrayValue,t)}}class nu extends Qa{constructor(e,t){super(e,"not-in",t)}matches(e){if(Aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Aa(this.value.arrayValue,t)}}class ru extends Qa{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ma(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Aa(this.value.arrayValue,e)))}}class iu{constructor(e,t){this.position=e,this.before=t}}function ou(e){return`${e.before?"b":"a"}:${e.position.map((e=>Ra(e))).join(",")}`}class su{constructor(e,t="asc"){this.field=e,this.dir=t}}function au(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function uu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Ia.comparator(Ia.fromName(s.referenceValue),n.key):Oa(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function lu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ca(e.position[n],t.position[n]))return!1;return!0}class cu{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.V=null,this.S=null,this.startAt,this.endAt}}function hu(e){return new cu(e)}function fu(e){return!ka(e.limit)&&"F"===e.limitType}function du(e){return!ka(e.limit)&&"L"===e.limitType}function pu(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function mu(e){for(const t of e.filters)if(t.v())return t.field;return null}function gu(e){return null!==e.collectionGroup}function yu(e){const t=Ws(e);if(null===t.V){t.V=[];const e=mu(t),n=pu(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new su(e)),t.V.push(new su(pa.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new su(pa.keyField(),e))}}}return t.V}function vu(e){const t=Ws(e);if(!t.S)if("F"===t.limitType)t.S=$a(t.path,t.collectionGroup,yu(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of yu(t)){const t="desc"===n.dir?"asc":"desc";e.push(new su(n.field,t))}const n=t.endAt?new iu(t.endAt.position,!t.endAt.before):null,r=t.startAt?new iu(t.startAt.position,!t.startAt.before):null;t.S=$a(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function bu(e,t){return Ka(vu(e),vu(t))&&e.limitType===t.limitType}function wu(e){return`${Wa(vu(e))}|lt:${e.limitType}`}function Eu(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Ra(t.value)}`;var t})).join(", ")}]`),ka(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+ou(e.startAt)),e.endAt&&(t+=", endAt: "+ou(e.endAt)),`Target(${t})`}(vu(e))}; limitType=${e.limitType})`}function Su(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ia.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!uu(e.startAt,yu(e),t)||e.endAt&&uu(e.endAt,yu(e),t))}(e,t)}function _u(e){return(t,n)=>{let r=!1;for(const i of yu(e)){const e=ku(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ku(e,t,n){const r=e.field.isKeyField()?Ia.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Oa(r,i):Hs()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Hs()}}function Tu(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ta(t)?"-0":t}}function Iu(e){return{integerValue:""+e}}function Nu(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Ta(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?Iu(t):Tu(e,t)}class Cu{constructor(){this._=void 0}}function Au(e,t,n){return e instanceof Ru?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Pu?Du(e,t):e instanceof Lu?Mu(e,t):function(e,t){const n=xu(e,t),r=Fu(n)+Fu(e.C);return La(n)&&La(e.C)?Iu(r):Tu(e.N,r)}(e,t)}function Ou(e,t,n){return e instanceof Pu?Du(e,t):e instanceof Lu?Mu(e,t):n}function xu(e,t){return e instanceof Uu?La(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Ru extends Cu{}class Pu extends Cu{constructor(e){super(),this.elements=e}}function Du(e,t){const n=Vu(t);for(const t of e.elements)n.some((e=>Ca(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Lu extends Cu{constructor(e){super(),this.elements=e}}function Mu(e,t){let n=Vu(t);for(const t of e.elements)n=n.filter((e=>!Ca(e,t)));return{arrayValue:{values:n}}}class Uu extends Cu{constructor(e,t){super(),this.N=e,this.C=t}}function Fu(e){return ba(e.integerValue||e.doubleValue)}function Vu(e){return Ma(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ju{constructor(e,t){this.version=e,this.transformResults=t}}class zu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zu}static exists(e){return new zu(void 0,e)}static updateTime(e){return new zu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class qu{}function Hu(e,t,n){e instanceof Qu?function(e,t,n){const r=e.value.clone(),i=Ju(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Yu?function(e,t,n){if(!Bu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ju(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function $u(e,t,n){e instanceof Qu?function(e,t,n){if(!Bu(e.precondition,t))return;const r=e.value.clone(),i=Zu(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Gu(t),r).setHasLocalMutations()}(e,t,n):e instanceof Yu?function(e,t,n){if(!Bu(e.precondition,t))return;const r=Zu(e.fieldTransforms,n,t),i=t.data;i.setAll(Xu(e)),i.setAll(r),t.convertToFoundDocument(Gu(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Bu(e.precondition,t)&&t.convertToNoDocument(aa.min())}(e,t)}function Wu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=xu(r.transform,e||null);null!=i&&(null==n&&(n=za.empty()),n.set(r.field,i))}return n||null}function Ku(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&oa(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Pu&&t instanceof Pu||e instanceof Lu&&t instanceof Lu?oa(e.elements,t.elements,Ca):e instanceof Uu&&t instanceof Uu?Ca(e.C,t.C):e instanceof Ru&&t instanceof Ru}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Gu(e){return e.isFoundDocument()?e.version:aa.min()}class Qu extends qu{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Yu extends qu{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Xu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ju(e,t,n){const r=new Map;$s(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Ou(s,a,n[i]))}return r}function Zu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Au(e,o,t))}return r}class el extends qu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class tl extends qu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class nl{constructor(e){this.count=e}}var rl,il;function ol(e){if(void 0===e)return zs("GRPC error has no .code"),Ks.UNKNOWN;switch(e){case rl.OK:return Ks.OK;case rl.CANCELLED:return Ks.CANCELLED;case rl.UNKNOWN:return Ks.UNKNOWN;case rl.DEADLINE_EXCEEDED:return Ks.DEADLINE_EXCEEDED;case rl.RESOURCE_EXHAUSTED:return Ks.RESOURCE_EXHAUSTED;case rl.INTERNAL:return Ks.INTERNAL;case rl.UNAVAILABLE:return Ks.UNAVAILABLE;case rl.UNAUTHENTICATED:return Ks.UNAUTHENTICATED;case rl.INVALID_ARGUMENT:return Ks.INVALID_ARGUMENT;case rl.NOT_FOUND:return Ks.NOT_FOUND;case rl.ALREADY_EXISTS:return Ks.ALREADY_EXISTS;case rl.PERMISSION_DENIED:return Ks.PERMISSION_DENIED;case rl.FAILED_PRECONDITION:return Ks.FAILED_PRECONDITION;case rl.ABORTED:return Ks.ABORTED;case rl.OUT_OF_RANGE:return Ks.OUT_OF_RANGE;case rl.UNIMPLEMENTED:return Ks.UNIMPLEMENTED;case rl.DATA_LOSS:return Ks.DATA_LOSS;default:return Hs()}}(il=rl||(rl={}))[il.OK=0]="OK",il[il.CANCELLED=1]="CANCELLED",il[il.UNKNOWN=2]="UNKNOWN",il[il.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",il[il.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",il[il.NOT_FOUND=5]="NOT_FOUND",il[il.ALREADY_EXISTS=6]="ALREADY_EXISTS",il[il.PERMISSION_DENIED=7]="PERMISSION_DENIED",il[il.UNAUTHENTICATED=16]="UNAUTHENTICATED",il[il.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",il[il.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",il[il.ABORTED=10]="ABORTED",il[il.OUT_OF_RANGE=11]="OUT_OF_RANGE",il[il.UNIMPLEMENTED=12]="UNIMPLEMENTED",il[il.INTERNAL=13]="INTERNAL",il[il.UNAVAILABLE=14]="UNAVAILABLE",il[il.DATA_LOSS=15]="DATA_LOSS";class sl{constructor(e,t){this.comparator=e,this.root=t||ul.EMPTY}insert(e,t){return new sl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ul.BLACK,null,null))}remove(e){return new sl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ul.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new al(this.root,e,this.comparator,!1)}getReverseIterator(){return new al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new al(this.root,e,this.comparator,!0)}}class al{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ul{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ul.RED,this.left=null!=r?r:ul.EMPTY,this.right=null!=i?i:ul.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ul(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ul.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ul.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ul.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ul.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Hs();if(this.right.isRed())throw Hs();const e=this.left.check();if(e!==this.right.check())throw Hs();return e+(this.isRed()?0:1)}}ul.EMPTY=null,ul.RED=!0,ul.BLACK=!1,ul.EMPTY=new class{constructor(){this.size=0}get key(){throw Hs()}get value(){throw Hs()}get color(){throw Hs()}get left(){throw Hs()}get right(){throw Hs()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ul(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ll{constructor(e){this.comparator=e,this.data=new sl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cl(this.data.getIterator())}getIteratorFrom(e){return new cl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ll))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ll(this.comparator);return t.data=e,t}}class cl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const hl=new sl(Ia.comparator);function fl(){return hl}const dl=new sl(Ia.comparator);function pl(){return dl}const ml=new sl(Ia.comparator);const gl=new ll(Ia.comparator);function yl(...e){let t=gl;for(const n of e)t=t.add(n);return t}const vl=new ll(ia);function bl(){return vl}class wl{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,El.createSynthesizedTargetChangeForCurrentChange(e,t)),new wl(aa.min(),n,bl(),fl(),yl())}}class El{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new El(ga.EMPTY_BYTE_STRING,t,yl(),yl(),yl())}}class Sl{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class _l{constructor(e,t){this.targetId=e,this.O=t}}class kl{constructor(e,t,n=ga.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Tl{constructor(){this.F=0,this.M=Cl(),this.L=ga.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=yl(),t=yl(),n=yl();return this.M.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Hs()}})),new El(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=Cl()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Il{constructor(e){this.tt=e,this.et=new Map,this.nt=fl(),this.st=Nl(),this.it=new ll(ia)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,(t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:Hs()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach(((e,n)=>{this.ht(n)&&t(n)}))}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(Ga(e))if(0===n){const n=new Ia(e.path);this.at(t,n,qa.newNoDocument(n,aa.min()))}else $s(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach(((n,r)=>{const i=this.dt(r);if(i){if(n.current&&Ga(i.target)){const t=new Ia(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,qa.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}}));let n=yl();this.st.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new wl(e,t,this.it,this.nt,n);return this.nt=fl(),this.st=Nl(),this.it=new ll(ia),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Tl,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new ll(ia),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||js("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new Tl),this.tt.getRemoteKeysForTarget(e).forEach((t=>{this.at(e,t,null)}))}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Nl(){return new sl(Ia.comparator)}function Cl(){return new sl(Ia.comparator)}const Al={asc:"ASCENDING",desc:"DESCENDING"},Ol={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class xl{constructor(e,t){this.databaseId=e,this.D=t}}function Rl(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Pl(e,t){return e.D?t.toBase64():t.toUint8Array()}function Dl(e,t){return Rl(e,t.toTimestamp())}function Ll(e){return $s(!!e),aa.fromTimestamp(function(e){const t=va(e);return new sa(t.seconds,t.nanos)}(e))}function Ml(e,t){return function(e){return new fa(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ul(e){const t=fa.fromString(e);return $s(rc(t)),t}function Fl(e,t){return Ml(e.databaseId,t.path)}function Vl(e,t){const n=Ul(t);if(n.get(1)!==e.databaseId.projectId)throw new Gs(Ks.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Gs(Ks.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ia(Bl(n))}function jl(e,t){return Ml(e.databaseId,t)}function zl(e){return new fa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Bl(e){return $s(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ql(e,t,n){return{name:Fl(e,t),fields:n.value.mapValue.fields}}function Hl(e,t){return{documents:[jl(e,t.path)]}}function $l(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=jl(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=jl(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Fa(e.value))return{unaryFilter:{field:Jl(e.field),op:"IS_NAN"}};if(Ua(e.value))return{unaryFilter:{field:Jl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fa(e.value))return{unaryFilter:{field:Jl(e.field),op:"IS_NOT_NAN"}};if(Ua(e.value))return{unaryFilter:{field:Jl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jl(e.field),op:Xl(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Jl(e.field),direction:Yl(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(e,t){return e.D||ka(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=Gl(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Gl(t.endAt)),n}function Wl(e){let t=function(e){const t=Ul(e);return 4===t.length?fa.emptyPath():Bl(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$s(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=Kl(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new su(Zl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ka(t)?null:t}(n.limit));let u=null;n.startAt&&(u=Ql(n.startAt));let l=null;return n.endAt&&(l=Ql(n.endAt)),function(e,t,n,r,i,o,s,a){return new cu(e,t,n,r,i,o,s,a)}(t,i,s,o,a,"F",u,l)}function Kl(e){return e?void 0!==e.unaryFilter?[tc(e)]:void 0!==e.fieldFilter?[ec(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>Kl(e))).reduce(((e,t)=>e.concat(t))):Hs():[]}function Gl(e){return{before:e.before,values:e.position}}function Ql(e){const t=!!e.before,n=e.values||[];return new iu(n,t)}function Yl(e){return Al[e]}function Xl(e){return Ol[e]}function Jl(e){return{fieldPath:e.canonicalString()}}function Zl(e){return pa.fromServerFormat(e.fieldPath)}function ec(e){return Qa.create(Zl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Hs()}}(e.fieldFilter.op),e.fieldFilter.value)}function tc(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Zl(e.unaryFilter.field);return Qa.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Zl(e.unaryFilter.field);return Qa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Zl(e.unaryFilter.field);return Qa.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Zl(e.unaryFilter.field);return Qa.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Hs()}}function nc(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function rc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ic(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=sc(t)),t=oc(e.get(n),t);return sc(t)}function oc(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function sc(e){return e+""}class ac{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}ac.store="owner",ac.key="owner";class uc{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}uc.store="mutationQueues",uc.keyPath="userId";class lc{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}lc.store="mutations",lc.keyPath="batchId",lc.userMutationsIndex="userMutationsIndex",lc.userMutationsKeyPath=["userId","batchId"];class cc{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ic(t)]}static key(e,t,n){return[e,ic(t),n]}}cc.store="documentMutations",cc.PLACEHOLDER=new cc;class hc{constructor(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}}hc.store="remoteDocuments",hc.readTimeIndex="readTimeIndex",hc.readTimeIndexPath="readTime",hc.collectionReadTimeIndex="collectionReadTimeIndex",hc.collectionReadTimeIndexPath=["parentPath","readTime"];class fc{constructor(e){this.byteSize=e}}fc.store="remoteDocumentGlobal",fc.key="remoteDocumentGlobalKey";class dc{constructor(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}}dc.store="targets",dc.keyPath="targetId",dc.queryTargetsIndexName="queryTargetsIndex",dc.queryTargetsKeyPath=["canonicalId","targetId"];class pc{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}pc.store="targetDocuments",pc.keyPath=["targetId","path"],pc.documentTargetsIndex="documentTargetsIndex",pc.documentTargetsKeyPath=["path","targetId"];class mc{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}mc.key="targetGlobalKey",mc.store="targetGlobal";class gc{constructor(e,t){this.collectionId=e,this.parent=t}}gc.store="collectionParents",gc.keyPath=["collectionId","parent"];class yc{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}yc.store="clientMetadata",yc.keyPath="clientId";class vc{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}vc.store="bundles",vc.keyPath="bundleId";class bc{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}bc.store="namedQueries",bc.keyPath="name",uc.store,lc.store,cc.store,hc.store,dc.store,ac.store,mc.store,pc.store,yc.store,fc.store,gc.store,vc.store,bc.store;class wc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Hs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new wc(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof wc?t:wc.resolve(t)}catch(e){return wc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):wc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):wc.reject(t)}static resolve(e){return new wc(((t,n)=>{t(e)}))}static reject(e){return new wc(((t,n)=>{n(e)}))}static waitFor(e){return new wc(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=wc.resolve(!1);for(const n of e)t=t.next((e=>e?wc.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}function Ec(e){return"IndexedDbTransactionError"===e.name}class Sc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Hu(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&$u(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&$u(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(aa.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),yl())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,((e,t)=>Ku(e,t)))&&oa(this.baseMutations,e.baseMutations,((e,t)=>Ku(e,t)))}}class _c{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){$s(e.mutations.length===n.length);let r=ml;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new _c(e,t,n,r)}}class kc{constructor(e,t,n,r,i=aa.min(),o=aa.min(),s=ga.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new kc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Tc{constructor(e){this.Wt=e}}function Ic(e){const t=Wl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?function(e,t,n){return new cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}(t,t.limit,"L"):t}class Nc{constructor(){this.Gt=new Cc}addToCollectionParentIndex(e,t){return this.Gt.add(t),wc.resolve()}getCollectionParents(e,t){return wc.resolve(this.Gt.getEntries(t))}}class Cc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ll(fa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ll(fa.comparator)).toArray()}}class Ac{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ac(e,Ac.DEFAULT_COLLECTION_PERCENTILE,Ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ac.DEFAULT_COLLECTION_PERCENTILE=10,Ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ac.DEFAULT=new Ac(41943040,Ac.DEFAULT_COLLECTION_PERCENTILE,Ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ac.DISABLED=new Ac(-1,0,0);class Oc{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Oc(0)}static ie(){return new Oc(-1)}}async function xc(e){if(e.code!==Ks.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;js("LocalStore","Unexpectedly lost primary lease")}class Rc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){la(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return ca(this.inner)}}class Pc{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Rn(e,t,n)))}Rn(e,t,n){return this.He.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}Pn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}bn(e,t){return this.He.getEntries(e,t).next((t=>this.vn(e,t).next((()=>t))))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.Pn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Ia.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):gu(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new Ia(t)).next((e=>{let t=pl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Sn(e,t,n){const r=t.collectionGroup;let i=pl();return this.Ht.getCollectionParents(e,r).next((o=>wc.forEach(o,(o=>{const s=function(e,t){return new cu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.Dn(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Cn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=qa.newInvalidDocument(n),r=r.insert(n,i)),$u(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{Su(t,n)||(r=r.remove(e))})),r)))}Cn(e,t,n){let r=yl();for(const e of t)for(const t of e.mutations)t instanceof Yu&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.He.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class Dc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=yl(),r=yl();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Dc(e,t.fromCache,n,r)}}class Lc{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(aa.min())?this.Fn(e,t):this.On.bn(e,r).next((i=>{const o=this.Mn(t,i);return(fu(t)||du(t))&&this.Ln(t.limitType,o,r,n)?this.Fn(e,t):(Vs()<=P.DEBUG&&js("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Eu(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(o.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Mn(e,t){let n=new ll(_u(e));return t.forEach(((t,r)=>{Su(e,r)&&(n=n.add(r))})),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return Vs()<=P.DEBUG&&js("QueryEngine","Using full collection scan to execute query:",Eu(t)),this.On.getDocumentsMatchingQuery(e,t,aa.min())}}class Mc{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new sl(ia),this.qn=new Rc((e=>Wa(e)),Ka),this.Kn=aa.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Pc(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Un)))}}async function Uc(e,t){const n=Ws(e);let r=n.In,i=n.Qn;const o=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let o;return n.In.getAllMutationBatches(e).next((s=>(o=s,r=n.persistence.getMutationQueue(t),i=new Pc(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let s=yl();for(const e of o){n.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return i.bn(e,s).next((e=>({Wn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),o}function Fc(e){const t=Ws(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ze.getLastRemoteSnapshotVersion(e)))}function Vc(e,t){const n=Ws(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t))))}async function jc(e,t,n){const r=Ws(e),i=r.Un.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ec(e))throw e;js("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)}function zc(e,t,n){const r=Ws(e);let i=aa.min(),o=yl();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Ws(e),i=r.qn.get(n);return void 0!==i?wc.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,vu(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:aa.min(),n?o:yl()))).next((e=>({documents:e,Gn:o})))))}class Bc{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return wc.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ll(n.createTime)}),wc.resolve()}getNamedQuery(e,t){return wc.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:Ic(e.bundledQuery),readTime:Ll(e.readTime)}}(t)),wc.resolve()}}class qc{constructor(){this.Zn=new ll(Hc.ts),this.es=new ll(Hc.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new Hc(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.rs(new Hc(e,t))}os(e,t){e.forEach((e=>this.removeReference(e,t)))}cs(e){const t=new Ia(new fa([])),n=new Hc(t,e),r=new Hc(t,e+1),i=[];return this.es.forEachInRange([n,r],(e=>{this.rs(e),i.push(e.key)})),i}us(){this.Zn.forEach((e=>this.rs(e)))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Ia(new fa([])),n=new Hc(t,e),r=new Hc(t,e+1);let i=yl();return this.es.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Hc(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Hc{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Ia.comparator(e.key,t.key)||ia(e.ls,t.ls)}static ns(e,t){return ia(e.ls,t.ls)||Ia.comparator(e.key,t.key)}}class $c{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new ll(Hc.ts)}checkEmpty(e){return wc.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];const o=new Sc(i,t,n,r);this.In.push(o);for(const t of r)this.ds=this.ds.add(new Hc(t.key,i)),this.Ht.addToCollectionParentIndex(e,t.key.path.popLast());return wc.resolve(o)}lookupMutationBatch(e,t){return wc.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this._s(n),i=r<0?0:r;return wc.resolve(this.In.length>i?this.In[i]:null)}getHighestUnacknowledgedBatchId(){return wc.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return wc.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Hc(t,0),r=new Hc(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],(e=>{const t=this.ws(e.ls);i.push(t)})),wc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ll(ia);return t.forEach((e=>{const t=new Hc(e,0),r=new Hc(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],(e=>{n=n.add(e.ls)}))})),wc.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ia.isDocumentKey(i)||(i=i.child(""));const o=new Hc(new Ia(i),0);let s=new ll(ia);return this.ds.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ls)),!0)}),o),wc.resolve(this.gs(s))}gs(e){const t=[];return e.forEach((e=>{const n=this.ws(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){$s(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return wc.forEach(t.mutations,(r=>{const i=new Hc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ds=n}))}te(e){}containsKey(e,t){const n=new Hc(t,0),r=this.ds.firstAfterOrEqual(n);return wc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.In.length,wc.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class Wc{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new sl(Ia.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:s,readTime:n}),this.size+=s-o,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return wc.resolve(n?n.document.clone():qa.newInvalidDocument(t))}getEntries(e,t){let n=fl();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():qa.newInvalidDocument(e))})),wc.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=fl();const i=new Ia(t.path.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i,readTime:s}}=o.getNext();if(!t.path.isPrefixOf(e.path))break;s.compareTo(n)<=0||Su(t,i)&&(r=r.insert(i.key,i.clone()))}return wc.resolve(r)}Es(e,t){return wc.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Kc(this)}getSize(e){return wc.resolve(this.size)}}class Kc extends class{constructor(){this.changes=new Rc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:aa.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:qa.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?wc.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)})),wc.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class Gc{constructor(e){this.persistence=e,this.Ts=new Rc((e=>Wa(e)),Ka),this.lastRemoteSnapshotVersion=aa.min(),this.highestTargetId=0,this.Is=0,this.As=new qc,this.targetCount=0,this.Rs=Oc.se()}forEachTarget(e,t){return this.Ts.forEach(((e,n)=>t(n))),wc.resolve()}getLastRemoteSnapshotVersion(e){return wc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return wc.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),wc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),wc.resolve()}ae(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Oc(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,wc.resolve()}updateTargetData(e,t){return this.ae(t),wc.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,wc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Ts.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),wc.waitFor(i).next((()=>r))}getTargetCount(e){return wc.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return wc.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),wc.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),wc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),wc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return wc.resolve(n)}containsKey(e,t){return wc.resolve(this.As.containsKey(t))}}class Qc{constructor(e,t){this.Ps={},this.Le=new ta(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Gc(this),this.Ht=new Nc,this.He=function(e,t){return new Wc(e,t)}(this.Ht,(e=>this.referenceDelegate.bs(e))),this.N=new Tc(t),this.Je=new Bc(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new $c(this.Ht,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){js("MemoryPersistence","Starting transaction:",e);const r=new Yc(this.Le.next());return this.referenceDelegate.vs(),n(r).next((e=>this.referenceDelegate.Vs(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ss(e,t){return wc.or(Object.values(this.Ps).map((n=>()=>n.containsKey(e,t))))}}class Yc extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}{constructor(e){super(),this.currentSequenceNumber=e}}class Xc{constructor(e){this.persistence=e,this.Ds=new qc,this.Cs=null}static Ns(e){return new Xc(e)}get xs(){if(this.Cs)return this.Cs;throw Hs()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),wc.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),wc.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),wc.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wc.forEach(this.xs,(n=>{const r=Ia.fromPath(n);return this.ks(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Cs=null,t.apply(e))))}updateLimboDocument(e,t){return this.ks(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}bs(e){return 0}ks(e,t){return wc.or([()=>wc.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}class Jc{constructor(){this.activeTargetIds=bl()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zc{constructor(){this.yi=new Jc,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Jc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class eh{Ei(e){}shutdown(){}}class th{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){js("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}Ri(){js("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const nh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class rh{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class ih extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Fi=t+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);js("RestConnection","Sending: ",i,n);const o={};return this.Ui(o,r),this.qi(e,i,o,n).then((e=>(js("RestConnection","Received: ",e),e)),(t=>{throw Bs("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t}))}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Us,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){const n=nh[e];return`${this.Fi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise(((i,o)=>{const s=new Ls;s.listenOnce(As.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Cs.NO_ERROR:const t=s.getResponseJson();js("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Cs.TIMEOUT:js("Connection",'RPC "'+e+'" timed out'),o(new Gs(Ks.DEADLINE_EXCEEDED,"Request time out"));break;case Cs.HTTP_ERROR:const n=s.getStatus();if(js("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const e=s.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ks).indexOf(t)>=0?t:Ks.UNKNOWN}(e.status);o(new Gs(t,e.message))}else o(new Gs(Ks.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Gs(Ks.UNAVAILABLE,"Connection failed."));break;default:Hs()}}finally{js("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);s.send(t,"POST",a,n,15)}))}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new _s,i=mi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ps({})),this.Ui(o.initMessageHeaders,t),h()||d()||c().indexOf("Electron/")>=0||p()||c().indexOf("MSAppHost/")>=0||f()||(o.httpHeadersOverwriteParam="$httpHeaders");const s=n.join("");js("Connection","Creating WebChannel: "+s,o);const a=r.createWebChannel(s,o);let u=!1,l=!1;const m=new rh({vi:e=>{l?js("Connection","Not sending because WebChannel is closed:",e):(u||(js("Connection","Opening WebChannel transport."),a.open(),u=!0),js("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),g=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return g(a,Ds.EventType.OPEN,(()=>{l||js("Connection","WebChannel transport opened.")})),g(a,Ds.EventType.CLOSE,(()=>{l||(l=!0,js("Connection","WebChannel transport closed"),m.$i())})),g(a,Ds.EventType.ERROR,(e=>{l||(l=!0,Bs("Connection","WebChannel transport errored:",e),m.$i(new Gs(Ks.UNAVAILABLE,"The operation could not be completed")))})),g(a,Ds.EventType.MESSAGE,(e=>{var t;if(!l){const n=e.data[0];$s(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){js("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=rl[e];if(void 0!==t)return ol(t)}(e),n=i.message;void 0===t&&(t=Ks.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),l=!0,m.$i(new Gs(t,n)),a.close()}else js("Connection","WebChannel received:",n),m.Oi(n)}})),g(i,Os.STAT_EVENT,(e=>{e.stat===xs?js("Connection","Detected buffering proxy"):e.stat===Rs&&js("Connection","Detected no buffering proxy")})),setTimeout((()=>{m.ki()}),0),m}}function oh(){return"undefined"!=typeof document?document:null}function sh(e){return new xl(e,!0)}class ah{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&js("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Ji=Date.now(),e()))),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class uh{constructor(e,t,n,r,i,o){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new ah(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,(()=>this.dr())))}wr(e){this._r(),this.stream.send(e)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(e,t){this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===Ks.RESOURCE_EXHAUSTED?(zs(t.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):t&&t.code===Ks.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(t)}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then((e=>{this.sr===t&&this.yr(e)}),(t=>{e((()=>{const e=new Gs(Ks.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)}))}))}yr(e){const t=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si((()=>{t((()=>(this.state=2,this.listener.Si())))})),this.stream.Ci((e=>{t((()=>this.pr(e)))})),this.stream.onMessage((e=>{t((()=>this.onMessage(e)))}))}ur(){this.state=4,this.rr.Xi((async()=>{this.state=0,this.start()}))}pr(e){return js("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget((()=>this.sr===e?t():(js("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lh extends uh{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Hs()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.D?($s(void 0===t||"string"==typeof t),ga.fromBase64String(t||"")):($s(void 0===t||t instanceof Uint8Array),ga.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Ks.UNKNOWN:ol(e.code);return new Gs(t,e.message||"")}(s);n=new kl(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vl(e,r.document.name),o=Ll(r.document.updateTime),s=new za({mapValue:{fields:r.document.fields}}),a=qa.newFoundDocument(i,o,s),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Sl(u,l,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Vl(e,r.document),o=r.readTime?Ll(r.readTime):aa.min(),s=qa.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Sl([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Vl(e,r.document),o=r.removedTargetIds||[];n=new Sl([],o,i,null)}else{if(!("filter"in t))return Hs();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new nl(r),o=e.targetId;n=new _l(o,i)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return aa.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?aa.min():t.readTime?Ll(t.readTime):aa.min()}(e);return this.listener.Tr(t,n)}Ir(e){const t={};t.database=zl(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=Ga(r)?{documents:Hl(e,r)}:{query:$l(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Pl(e,t.resumeToken):t.snapshotVersion.compareTo(aa.min())>0&&(n.readTime=Rl(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Hs()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=zl(this.N),t.removeTarget=e,this.wr(t)}}class ch extends uh{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if($s(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?($s(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ll(e.updateTime):Ll(t);return n.isEqual(aa.min())&&(n=Ll(t)),new ju(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ll(e.commitTime);return this.listener.vr(n,t)}return $s(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=zl(this.N),this.wr(e)}br(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof Qu)n={update:ql(e,t.key,t.value)};else if(t instanceof el)n={delete:Fl(e,t.key)};else if(t instanceof Yu)n={update:ql(e,t.key,t.data),updateMask:nc(t.fieldMask)};else{if(!(t instanceof tl))return Hs();n={verify:Fl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ru)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Pu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Lu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Uu)return{fieldPath:t.field.canonicalString(),increment:n.C};throw Hs()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Dl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Hs()}(e,t.precondition)),n}(this.N,e)))};this.wr(t)}}class hh extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new Gs(Ks.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Li(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ks.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Gs(Ks.UNKNOWN,e.toString())}))}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Ki(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ks.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Gs(Ks.UNKNOWN,e.toString())}))}terminate(){this.Dr=!0}}class fh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve()))))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(zs(t),this.$r=!1):js("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class dh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ei((e=>{n.enqueueAndForget((async()=>{Sh(this)&&(js("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ws(e);t.Kr.add(4),await mh(t),t.Wr.set("Unknown"),t.Kr.delete(4),await ph(t)}(this))}))})),this.Wr=new fh(n,r)}}async function ph(e){if(Sh(e))for(const t of e.jr)await t(!0)}async function mh(e){for(const t of e.jr)await t(!1)}function gh(e,t){const n=Ws(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),Eh(n)?wh(n):Fh(n).cr()&&vh(n,t))}function yh(e,t){const n=Ws(e),r=Fh(n);n.qr.delete(t),r.cr()&&bh(n,t),0===n.qr.size&&(r.cr()?r.lr():Sh(n)&&n.Wr.set("Unknown"))}function vh(e,t){e.Gr.Y(t.targetId),Fh(e).Ir(t)}function bh(e,t){e.Gr.Y(t),Fh(e).Ar(t)}function wh(e){e.Gr=new Il({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),Fh(e).start(),e.Wr.Or()}function Eh(e){return Sh(e)&&!Fh(e).ar()&&e.qr.size>0}function Sh(e){return 0===Ws(e).Kr.size}function _h(e){e.Gr=void 0}async function kh(e){e.qr.forEach(((t,n)=>{vh(e,t)}))}async function Th(e,t){_h(e),Eh(e)?(e.Wr.Lr(t),wh(e)):e.Wr.set("Unknown")}async function Ih(e,t,n){if(e.Wr.set("Online"),t instanceof kl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}(e,t)}catch(n){js("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Nh(e,n)}else if(t instanceof Sl?e.Gr.rt(t):t instanceof _l?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(aa.min()))try{const t=await Fc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(ga.EMPTY_BYTE_STRING,n.snapshotVersion)),bh(e,t);const r=new kc(n.target,t,1,n.sequenceNumber);vh(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){js("RemoteStore","Failed to raise snapshot:",t),await Nh(e,t)}}async function Nh(e,t,n){if(!Ec(t))throw t;e.Kr.add(1),await mh(e),e.Wr.set("Offline"),n||(n=()=>Fc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{js("RemoteStore","Retrying IndexedDB access"),await n(),e.Kr.delete(1),await ph(e)}))}function Ch(e,t){return t().catch((n=>Nh(e,n,t)))}async function Ah(e){const t=Ws(e),n=Vh(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;Oh(t);)try{const e=await Vc(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,xh(t,e)}catch(e){await Nh(t,e)}Rh(t)&&Ph(t)}function Oh(e){return Sh(e)&&e.Ur.length<10}function xh(e,t){e.Ur.push(t);const n=Vh(e);n.cr()&&n.Pr&&n.br(t.mutations)}function Rh(e){return Sh(e)&&!Vh(e).ar()&&e.Ur.length>0}function Ph(e){Vh(e).start()}async function Dh(e){Vh(e).Sr()}async function Lh(e){const t=Vh(e);for(const n of e.Ur)t.br(n.mutations)}async function Mh(e,t,n){const r=e.Ur.shift(),i=_c.from(r,t,n);await Ch(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Ah(e)}async function Uh(e,t){t&&Vh(e).Pr&&await async function(e,t){if(function(e){switch(e){case Ks.OK:return Hs();case Ks.CANCELLED:case Ks.UNKNOWN:case Ks.DEADLINE_EXCEEDED:case Ks.RESOURCE_EXHAUSTED:case Ks.INTERNAL:case Ks.UNAVAILABLE:case Ks.UNAUTHENTICATED:return!1;case Ks.INVALID_ARGUMENT:case Ks.NOT_FOUND:case Ks.ALREADY_EXISTS:case Ks.PERMISSION_DENIED:case Ks.FAILED_PRECONDITION:case Ks.ABORTED:case Ks.OUT_OF_RANGE:case Ks.UNIMPLEMENTED:case Ks.DATA_LOSS:return!0;default:return Hs()}}(n=t.code)&&n!==Ks.ABORTED){const n=e.Ur.shift();Vh(e).hr(),await Ch(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ah(e)}var n}(e,t),Rh(e)&&Ph(e)}function Fh(e){return e.zr||(e.zr=function(e,t,n){const r=Ws(e);return r.Cr(),new lh(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:kh.bind(null,e),Ci:Th.bind(null,e),Tr:Ih.bind(null,e)}),e.jr.push((async t=>{t?(e.zr.hr(),Eh(e)?wh(e):e.Wr.set("Unknown")):(await e.zr.stop(),_h(e))}))),e.zr}function Vh(e){return e.Hr||(e.Hr=function(e,t,n){const r=Ws(e);return r.Cr(),new ch(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Dh.bind(null,e),Ci:Uh.bind(null,e),Vr:Lh.bind(null,e),vr:Mh.bind(null,e)}),e.jr.push((async t=>{t?(e.Hr.hr(),await Ah(e)):(await e.Hr.stop(),e.Ur.length>0&&(js("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))}))),e.Hr}class jh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new jh(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gs(Ks.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zh(e,t){if(zs("AsyncQueue",`${t}: ${e}`),Ec(e))return new Gs(Ks.UNAVAILABLE,`${t}: ${e}`);throw e}class Bh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ia.comparator(t.key,n.key):(e,t)=>Ia.comparator(e.key,t.key),this.keyedMap=pl(),this.sortedSet=new sl(this.comparator)}static emptySet(e){return new Bh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Bh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class qh{constructor(){this.Jr=new sl(Ia.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):Hs():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Hh{constructor(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Hh(e,t,Bh.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class $h{constructor(){this.Xr=void 0,this.listeners=[]}}class Wh{constructor(){this.queries=new Rc((e=>wu(e)),bu),this.onlineState="Unknown",this.Zr=new Set}}function Kh(e,t){const n=Ws(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.no(e)&&(r=!0);i.Xr=e}}r&&Qh(n)}function Gh(e,t,n){const r=Ws(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function Qh(e){e.Zr.forEach((e=>{e.next()}))}class Yh{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Hh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)}oo(e){if(e.docChanges.length>0)return!0;const t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}co(e){e=Hh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class Xh{constructor(e){this.key=e}}class Jh{constructor(e){this.key=e}}class Zh{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=yl(),this.mutatedKeys=yl(),this.po=_u(e),this.Eo=new Bh(this.po)}get To(){return this._o}Io(e,t){const n=t?t.Ao:new qh,r=t?t.Eo:this.Eo;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a=fu(this.query)&&r.size===this.query.limit?r.last():null,u=du(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),c=Su(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;l&&c?l.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.Ro(l,c)||(n.track({type:2,doc:c}),d=!0,(a&&this.po(c,a)>0||u&&this.po(c,u)<0)&&(s=!0)):!l&&c?(n.track({type:0,doc:c}),d=!0):l&&!c&&(n.track({type:1,doc:l}),d=!0,(a||u)&&(s=!0)),d&&(c?(o=o.add(c),i=f?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),fu(this.query)||du(this.query))for(;o.size>this.query.limit;){const e=fu(this.query)?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Eo:o,Ao:n,Ln:s,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hs()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc))),this.Po(n);const o=t?this.bo():[],s=0===this.yo.size&&this.current?1:0,a=s!==this.mo;return this.mo=s,0!==i.length||a?{snapshot:new Hh(this.query,e.Eo,r,i,e.mutatedKeys,0===s,a,!1),vo:o}:{vo:o}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new qh,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}Po(e){e&&(e.addedDocuments.forEach((e=>this._o=this._o.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this._o=this._o.delete(e))),this.current=e.current)}bo(){if(!this.current)return[];const e=this.yo;this.yo=yl(),this.Eo.forEach((e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))}));const t=[];return e.forEach((e=>{this.yo.has(e)||t.push(new Jh(e))})),this.yo.forEach((n=>{e.has(n)||t.push(new Xh(n))})),t}So(e){this._o=e.Gn,this.yo=yl();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Hh.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class ef{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class tf{constructor(e){this.key=e,this.Co=!1}}class nf{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.No={},this.xo=new Rc((e=>wu(e)),bu),this.ko=new Map,this.$o=new Set,this.Oo=new sl(Ia.comparator),this.Fo=new Map,this.Mo=new qc,this.Lo={},this.Bo=new Map,this.Uo=Oc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}async function rf(e,t){const n=function(e){const t=Ws(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uf.bind(null,t),t.No.Tr=Kh.bind(null,t.eventManager),t.No.jo=Gh.bind(null,t.eventManager),t}(e);let r,i;const o=n.xo.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Do();else{const e=await function(e,t){const n=Ws(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ze.getTargetData(e,t).next((i=>i?(r=i,wc.resolve(r)):n.ze.allocateTargetId(e).next((i=>(r=new kc(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}(n.localStore,vu(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await async function(e,t,n,r){e.Ko=(t,n,r)=>async function(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=await zc(e.localStore,t.query,!1).then((({documents:e})=>t.view.Io(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return mf(e,t.targetId,s.vo),s.snapshot}(e,t,n,r);const i=await zc(e.localStore,t,!0),o=new Zh(t,i.Gn),s=o.Io(i.documents),a=El.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(s,e.isPrimaryClient,a);mf(e,n,u.vo);const l=new ef(t,n,o);return e.xo.set(t,l),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),u.snapshot}(n,t,r,"current"===o),n.isPrimaryClient&&gh(n.remoteStore,e)}return i}async function of(e,t){const n=Ws(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter((e=>!bu(e,t)))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await jc(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),yh(n.remoteStore,r.targetId),df(n,r.targetId)})).catch(xc)):(df(n,r.targetId),await jc(n.localStore,r.targetId,!0))}async function sf(e,t){const n=Ws(e);try{const e=await function(e,t){const n=Ws(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const s=[];t.targetChanges.forEach(((t,o)=>{const a=i.get(o);if(!a)return;s.push(n.ze.removeMatchingKeys(e,t.removedDocuments,o).next((()=>n.ze.addMatchingKeys(e,t.addedDocuments,o))));const u=t.resumeToken;if(u.approximateByteSize()>0){const l=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,l),function(e,t,n){return $s(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,t)&&s.push(n.ze.updateTargetData(e,l))}}));let a=fl();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(function(e,t,n,r,i){let o=yl();return n.forEach((e=>o=o.add(e))),t.getEntries(e,o).next((e=>{let o=fl();return n.forEach(((n,s)=>{const a=e.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(aa.min())?(t.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s,u),o=o.insert(n,s)):js("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(e,o,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(aa.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next((t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return wc.waitFor(s).next((()=>o.apply(e))).next((()=>n.Qn.vn(e,a))).next((()=>a))})).then((e=>(n.Un=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fo.get(t);r&&($s(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?$s(r.Co):e.removedDocuments.size>0&&($s(r.Co),r.Co=!1))})),await vf(n,e,t)}catch(e){await xc(e)}}function af(e,t,n){const r=Ws(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach(((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ws(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.eo(t)&&(r=!0)})),r&&Qh(n)}(r.eventManager,t),e.length&&r.No.Tr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function uf(e,t,n){const r=Ws(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),o=i&&i.key;if(o){let e=new sl(Ia.comparator);e=e.insert(o,qa.newNoDocument(o,aa.min()));const n=yl().add(o),i=new wl(aa.min(),new Map,new ll(ia),e,n);await sf(r,i),r.Oo=r.Oo.remove(o),r.Fo.delete(t),yf(r)}else await jc(r.localStore,t,!1).then((()=>df(r,t,n))).catch(xc)}async function lf(e,t){const n=Ws(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ws(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=wc.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);$s(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),s.next((()=>e.In.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.bn(e,r)))}))}(n.localStore,t);ff(n,r,null),hf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vf(n,e)}catch(e){await xc(e)}}async function cf(e,t,n){const r=Ws(e);try{const e=await function(e,t){const n=Ws(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.In.lookupMutationBatch(e,t).next((t=>($s(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.bn(e,r)))}))}(r.localStore,t);ff(r,t,n),hf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await vf(r,e)}catch(n){await xc(n)}}function hf(e,t){(e.Bo.get(t)||[]).forEach((e=>{e.resolve()})),e.Bo.delete(t)}function ff(e,t,n){const r=Ws(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function df(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach((t=>{e.Mo.containsKey(t)||pf(e,t)}))}function pf(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(yh(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),yf(e))}function mf(e,t,n){for(const r of n)r instanceof Xh?(e.Mo.addReference(r.key,t),gf(e,r)):r instanceof Jh?(js("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||pf(e,r.key)):Hs()}function gf(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(js("SyncEngine","New document in limbo: "+n),e.$o.add(r),yf(e))}function yf(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new Ia(fa.fromString(t)),r=e.Uo.next();e.Fo.set(r,new tf(n)),e.Oo=e.Oo.insert(n,r),gh(e.remoteStore,new kc(vu(hu(n.path)),r,2,ta.T))}}async function vf(e,t,n){const r=Ws(e),i=[],o=[],s=[];r.xo.isEmpty()||(r.xo.forEach(((e,a)=>{s.push(r.Ko(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Dc.kn(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.No.Tr(i),await async function(e,t){const n=Ws(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>wc.forEach(t,(t=>wc.forEach(t.Nn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>wc.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ec(e))throw e;js("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Un.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Un=n.Un.insert(t,i)}}}(r.localStore,o))}async function bf(e,t){const n=Ws(e);if(!n.currentUser.isEqual(t)){js("SyncEngine","User change. New user:",t.toKey());const e=await Uc(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach((e=>{e.forEach((e=>{e.reject(new Gs(Ks.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await vf(n,e.Wn)}}function wf(e,t){const n=Ws(e),r=n.Fo.get(t);if(r&&r.Co)return yl().add(r.key);{let e=yl();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.To)}return e}}function Ef(e){const t=Ws(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cf.bind(null,t),t}class Sf{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=sh(e.databaseInfo.databaseId),this.sharedClientState=this.Wo(e),this.persistence=this.Go(e),await this.persistence.start(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e)}zo(e){return null}Ho(e){return function(e,t,n,r){return new Mc(e,t,n,r)}(this.persistence,new Lc,e.initialUser,this.N)}Go(e){return new Qc(Xc.Ns,this.N)}Wo(e){return new Zc}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _f{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>af(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=bf.bind(null,this.syncEngine),await async function(e,t){const n=Ws(e);t?(n.Kr.delete(2),await ph(n)):t||(n.Kr.add(2),await mh(n),n.Wr.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Wh}createDatastore(e){const t=sh(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new ih(r));var r;return function(e,t,n){return new hh(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>af(this.syncEngine,e,0),o=th.Pt()?new th:new eh,new dh(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new nf(e,t,n,r,i,o);return s&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ws(e);js("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),await mh(t),t.Qr.shutdown(),t.Wr.set("Unknown")}(this.remoteStore)}}class kf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Tf{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Ms.UNAUTHENTICATED,this.clientId=ra.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,(async e=>{js("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e}))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Gs(Ks.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),e.resolve()}catch(t){const n=zh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function If(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){return e.offlineComponents||(js("FirestoreClient","Using default OfflineComponentProvider"),await async function(e,t){e.asyncQueue.verifyOperationInProgress(),js("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Uc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}(e,new Sf)),e.offlineComponents}(e);js("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=Ws(e);n.asyncQueue.verifyOperationInProgress(),js("RemoteStore","RemoteStore received new credentials");const r=Sh(n);n.Kr.add(3),await mh(n),r&&n.Wr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),await ph(n)}(t.remoteStore,e))),e.onlineComponents=t}async function Nf(e){return e.onlineComponents||(js("FirestoreClient","Using default OnlineComponentProvider"),await If(e,new _f)),e.onlineComponents}async function Cf(e){const t=await Nf(e),n=t.eventManager;return n.onListen=rf.bind(null,t.syncEngine),n.onUnlisten=of.bind(null,t.syncEngine),n}function Af(e,t,n={}){const r=new Qs;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new kf({next:n=>{t.enqueueAndForget((()=>async function(e,t){const n=Ws(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}(e,s))),n.fromCache&&"server"===r.source?i.reject(new Gs(Ks.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Yh(n,o,{includeMetadataChanges:!0,uo:!0});return async function(e,t){const n=Ws(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new $h),i)try{o.Xr=await n.onListen(r)}catch(e){const n=zh(e,`Initialization of query '${Eu(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.eo(n.onlineState),o.Xr&&t.no(o.Xr)&&Qh(n)}(e,s)}(await Cf(e),e.asyncQueue,t,n,r))),r.promise}class Of{constructor(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class xf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xf&&e.projectId===this.projectId&&e.database===this.database}}const Rf=new Map;function Pf(e,t,n){if(!n)throw new Gs(Ks.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Df(e){if(!Ia.isDocumentKey(e))throw new Gs(Ks.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Lf(e){if(Ia.isDocumentKey(e))throw new Gs(Ks.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Mf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){if(e.constructor){const t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Hs()}function Uf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Gs(Ks.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mf(e);throw new Gs(Ks.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Ff{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Gs(Ks.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Gs(Ks.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Gs(Ks.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ff({}),this._settingsFrozen=!1,e instanceof xf?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Gs(Ks.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xf(e.options.projectId)}(e))}get app(){if(!this._app)throw new Gs(Ks.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Gs(Ks.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ff(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Xs;switch(e.type){case"gapi":const t=e.client;return $s(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ea(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Gs(Ks.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Rf.get(e);t&&(js("ComponentProvider","Removing Datastore"),Rf.delete(e),t.terminate())}(this),Promise.resolve()}}class jf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jf(this.firestore,e,this._key)}}class zf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new zf(this.firestore,e,this._query)}}class Bf extends zf{constructor(e,t,n){super(e,t,hu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jf(this.firestore,null,new Ia(e))}withConverter(e){return new Bf(this.firestore,e,this._path)}}function qf(e,t,...n){if(e=I(e),Pf("collection","path",t),e instanceof Vf){const r=fa.fromString(t,...n);return Lf(r),new Bf(e,null,r)}{if(!(e instanceof jf||e instanceof Bf))throw new Gs(Ks.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=fa.fromString(e.path,...n).child(fa.fromString(t));return Lf(r),new Bf(e.firestore,null,r)}}function Hf(e,t,...n){if(e=I(e),1===arguments.length&&(t=ra.I()),Pf("doc","path",t),e instanceof Vf){const r=fa.fromString(t,...n);return Df(r),new jf(e,null,new Ia(r))}{if(!(e instanceof jf||e instanceof Bf))throw new Gs(Ks.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(fa.fromString(t,...n));return Df(r),new jf(e.firestore,e instanceof Bf?e.converter:null,new Ia(r))}}class $f{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new ah(this,"async_queue_retry"),this.Ea=()=>{const e=oh();e&&js("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=oh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=oh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise((()=>{}));const t=new Qs;return this.Ia((()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.da.push(e),this.Aa())))}async Aa(){if(0!==this.da.length){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(e){if(!Ec(e))throw e;js("AsyncQueue","Operation failed with retryable error: "+e)}this.da.length>0&&this.rr.Xi((()=>this.Aa()))}}Ia(e){const t=this.fa.then((()=>(this.ga=!0,e().catch((e=>{throw this.ma=e,this.ga=!1,zs("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((e=>(this.ga=!1,e))))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ta(),this.pa.indexOf(e)>-1&&(t=0);const r=jh.createAndSchedule(this,e,t,n,(e=>this.Ra(e)));return this._a.push(r),r}Ta(){this.ma&&Hs()}verifyOperationInProgress(){}async Pa(){let e;do{e=this.fa,await e}while(e!==this.fa)}ba(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.Pa().then((()=>{this._a.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pa()}))}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}class Wf extends Vf{constructor(e,t){super(e,t),this.type="firestore",this._queue=new $f,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Gf(this),this._firestoreClient.terminate()}}function Kf(e){return e._firestoreClient||Gf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Gf(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Of(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Tf(e._credentials,e._queue,r)}class Qf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Gs(Ks.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yf(ga.fromBase64String(e))}catch(e){throw new Gs(Ks.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Yf(ga.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xf{constructor(e){this._methodName=e}}class Jf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Gs(Ks.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Gs(Ks.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ia(this._lat,e._lat)||ia(this._long,e._long)}}const Zf=/^__.*__$/;class ed{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Yu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qu(e,this.data,t,this.fieldTransforms)}}function td(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hs()}}class nd{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new nd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return dd(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(td(this.Da)&&Zf.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class rd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||sh(e)}Ba(e,t,n,r=!1){return new nd({Da:e,methodName:t,La:n,path:pa.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function id(e){const t=e._freezeSettings(),n=sh(e._databaseId);return new rd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function od(e,t,n,r,i,o={}){const s=e.Ba(o.merge||o.mergeFields?2:0,t,n,i);ld("Data must be an object, but it was:",s,r);const a=ad(r,s);let u,l;if(o.merge)u=new ma(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=cd(t,r,n);if(!s.contains(i))throw new Gs(Ks.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);pd(e,i)||e.push(i)}u=new ma(e),l=s.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,l=s.fieldTransforms;return new ed(new za(a),u,l)}function sd(e,t){if(ud(e=I(e)))return ld("Unsupported field value:",t,e),ad(e,t);if(e instanceof Xf)return function(e,t){if(!td(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=sd(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=I(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Nu(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=sa.fromDate(e);return{timestampValue:Rl(t.N,n)}}if(e instanceof sa){const n=new sa(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Rl(t.N,n)}}if(e instanceof Jf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Yf)return{bytesValue:Pl(t.N,e._byteString)};if(e instanceof jf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ml(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${Mf(e)}`)}(e,t)}function ad(e,t){const n={};return ca(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):la(e,((e,r)=>{const i=sd(r,t.Na(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ud(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof sa||e instanceof Jf||e instanceof Yf||e instanceof jf||e instanceof Xf)}function ld(e,t,n){if(!ud(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Mf(n);throw"an object"===r?t.Fa(e+" a custom object"):t.Fa(e+" "+r)}}function cd(e,t,n){if((t=I(t))instanceof Qf)return t._internalPath;if("string"==typeof t)return fd(e,t);throw dd("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const hd=new RegExp("[~\\*/\\[\\]]");function fd(e,t,n){if(t.search(hd)>=0)throw dd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Qf(...t.split("."))._internalPath}catch(r){throw dd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function dd(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Gs(Ks.INVALID_ARGUMENT,a+e+u)}function pd(e,t){return e.some((e=>e.isEqual(t)))}class md{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gd extends md{data(){return super.data()}}function yd(e,t){return"string"==typeof t?fd(e,t):t instanceof Qf?t._internalPath:t._delegate._internalPath}class vd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bd extends md{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(yd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class wd extends bd{data(e={}){return super.data(e)}}class Ed{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new vd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new wd(this._firestore,this._userDataWriter,n.key,n,new vd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Gs(Ks.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new wd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new vd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new wd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new vd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Sd(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Sd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hs()}}class _d{}function kd(e,...t){for(const n of t)e=n._apply(e);return e}class Td extends _d{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=id(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Gs(Ks.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on FieldPath.documentId().`);if("in"===o||"not-in"===o){Od(s,o);const t=[];for(const n of s)t.push(Ad(r,e,n));a={arrayValue:{values:t}}}else a=Ad(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Od(s,o),a=function(e,t,n,r=!1){return sd(n,e.Ba(r?4:3,t))}(n,"where",s,"in"===o||"not-in"===o);const u=Qa.create(i,o,a);return function(e,t){if(t.v()){const n=mu(e);if(null!==n&&!n.isEqual(t.field))throw new Gs(Ks.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=pu(e);null!==r&&xd(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Gs(Ks.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Gs(Ks.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,u),u}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new zf(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function Id(e,t,n){const r=t,i=yd("where",e);return new Td(i,r,n)}class Nd extends _d{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Gs(Ks.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Gs(Ks.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new su(t,n);return function(e,t){if(null===pu(e)){const n=mu(e);null!==n&&xd(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new zf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new cu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Cd(e,t="asc"){const n=t,r=yd("orderBy",e);return new Nd(r,n)}function Ad(e,t,n){if("string"==typeof(n=I(n))){if(""===n)throw new Gs(Ks.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!gu(t)&&-1!==n.indexOf("/"))throw new Gs(Ks.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(fa.fromString(n));if(!Ia.isDocumentKey(r))throw new Gs(Ks.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Da(e,new Ia(r))}if(n instanceof jf)return Da(e,n._key);throw new Gs(Ks.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mf(n)}.`)}function Od(e,t){if(!Array.isArray(e)||0===e.length)throw new Gs(Ks.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Gs(Ks.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function xd(e,t,n){if(!n.isEqual(t))throw new Gs(Ks.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}function Rd(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Pd extends class{convertValue(e,t="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ba(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Hs()}}convertObject(e,t){const n={};return la(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Jf(ba(e.latitude),ba(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Sa(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_a(e));default:return null}}convertTimestamp(e){const t=va(e);return new sa(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=fa.fromString(e);$s(rc(n));const r=new xf(n.get(1),n.get(3)),i=new Ia(n.popFirst(5));return r.isEqual(t)||zs(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jf(this.firestore,null,t)}}function Dd(e){e=Uf(e,zf);const t=Uf(e.firestore,Wf),n=Kf(t),r=new Pd(t);return function(e){if(du(e)&&0===e.explicitOrderBy.length)throw new Gs(Ks.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),Af(n,e._query).then((n=>new Ed(t,r,e,n)))}function Ld(e,t,n){e=Uf(e,jf);const r=Uf(e.firestore,Wf),i=Rd(e.converter,t,n);return Ud(r,[od(id(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,zu.none())])}function Md(e,t){const n=Uf(e.firestore,Wf),r=Hf(e),i=Rd(e.converter,t);return Ud(n,[od(id(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,zu.exists(!1))]).then((()=>r))}function Ud(e,t){return function(e,t){const n=new Qs;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Ef(e);try{const e=await function(e,t){const n=Ws(e),r=sa.now(),i=t.reduce(((e,t)=>e.add(t.key)),yl());let o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Qn.bn(e,i).next((i=>{o=i;const s=[];for(const e of t){const t=Wu(e,o.get(e.key));null!=t&&s.push(new Yu(e.key,t,Ba(t.value.mapValue),zu.exists(!0)))}return n.In.addMutationBatch(e,r,s,t)})))).then((e=>(e.applyToLocalDocumentSet(o),{batchId:e.batchId,changes:o})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new sl(ia)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),await vf(r,e.changes),await Ah(r.remoteStore)}catch(e){const t=zh(e,"Failed to persist write");n.reject(t)}}(await function(e){return Nf(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(Kf(e),t)}function Fd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fd(Object(n),!0).forEach((function(t){jd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zd(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function Bd(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){zd(o,r,i,s,a,"next",e)}function a(e){zd(o,r,i,s,a,"throw",e)}s(void 0)}))}}Us="9.0.0",K(new C("firestore",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new Wf(n,new Js(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r}),"PUBLIC")),Z("@firebase/firestore","3.0.0",void 0);var qd=function(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw Q.create("bad-app-name",{appName:String(r)});const i=H.get(r);if(i){if(b(e,i.options)&&b(n,i.config))return i;throw Q.create("duplicate-app",{appName:r})}const o=new x(r);for(const e of $.values())o.addComponent(e);const s=new Y(e,n,o);return H.set(r,s),s}({apiKey:"AIzaSyBvHCpKNrfKfc2AZZLP8D0K1AGlUFcX1aE",authDomain:"test-budget-38b21.firebaseapp.com",databaseURL:"https://test-budget-38b21.firebaseio.com",projectId:"test-budget-38b21",storageBucket:"test-budget-38b21.appspot.com",messagingSenderId:"1067130269246",appId:"1:1067130269246:web:504d76c1afc05bcbf12b6f"}),Hd=function(e){var t=function(e=J()){const t=G(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=G(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(b(n.getOptions(),null!=t?t:{}))return e;re(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:bn,persistence:[Ut,wt,St]})}(e);return{signIn:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){Sn(o,r,i,s,a,"next",e)}function a(e){Sn(o,r,i,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(){var n,r,i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new ct).setCustomParameters({prompt:"select_account"}),e.prev=2,e.next=5,Jt(t,n);case 5:r=e.sent,i=r.user,console.log(i.displayName,i.email,i.photoURL),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),o=e.t0.code,s=e.t0.message,console.log(o,s);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),signOut:function(){!function(e){I(e).signOut()}(t)},onAuthStateChanged:function(e){return function(e,t,n,r){return I(e).onAuthStateChanged(t,void 0,void 0)}(t,e)}}}(qd),$d=Hd.signIn,Wd=Hd.signOut,Kd=Hd.onAuthStateChanged,Gd=function(e){var t,n,r,i=function(e=J()){return G(e,"firestore").getImmediate()}(e);return{getBudgets:(r=Bd(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kd(qf(i,"budgets"),Id("uid","==",t.uid),Cd("createdAt")),e.next=3,Dd(n);case 3:return r=e.sent,e.abrupt("return",r.docs.map((function(e){return Vd({id:e.id},e.data())})));case 5:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)}),updateBudget:(n=Bd(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=qf(i,"budgets"),e.next=3,Ld(Hf(o,t),{amount:n,weekly_amount:r},{merge:!0});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e,t,r){return n.apply(this,arguments)}),createBudget:(t=Bd(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Md(qf(i,"budgets"),{amount:0,createdAt:new Date,name:n,uid:t.uid,weekly_amount:0,weekly_budget:r});case 2:o=e.sent,console.log("Document written with ID: ",o.id);case 4:case"end":return e.stop()}}),e)}))),function(e,n,r){return t.apply(this,arguments)})}}(qd),Qd=Gd.getBudgets,Yd=Gd.updateBudget,Xd=Gd.createBudget;function Jd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zd=function(e){return new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(e)},ep=function(t){var n=t.user;return null!==n?e.createElement("button",{className:"btn btn-outline-danger",onClick:function(e){e.preventDefault(),Wd()}},e.createElement("i",{className:"bi bi-box-arrow-in-left"})," ",e.createElement("em",null,n.displayName)):e.createElement("button",{className:"btn btn-outline-success",onClick:function(e){e.preventDefault(),$d()}},e.createElement("i",{className:"bi bi-box-arrow-in-right"}))},tp=function(t){return e.createElement("div",{style:{marginTop:"50px"},className:"d-flex justify-content-center"},e.createElement("div",{style:{width:"3rem",height:"3rem"},className:"spinner-border",role:"status"},e.createElement("span",{className:"visually-hidden"},"Loading...")))},np=function(t){return e.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},e.createElement("div",{className:"container-fluid"},e.createElement("span",{className:"navbar-brand"},"My Budgets"),e.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},e.createElement("span",{className:"navbar-toggler-icon"})),e.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},e.createElement("ul",{className:"navbar-nav me-auto mb-2 mb-md-0"}),e.createElement("form",{className:"d-flex"},e.createElement(ep,{user:null})))))},rp=(n(2222),Object.prototype.hasOwnProperty),ip=new WeakMap,op=0,sp=function(){function e(e){void 0===e&&(e={}),this.cache=new Map(Object.entries(e)),this.subs=[]}return e.prototype.get=function(e){var t=this.serializeKey(e)[0];return this.cache.get(t)},e.prototype.set=function(e,t){var n=this.serializeKey(e)[0];this.cache.set(n,t),this.notify()},e.prototype.keys=function(){return Array.from(this.cache.keys())},e.prototype.has=function(e){var t=this.serializeKey(e)[0];return this.cache.has(t)},e.prototype.clear=function(){this.cache.clear(),this.notify()},e.prototype.delete=function(e){var t=this.serializeKey(e)[0];this.cache.delete(t),this.notify()},e.prototype.serializeKey=function(e){var t=null;if("function"==typeof e)try{e=e()}catch(t){e=""}return Array.isArray(e)?(t=e,e=function(e){if(!e.length)return"";for(var t="arg",n=0;n<e.length;++n)if(null!==e[n]){var r=void 0;"object"!=typeof e[n]&&"function"!=typeof e[n]?r="string"==typeof e[n]?'"'+e[n]+'"':String(e[n]):ip.has(e[n])?r=ip.get(e[n]):(r=op,ip.set(e[n],op++)),t+="@"+r}else t+="@null";return t}(e)):e=String(e||""),[e,t,e?"err@"+e:"",e?"validating@"+e:""]},e.prototype.subscribe=function(e){var t=this;if("function"!=typeof e)throw new Error("Expected the listener to be a function.");var n=!0;return this.subs.push(e),function(){if(n){n=!1;var r=t.subs.indexOf(e);r>-1&&(t.subs[r]=t.subs[t.subs.length-1],t.subs.length--)}}},e.prototype.notify=function(){for(var e=0,t=this.subs;e<t.length;e++)(0,t[e])()},e}(),ap=!0;const up={isOnline:function(){return ap},isDocumentVisible:function(){return"undefined"==typeof document||void 0===document.visibilityState||"hidden"!==document.visibilityState},fetcher:function(e){return fetch(e).then((function(e){return e.json()}))},registerOnFocus:function(e){"undefined"!=typeof window&&void 0!==window.addEventListener&&"undefined"!=typeof document&&void 0!==document.addEventListener&&(document.addEventListener("visibilitychange",(function(){return e()}),!1),window.addEventListener("focus",(function(){return e()}),!1))},registerOnReconnect:function(e){"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",(function(){ap=!0,e()}),!1),window.addEventListener("offline",(function(){return ap=!1}),!1))}};var lp=function(){return(lp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},cp=new sp,hp="undefined"!=typeof window&&navigator.connection&&-1!==["slow-2g","2g"].indexOf(navigator.connection.effectiveType);const fp=lp({onLoadingSlow:function(){},onSuccess:function(){},onError:function(){},onErrorRetry:function(e,t,n,r,i){if(n.isDocumentVisible()&&!("number"==typeof n.errorRetryCount&&i.retryCount>n.errorRetryCount)){var o=Math.min(i.retryCount,8),s=~~((Math.random()+.5)*(1<<o))*n.errorRetryInterval;setTimeout(r,s,i)}},errorRetryInterval:1e3*(hp?10:5),focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:1e3*(hp?5:3),refreshInterval:0,revalidateOnFocus:!0,revalidateOnReconnect:!0,refreshWhenHidden:!1,refreshWhenOffline:!1,shouldRetryOnError:!0,suspense:!1,compare:function e(t,n){var r,i;if(t===n)return!0;if(t&&n&&(r=t.constructor)===n.constructor){if(r===Date)return t.getTime()===n.getTime();if(r===RegExp)return t.toString()===n.toString();if(r===Array){if((i=t.length)===n.length)for(;i--&&e(t[i],n[i]););return-1===i}if(!r||"object"==typeof t){for(r in i=0,t){if(rp.call(t,r)&&++i&&!rp.call(n,r))return!1;if(!(r in n)||!e(t[r],n[r]))return!1}return Object.keys(n).length===i}}return t!=t&&n!=n},isPaused:function(){return!1}},up);var dp="undefined"==typeof window||!!("undefined"!=typeof Deno&&Deno&&Deno.version&&Deno.version.deno),pp=dp?null:window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout(e,1)},mp=dp?e.useEffect:e.useLayoutEffect,gp=(0,e.createContext)({});gp.displayName="SWRConfigContext";const yp=gp;var vp,bp=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},wp=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ep={},Sp={},_p={},kp={},Tp={},Ip={},Np={},Cp=(vp=0,function(){return++vp});if(!dp){var Ap=function(e){if(fp.isDocumentVisible()&&fp.isOnline())for(var t in e)e[t][0]&&e[t][0]()};"function"==typeof fp.registerOnFocus&&fp.registerOnFocus((function(){return Ap(_p)})),"function"==typeof fp.registerOnReconnect&&fp.registerOnReconnect((function(){return Ap(kp)}))}var Op=function(e,t){void 0===t&&(t=!0);var n=cp.serializeKey(e),r=n[0],i=n[2],o=n[3];if(!r)return Promise.resolve();var s=Tp[r];if(r&&s){for(var a=cp.get(r),u=cp.get(i),l=cp.get(o),c=[],h=0;h<s.length;++h)c.push(s[h](t,a,u,l,h>0));return Promise.all(c).then((function(){return cp.get(r)}))}return Promise.resolve(cp.get(r))},xp=function(e,t,n,r){var i=Tp[e];if(e&&i)for(var o=0;o<i.length;++o)i[o](!1,t,n,r)},Rp=function(e,t,n){return void 0===n&&(n=!0),bp(void 0,void 0,void 0,(function(){var r,i,o,s,a,u,l,c,h,f,d,p,m;return wp(this,(function(g){switch(g.label){case 0:if(r=cp.serializeKey(e),i=r[0],o=r[2],!i)return[2];if(void 0===t)return[2,Op(e,n)];if(Ip[i]=Cp()-1,Np[i]=0,s=Ip[i],a=Sp[i],c=!1,t&&"function"==typeof t)try{t=t(cp.get(i))}catch(e){t=void 0,l=e}if(!t||"function"!=typeof t.then)return[3,5];c=!0,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,t];case 2:return u=g.sent(),[3,4];case 3:return h=g.sent(),l=h,[3,4];case 4:return[3,6];case 5:u=t,g.label=6;case 6:if((f=function(){if(s!==Ip[i]||a!==Sp[i]){if(l)throw l;return!0}})())return[2,u];if(void 0!==u&&cp.set(i,u),cp.set(o,l),Np[i]=Cp()-1,!c&&f())return[2,u];if(d=Tp[i]){for(p=[],m=0;m<d.length;++m)p.push(d[m](!!n,u,l,void 0,m>0));return[2,Promise.all(p).then((function(){if(l)throw l;return cp.get(i)}))]}if(l)throw l;return[2,u]}}))}))};Object.defineProperty(yp.Provider,"default",{value:fp}),yp.Provider;const Pp=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n[0],o=Object.assign({},fp,(0,e.useContext)(yp),n.length>2?n[2]:2===n.length&&"object"==typeof n[1]?n[1]:{}),s=n.length>2||2===n.length&&"function"==typeof n[1]||null===n[1]?n[1]:o.fetcher,a=cp.serializeKey(i),u=a[0],l=a[1],c=a[2],h=a[3],f=(0,e.useRef)(o);mp((function(){f.current=o}));var d=function(){return o.revalidateOnMount||!o.initialData&&void 0===o.revalidateOnMount},p=function(){var e=cp.get(u);return void 0===e?o.initialData:e},m=function(){return!!cp.get(h)||u&&d()},g=p(),y=cp.get(c),v=m(),b=(0,e.useRef)({data:!1,error:!1,isValidating:!1}),w=(0,e.useRef)({data:g,error:y,isValidating:v});(0,e.useDebugValue)(w.current.data);var E,S,_=(0,e.useState)({})[1],k=(0,e.useCallback)((function(e){var t=!1;for(var n in e)w.current[n]!==e[n]&&(w.current[n]=e[n],b.current[n]&&(t=!0));if(t){if(T.current||!N.current)return;_({})}}),[]),T=(0,e.useRef)(!1),I=(0,e.useRef)(u),N=(0,e.useRef)(!1),C=(0,e.useCallback)((function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];T.current||N.current&&u===I.current&&(t=f.current)[e].apply(t,n)}),[u]),A=(0,e.useCallback)((function(e,t){return Rp(I.current,e,t)}),[]),O=function(e,t){return e[u]?e[u].push(t):e[u]=[t],function(){var n=e[u],r=n.indexOf(t);r>=0&&(n[r]=n[n.length-1],n.pop())}},x=(0,e.useCallback)((function(e){return void 0===e&&(e={}),bp(t,void 0,void 0,(function(){var t,n,r,i,a,d,p,m,g,y;return wp(this,(function(v){switch(v.label){case 0:if(!u||!s)return[2,!1];if(T.current)return[2,!1];if(f.current.isPaused())return[2,!1];t=e.retryCount,n=void 0===t?0:t,r=e.dedupe,i=void 0!==r&&r,a=!0,d=void 0!==Ep[u]&&i,v.label=1;case 1:return v.trys.push([1,6,,7]),k({isValidating:!0}),cp.set(h,!0),d||xp(u,w.current.data,w.current.error,!0),p=void 0,m=void 0,d?(m=Sp[u],[4,Ep[u]]):[3,3];case 2:return p=v.sent(),[3,5];case 3:return o.loadingTimeout&&!cp.get(u)&&setTimeout((function(){a&&C("onLoadingSlow",u,o)}),o.loadingTimeout),Ep[u]=null!==l?s.apply(void 0,l):s(u),Sp[u]=m=Cp(),[4,Ep[u]];case 4:p=v.sent(),setTimeout((function(){delete Ep[u],delete Sp[u]}),o.dedupingInterval),C("onSuccess",p,u,o),v.label=5;case 5:return Sp[u]>m?[2,!1]:Ip[u]&&(m<=Ip[u]||m<=Np[u]||0===Np[u])?(k({isValidating:!1}),[2,!1]):(cp.set(c,void 0),cp.set(h,!1),g={isValidating:!1},void 0!==w.current.error&&(g.error=void 0),o.compare(w.current.data,p)||(g.data=p),o.compare(cp.get(u),p)||cp.set(u,p),k(g),d||xp(u,p,g.error,!1),[3,7]);case 6:return y=v.sent(),delete Ep[u],delete Sp[u],f.current.isPaused()?(k({isValidating:!1}),[2,!1]):(cp.set(c,y),w.current.error!==y&&(k({isValidating:!1,error:y}),d||xp(u,void 0,y,!1)),C("onError",y,u,o),o.shouldRetryOnError&&C("onErrorRetry",y,u,o,x,{retryCount:n+1,dedupe:!0}),[3,7]);case 7:return a=!1,[2,!0]}}))}))}),[u]);if(mp((function(){if(u){T.current=!1;var e=N.current;N.current=!0;var t=w.current.data,n=p();I.current=u,o.compare(t,n)||k({data:n});var r=function(){return x({dedupe:!0})};(e||d())&&(void 0===n||dp?r():pp(r));var i=!1,s=O(_p,(function(){!i&&f.current.revalidateOnFocus&&(i=!0,r(),setTimeout((function(){return i=!1}),f.current.focusThrottleInterval))})),a=O(kp,(function(){f.current.revalidateOnReconnect&&r()})),l=O(Tp,(function(e,t,n,i,s){void 0===e&&(e=!0),void 0===s&&(s=!0);var a={},u=!1;return void 0===t||o.compare(w.current.data,t)||(a.data=t,u=!0),w.current.error!==n&&(a.error=n,u=!0),void 0!==i&&w.current.isValidating!==i&&(a.isValidating=i,u=!0),u&&k(a),!!e&&(s?r():x())}));return function(){k=function(){return null},T.current=!0,s(),a(),l()}}}),[u,x]),mp((function(){var e=null,n=function(){return bp(t,void 0,void 0,(function(){return wp(this,(function(t){switch(t.label){case 0:return w.current.error||!f.current.refreshWhenHidden&&!f.current.isDocumentVisible()||!f.current.refreshWhenOffline&&!f.current.isOnline()?[3,2]:[4,x({dedupe:!0})];case 1:t.sent(),t.label=2;case 2:return f.current.refreshInterval&&e&&(e=setTimeout(n,f.current.refreshInterval)),[2]}}))}))};return f.current.refreshInterval&&(e=setTimeout(n,f.current.refreshInterval)),function(){e&&(clearTimeout(e),e=null)}}),[o.refreshInterval,o.refreshWhenHidden,o.refreshWhenOffline,x]),o.suspense){if(E=cp.get(u),S=cp.get(c),void 0===E&&(E=g),void 0===S&&(S=y),void 0===E&&void 0===S){if(Ep[u]||x(),Ep[u]&&"function"==typeof Ep[u].then)throw Ep[u];E=Ep[u]}if(void 0===E&&S)throw S}var R=(0,e.useMemo)((function(){var e={revalidate:x,mutate:A};return Object.defineProperties(e,{error:{get:function(){return b.current.error=!0,o.suspense?S:I.current===u?w.current.error:y},enumerable:!0},data:{get:function(){return b.current.data=!0,o.suspense?E:I.current===u?w.current.data:g},enumerable:!0},isValidating:{get:function(){return b.current.isValidating=!0,!!u&&w.current.isValidating},enumerable:!0}}),e}),[x,g,y,A,u,o.suspense,S,E]);return R};function Dp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lp(Object(n),!0).forEach((function(t){Up(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Up(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fp(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function Vp(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){Fp(o,r,i,s,a,"next",e)}function a(e){Fp(o,r,i,s,a,"throw",e)}s(void 0)}))}}var jp=function(e){var t,n,r,i=Pp(["budgets",e.uid],(function(e,t){return console.assert("budgets"===e),Qd({uid:t})})),o=i.data,s=i.error,a=i.isValidating,u=i.mutate;return{data:o,error:s,isValidating:a,Methods:{spend:(r=Vp(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(o.map((function(e){return t.id===e.id?Mp(Mp({},t),{},{amount:t.amount-n,weekly_amount:t.weekly_amount+n}):e})),!1),e.next=3,Yd(t.id,t.amount-n,t.weekly_amount+n);case 3:u();case 4:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)}),recharge:(n=Vp(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u((function(e){return e.map((function(e){return t.id===e.id?Mp(Mp({},t),{},{amount:t.amount+t.weekly_budget,weekly_amount:0}):e}))}),!1),e.next=3,Yd(t.id,t.amount+t.weekly_budget,0);case 3:u();case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),create:(t=Vp(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u([].concat(function(e){if(Array.isArray(e))return Dp(e)}(r=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return Dp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dp(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{amount:0,id:"temporary_id",name:"".concat(n.name," (").concat(n.description,")"),weekly_amount:0,weekly_budget:n.budget}]),!1),t.next=3,Xd(e,"".concat(n.name," (").concat(n.description,")"),n.budget);case 3:u();case 4:case"end":return t.stop()}var r}),t)}))),function(e){return t.apply(this,arguments)})}}};function zp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bp=document.body.appendChild(document.createElement("div")),qp=function(n){var r,i,o=n.opened,s=n.setOpened,a=n.children,u=(r=e.useState(!1),i=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(r,i)||function(e,t){if(e){if("string"==typeof e)return zp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zp(e,t):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=u[0],c=u[1],h=e.useRef(null),f=e.useRef(null);return e.useEffect((function(){f.current=new bootstrap.Modal(h.current),h.current.addEventListener("hidden.bs.modal",(function(e){c(!1),s(!1)})),h.current.addEventListener("shown.bs.modal",(function(){c(!0)}))}),[]),e.useEffect((function(){o?f.current.show():(c(!1),f.current.hide())}),[o]),t.createPortal(e.createElement("div",{ref:h,className:"modal fade",tabIndex:"-1","aria-hidden":"true"},e.createElement("div",{className:"modal-dialog"},e.createElement("div",{className:"modal-content"},l?a:null))),Bp)};function Hp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $p=function(t){var n=t.setOpened,r=t.budget,i=t.action,o=e.useRef(null);e.useEffect((function(){o.current.focus()}),[]);var s,a,u=(s=e.useState(""),a=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(s,a)||function(e,t){if(e){if("string"==typeof e)return Hp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hp(e,t):void 0}}(s,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=u[0],c=u[1];return e.createElement(e.Fragment,null,e.createElement("div",{className:"modal-header"},e.createElement("h5",{className:"modal-title"},r.name),e.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),e.createElement("form",{onSubmit:function(e){e.preventDefault(),i(parseFloat(l)),n(!1)}},e.createElement("div",{className:"modal-body"},e.createElement("div",{className:"form-floating"},e.createElement("input",{ref:o,id:"floatingInput",type:"number",className:"form-control",value:l,step:"0.01",onChange:function(e){c(e.target.value)},placeholder:"3.14",required:!0}),e.createElement("label",{htmlFor:"floatingInput"},"Quanto hai speso?")),e.createElement("small",{className:"form-text text-muted"},"Il tuo budget Ã¨ ",Zd(r.amount))),e.createElement("div",{className:"modal-footer"},e.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"Sure!"))))};function Wp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kp=function(t){var n,r,i=t.budget,o=t.spend,s=(n=e.useState(!1),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Wp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wp(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=s[0],u=s[1];return e.createElement("div",{key:i.id,className:"col-sm-6"},e.createElement(qp,{opened:a,setOpened:u},e.createElement($p,{setOpened:u,budget:i,action:o})),e.createElement("div",{className:"card border-secondary",style:{margin:"10px"}},e.createElement("div",{className:"card-header"},i.name," ",e.createElement("sub",null,Zd(i.weekly_budget)),e.createElement("span",{className:"float-end"},e.createElement("form",{className:"row row-cols-auto align-items-center"},e.createElement("strong",null,e.createElement("em",null,Zd(i.amount))),e.createElement("div",{className:"dropdown"},e.createElement("button",{className:"btn btn-sm btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"â"),e.createElement("div",{className:"dropdown-menu dropdown-menu-end"},e.createElement("button",{className:"dropdown-item",onClick:function(e){e.preventDefault()}},"TODO"),e.createElement("button",{className:"dropdown-item",onClick:function(e){e.preventDefault()}},"TODO")))))),e.createElement("div",{className:"card-body"},e.createElement("p",{style:{marginTop:"4px"}},e.createElement("span",{className:"card-subtitle mb-2 text-muted"},Zd(i.weekly_amount)),e.createElement("button",{className:"btn btn-outline-primary float-end",onClick:function(){u(!0)}},"Add cost")))))},Gp=function(t){var n=t.amount,r=t.weekly_amount,i=Math.max(0,n-r),o=100*i/n;return e.createElement("div",{className:"progress"},e.createElement("div",{className:"progress-bar",style:{width:"".concat(o,"%")}},Zd(i)))},Qp=function(t){var n=t.user;return jp(n).isValidating?e.createElement("div",{className:"spinner-border",style:{position:"fixed",bottom:"1em",right:"1em"},role:"status"},e.createElement("span",{className:"visually-hidden"},"Loading...")):null},Yp=function(t){var n=t.opened,r=t.setOpened,i=t.action;return e.createElement(qp,{opened:n,setOpened:r},e.createElement("div",{className:"modal-header"},e.createElement("h5",{className:"modal-title"},"Recharge All"),e.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),e.createElement("div",{className:"modal-body"},"Sicuro di voler ricaricare tutti i budget?"),e.createElement("div",{className:"modal-footer",style:{display:"block"}},e.createElement("button",{className:"btn btn-outline-danger float-end",onClick:function(){i(),r(!1)}},"Ok")))};function Xp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zp=function(t){var n=t.action,r=e.useRef(null);e.useEffect((function(){r.current.focus()}),[]);var i=Xp(e.useState(""),2),o=i[0],s=i[1],a=Xp(e.useState(""),2),u=a[0],l=a[1],c=Xp(e.useState(""),2),h=c[0],f=c[1],d=function(e){"budget"===e.target.name?f(parseFloat(e.target.value)):(0,{name:s,description:l}[e.target.name])(e.target.value)};return e.createElement(e.Fragment,null,e.createElement("div",{className:"modal-header"},e.createElement("h5",{className:"modal-title"},"New Budget"),e.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),e.createElement("form",{onSubmit:function(e){e.preventDefault(),n({name:o,description:u,budget:h})}},e.createElement("div",{className:"modal-body"},e.createElement("div",{className:"form-floating mb-3"},e.createElement("input",{ref:r,className:"form-control",name:"name",placeholder:" ",value:o,onChange:d,required:!0}),e.createElement("label",null,"Name")),e.createElement("div",{className:"form-floating mb-3"},e.createElement("textarea",{className:"form-control",name:"description",rows:"3",placeholder:" ",style:{height:"100px"},value:u,onChange:d}),e.createElement("label",null,"Description")),e.createElement("div",{className:"form-floating mb-3"},e.createElement("input",{type:"number",min:"0.01",step:"0.01",className:"form-control",value:h,onChange:d,name:"budget",placeholder:" ",required:!0}),e.createElement("label",null,"Budget"))),e.createElement("div",{className:"modal-footer",style:{display:"block"}},e.createElement("button",{type:"submit",className:"btn btn-outline-danger float-end"},"Ok"))))},em=function(t){var n=t.opened,r=t.setOpened,i=t.action;return e.createElement(qp,{opened:n,setOpened:r},e.createElement(Zp,{action:function(e){i(e),r(!1)}}))};function tm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rm=function(t){var n=t.user,r=t.budgets,i=t.Methods,o=tm(e.useState(!1),2),s=o[0],a=o[1],u=tm(e.useState(!1),2),l=u[0],c=u[1],h=r.reduce((function(e,t){return e+t.weekly_budget}),0);return e.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},e.createElement(Yp,{opened:s,setOpened:a,action:function(){r.forEach((function(e){i.recharge(e)}))}}),e.createElement(em,{opened:l,setOpened:c,action:function(e){i.create(e)}}),e.createElement("div",{className:"container-fluid"},e.createElement("span",{className:"navbar-brand"},"My Budgets ",e.createElement("sub",null,Zd(h))),e.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},e.createElement("span",{className:"navbar-toggler-icon"})),e.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},e.createElement("ul",{className:"navbar-nav me-auto mb-2 mb-md-0"},e.createElement("li",{className:"nav-item"},e.createElement("a",{className:"nav-link",href:"#",onClick:function(e){e.preventDefault(),a(!0)}},"Recharge all")),e.createElement("li",{className:"nav-item"},e.createElement("a",{className:"nav-link",href:"#",onClick:function(e){e.preventDefault(),c(!0)}},"New budget"))),e.createElement("form",{className:"d-flex"},e.createElement(ep,{user:n})))))},im=function(t){var n=t.user,r=t.error;return e.createElement(e.Fragment,null,e.createElement(np,{user:n}),e.createElement("div",{className:"container"},e.createElement("div",{style:{marginTop:"10px"},className:"alert alert-danger",role:"alert"},e.createElement("p",null,"Errore nel caricamento dei budget!"),e.createElement("hr",null),e.createElement("p",null,e.createElement("em",null,r.message)))))},om=function(t){var n=t.user,r=jp(n),i=r.data,o=r.error,s=r.Methods;if(void 0!==o)return e.createElement(im,{user:n,error:o});if(void 0===i)return e.createElement(tp,null);var a=i.reduce((function(e,t){return e+t.amount}),0),u=i.reduce((function(e,t){return e+t.weekly_amount}),0),l=i.map((function(t){return e.createElement(Kp,{key:t.id,budget:t,spend:function(e){s.spend(t,e)}})}));return e.createElement(e.Fragment,null,e.createElement(rm,{user:n,budgets:i,Methods:s}),e.createElement("div",{className:"container",style:{paddingTop:"1em"}},e.createElement("div",{style:{marginTop:"4px"}},e.createElement(Gp,{amount:a,weekly_amount:u})),e.createElement("div",{className:"row"},l)),e.createElement(Qp,{user:n}))},sm=function(t){return e.createElement(e.Fragment,null,e.createElement(np,null),e.createElement("div",{className:"container"},e.createElement("div",{style:{marginTop:"10px"},className:"alert alert-danger",role:"alert"},e.createElement("p",null,"Please authenticate!"))))},am=function(t){var n=function(){var t,n,r=(t=e.useState(void 0),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Jd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jd(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],o=r[1];return e.useEffect((function(){return Kd(o)}),[]),i}();return void 0===n?e.createElement(tp,null):null===n?e.createElement(sm,null):e.createElement(om,{user:n})};t.render(e.createElement(am,null),document.getElementById("app"))})()})();