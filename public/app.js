/*! For license information please see app.js.LICENSE.txt */
(()=>{var t={3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},1223:(t,e,n)=>{var r=n(5112),i=n(30),o=n(3070),u=r("unscopables"),a=Array.prototype;null==a[u]&&o.f(a,u,{configurable:!0,value:i(null)}),t.exports=function(t){a[u][t]=!0}},5787:t=>{t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},9670:(t,e,n)=>{var r=n(111);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},8533:(t,e,n)=>{"use strict";var r=n(2092).forEach,i=n(9341),o=n(9207),u=i("forEach"),a=o("forEach");t.exports=u&&a?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},1318:(t,e,n)=>{var r=n(5656),i=n(7466),o=n(1400),u=function(t){return function(e,n,u){var a,s=r(e),c=i(s.length),l=o(u,c);if(t&&n!=n){for(;c>l;)if((a=s[l++])!=a)return!0}else for(;c>l;l++)if((t||l in s)&&s[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:u(!0),indexOf:u(!1)}},2092:(t,e,n)=>{var r=n(9974),i=n(8361),o=n(7908),u=n(7466),a=n(5417),s=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,l=4==t,f=6==t,h=7==t,p=5==t||f;return function(d,v,y,m){for(var g,b,w=o(d),E=i(w),_=r(v,y,3),S=u(E.length),I=0,k=m||a,T=e?k(d,S):n||h?k(d,0):void 0;S>I;I++)if((p||I in E)&&(b=_(g=E[I],I,w),t))if(e)T[I]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return I;case 2:s.call(T,g)}else switch(t){case 4:return!1;case 7:s.call(T,g)}return f?-1:c||l?l:T}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},1194:(t,e,n)=>{var r=n(7293),i=n(5112),o=n(7392),u=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[u]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:(t,e,n)=>{"use strict";var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},9207:(t,e,n)=>{var r=n(9781),i=n(7293),o=n(6656),u=Object.defineProperty,a={},s=function(t){throw t};t.exports=function(t,e){if(o(a,t))return a[t];e||(e={});var n=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,l=o(e,0)?e[0]:s,f=o(e,1)?e[1]:void 0;return a[t]=!!n&&!i((function(){if(c&&!r)return!0;var t={length:-1};c?u(t,1,{enumerable:!0,get:s}):t[1]=1,n.call(t,l,f)}))}},3671:(t,e,n)=>{var r=n(3099),i=n(7908),o=n(8361),u=n(7466),a=function(t){return function(e,n,a,s){r(n);var c=i(e),l=o(c),f=u(c.length),h=t?f-1:0,p=t?-1:1;if(a<2)for(;;){if(h in l){s=l[h],h+=p;break}if(h+=p,t?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:f>h;h+=p)h in l&&(s=n(s,l[h],h,c));return s}};t.exports={left:a(!1),right:a(!0)}},5417:(t,e,n)=>{var r=n(111),i=n(3157),o=n(5112)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},7072:(t,e,n)=>{var r=n(5112)("iterator"),i=!1;try{var o=0,u={next:function(){return{done:!!o++}},return:function(){i=!0}};u[r]=function(){return this},Array.from(u,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:(t,e,n)=>{var r=n(1694),i=n(4326),o=n(5112)("toStringTag"),u="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:u?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},9920:(t,e,n)=>{var r=n(6656),i=n(3887),o=n(1236),u=n(3070);t.exports=function(t,e){for(var n=i(e),a=u.f,s=o.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||a(t,l,s(e,l))}}},8880:(t,e,n)=>{var r=n(9781),i=n(3070),o=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9781:(t,e,n)=>{var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,n)=>{var r=n(7854),i=n(111),o=r.document,u=i(o)&&i(o.createElement);t.exports=function(t){return u?o.createElement(t):{}}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6833:(t,e,n)=>{var r=n(8113);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},5268:(t,e,n)=>{var r=n(4326),i=n(7854);t.exports="process"==r(i.process)},8113:(t,e,n)=>{var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:(t,e,n)=>{var r,i,o=n(7854),u=n(8113),a=o.process,s=a&&a.versions,c=s&&s.v8;c?i=(r=c.split("."))[0]+r[1]:u&&(!(r=u.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=u.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,n)=>{var r=n(7854),i=n(1236).f,o=n(8880),u=n(1320),a=n(3505),s=n(9920),c=n(4705);t.exports=function(t,e){var n,l,f,h,p,d=t.target,v=t.global,y=t.stat;if(n=v?r:y?r[d]||a(d,{}):(r[d]||{}).prototype)for(l in e){if(h=e[l],f=t.noTargetGet?(p=i(n,l))&&p.value:n[l],!c(v?l:d+(y?".":"#")+l,t.forced)&&void 0!==f){if(typeof h==typeof f)continue;s(h,f)}(t.sham||f&&f.sham)&&o(h,"sham",!0),u(n,l,h,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},9974:(t,e,n)=>{var r=n(3099);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},5005:(t,e,n)=>{var r=n(857),i=n(7854),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},1246:(t,e,n)=>{var r=n(648),i=n(7497),o=n(5112)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},7854:(t,e,n)=>{var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},3501:t=>{t.exports={}},842:(t,e,n)=>{var r=n(7854);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},490:(t,e,n)=>{var r=n(5005);t.exports=r("document","documentElement")},4664:(t,e,n)=>{var r=n(9781),i=n(7293),o=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,n)=>{var r=n(7293),i=n(4326),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},2788:(t,e,n)=>{var r=n(5465),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},9909:(t,e,n)=>{var r,i,o,u=n(8536),a=n(7854),s=n(111),c=n(8880),l=n(6656),f=n(5465),h=n(6200),p=n(3501),d=a.WeakMap;if(u){var v=f.state||(f.state=new d),y=v.get,m=v.has,g=v.set;r=function(t,e){return e.facade=t,g.call(v,t,e),e},i=function(t){return y.call(v,t)||{}},o=function(t){return m.call(v,t)}}else{var b=h("state");p[b]=!0,r=function(t,e){return e.facade=t,c(t,b,e),e},i=function(t){return l(t,b)?t[b]:{}},o=function(t){return l(t,b)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},7659:(t,e,n)=>{var r=n(5112),i=n(7497),o=r("iterator"),u=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||u[o]===t)}},3157:(t,e,n)=>{var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4705:(t,e,n)=>{var r=n(7293),i=/#|\.prototype\./,o=function(t,e){var n=a[u(t)];return n==c||n!=s&&("function"==typeof e?r(e):!!e)},u=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},s=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},408:(t,e,n)=>{var r=n(9670),i=n(7659),o=n(7466),u=n(9974),a=n(1246),s=n(9212),c=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var l,f,h,p,d,v,y,m=n&&n.that,g=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),E=u(e,m,1+g+w),_=function(t){return l&&s(l),new c(!0,t)},S=function(t){return g?(r(t),w?E(t[0],t[1],_):E(t[0],t[1])):w?E(t,_):E(t)};if(b)l=t;else{if("function"!=typeof(f=a(t)))throw TypeError("Target is not iterable");if(i(f)){for(h=0,p=o(t.length);p>h;h++)if((d=S(t[h]))&&d instanceof c)return d;return new c(!1)}l=f.call(t)}for(v=l.next;!(y=v.call(l)).done;){try{d=S(y.value)}catch(t){throw s(l),t}if("object"==typeof d&&d&&d instanceof c)return d}return new c(!1)}},9212:(t,e,n)=>{var r=n(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},7497:t=>{t.exports={}},5948:(t,e,n)=>{var r,i,o,u,a,s,c,l,f=n(7854),h=n(1236).f,p=n(261).set,d=n(6833),v=n(5268),y=f.MutationObserver||f.WebKitMutationObserver,m=f.document,g=f.process,b=f.Promise,w=h(f,"queueMicrotask"),E=w&&w.value;E||(r=function(){var t,e;for(v&&(t=g.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?u():o=void 0,t}}o=void 0,t&&t.enter()},!d&&!v&&y&&m?(a=!0,s=m.createTextNode(""),new y(r).observe(s,{characterData:!0}),u=function(){s.data=a=!a}):b&&b.resolve?(c=b.resolve(void 0),l=c.then,u=function(){l.call(c,r)}):u=v?function(){g.nextTick(r)}:function(){p.call(f,r)}),t.exports=E||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,u()),o=e}},3366:(t,e,n)=>{var r=n(7854);t.exports=r.Promise},133:(t,e,n)=>{var r=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},8536:(t,e,n)=>{var r=n(7854),i=n(2788),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},8523:(t,e,n)=>{"use strict";var r=n(3099),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},1574:(t,e,n)=>{"use strict";var r=n(9781),i=n(7293),o=n(1956),u=n(5181),a=n(5296),s=n(7908),c=n(8361),l=Object.assign,f=Object.defineProperty;t.exports=!l||i((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||o(l({},e)).join("")!=i}))?function(t,e){for(var n=s(t),i=arguments.length,l=1,f=u.f,h=a.f;i>l;)for(var p,d=c(arguments[l++]),v=f?o(d).concat(f(d)):o(d),y=v.length,m=0;y>m;)p=v[m++],r&&!h.call(d,p)||(n[p]=d[p]);return n}:l},30:(t,e,n)=>{var r,i=n(9670),o=n(6048),u=n(748),a=n(3501),s=n(490),c=n(317),l=n(6200)("IE_PROTO"),f=function(){},h=function(t){return"<script>"+t+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=r?function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=c("iframe")).style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F);for(var n=u.length;n--;)delete p.prototype[u[n]];return p()};a[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=i(t),n=new f,f.prototype=null,n[l]=t):n=p(),void 0===e?n:o(n,e)}},6048:(t,e,n)=>{var r=n(9781),i=n(3070),o=n(9670),u=n(1956);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=u(e),a=r.length,s=0;a>s;)i.f(t,n=r[s++],e[n]);return t}},3070:(t,e,n)=>{var r=n(9781),i=n(4664),o=n(9670),u=n(7593),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=u(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:(t,e,n)=>{var r=n(9781),i=n(5296),o=n(9114),u=n(5656),a=n(7593),s=n(6656),c=n(4664),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=u(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},8006:(t,e,n)=>{var r=n(6324),i=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},6324:(t,e,n)=>{var r=n(6656),i=n(5656),o=n(1318).indexOf,u=n(3501);t.exports=function(t,e){var n,a=i(t),s=0,c=[];for(n in a)!r(u,n)&&r(a,n)&&c.push(n);for(;e.length>s;)r(a,n=e[s++])&&(~o(c,n)||c.push(n));return c}},1956:(t,e,n)=>{var r=n(6324),i=n(748);t.exports=Object.keys||function(t){return r(t,i)}},5296:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},288:(t,e,n)=>{"use strict";var r=n(1694),i=n(648);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},3887:(t,e,n)=>{var r=n(5005),i=n(8006),o=n(5181),u=n(9670);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(u(t)),n=o.f;return n?e.concat(n(t)):e}},857:(t,e,n)=>{var r=n(7854);t.exports=r},2534:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:(t,e,n)=>{var r=n(9670),i=n(111),o=n(8523);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},2248:(t,e,n)=>{var r=n(1320);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},1320:(t,e,n)=>{var r=n(7854),i=n(8880),o=n(6656),u=n(3505),a=n(2788),s=n(9909),c=s.get,l=s.enforce,f=String(String).split("String");(t.exports=function(t,e,n,a){var s,c=!!a&&!!a.unsafe,h=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),(s=l(n)).source||(s.source=f.join("string"==typeof e?e:""))),t!==r?(c?!p&&t[e]&&(h=!0):delete t[e],h?t[e]=n:i(t,e,n)):h?t[e]=n:u(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,e,n)=>{var r=n(7854),i=n(8880);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},6340:(t,e,n)=>{"use strict";var r=n(5005),i=n(3070),o=n(5112),u=n(9781),a=o("species");t.exports=function(t){var e=r(t),n=i.f;u&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},8003:(t,e,n)=>{var r=n(3070).f,i=n(6656),o=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},6200:(t,e,n)=>{var r=n(2309),i=n(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:(t,e,n)=>{var r=n(7854),i=n(3505),o="__core-js_shared__",u=r[o]||i(o,{});t.exports=u},2309:(t,e,n)=>{var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.1",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},6707:(t,e,n)=>{var r=n(9670),i=n(3099),o=n(5112)("species");t.exports=function(t,e){var n,u=r(t).constructor;return void 0===u||null==(n=r(u)[o])?e:i(n)}},261:(t,e,n)=>{var r,i,o,u=n(7854),a=n(7293),s=n(9974),c=n(490),l=n(317),f=n(6833),h=n(5268),p=u.location,d=u.setImmediate,v=u.clearImmediate,y=u.process,m=u.MessageChannel,g=u.Dispatch,b=0,w={},E=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},_=function(t){return function(){E(t)}},S=function(t){E(t.data)},I=function(t){u.postMessage(t+"",p.protocol+"//"+p.host)};d&&v||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(b),b},v=function(t){delete w[t]},h?r=function(t){y.nextTick(_(t))}:g&&g.now?r=function(t){g.now(_(t))}:m&&!f?(o=(i=new m).port2,i.port1.onmessage=S,r=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts&&p&&"file:"!==p.protocol&&!a(I)?(r=I,u.addEventListener("message",S,!1)):r="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),E(t)}}:function(t){setTimeout(_(t),0)}),t.exports={set:d,clear:v}},1400:(t,e,n)=>{var r=n(9958),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5656:(t,e,n)=>{var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9958:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:(t,e,n)=>{var r=n(9958),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:(t,e,n)=>{var r=n(4488);t.exports=function(t){return Object(r(t))}},7593:(t,e,n)=>{var r=n(111);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},1694:(t,e,n)=>{var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},9711:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:(t,e,n)=>{var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(t,e,n)=>{var r=n(7854),i=n(2309),o=n(6656),u=n(9711),a=n(133),s=n(3307),c=i("wks"),l=r.Symbol,f=s?l:l&&l.withoutSetter||u;t.exports=function(t){return o(c,t)||(a&&o(l,t)?c[t]=l[t]:c[t]=f("Symbol."+t)),c[t]}},4553:(t,e,n)=>{"use strict";var r=n(2109),i=n(2092).findIndex,o=n(1223),u=n(9207),a="findIndex",s=!0,c=u(a);a in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!c},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},9554:(t,e,n)=>{"use strict";var r=n(2109),i=n(8533);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},6699:(t,e,n)=>{"use strict";var r=n(2109),i=n(1318).includes,o=n(1223);r({target:"Array",proto:!0,forced:!n(9207)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},2772:(t,e,n)=>{"use strict";var r=n(2109),i=n(1318).indexOf,o=n(9341),u=n(9207),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),l=u("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:s||!c||!l},{indexOf:function(t){return s?a.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},1249:(t,e,n)=>{"use strict";var r=n(2109),i=n(2092).map,o=n(1194),u=n(9207),a=o("map"),s=u("map");r({target:"Array",proto:!0,forced:!a||!s},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},5827:(t,e,n)=>{"use strict";var r=n(2109),i=n(3671).left,o=n(9341),u=n(9207),a=n(7392),s=n(5268),c=o("reduce"),l=u("reduce",{1:0});r({target:"Array",proto:!0,forced:!c||!l||!s&&a>79&&a<83},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},8309:(t,e,n)=>{var r=n(9781),i=n(3070).f,o=Function.prototype,u=o.toString,a=/^\s*function ([^ (]*)/,s="name";r&&!(s in o)&&i(o,s,{configurable:!0,get:function(){try{return u.call(this).match(a)[1]}catch(t){return""}}})},9601:(t,e,n)=>{var r=n(2109),i=n(1574);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},7941:(t,e,n)=>{var r=n(2109),i=n(7908),o=n(1956);r({target:"Object",stat:!0,forced:n(7293)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},1539:(t,e,n)=>{var r=n(1694),i=n(1320),o=n(288);r||i(Object.prototype,"toString",o,{unsafe:!0})},7727:(t,e,n)=>{"use strict";var r=n(2109),i=n(1913),o=n(3366),u=n(7293),a=n(5005),s=n(6707),c=n(9478),l=n(1320);r({target:"Promise",proto:!0,real:!0,forced:!!o&&u((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=s(this,a("Promise")),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),i||"function"!=typeof o||o.prototype.finally||l(o.prototype,"finally",a("Promise").prototype.finally)},8674:(t,e,n)=>{"use strict";var r,i,o,u,a=n(2109),s=n(1913),c=n(7854),l=n(5005),f=n(3366),h=n(1320),p=n(2248),d=n(8003),v=n(6340),y=n(111),m=n(3099),g=n(5787),b=n(2788),w=n(408),E=n(7072),_=n(6707),S=n(261).set,I=n(5948),k=n(9478),T=n(842),x=n(8523),N=n(2534),O=n(9909),C=n(4705),A=n(5112),P=n(5268),L=n(7392),D=A("species"),R="Promise",M=O.get,j=O.set,F=O.getterFor(R),U=f,V=c.TypeError,z=c.document,q=c.process,B=l("fetch"),H=x.f,K=H,G=!!(z&&z.createEvent&&c.dispatchEvent),W="function"==typeof PromiseRejectionEvent,$="unhandledrejection",Q=C(R,(function(){if(b(U)===String(U)){if(66===L)return!0;if(!P&&!W)return!0}if(s&&!U.prototype.finally)return!0;if(L>=51&&/native code/.test(U))return!1;var t=U.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[D]=e,!(t.then((function(){}))instanceof e)})),J=Q||!E((function(t){U.all(t).catch((function(){}))})),X=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},Y=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;I((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var u,a,s,c=n[o++],l=i?c.ok:c.fail,f=c.resolve,h=c.reject,p=c.domain;try{l?(i||(2===t.rejection&&nt(t),t.rejection=1),!0===l?u=r:(p&&p.enter(),u=l(r),p&&(p.exit(),s=!0)),u===c.promise?h(V("Promise-chain cycle")):(a=X(u))?a.call(u,f,h):f(u)):h(r)}catch(t){p&&!s&&p.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&tt(t)}))}},Z=function(t,e,n){var r,i;G?((r=z.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},!W&&(i=c["on"+t])?i(r):t===$&&T("Unhandled promise rejection",n)},tt=function(t){S.call(c,(function(){var e,n=t.facade,r=t.value;if(et(t)&&(e=N((function(){P?q.emit("unhandledRejection",r,n):Z($,n,r)})),t.rejection=P||et(t)?2:1,e.error))throw e.value}))},et=function(t){return 1!==t.rejection&&!t.parent},nt=function(t){S.call(c,(function(){var e=t.facade;P?q.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)}))},rt=function(t,e,n){return function(r){t(e,r,n)}},it=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Y(t,!0))},ot=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw V("Promise can't be resolved itself");var r=X(e);r?I((function(){var n={done:!1};try{r.call(e,rt(ot,n,t),rt(it,n,t))}catch(e){it(n,e,t)}})):(t.value=e,t.state=1,Y(t,!1))}catch(e){it({done:!1},e,t)}}};Q&&(U=function(t){g(this,U,R),m(t),r.call(this);var e=M(this);try{t(rt(ot,e),rt(it,e))}catch(t){it(e,t)}},(r=function(t){j(this,{type:R,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(U.prototype,{then:function(t,e){var n=F(this),r=H(_(this,U));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=P?q.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Y(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=M(t);this.promise=t,this.resolve=rt(ot,e),this.reject=rt(it,e)},x.f=H=function(t){return t===U||t===o?new i(t):K(t)},s||"function"!=typeof f||(u=f.prototype.then,h(f.prototype,"then",(function(t,e){var n=this;return new U((function(t,e){u.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof B&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return k(U,B.apply(c,arguments))}}))),a({global:!0,wrap:!0,forced:Q},{Promise:U}),d(U,R,!1,!0),v(R),o=l(R),a({target:R,stat:!0,forced:Q},{reject:function(t){var e=H(this);return e.reject.call(void 0,t),e.promise}}),a({target:R,stat:!0,forced:s||Q},{resolve:function(t){return k(s&&this===o?U:this,t)}}),a({target:R,stat:!0,forced:J},{all:function(t){var e=this,n=H(e),r=n.resolve,i=n.reject,o=N((function(){var n=m(e.resolve),o=[],u=0,a=1;w(t,(function(t){var s=u++,c=!1;o.push(void 0),a++,n.call(e,t).then((function(t){c||(c=!0,o[s]=t,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=H(e),r=n.reject,i=N((function(){var i=m(e.resolve);w(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},4747:(t,e,n)=>{var r=n(7854),i=n(8324),o=n(8533),u=n(8880);for(var a in i){var s=r[a],c=s&&s.prototype;if(c&&c.forEach!==o)try{u(c,"forEach",o)}catch(t){c.forEach=o}}},7187:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,r){function i(){void 0!==o&&t.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==e&&(o=function(n){t.removeListener(e,i),r(n)},t.once("error",o)),t.once(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var u=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function s(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,n,r){var i,o,u,c;if(a(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),u=o[e]),void 0===u)u=o[e]=n,++t._eventsCount;else if("function"==typeof u?u=o[e]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),(i=s(t))>0&&u.length>i&&!u.warned){u.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=u.length,c=l,console&&console.warn&&console.warn(c)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function h(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):d(i,i.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return s(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var u;if(e.length>0&&(u=e[0]),u instanceof Error)throw u;var a=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw a.context=u,a}var s=o[t];if(void 0===s)return!1;if("function"==typeof s)r(s,this,e);else{var c=s.length,l=d(s,c);for(n=0;n<c;++n)r(l[n],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,f(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,f(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,o,u;if(a(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){u=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,u||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return h(this,t,!0)},o.prototype.rawListeners=function(t){return h(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},7418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var u,a,s=i(t),c=1;c<arguments.length;c++){for(var l in u=Object(arguments[c]))n.call(u,l)&&(s[l]=u[l]);if(e){a=e(u);for(var f=0;f<a.length;f++)r.call(u,a[f])&&(s[a[f]]=u[a[f]])}}return s}},4448:(t,e,n)=>{"use strict";var r=n(7294),i=n(7418),o=n(3840);function u(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(u(227));var a=new Set,s={};function c(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var f=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,d={},v={};function y(t,e,n,r,i,o,u){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=u}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new y(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new y(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new y(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new y(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new y(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new y(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new y(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new y(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new y(t,5,!1,t.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function w(t,e,n,r){var i=m.hasOwnProperty(e)?m[e]:null;(null!==i?0===i.type:!r&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!p.call(v,t)||!p.call(d,t)&&(h.test(t)?v[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(g,b);m[e]=new y(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(g,b);m[e]=new y(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(g,b);m[e]=new y(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new y(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new y(t,1,!1,t.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,S=60106,I=60107,k=60108,T=60114,x=60109,N=60110,O=60112,C=60113,A=60120,P=60115,L=60116,D=60121,R=60128,M=60129,j=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;_=U("react.element"),S=U("react.portal"),I=U("react.fragment"),k=U("react.strict_mode"),T=U("react.profiler"),x=U("react.provider"),N=U("react.context"),O=U("react.forward_ref"),C=U("react.suspense"),A=U("react.suspense_list"),P=U("react.memo"),L=U("react.lazy"),D=U("react.block"),U("react.scope"),R=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,z="function"==typeof Symbol&&Symbol.iterator;function q(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=z&&t[z]||t["@@iterator"])?t:null}function B(t){if(void 0===V)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);V=e&&e[1]||""}return"\n"+V+t}var H=!1;function K(t,e){if(!t||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var r=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){r=t}t.call(e.prototype)}else{try{throw Error()}catch(t){r=t}t()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),u=i.length-1,a=o.length-1;1<=u&&0<=a&&i[u]!==o[a];)a--;for(;1<=u&&0<=a;u--,a--)if(i[u]!==o[a]){if(1!==u||1!==a)do{if(u--,0>--a||i[u]!==o[a])return"\n"+i[u].replace(" at new "," at ")}while(1<=u&&0<=a);break}}}finally{H=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?B(t):""}function G(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return K(t.type,!1);case 11:return K(t.type.render,!1);case 22:return K(t.type._render,!1);case 1:return K(t.type,!0);default:return""}}function W(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case I:return"Fragment";case S:return"Portal";case T:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case O:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case P:return W(t.type);case D:return W(t._render);case L:e=t._payload,t=t._init;try{return W(t(e))}catch(t){}}return null}function $(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function J(t){t._valueTracker||(t._valueTracker=function(t){var e=Q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Y(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Z(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=$(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=$(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,$(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function ut(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function at(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(u(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function st(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(u(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(u(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:$(n)}}function ct(t,e){var n=$(e.value),r=$(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function lt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ft="http://www.w3.org/1999/xhtml";function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ht(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var dt,vt,yt=(vt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((dt=dt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return vt(t,e)}))}:vt);function mt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var gt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];function wt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||gt.hasOwnProperty(t)&&gt[t]?(""+e).trim():e+"px"}function Et(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=wt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(gt).forEach((function(t){bt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gt[e]=gt[t]}))}));var _t=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(t,e){if(e){if(_t[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(u(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(u(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(u(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(u(62))}}function It(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function kt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Tt=null,xt=null,Nt=null;function Ot(t){if(t=Yr(t)){if("function"!=typeof Tt)throw Error(u(280));var e=t.stateNode;e&&(e=ti(e),Tt(t.stateNode,t.type,e))}}function Ct(t){xt?Nt?Nt.push(t):Nt=[t]:xt=t}function At(){if(xt){var t=xt,e=Nt;if(Nt=xt=null,Ot(t),e)for(t=0;t<e.length;t++)Ot(e[t])}}function Pt(t,e){return t(e)}function Lt(t,e,n,r,i){return t(e,n,r,i)}function Dt(){}var Rt=Pt,Mt=!1,jt=!1;function Ft(){null===xt&&null===Nt||(Dt(),At())}function Ut(t,e){var n=t.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(u(231,e,typeof n));return n}var Vt=!1;if(f)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(vt){Vt=!1}function qt(t,e,n,r,i,o,u,a,s){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}var Bt=!1,Ht=null,Kt=!1,Gt=null,Wt={onError:function(t){Bt=!0,Ht=t}};function $t(t,e,n,r,i,o,u,a,s){Bt=!1,Ht=null,qt.apply(Wt,arguments)}function Qt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Jt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Xt(t){if(Qt(t)!==t)throw Error(u(188))}function Yt(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var Zt,te,ee,ne,re=!1,ie=[],oe=null,ue=null,ae=null,se=new Map,ce=new Map,le=[],fe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function he(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pe(t,e){switch(t){case"focusin":case"focusout":oe=null;break;case"dragenter":case"dragleave":ue=null;break;case"mouseover":case"mouseout":ae=null;break;case"pointerover":case"pointerout":se.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ce.delete(e.pointerId)}}function de(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=he(e,n,r,i,o),null!==e&&null!==(e=Yr(e))&&te(e),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ve(t){var e=Xr(t.target);if(null!==e){var n=Qt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Jt(n)))return t.blockedOn=e,void ne(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){ee(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ye(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=Yr(n))&&te(e),t.blockedOn=n,!1;e.shift()}return!0}function me(t,e,n){ye(t)&&n.delete(e)}function ge(){for(re=!1;0<ie.length;){var t=ie[0];if(null!==t.blockedOn){null!==(t=Yr(t.blockedOn))&&Zt(t);break}for(var e=t.targetContainers;0<e.length;){var n=Xe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ie.shift()}null!==oe&&ye(oe)&&(oe=null),null!==ue&&ye(ue)&&(ue=null),null!==ae&&ye(ae)&&(ae=null),se.forEach(me),ce.forEach(me)}function be(t,e){t.blockedOn===e&&(t.blockedOn=null,re||(re=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,ge)))}function we(t){function e(e){return be(e,t)}if(0<ie.length){be(ie[0],t);for(var n=1;n<ie.length;n++){var r=ie[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==oe&&be(oe,t),null!==ue&&be(ue,t),null!==ae&&be(ae,t),se.forEach(e),ce.forEach(e),n=0;n<le.length;n++)(r=le[n]).blockedOn===t&&(r.blockedOn=null);for(;0<le.length&&null===(n=le[0]).blockedOn;)ve(n),null===n.blockedOn&&le.shift()}function Ee(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _e={animationend:Ee("Animation","AnimationEnd"),animationiteration:Ee("Animation","AnimationIteration"),animationstart:Ee("Animation","AnimationStart"),transitionend:Ee("Transition","TransitionEnd")},Se={},Ie={};function ke(t){if(Se[t])return Se[t];if(!_e[t])return t;var e,n=_e[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ie)return Se[t]=n[e];return t}f&&(Ie=document.createElement("div").style,"AnimationEvent"in window||(delete _e.animationend.animation,delete _e.animationiteration.animation,delete _e.animationstart.animation),"TransitionEvent"in window||delete _e.transitionend.transition);var Te=ke("animationend"),xe=ke("animationiteration"),Ne=ke("animationstart"),Oe=ke("transitionend"),Ce=new Map,Ae=new Map,Pe=["abort","abort",Te,"animationEnd",xe,"animationIteration",Ne,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Oe,"transitionEnd","waiting","waiting"];function Le(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ae.set(r,e),Ce.set(r,i),c(i,[r])}}(0,o.unstable_now)();var De=8;function Re(t){if(0!=(1&t))return De=15,1;if(0!=(2&t))return De=14,2;if(0!=(4&t))return De=13,4;var e=24&t;return 0!==e?(De=12,e):0!=(32&t)?(De=11,32):0!=(e=192&t)?(De=10,e):0!=(256&t)?(De=9,256):0!=(e=3584&t)?(De=8,e):0!=(4096&t)?(De=7,4096):0!=(e=4186112&t)?(De=6,e):0!=(e=62914560&t)?(De=5,e):67108864&t?(De=4,67108864):0!=(134217728&t)?(De=3,134217728):0!=(e=805306368&t)?(De=2,e):0!=(1073741824&t)?(De=1,1073741824):(De=8,t)}function Me(t,e){var n=t.pendingLanes;if(0===n)return De=0;var r=0,i=0,o=t.expiredLanes,u=t.suspendedLanes,a=t.pingedLanes;if(0!==o)r=o,i=De=15;else if(0!=(o=134217727&n)){var s=o&~u;0!==s?(r=Re(s),i=De):0!=(a&=o)&&(r=Re(a),i=De)}else 0!=(o=n&~u)?(r=Re(o),i=De):0!==a&&(r=Re(a),i=De);if(0===r)return 0;if(r=n&((0>(r=31-qe(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0==(e&u)){if(Re(e),i<=De)return e;De=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-qe(e)),r|=t[n],e&=~i;return r}function je(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Fe(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ue(24&~e))?Fe(10,e):t;case 10:return 0===(t=Ue(192&~e))?Fe(8,e):t;case 8:return 0===(t=Ue(3584&~e))&&0===(t=Ue(4186112&~e))&&(t=512),t;case 2:return 0===(e=Ue(805306368&~e))&&(e=268435456),e}throw Error(u(358,t))}function Ue(t){return t&-t}function Ve(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ze(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-qe(e)]=n}var qe=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Be(t)/He|0)|0},Be=Math.log,He=Math.LN2,Ke=o.unstable_UserBlockingPriority,Ge=o.unstable_runWithPriority,We=!0;function $e(t,e,n,r){Mt||Dt();var i=Je,o=Mt;Mt=!0;try{Lt(i,t,e,n,r)}finally{(Mt=o)||Ft()}}function Qe(t,e,n,r){Ge(Ke,Je.bind(null,t,e,n,r))}function Je(t,e,n,r){var i;if(We)if((i=0==(4&e))&&0<ie.length&&-1<fe.indexOf(t))t=he(null,t,e,n,r),ie.push(t);else{var o=Xe(t,e,n,r);if(null===o)i&&pe(t,r);else{if(i){if(-1<fe.indexOf(t))return t=he(o,t,e,n,r),void ie.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return oe=de(oe,t,e,n,r,i),!0;case"dragenter":return ue=de(ue,t,e,n,r,i),!0;case"mouseover":return ae=de(ae,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return se.set(o,de(se.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ce.set(o,de(ce.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;pe(t,r)}Cr(t,e,r,null,n)}}}function Xe(t,e,n,r){var i=kt(r);if(null!==(i=Xr(i))){var o=Qt(i);if(null===o)i=null;else{var u=o.tag;if(13===u){if(null!==(i=Jt(o)))return i;i=null}else if(3===u){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Cr(t,e,r,i,n),null}var Ye=null,Ze=null,tn=null;function en(){if(tn)return tn;var t,e,n=Ze,r=n.length,i="value"in Ye?Ye.value:Ye.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var u=r-t;for(e=1;e<=u&&n[r-e]===i[o-e];e++);return tn=i.slice(t,1<e?1-e:void 0)}function nn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function rn(){return!0}function on(){return!1}function un(t){function e(e,n,r,i,o){for(var u in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(u)&&(e=t[u],this[u]=e?e(i):i[u]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:on,this.isPropagationStopped=on,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),e}var an,sn,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=un(ln),hn=i({},ln,{view:0,detail:0}),pn=un(hn),dn=i({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cn&&(cn&&"mousemove"===t.type?(an=t.screenX-cn.screenX,sn=t.screenY-cn.screenY):sn=an=0,cn=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),vn=un(dn),yn=un(i({},dn,{dataTransfer:0})),mn=un(i({},hn,{relatedTarget:0})),gn=un(i({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=un(i({},ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),wn=un(i({},ln,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function kn(){return In}var Tn=un(i({},hn,{key:function(t){if(t.key){var e=En[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=nn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?_n[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(t){return"keypress"===t.type?nn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?nn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),xn=un(i({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=un(i({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),On=un(i({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=un(i({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),An=[9,13,27,32],Pn=f&&"CompositionEvent"in window,Ln=null;f&&"documentMode"in document&&(Ln=document.documentMode);var Dn=f&&"TextEvent"in window&&!Ln,Rn=f&&(!Pn||Ln&&8<Ln&&11>=Ln),Mn=String.fromCharCode(32),jn=!1;function Fn(t,e){switch(t){case"keyup":return-1!==An.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1,zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!zn[t.type]:"textarea"===e}function Bn(t,e,n,r){Ct(r),0<(e=Pr(e,"onChange")).length&&(n=new fn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hn=null,Kn=null;function Gn(t){Ir(t,0)}function Wn(t){if(X(Zr(t)))return t}function $n(t,e){if("change"===t)return e}var Qn=!1;if(f){var Jn;if(f){var Xn="oninput"in document;if(!Xn){var Yn=document.createElement("div");Yn.setAttribute("oninput","return;"),Xn="function"==typeof Yn.oninput}Jn=Xn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function Zn(){Hn&&(Hn.detachEvent("onpropertychange",tr),Kn=Hn=null)}function tr(t){if("value"===t.propertyName&&Wn(Kn)){var e=[];if(Bn(e,Kn,t,kt(t)),t=Gn,Mt)t(e);else{Mt=!0;try{Pt(t,e)}finally{Mt=!1,Ft()}}}}function er(t,e,n){"focusin"===t?(Zn(),Kn=n,(Hn=e).attachEvent("onpropertychange",tr)):"focusout"===t&&Zn()}function nr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Wn(Kn)}function rr(t,e){if("click"===t)return Wn(e)}function ir(t,e){if("input"===t||"change"===t)return Wn(e)}var or="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},ur=Object.prototype.hasOwnProperty;function ar(t,e){if(or(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(e,n[r])||!or(t[n[r]],e[n[r]]))return!1;return!0}function sr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var n,r=sr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=sr(r)}}function lr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?lr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fr(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function hr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var pr=f&&"documentMode"in document&&11>=document.documentMode,dr=null,vr=null,yr=null,mr=!1;function gr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==dr||dr!==Y(r)||(r="selectionStart"in(r=dr)&&hr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ar(yr,r)||(yr=r,0<(r=Pr(vr,"onSelect")).length&&(e=new fn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=dr)))}Le("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Le("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Le(Pe,2);for(var br="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<br.length;wr++)Ae.set(br[wr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_r=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Sr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,a,s,c){if($t.apply(this,arguments),Bt){if(!Bt)throw Error(u(198));var l=Ht;Bt=!1,Ht=null,Kt||(Kt=!0,Gt=l)}}(r,e,void 0,t),t.currentTarget=null}function Ir(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var u=r.length-1;0<=u;u--){var a=r[u],s=a.instance,c=a.currentTarget;if(a=a.listener,s!==o&&i.isPropagationStopped())break t;Sr(i,a,c),o=s}else for(u=0;u<r.length;u++){if(s=(a=r[u]).instance,c=a.currentTarget,a=a.listener,s!==o&&i.isPropagationStopped())break t;Sr(i,a,c),o=s}}}if(Kt)throw t=Gt,Kt=!1,Gt=null,t}function kr(t,e){var n=ei(e),r=t+"__bubble";n.has(r)||(Or(e,t,2,!1),n.add(r))}var Tr="_reactListening"+Math.random().toString(36).slice(2);function xr(t){t[Tr]||(t[Tr]=!0,a.forEach((function(e){_r.has(e)||Nr(e,!1,t,null),Nr(e,!0,t,null)})))}function Nr(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&_r.has(t)){if("scroll"!==t)return;i|=2,o=r}var u=ei(o),a=t+"__"+(e?"capture":"bubble");u.has(a)||(e&&(i|=4),Or(o,t,i,e),u.add(a))}function Or(t,e,n,r){var i=Ae.get(e);switch(void 0===i?2:i){case 0:i=$e;break;case 1:i=Qe;break;default:i=Je}n=i.bind(null,e,n,t),i=void 0,!Vt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cr(t,e,n,r,i){var o=r;if(0==(1&e)&&0==(2&e)&&null!==r)t:for(;;){if(null===r)return;var u=r.tag;if(3===u||4===u){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===u)for(u=r.return;null!==u;){var s=u.tag;if((3===s||4===s)&&((s=u.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;u=u.return}for(;null!==a;){if(null===(u=Xr(a)))return;if(5===(s=u.tag)||6===s){r=o=u;continue t}a=a.parentNode}}r=r.return}!function(t,e,n){if(jt)return t();jt=!0;try{Rt(t,e,n)}finally{jt=!1,Ft()}}((function(){var r=o,i=kt(n),u=[];t:{var a=Ce.get(t);if(void 0!==a){var s=fn,c=t;switch(t){case"keypress":if(0===nn(n))break t;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Te:case xe:case Ne:s=gn;break;case Oe:s=On;break;case"scroll":s=pn;break;case"wheel":s=Cn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=xn}var l=0!=(4&e),f=!l&&"scroll"===t,h=l?null!==a?a+"Capture":null:a;l=[];for(var p,d=r;null!==d;){var v=(p=d).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==h&&null!=(v=Ut(d,h))&&l.push(Ar(d,v,p))),f)break;d=d.return}0<l.length&&(a=new s(a,c,null,n,i),u.push({event:a,listeners:l}))}}if(0==(7&e)){if(s="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||0!=(16&e)||!(c=n.relatedTarget||n.fromElement)||!Xr(c)&&!c[Qr])&&(s||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?Xr(c):null)&&(c!==(f=Qt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=vn,v="onMouseLeave",h="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(l=xn,v="onPointerLeave",h="onPointerEnter",d="pointer"),f=null==s?a:Zr(s),p=null==c?a:Zr(c),(a=new l(v,d+"leave",s,n,i)).target=f,a.relatedTarget=p,v=null,Xr(i)===r&&((l=new l(h,d+"enter",c,n,i)).target=p,l.relatedTarget=f,v=l),f=v,s&&c)t:{for(h=c,d=0,p=l=s;p;p=Lr(p))d++;for(p=0,v=h;v;v=Lr(v))p++;for(;0<d-p;)l=Lr(l),d--;for(;0<p-d;)h=Lr(h),p--;for(;d--;){if(l===h||null!==h&&l===h.alternate)break t;l=Lr(l),h=Lr(h)}l=null}else l=null;null!==s&&Dr(u,a,s,l,!1),null!==c&&null!==f&&Dr(u,f,c,l,!0)}if("select"===(s=(a=r?Zr(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===s&&"file"===a.type)var y=$n;else if(qn(a))if(Qn)y=ir;else{y=nr;var m=er}else(s=a.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(y=rr);switch(y&&(y=y(t,r))?Bn(u,y,n,i):(m&&m(t,a,r),"focusout"===t&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&it(a,"number",a.value)),m=r?Zr(r):window,t){case"focusin":(qn(m)||"true"===m.contentEditable)&&(dr=m,vr=r,yr=null);break;case"focusout":yr=vr=dr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,gr(u,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":gr(u,n,i)}var g;if(Pn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Vn?Fn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(g=en()):(Ze="value"in(Ye=i)?Ye.value:Ye.textContent,Vn=!0)),0<(m=Pr(r,b)).length&&(b=new wn(b,t,null,n,i),u.push({event:b,listeners:m}),(g||null!==(g=Un(n)))&&(b.data=g))),(g=Dn?function(t,e){switch(t){case"compositionend":return Un(e);case"keypress":return 32!==e.which?null:(jn=!0,Mn);case"textInput":return(t=e.data)===Mn&&jn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!Pn&&Fn(t,e)?(t=en(),tn=Ze=Ye=null,Vn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rn&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))&&0<(r=Pr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),u.push({event:i,listeners:r}),i.data=g)}Ir(u,e)}))}function Ar(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ut(t,n))&&r.unshift(Ar(t,o,i)),null!=(o=Ut(t,e))&&r.push(Ar(t,o,i))),t=t.return}return r}function Lr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Dr(t,e,n,r,i){for(var o=e._reactName,u=[];null!==n&&n!==r;){var a=n,s=a.alternate,c=a.stateNode;if(null!==s&&s===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(s=Ut(n,o))&&u.unshift(Ar(n,s,a)):i||null!=(s=Ut(n,o))&&u.push(Ar(n,s,a))),n=n.return}0!==u.length&&t.push({event:e,listeners:u})}function Rr(){}var Mr=null,jr=null;function Fr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ur(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Vr="function"==typeof setTimeout?setTimeout:void 0,zr="function"==typeof clearTimeout?clearTimeout:void 0;function qr(t){(1===t.nodeType||9===t.nodeType&&null!=(t=t.body))&&(t.textContent="")}function Br(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Hr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Kr=0,Gr=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Gr,$r="__reactProps$"+Gr,Qr="__reactContainer$"+Gr,Jr="__reactEvents$"+Gr;function Xr(t){var e=t[Wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[Wr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Hr(t);null!==t;){if(n=t[Wr])return n;t=Hr(t)}return e}n=(t=n).parentNode}return null}function Yr(t){return!(t=t[Wr]||t[Qr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Zr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(u(33))}function ti(t){return t[$r]||null}function ei(t){var e=t[Jr];return void 0===e&&(e=t[Jr]=new Set),e}var ni=[],ri=-1;function ii(t){return{current:t}}function oi(t){0>ri||(t.current=ni[ri],ni[ri]=null,ri--)}function ui(t,e){ri++,ni[ri]=t.current,t.current=e}var ai={},si=ii(ai),ci=ii(!1),li=ai;function fi(t,e){var n=t.type.contextTypes;if(!n)return ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function hi(t){return null!=t.childContextTypes}function pi(){oi(ci),oi(si)}function di(t,e,n){if(si.current!==ai)throw Error(u(168));ui(si,e),ui(ci,n)}function vi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(u(108,W(e)||"Unknown",o));return i({},n,r)}function yi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ai,li=si.current,ui(si,t),ui(ci,ci.current),!0}function mi(t,e,n){var r=t.stateNode;if(!r)throw Error(u(169));n?(t=vi(t,e,li),r.__reactInternalMemoizedMergedChildContext=t,oi(ci),oi(si),ui(si,t)):oi(ci),ui(ci,n)}var gi=null,bi=null,wi=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,_i=o.unstable_cancelCallback,Si=o.unstable_shouldYield,Ii=o.unstable_requestPaint,ki=o.unstable_now,Ti=o.unstable_getCurrentPriorityLevel,xi=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Oi=o.unstable_NormalPriority,Ci=o.unstable_LowPriority,Ai=o.unstable_IdlePriority,Pi={},Li=void 0!==Ii?Ii:function(){},Di=null,Ri=null,Mi=!1,ji=ki(),Fi=1e4>ji?ki:function(){return ki()-ji};function Ui(){switch(Ti()){case xi:return 99;case Ni:return 98;case Oi:return 97;case Ci:return 96;case Ai:return 95;default:throw Error(u(332))}}function Vi(t){switch(t){case 99:return xi;case 98:return Ni;case 97:return Oi;case 96:return Ci;case 95:return Ai;default:throw Error(u(332))}}function zi(t,e){return t=Vi(t),wi(t,e)}function qi(t,e,n){return t=Vi(t),Ei(t,e,n)}function Bi(){if(null!==Ri){var t=Ri;Ri=null,_i(t)}Hi()}function Hi(){if(!Mi&&null!==Di){Mi=!0;var t=0;try{var e=Di;zi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Di=null}catch(e){throw null!==Di&&(Di=Di.slice(t+1)),Ei(xi,Bi),e}finally{Mi=!1}}}var Ki=E.ReactCurrentBatchConfig;function Gi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Wi=ii(null),$i=null,Qi=null,Ji=null;function Xi(){Ji=Qi=$i=null}function Yi(t){var e=Wi.current;oi(Wi),t.type._context._currentValue=e}function Zi(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function to(t,e){$i=t,Ji=Qi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(Pu=!0),t.firstContext=null)}function eo(t,e){if(Ji!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(Ji=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Qi){if(null===$i)throw Error(u(308));Qi=e,$i.dependencies={lanes:0,firstContext:e,responders:null}}else Qi=Qi.next=e;return t._currentValue}var no=!1;function ro(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function io(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function ao(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=u:o=o.next=u,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function so(t,e,n,r){var o=t.updateQueue;no=!1;var u=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var c=s,l=c.next;c.next=null,null===a?u=l:a.next=l,a=c;var f=t.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==a&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==u){for(h=o.baseState,a=0,f=l=c=null;;){s=u.lane;var p=u.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:p,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});t:{var d=t,v=u;switch(s=e,p=n,v.tag){case 1:if("function"==typeof(d=v.payload)){h=d.call(p,h,s);break t}h=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(s="function"==typeof(d=v.payload)?d.call(p,h,s):d))break t;h=i({},h,s);break t;case 2:no=!0}}null!==u.callback&&(t.flags|=32,null===(s=o.effects)?o.effects=[u]:s.push(u))}else p={eventTime:p,lane:s,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===f?(l=f=p,c=h):f=f.next=p,a|=s;if(null===(u=u.next)){if(null===(s=o.shared.pending))break;u=s.next,s.next=null,o.lastBaseUpdate=s,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,Da|=a,t.lanes=a,t.memoizedState=h}}function co(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(u(191,i));i.call(r)}}}var lo=(new r.Component).refs;function fo(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var ho={isMounted:function(t){return!!(t=t._reactInternals)&&Qt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=os(),i=us(t),o=oo(r,i);o.payload=e,null!=n&&(o.callback=n),uo(t,o),as(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=os(),i=us(t),o=oo(r,i);o.tag=1,o.payload=e,null!=n&&(o.callback=n),uo(t,o),as(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=os(),r=us(t),i=oo(n,r);i.tag=2,null!=e&&(i.callback=e),uo(t,i),as(t,r,n)}};function po(t,e,n,r,i,o,u){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,u):!(e.prototype&&e.prototype.isPureReactComponent&&ar(n,r)&&ar(i,o))}function vo(t,e,n){var r=!1,i=ai,o=e.contextType;return"object"==typeof o&&null!==o?o=eo(o):(i=hi(e)?li:si.current,o=(r=null!=(r=e.contextTypes))?fi(t,i):ai),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ho,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function yo(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ho.enqueueReplaceState(e,e.state,null)}function mo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=lo,ro(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=eo(o):(o=hi(e)?li:si.current,i.context=fi(t,o)),so(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(fo(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&ho.enqueueReplaceState(i,i.state,null),so(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4)}var go=Array.isArray;function bo(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(u(309));var r=n.stateNode}if(!r)throw Error(u(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===lo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw Error(u(284));if(!n._owner)throw Error(u(290,t))}return t}function wo(t,e){if("textarea"!==t.type)throw Error(u(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Eo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=js(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function a(e){return t&&null===e.alternate&&(e.flags=2),e}function s(t,e,n,r){return null===e||6!==e.tag?((e=zs(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=bo(t,e,n),r.return=t,r):((r=Fs(n.type,n.key,n.props,null,t.mode,r)).ref=bo(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=qs(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=Us(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=zs(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case _:return(n=Fs(e.type,e.key,e.props,null,t.mode,n)).ref=bo(t,null,e),n.return=t,n;case S:return(e=qs(e,t.mode,n)).return=t,e}if(go(e)||q(e))return(e=Us(e,t.mode,n,null)).return=t,e;wo(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===I?f(t,e,n.props.children,r,i):c(t,e,n,r):null;case S:return n.key===i?l(t,e,n,r):null}if(go(n)||q(n))return null!==i?null:f(t,e,n,r,null);wo(t,n)}return null}function d(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return s(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case _:return t=t.get(null===r.key?n:r.key)||null,r.type===I?f(e,t,r.props.children,i,r.key):c(e,t,r,i);case S:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(go(r)||q(r))return f(e,t=t.get(n)||null,r,i,null);wo(e,r)}return null}function v(i,u,a,s){for(var c=null,l=null,f=u,v=u=0,y=null;null!==f&&v<a.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=p(i,f,a[v],s);if(null===m){null===f&&(f=y);break}t&&f&&null===m.alternate&&e(i,f),u=o(m,u,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===a.length)return n(i,f),c;if(null===f){for(;v<a.length;v++)null!==(f=h(i,a[v],s))&&(u=o(f,u,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<a.length;v++)null!==(y=d(f,i,v,a[v],s))&&(t&&null!==y.alternate&&f.delete(null===y.key?v:y.key),u=o(y,u,v),null===l?c=y:l.sibling=y,l=y);return t&&f.forEach((function(t){return e(i,t)})),c}function y(i,a,s,c){var l=q(s);if("function"!=typeof l)throw Error(u(150));if(null==(s=l.call(s)))throw Error(u(151));for(var f=l=null,v=a,y=a=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=p(i,v,g.value,c);if(null===b){null===v&&(v=m);break}t&&v&&null===b.alternate&&e(i,v),a=o(b,a,y),null===f?l=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(a=o(g,a,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=d(v,i,y,g.value,c))&&(t&&null!==g.alternate&&v.delete(null===g.key?y:g.key),a=o(g,a,y),null===f?l=g:f.sibling=g,f=g);return t&&v.forEach((function(t){return e(i,t)})),l}return function(t,r,o,s){var c="object"==typeof o&&null!==o&&o.type===I&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case _:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===I){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}break;default:if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=bo(t,c,o),r.return=t,t=r;break t}}n(t,c);break}e(t,c),c=c.sibling}o.type===I?((r=Us(o.props.children,t.mode,s,o.key)).return=t,t=r):((s=Fs(o.type,o.key,o.props,null,t.mode,s)).ref=bo(t,r,o),s.return=t,t=s)}return a(t);case S:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=qs(o,t.mode,s)).return=t,t=r}return a(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=zs(o,t.mode,s)).return=t,t=r),a(t);if(go(o))return v(t,r,o,s);if(q(o))return y(t,r,o,s);if(l&&wo(t,o),void 0===o&&!c)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(u(152,W(t.type)||"Component"))}return n(t,r)}}var _o=Eo(!0),So=Eo(!1),Io={},ko=ii(Io),To=ii(Io),xo=ii(Io);function No(t){if(t===Io)throw Error(u(174));return t}function Oo(t,e){switch(ui(xo,e),ui(To,t),ui(ko,Io),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pt(null,"");break;default:e=pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}oi(ko),ui(ko,e)}function Co(){oi(ko),oi(To),oi(xo)}function Ao(t){No(xo.current);var e=No(ko.current),n=pt(e,t.type);e!==n&&(ui(To,t),ui(ko,n))}function Po(t){To.current===t&&(oi(ko),oi(To))}var Lo=ii(0);function Do(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ro=null,Mo=null,jo=!1;function Fo(t,e){var n=Rs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Uo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Vo(t){if(jo){var e=Mo;if(e){var n=e;if(!Uo(t,e)){if(!(e=Br(n.nextSibling))||!Uo(t,e))return t.flags=-1025&t.flags|2,jo=!1,void(Ro=t);Fo(Ro,n)}Ro=t,Mo=Br(e.firstChild)}else t.flags=-1025&t.flags|2,jo=!1,Ro=t}}function zo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Ro=t}function qo(t){if(t!==Ro)return!1;if(!jo)return zo(t),jo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Ur(e,t.memoizedProps))for(e=Mo;e;)Fo(t,e),e=Br(e.nextSibling);if(zo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(u(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Mo=Br(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Mo=null}}else Mo=Ro?Br(t.stateNode.nextSibling):null;return!0}function Bo(){Mo=Ro=null,jo=!1}var Ho=[];function Ko(){for(var t=0;t<Ho.length;t++)Ho[t]._workInProgressVersionPrimary=null;Ho.length=0}var Go=E.ReactCurrentDispatcher,Wo=E.ReactCurrentBatchConfig,$o=0,Qo=null,Jo=null,Xo=null,Yo=!1,Zo=!1;function tu(){throw Error(u(321))}function eu(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!or(t[n],e[n]))return!1;return!0}function nu(t,e,n,r,i,o){if($o=o,Qo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Go.current=null===t||null===t.memoizedState?Nu:Ou,t=n(r,i),Zo){o=0;do{if(Zo=!1,!(25>o))throw Error(u(301));o+=1,Xo=Jo=null,e.updateQueue=null,Go.current=Cu,t=n(r,i)}while(Zo)}if(Go.current=xu,e=null!==Jo&&null!==Jo.next,$o=0,Xo=Jo=Qo=null,Yo=!1,e)throw Error(u(300));return t}function ru(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xo?Qo.memoizedState=Xo=t:Xo=Xo.next=t,Xo}function iu(){if(null===Jo){var t=Qo.alternate;t=null!==t?t.memoizedState:null}else t=Jo.next;var e=null===Xo?Qo.memoizedState:Xo.next;if(null!==e)Xo=e,Jo=t;else{if(null===t)throw Error(u(310));t={memoizedState:(Jo=t).memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},null===Xo?Qo.memoizedState=Xo=t:Xo=Xo.next=t}return Xo}function ou(t,e){return"function"==typeof e?e(t):e}function uu(t){var e=iu(),n=e.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=t;var r=Jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=a=o=null,c=i;do{var l=c.lane;if(($o&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(a=s=f,o=r):s=s.next=f,Qo.lanes|=l,Da|=l}c=c.next}while(null!==c&&c!==i);null===s?o=r:s.next=a,or(r,e.memoizedState)||(Pu=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=s,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function au(t){var e=iu(),n=e.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);or(o,e.memoizedState)||(Pu=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function su(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=($o&t)===t)&&(e._workInProgressVersionPrimary=r,Ho.push(e))),t)return n(e._source);throw Ho.push(e),Error(u(350))}function cu(t,e,n,r){var i=Ta;if(null===i)throw Error(u(349));var o=e._getVersion,a=o(e._source),s=Go.current,c=s.useState((function(){return su(i,e,n)})),l=c[1],f=c[0];c=Xo;var h=t.memoizedState,p=h.refs,d=p.getSnapshot,v=h.source;h=h.subscribe;var y=Qo;return t.memoizedState={refs:p,source:e,subscribe:r},s.useEffect((function(){p.getSnapshot=n,p.setSnapshot=l;var t=o(e._source);if(!or(a,t)){t=n(e._source),or(f,t)||(l(t),t=us(y),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,u=t;0<u;){var s=31-qe(u),c=1<<s;r[s]|=t,u&=~c}}}),[n,e,r]),s.useEffect((function(){return r(e._source,(function(){var t=p.getSnapshot,n=p.setSnapshot;try{n(t(e._source));var r=us(y);i.mutableReadLanes|=r&i.pendingLanes}catch(t){n((function(){throw t}))}}))}),[e,r]),or(d,n)&&or(v,e)&&or(h,r)||((t={pending:null,dispatch:null,lastRenderedReducer:ou,lastRenderedState:f}).dispatch=l=Tu.bind(null,Qo,t),c.queue=t,c.baseQueue=null,f=su(i,e,n),c.memoizedState=c.baseState=f),f}function lu(t,e,n){return cu(iu(),t,e,n)}function fu(t){var e=ru();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ou,lastRenderedState:t}).dispatch=Tu.bind(null,Qo,t),[e.memoizedState,t]}function hu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Qo.updateQueue)?(e={lastEffect:null},Qo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function pu(t){return t={current:t},ru().memoizedState=t}function du(){return iu().memoizedState}function vu(t,e,n,r){var i=ru();Qo.flags|=t,i.memoizedState=hu(1|e,n,void 0,void 0===r?null:r)}function yu(t,e,n,r){var i=iu();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var u=Jo.memoizedState;if(o=u.destroy,null!==r&&eu(r,u.deps))return void hu(e,n,o,r)}Qo.flags|=t,i.memoizedState=hu(1|e,n,o,r)}function mu(t,e){return vu(516,4,t,e)}function gu(t,e){return yu(516,4,t,e)}function bu(t,e){return yu(4,2,t,e)}function wu(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Eu(t,e,n){return n=null!=n?n.concat([t]):null,yu(4,2,wu.bind(null,e,t),n)}function _u(){}function Su(t,e){var n=iu();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&eu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Iu(t,e){var n=iu();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&eu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ku(t,e){var n=Ui();zi(98>n?98:n,(function(){t(!0)})),zi(97<n?97:n,(function(){var n=Wo.transition;Wo.transition=1;try{t(!1),e()}finally{Wo.transition=n}}))}function Tu(t,e,n){var r=os(),i=us(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},u=e.pending;if(null===u?o.next=o:(o.next=u.next,u.next=o),e.pending=o,u=t.alternate,t===Qo||null!==u&&u===Qo)Zo=Yo=!0;else{if(0===t.lanes&&(null===u||0===u.lanes)&&null!==(u=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=u(a,n);if(o.eagerReducer=u,o.eagerState=s,or(s,a))return}catch(t){}as(t,i,r)}}var xu={readContext:eo,useCallback:tu,useContext:tu,useEffect:tu,useImperativeHandle:tu,useLayoutEffect:tu,useMemo:tu,useReducer:tu,useRef:tu,useState:tu,useDebugValue:tu,useDeferredValue:tu,useTransition:tu,useMutableSource:tu,useOpaqueIdentifier:tu,unstable_isNewReconciler:!1},Nu={readContext:eo,useCallback:function(t,e){return ru().memoizedState=[t,void 0===e?null:e],t},useContext:eo,useEffect:mu,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,vu(4,2,wu.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vu(4,2,t,e)},useMemo:function(t,e){var n=ru();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ru();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Tu.bind(null,Qo,t),[r.memoizedState,t]},useRef:pu,useState:fu,useDebugValue:_u,useDeferredValue:function(t){var e=fu(t),n=e[0],r=e[1];return mu((function(){var e=Wo.transition;Wo.transition=1;try{r(t)}finally{Wo.transition=e}}),[t]),n},useTransition:function(){var t=fu(!1),e=t[0];return pu(t=ku.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=ru();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},cu(r,t,e,n)},useOpaqueIdentifier:function(){if(jo){var t=!1,e=function(t){return{$$typeof:R,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Kr++).toString(36))),Error(u(355))})),n=fu(e)[1];return 0==(2&Qo.mode)&&(Qo.flags|=516,hu(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),e}return fu(e="r:"+(Kr++).toString(36)),e},unstable_isNewReconciler:!1},Ou={readContext:eo,useCallback:Su,useContext:eo,useEffect:gu,useImperativeHandle:Eu,useLayoutEffect:bu,useMemo:Iu,useReducer:uu,useRef:du,useState:function(){return uu(ou)},useDebugValue:_u,useDeferredValue:function(t){var e=uu(ou),n=e[0],r=e[1];return gu((function(){var e=Wo.transition;Wo.transition=1;try{r(t)}finally{Wo.transition=e}}),[t]),n},useTransition:function(){var t=uu(ou)[0];return[du().current,t]},useMutableSource:lu,useOpaqueIdentifier:function(){return uu(ou)[0]},unstable_isNewReconciler:!1},Cu={readContext:eo,useCallback:Su,useContext:eo,useEffect:gu,useImperativeHandle:Eu,useLayoutEffect:bu,useMemo:Iu,useReducer:au,useRef:du,useState:function(){return au(ou)},useDebugValue:_u,useDeferredValue:function(t){var e=au(ou),n=e[0],r=e[1];return gu((function(){var e=Wo.transition;Wo.transition=1;try{r(t)}finally{Wo.transition=e}}),[t]),n},useTransition:function(){var t=au(ou)[0];return[du().current,t]},useMutableSource:lu,useOpaqueIdentifier:function(){return au(ou)[0]},unstable_isNewReconciler:!1},Au=E.ReactCurrentOwner,Pu=!1;function Lu(t,e,n,r){e.child=null===t?So(e,null,n,r):_o(e,t.child,n,r)}function Du(t,e,n,r,i){n=n.render;var o=e.ref;return to(e,i),r=nu(t,e,n,r,o,i),null===t||Pu?(e.flags|=1,Lu(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Yu(t,e,i))}function Ru(t,e,n,r,i,o){if(null===t){var u=n.type;return"function"!=typeof u||Ms(u)||void 0!==u.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Fs(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=u,Mu(t,e,u,r,i,o))}return u=t.child,0==(i&o)&&(i=u.memoizedProps,(n=null!==(n=n.compare)?n:ar)(i,r)&&t.ref===e.ref)?Yu(t,e,o):(e.flags|=1,(t=js(u,r)).ref=e.ref,t.return=e,e.child=t)}function Mu(t,e,n,r,i,o){if(null!==t&&ar(t.memoizedProps,r)&&t.ref===e.ref){if(Pu=!1,0==(o&i))return e.lanes=t.lanes,Yu(t,e,o);0!=(16384&t.flags)&&(Pu=!0)}return Uu(t,e,n,r,o)}function ju(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&e.mode))e.memoizedState={baseLanes:0},ps(0,n);else{if(0==(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},ps(0,t),null;e.memoizedState={baseLanes:0},ps(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,ps(0,r);return Lu(t,e,i,n),e.child}function Fu(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Uu(t,e,n,r,i){var o=hi(n)?li:si.current;return o=fi(e,o),to(e,i),n=nu(t,e,n,r,o,i),null===t||Pu?(e.flags|=1,Lu(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Yu(t,e,i))}function Vu(t,e,n,r,i){if(hi(n)){var o=!0;yi(e)}else o=!1;if(to(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),vo(e,n,r),mo(e,n,r,i),r=!0;else if(null===t){var u=e.stateNode,a=e.memoizedProps;u.props=a;var s=u.context,c=n.contextType;c="object"==typeof c&&null!==c?eo(c):fi(e,c=hi(n)?li:si.current);var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof u.getSnapshotBeforeUpdate;f||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(a!==r||s!==c)&&yo(e,u,r,c),no=!1;var h=e.memoizedState;u.state=h,so(e,r,u,i),s=e.memoizedState,a!==r||h!==s||ci.current||no?("function"==typeof l&&(fo(e,n,l,r),s=e.memoizedState),(a=no||po(e,n,a,r,h,s,c))?(f||"function"!=typeof u.UNSAFE_componentWillMount&&"function"!=typeof u.componentWillMount||("function"==typeof u.componentWillMount&&u.componentWillMount(),"function"==typeof u.UNSAFE_componentWillMount&&u.UNSAFE_componentWillMount()),"function"==typeof u.componentDidMount&&(e.flags|=4)):("function"==typeof u.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=s),u.props=r,u.state=s,u.context=c,r=a):("function"==typeof u.componentDidMount&&(e.flags|=4),r=!1)}else{u=e.stateNode,io(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gi(e.type,a),u.props=c,f=e.pendingProps,h=u.context,s="object"==typeof(s=n.contextType)&&null!==s?eo(s):fi(e,s=hi(n)?li:si.current);var p=n.getDerivedStateFromProps;(l="function"==typeof p||"function"==typeof u.getSnapshotBeforeUpdate)||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(a!==f||h!==s)&&yo(e,u,r,s),no=!1,h=e.memoizedState,u.state=h,so(e,r,u,i);var d=e.memoizedState;a!==f||h!==d||ci.current||no?("function"==typeof p&&(fo(e,n,p,r),d=e.memoizedState),(c=no||po(e,n,c,r,h,d,s))?(l||"function"!=typeof u.UNSAFE_componentWillUpdate&&"function"!=typeof u.componentWillUpdate||("function"==typeof u.componentWillUpdate&&u.componentWillUpdate(r,d,s),"function"==typeof u.UNSAFE_componentWillUpdate&&u.UNSAFE_componentWillUpdate(r,d,s)),"function"==typeof u.componentDidUpdate&&(e.flags|=4),"function"==typeof u.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!=typeof u.componentDidUpdate||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!=typeof u.getSnapshotBeforeUpdate||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=d),u.props=r,u.state=d,u.context=s,r=c):("function"!=typeof u.componentDidUpdate||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!=typeof u.getSnapshotBeforeUpdate||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),r=!1)}return zu(t,e,n,r,o,i)}function zu(t,e,n,r,i,o){Fu(t,e);var u=0!=(64&e.flags);if(!r&&!u)return i&&mi(e,n,!1),Yu(t,e,o);r=e.stateNode,Au.current=e;var a=u&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&u?(e.child=_o(e,t.child,null,o),e.child=_o(e,null,a,o)):Lu(t,e,a,o),e.memoizedState=r.state,i&&mi(e,n,!0),e.child}function qu(t){var e=t.stateNode;e.pendingContext?di(0,e.pendingContext,e.pendingContext!==e.context):e.context&&di(0,e.context,!1),Oo(t,e.containerInfo)}var Bu,Hu,Ku,Gu={dehydrated:null,retryLane:0};function Wu(t,e,n){var r,i=e.pendingProps,o=Lo.current,u=!1;return(r=0!=(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!=(2&o)),r?(u=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(Lo,1&o),null===t?(void 0!==i.fallback&&Vo(e),t=i.children,o=i.fallback,u?(t=$u(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Gu,t):"number"==typeof i.unstable_expectedLoadTime?(t=$u(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Gu,e.lanes=33554432,t):((n=Vs({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,u?(i=function(t,e,n,r,i){var o=e.mode,u=t.child;t=u.sibling;var a={mode:"hidden",children:n};return 0==(2&o)&&e.child!==u?((n=e.child).childLanes=0,n.pendingProps=a,null!==(u=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=u,u.nextEffect=null):e.firstEffect=e.lastEffect=null):n=js(u,a),null!==t?r=js(t,r):(r=Us(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}(t,e,i.children,i.fallback,n),u=e.child,o=t.child.memoizedState,u.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},u.childLanes=t.childLanes&~n,e.memoizedState=Gu,i):(n=function(t,e,n,r){var i=t.child;return t=i.sibling,n=js(i,{mode:"visible",children:n}),0==(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}(t,e,i.children,n),e.memoizedState=null,n))}function $u(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Vs(e,i,0,null),n=Us(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function Qu(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),Zi(t.return,e)}function Ju(t,e,n,r,i,o){var u=t.memoizedState;null===u?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailMode=i,u.lastEffect=o)}function Xu(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Lu(t,e,r.children,n),0!=(2&(r=Lo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!=(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Qu(t,n);else if(19===t.tag)Qu(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ui(Lo,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Do(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ju(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Do(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ju(e,!0,n,null,o,e.lastEffect);break;case"together":Ju(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Yu(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Da|=e.lanes,0!=(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(u(153));if(null!==e.child){for(n=js(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=js(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function Zu(t,e){if(!jo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ta(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return hi(e.type)&&pi(),null;case 3:return Co(),oi(ci),oi(si),Ko(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(qo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Po(e);var o=No(xo.current);if(n=e.type,null!==t&&null!=e.stateNode)Hu(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(u(166));return null}if(t=No(ko.current),qo(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Wr]=e,r[$r]=a,n){case"dialog":kr("cancel",r),kr("close",r);break;case"iframe":case"object":case"embed":kr("load",r);break;case"video":case"audio":for(t=0;t<Er.length;t++)kr(Er[t],r);break;case"source":kr("error",r);break;case"img":case"image":case"link":kr("error",r),kr("load",r);break;case"details":kr("toggle",r);break;case"input":tt(r,a),kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},kr("invalid",r);break;case"textarea":st(r,a),kr("invalid",r)}for(var c in St(n,a),t=null,a)a.hasOwnProperty(c)&&(o=a[c],"children"===c?"string"==typeof o?r.textContent!==o&&(t=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(t=["children",""+o]):s.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&kr("scroll",r));switch(n){case"input":J(r),rt(r,a,!0);break;case"textarea":J(r),lt(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Rr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,t===ft&&(t=ht(n)),t===ft?"script"===n?((t=c.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),"select"===n&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[Wr]=e,t[$r]=r,Bu(t,e),e.stateNode=t,c=It(n,r),n){case"dialog":kr("cancel",t),kr("close",t),o=r;break;case"iframe":case"object":case"embed":kr("load",t),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)kr(Er[o],t);o=r;break;case"source":kr("error",t),o=r;break;case"img":case"image":case"link":kr("error",t),kr("load",t),o=r;break;case"details":kr("toggle",t),o=r;break;case"input":tt(t,r),o=Z(t,r),kr("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),kr("invalid",t);break;case"textarea":st(t,r),o=at(t,r),kr("invalid",t);break;default:o=r}St(n,o);var l=o;for(a in l)if(l.hasOwnProperty(a)){var f=l[a];"style"===a?Et(t,f):"dangerouslySetInnerHTML"===a?null!=(f=f?f.__html:void 0)&&yt(t,f):"children"===a?"string"==typeof f?("textarea"!==n||""!==f)&&mt(t,f):"number"==typeof f&&mt(t,""+f):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=f&&"onScroll"===a&&kr("scroll",t):null!=f&&w(t,a,f,c))}switch(n){case"input":J(t),rt(t,r,!1);break;case"textarea":J(t),lt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+$(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?ut(t,!!r.multiple,a,!1):null!=r.defaultValue&&ut(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(t.onclick=Rr)}Fr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Ku(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(u(166));n=No(xo.current),No(ko.current),qo(e)?(r=e.stateNode,n=e.memoizedProps,r[Wr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Wr]=e,e.stateNode=r)}return null;case 13:return oi(Lo),r=e.memoizedState,0!=(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&qo(e):n=null!==t.memoizedState,r&&!n&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Lo.current)?0===Aa&&(Aa=3):(0!==Aa&&3!==Aa||(Aa=4),null===Ta||0==(134217727&Da)&&0==(134217727&Ra)||fs(Ta,Na))),(r||n)&&(e.flags|=4),null);case 4:return Co(),null===t&&xr(e.stateNode.containerInfo),null;case 10:return Yi(e),null;case 17:return hi(e.type)&&pi(),null;case 19:if(oi(Lo),null===(r=e.memoizedState))return null;if(a=0!=(64&e.flags),null===(c=r.rendering))if(a)Zu(r,!1);else{if(0!==Aa||null!==t&&0!=(64&t.flags))for(t=e.child;null!==t;){if(null!==(c=Do(t))){for(e.flags|=64,Zu(r,!1),null!==(a=c.updateQueue)&&(e.updateQueue=a,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,t=c.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ui(Lo,1&Lo.current|2),e.child}t=t.sibling}null!==r.tail&&Fi()>Ua&&(e.flags|=64,a=!0,Zu(r,!1),e.lanes=33554432)}else{if(!a)if(null!==(t=Do(c))){if(e.flags|=64,a=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Zu(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!jo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Fi()-r.renderingStartTime>Ua&&1073741824!==n&&(e.flags|=64,a=!0,Zu(r,!1),e.lanes=33554432);r.isBackwards?(c.sibling=e.child,e.child=c):(null!==(n=r.last)?n.sibling=c:e.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Fi(),n.sibling=null,e=Lo.current,ui(Lo,a?1&e|2:1&e),n):null;case 23:case 24:return ds(),null!==t&&null!==t.memoizedState!=(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(u(156,e.tag))}function ea(t){switch(t.tag){case 1:hi(t.type)&&pi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Co(),oi(ci),oi(si),Ko(),0!=(64&(e=t.flags)))throw Error(u(285));return t.flags=-4097&e|64,t;case 5:return Po(t),null;case 13:return oi(Lo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return oi(Lo),null;case 4:return Co(),null;case 10:return Yi(t),null;case 23:case 24:return ds(),null;default:return null}}function na(t,e){try{var n="",r=e;do{n+=G(r),r=r.return}while(r);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i}}function ra(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}Bu=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Hu=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,No(ko.current);var u,a=null;switch(n){case"input":o=Z(t,o),r=Z(t,r),a=[];break;case"option":o=ot(t,o),r=ot(t,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=at(t,o),r=at(t,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(t.onclick=Rr)}for(f in St(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(u in c)c.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(a||(a=[]),a.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(f,l)):"children"===f?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&kr("scroll",t),a||c===l||(a=[])):"object"==typeof l&&null!==l&&l.$$typeof===R?l.toString():(a=a||[]).push(f,l))}n&&(a=a||[]).push("style",n);var f=a;(e.updateQueue=f)&&(e.flags|=4)}},Ku=function(t,e,n,r){n!==r&&(e.flags|=4)};var ia="function"==typeof WeakMap?WeakMap:Map;function oa(t,e,n){(n=oo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ba||(Ba=!0,Ha=r),ra(0,e)},n}function ua(t,e,n){(n=oo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return ra(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ka?Ka=new Set([this]):Ka.add(this),ra(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var aa="function"==typeof WeakSet?WeakSet:Set;function sa(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){As(t,e)}else e.current=null}function ca(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Gi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&qr(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(u(163))}function la(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3==(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ns(n,t),xs(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Gi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&co(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}co(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Fr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&we(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(u(163))}function fa(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=wt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ha(t,e){if(bi&&"function"==typeof bi.onCommitFiberUnmount)try{bi.onCommitFiberUnmount(gi,e)}catch(t){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ns(e,n);else{r=e;try{i()}catch(t){As(r,t)}}n=n.next}while(n!==t)}break;case 1:if(sa(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){As(e,t)}break;case 5:sa(e);break;case 4:ga(t,e)}}function pa(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function da(t){return 5===t.tag||3===t.tag||4===t.tag}function va(t){t:{for(var e=t.return;null!==e;){if(da(e))break t;e=e.return}throw Error(u(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(u(161))}16&n.flags&&(mt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||da(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?ya(t,n,e):ma(t,n,e)}function ya(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Rr));else if(4!==r&&null!==(t=t.child))for(ya(t,e,n),t=t.sibling;null!==t;)ya(t,e,n),t=t.sibling}function ma(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(ma(t,e,n),t=t.sibling;null!==t;)ma(t,e,n),t=t.sibling}function ga(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(u(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var a=t,s=i,c=s;;)if(ha(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break t;for(;null===c.sibling;){if(null===c.return||c.return===s)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,s=i.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ha(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ba(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[$r]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),It(t,i),e=It(t,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?Et(n,s):"dangerouslySetInnerHTML"===a?yt(n,s):"children"===a?mt(n,s):w(n,a,s,e)}switch(t){case"input":nt(n,r);break;case"textarea":ct(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ut(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?ut(n,!!r.multiple,r.defaultValue,!0):ut(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(u(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(Fa=Fi(),fa(e.child,!0)),void wa(e);case 19:return void wa(e);case 17:return;case 23:case 24:return void fa(e,null!==e.memoizedState)}throw Error(u(163))}function wa(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new aa),e.forEach((function(e){var r=Ls.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Ea(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&null!==(e=e.memoizedState)&&null===e.dehydrated}var _a=Math.ceil,Sa=E.ReactCurrentDispatcher,Ia=E.ReactCurrentOwner,ka=0,Ta=null,xa=null,Na=0,Oa=0,Ca=ii(0),Aa=0,Pa=null,La=0,Da=0,Ra=0,Ma=0,ja=null,Fa=0,Ua=1/0;function Va(){Ua=Fi()+500}var za,qa=null,Ba=!1,Ha=null,Ka=null,Ga=!1,Wa=null,$a=90,Qa=[],Ja=[],Xa=null,Ya=0,Za=null,ts=-1,es=0,ns=0,rs=null,is=!1;function os(){return 0!=(48&ka)?Fi():-1!==ts?ts:ts=Fi()}function us(t){if(0==(2&(t=t.mode)))return 1;if(0==(4&t))return 99===Ui()?1:2;if(0===es&&(es=La),0!==Ki.transition){0!==ns&&(ns=null!==ja?ja.pendingLanes:0),t=es;var e=4186112&~ns;return 0==(e&=-e)&&0==(e=(t=4186112&~t)&-t)&&(e=8192),e}return t=Ui(),t=Fe(0!=(4&ka)&&98===t?12:t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),es)}function as(t,e,n){if(50<Ya)throw Ya=0,Za=null,Error(u(185));if(null===(t=ss(t,e)))return null;ze(t,e,n),t===Ta&&(Ra|=e,4===Aa&&fs(t,Na));var r=Ui();1===e?0!=(8&ka)&&0==(48&ka)?hs(t):(cs(t,n),0===ka&&(Va(),Bi())):(0==(4&ka)||98!==r&&99!==r||(null===Xa?Xa=new Set([t]):Xa.add(t)),cs(t,n)),ja=t}function ss(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function cs(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-qe(a),c=1<<s,l=o[s];if(-1===l){if(0==(c&r)||0!=(c&i)){l=e,Re(c);var f=De;o[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);a&=~c}if(r=Me(t,t===Ta?Na:0),e=De,0===r)null!==n&&(n!==Pi&&_i(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Pi&&_i(n)}15===e?(n=hs.bind(null,t),null===Di?(Di=[n],Ri=Ei(xi,Hi)):Di.push(n),n=Pi):n=14===e?qi(99,hs.bind(null,t)):qi(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(u(358,t))}}(e),ls.bind(null,t)),t.callbackPriority=e,t.callbackNode=n}}function ls(t){if(ts=-1,ns=es=0,0!=(48&ka))throw Error(u(327));var e=t.callbackNode;if(Ts()&&t.callbackNode!==e)return null;var n=Me(t,t===Ta?Na:0);if(0===n)return null;var r=n,i=ka;ka|=16;var o=ms();for(Ta===t&&Na===r||(Va(),vs(t,r));;)try{ws();break}catch(e){ys(t,e)}if(Xi(),Sa.current=o,ka=i,null!==xa?r=0:(Ta=null,Na=0,r=Aa),0!=(La&Ra))vs(t,0);else if(0!==r){if(2===r&&(ka|=64,t.hydrate&&(t.hydrate=!1,qr(t.containerInfo)),0!==(n=je(t))&&(r=gs(t,n))),1===r)throw e=Pa,vs(t,0),fs(t,n),cs(t,Fi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(u(345));case 2:Ss(t);break;case 3:if(fs(t,n),(62914560&n)===n&&10<(r=Fa+500-Fi())){if(0!==Me(t,0))break;if(((i=t.suspendedLanes)&n)!==n){os(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vr(Ss.bind(null,t),r);break}Ss(t);break;case 4:if(fs(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var a=31-qe(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Fi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_a(n/1960))-n)){t.timeoutHandle=Vr(Ss.bind(null,t),n);break}Ss(t);break;case 5:Ss(t);break;default:throw Error(u(329))}}return cs(t,Fi()),t.callbackNode===e?ls.bind(null,t):null}function fs(t,e){for(e&=~Ma,e&=~Ra,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qe(e),r=1<<n;t[n]=-1,e&=~r}}function hs(t){if(0!=(48&ka))throw Error(u(327));if(Ts(),t===Ta&&0!=(t.expiredLanes&Na)){var e=Na,n=gs(t,e);0!=(La&Ra)&&(n=gs(t,e=Me(t,e)))}else n=gs(t,e=Me(t,0));if(0!==t.tag&&2===n&&(ka|=64,t.hydrate&&(t.hydrate=!1,qr(t.containerInfo)),0!==(e=je(t))&&(n=gs(t,e))),1===n)throw n=Pa,vs(t,0),fs(t,e),cs(t,Fi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ss(t),cs(t,Fi()),null}function ps(t,e){ui(Ca,Oa),Oa|=e,La|=e}function ds(){Oa=Ca.current,oi(Ca)}function vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,zr(n)),null!==xa)for(n=xa.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:Co(),oi(ci),oi(si),Ko();break;case 5:Po(r);break;case 4:Co();break;case 13:case 19:oi(Lo);break;case 10:Yi(r);break;case 23:case 24:ds()}n=n.return}Ta=t,xa=js(t.current,null),Na=Oa=La=e,Aa=0,Pa=null,Ma=Ra=Da=0}function ys(t,e){for(;;){var n=xa;try{if(Xi(),Go.current=xu,Yo){for(var r=Qo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Yo=!1}if($o=0,Xo=Jo=Qo=null,Zo=!1,Ia.current=null,null===n||null===n.return){Aa=1,Pa=e,xa=null;break}t:{var o=t,u=n.return,a=n,s=e;if(e=Na,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var c=s;if(0==(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.lanes=l.lanes):(a.updateQueue=null,a.memoizedState=null)}var f=0!=(1&Lo.current),h=u;do{var p;if(p=13===h.tag){var d=h.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var v=h.memoizedProps;p=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(p){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0==(2&h.mode)){if(h.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=oo(-1,1);g.tag=2,uo(a,g)}a.lanes|=1;break t}s=void 0,a=e;var b=o.pingCache;if(null===b?(b=o.pingCache=new ia,s=new Set,b.set(c,s)):void 0===(s=b.get(c))&&(s=new Set,b.set(c,s)),!s.has(a)){s.add(a);var w=Ps.bind(null,o,c,a);c.then(w,w)}h.flags|=4096,h.lanes=e;break t}h=h.return}while(null!==h);s=Error((W(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Aa&&(Aa=2),s=na(s,a),h=u;do{switch(h.tag){case 3:o=s,h.flags|=4096,e&=-e,h.lanes|=e,ao(h,oa(0,o,e));break t;case 1:o=s;var E=h.type,_=h.stateNode;if(0==(64&h.flags)&&("function"==typeof E.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Ka||!Ka.has(_)))){h.flags|=4096,e&=-e,h.lanes|=e,ao(h,ua(h,o,e));break t}}h=h.return}while(null!==h)}_s(n)}catch(t){e=t,xa===n&&null!==n&&(xa=n=n.return);continue}break}}function ms(){var t=Sa.current;return Sa.current=xu,null===t?xu:t}function gs(t,e){var n=ka;ka|=16;var r=ms();for(Ta===t&&Na===e||vs(t,e);;)try{bs();break}catch(e){ys(t,e)}if(Xi(),ka=n,Sa.current=r,null!==xa)throw Error(u(261));return Ta=null,Na=0,Aa}function bs(){for(;null!==xa;)Es(xa)}function ws(){for(;null!==xa&&!Si();)Es(xa)}function Es(t){var e=za(t.alternate,t,Oa);t.memoizedProps=t.pendingProps,null===e?_s(t):xa=e,Ia.current=null}function _s(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(2048&e.flags)){if(null!==(n=ta(n,e,Oa)))return void(xa=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Oa)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0==(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=ea(e)))return n.flags&=2047,void(xa=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(xa=e);xa=e=t}while(null!==e);0===Aa&&(Aa=5)}function Ss(t){var e=Ui();return zi(99,Is.bind(null,t,e)),null}function Is(t,e){do{Ts()}while(null!==Wa);if(0!=(48&ka))throw Error(u(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(u(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var a=t.eventTimes,s=t.expirationTimes;0<o;){var c=31-qe(o),l=1<<c;i[c]=0,a[c]=-1,s[c]=-1,o&=~l}if(null!==Xa&&0==(24&r)&&Xa.has(t)&&Xa.delete(t),t===Ta&&(xa=Ta=null,Na=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=ka,ka|=32,Ia.current=null,Mr=We,hr(a=fr())){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else t:if(s=(s=a.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(t){s=null;break t}var f=0,h=-1,p=-1,d=0,v=0,y=a,m=null;e:for(;;){for(var g;y!==s||0!==o&&3!==y.nodeType||(h=f+o),y!==c||0!==l&&3!==y.nodeType||(p=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===a)break e;if(m===s&&++d===o&&(h=f),m===c&&++v===l&&(p=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===p?null:{start:h,end:p}}else s=null;s=s||{start:0,end:0}}else s=null;jr={focusedElem:a,selectionRange:s},We=!1,rs=null,is=!1,qa=r;do{try{ks()}catch(t){if(null===qa)throw Error(u(330));As(qa,t),qa=qa.nextEffect}}while(null!==qa);rs=null,qa=r;do{try{for(a=t;null!==qa;){var b=qa.flags;if(16&b&&mt(qa.stateNode,""),128&b){var w=qa.alternate;if(null!==w){var E=w.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&b){case 2:va(qa),qa.flags&=-3;break;case 6:va(qa),qa.flags&=-3,ba(qa.alternate,qa);break;case 1024:qa.flags&=-1025;break;case 1028:qa.flags&=-1025,ba(qa.alternate,qa);break;case 4:ba(qa.alternate,qa);break;case 8:ga(a,s=qa);var _=s.alternate;pa(s),null!==_&&pa(_)}qa=qa.nextEffect}}catch(t){if(null===qa)throw Error(u(330));As(qa,t),qa=qa.nextEffect}}while(null!==qa);if(E=jr,w=fr(),b=E.focusedElem,a=E.selectionRange,w!==b&&b&&b.ownerDocument&&lr(b.ownerDocument.documentElement,b)){null!==a&&hr(b)&&(w=a.start,void 0===(E=a.end)&&(E=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(E,b.value.length)):(E=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),s=b.textContent.length,_=Math.min(a.start,s),a=void 0===a.end?_:Math.min(a.end,s),!E.extend&&_>a&&(s=a,a=_,_=s),s=cr(b,_),o=cr(b,a),s&&o&&(1!==E.rangeCount||E.anchorNode!==s.node||E.anchorOffset!==s.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((w=w.createRange()).setStart(s.node,s.offset),E.removeAllRanges(),_>a?(E.addRange(w),E.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),E.addRange(w))))),w=[];for(E=b;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(E=w[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}We=!!Mr,jr=Mr=null,t.current=n,qa=r;do{try{for(b=t;null!==qa;){var S=qa.flags;if(36&S&&la(b,qa.alternate,qa),128&S){w=void 0;var I=qa.ref;if(null!==I){var k=qa.stateNode;switch(qa.tag){case 5:w=k;break;default:w=k}"function"==typeof I?I(w):I.current=w}}qa=qa.nextEffect}}catch(t){if(null===qa)throw Error(u(330));As(qa,t),qa=qa.nextEffect}}while(null!==qa);qa=null,Li(),ka=i}else t.current=n;if(Ga)Ga=!1,Wa=t,$a=e;else for(qa=r;null!==qa;)e=qa.nextEffect,qa.nextEffect=null,8&qa.flags&&((S=qa).sibling=null,S.stateNode=null),qa=e;if(0===(r=t.pendingLanes)&&(Ka=null),1===r?t===Za?Ya++:(Ya=0,Za=t):Ya=0,n=n.stateNode,bi&&"function"==typeof bi.onCommitFiberRoot)try{bi.onCommitFiberRoot(gi,n,void 0,64==(64&n.current.flags))}catch(t){}if(cs(t,Fi()),Ba)throw Ba=!1,t=Ha,Ha=null,t;return 0!=(8&ka)||Bi(),null}function ks(){for(;null!==qa;){var t=qa.alternate;is||null===rs||(0!=(8&qa.flags)?Yt(qa,rs)&&(is=!0):13===qa.tag&&Ea(t,qa)&&Yt(qa,rs)&&(is=!0));var e=qa.flags;0!=(256&e)&&ca(t,qa),0==(512&e)||Ga||(Ga=!0,qi(97,(function(){return Ts(),null}))),qa=qa.nextEffect}}function Ts(){if(90!==$a){var t=97<$a?97:$a;return $a=90,zi(t,Os)}return!1}function xs(t,e){Qa.push(e,t),Ga||(Ga=!0,qi(97,(function(){return Ts(),null})))}function Ns(t,e){Ja.push(e,t),Ga||(Ga=!0,qi(97,(function(){return Ts(),null})))}function Os(){if(null===Wa)return!1;var t=Wa;if(Wa=null,0!=(48&ka))throw Error(u(331));var e=ka;ka|=32;var n=Ja;Ja=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(t){if(null===o)throw Error(u(330));As(o,t)}}for(n=Qa,Qa=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(t){if(null===o)throw Error(u(330));As(o,t)}}for(s=t.current.firstEffect;null!==s;)t=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=t;return ka=e,Bi(),!0}function Cs(t,e,n){uo(t,e=oa(0,e=na(n,e),1)),e=os(),null!==(t=ss(t,1))&&(ze(t,1,e),cs(t,e))}function As(t,e){if(3===t.tag)Cs(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Cs(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ka||!Ka.has(r))){var i=ua(n,t=na(e,t),1);if(uo(n,i),i=os(),null!==(n=ss(n,1)))ze(n,1,i),cs(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ka||!Ka.has(r)))try{r.componentDidCatch(e,t)}catch(t){}break}}n=n.return}}function Ps(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=os(),t.pingedLanes|=t.suspendedLanes&n,Ta===t&&(Na&n)===n&&(4===Aa||3===Aa&&(62914560&Na)===Na&&500>Fi()-Fa?vs(t,0):Ma|=n),cs(t,e)}function Ls(t,e){var n=t.stateNode;null!==n&&n.delete(e),0==(e=0)&&(0==(2&(e=t.mode))?e=1:0==(4&e)?e=99===Ui()?1:2:(0===es&&(es=La),0===(e=Ue(62914560&~es))&&(e=4194304))),n=os(),null!==(t=ss(t,e))&&(ze(t,e,n),cs(t,n))}function Ds(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(t,e,n,r){return new Ds(t,e,n,r)}function Ms(t){return!(!(t=t.prototype)||!t.isReactComponent)}function js(t,e){var n=t.alternate;return null===n?((n=Rs(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fs(t,e,n,r,i,o){var a=2;if(r=t,"function"==typeof t)Ms(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case I:return Us(n.children,i,o,e);case M:a=8,i|=16;break;case k:a=8,i|=1;break;case T:return(t=Rs(12,n,e,8|i)).elementType=T,t.type=T,t.lanes=o,t;case C:return(t=Rs(13,n,e,i)).type=C,t.elementType=C,t.lanes=o,t;case A:return(t=Rs(19,n,e,i)).elementType=A,t.lanes=o,t;case j:return Vs(n,i,o,e);case F:return(t=Rs(24,n,e,i)).elementType=F,t.lanes=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case x:a=10;break t;case N:a=9;break t;case O:a=11;break t;case P:a=14;break t;case L:a=16,r=null;break t;case D:a=22;break t}throw Error(u(130,null==t?t:typeof t,""))}return(e=Rs(a,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Us(t,e,n,r){return(t=Rs(7,t,r,e)).lanes=n,t}function Vs(t,e,n,r){return(t=Rs(23,t,r,e)).elementType=j,t.lanes=n,t}function zs(t,e,n){return(t=Rs(6,t,null,e)).lanes=n,t}function qs(t,e,n){return(e=Rs(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bs(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ve(0),this.expirationTimes=Ve(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ve(0),this.mutableSourceEagerHydrationData=null}function Hs(t,e,n,r){var i=e.current,o=os(),a=us(i);t:if(n){e:{if(Qt(n=n._reactInternals)!==n||1!==n.tag)throw Error(u(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(hi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);throw Error(u(171))}if(1===n.tag){var c=n.type;if(hi(c)){n=vi(n,c,s);break t}}n=s}else n=ai;return null===e.context?e.context=n:e.pendingContext=n,(e=oo(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),uo(i,e),as(i,a,o),a}function Ks(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Gs(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Ws(t,e){Gs(t,e),(t=t.alternate)&&Gs(t,e)}function $s(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Bs(t,e,null!=n&&!0===n.hydrate),e=Rs(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,ro(e),t[Qr]=n.current,xr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function Qs(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Js(t,e,n,r,i){var o=n._reactRootContainer;if(o){var u=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var t=Ks(u);a.call(t)}}Hs(e,u,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new $s(t,0,e?{hydrate:!0}:void 0)}(n,r),u=o._internalRoot,"function"==typeof i){var s=i;i=function(){var t=Ks(u);s.call(t)}}!function(t,e){var n=ka;ka&=-2,ka|=8;try{t(e)}finally{0===(ka=n)&&(Va(),Bi())}}((function(){Hs(e,u,t,i)}))}return Ks(u)}za=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||ci.current)Pu=!0;else{if(0==(n&r)){switch(Pu=!1,e.tag){case 3:qu(e),Bo();break;case 5:Ao(e);break;case 1:hi(e.type)&&yi(e);break;case 4:Oo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ui(Wi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!=(n&e.child.childLanes)?Wu(t,e,n):(ui(Lo,1&Lo.current),null!==(e=Yu(t,e,n))?e.sibling:null);ui(Lo,1&Lo.current);break;case 19:if(r=0!=(n&e.childLanes),0!=(64&t.flags)){if(r)return Xu(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Lo,Lo.current),r)break;return null;case 23:case 24:return e.lanes=0,ju(t,e,n)}return Yu(t,e,n)}Pu=0!=(16384&t.flags)}else Pu=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=fi(e,si.current),to(e,n),i=nu(null,e,r,t,i,n),e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,hi(r)){var o=!0;yi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ro(e);var a=r.getDerivedStateFromProps;"function"==typeof a&&fo(e,r,a,t),i.updater=ho,e.stateNode=i,i._reactInternals=e,mo(e,r,t,n),e=zu(null,e,r,!0,o,n)}else e.tag=0,Lu(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"==typeof t)return Ms(t)?1:0;if(null!=t){if((t=t.$$typeof)===O)return 11;if(t===P)return 14}return 2}(i),t=Gi(i,t),o){case 0:e=Uu(null,e,i,t,n);break t;case 1:e=Vu(null,e,i,t,n);break t;case 11:e=Du(null,e,i,t,n);break t;case 14:e=Ru(null,e,i,Gi(i.type,t),r,n);break t}throw Error(u(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Uu(t,e,r,i=e.elementType===r?i:Gi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Vu(t,e,r,i=e.elementType===r?i:Gi(r,i),n);case 3:if(qu(e),r=e.updateQueue,null===t||null===r)throw Error(u(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,io(t,e),so(e,r,null,n),(r=e.memoizedState.element)===i)Bo(),e=Yu(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Mo=Br(e.stateNode.containerInfo.firstChild),Ro=e,o=jo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Ho.push(o);for(n=So(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Lu(t,e,r,n),Bo();e=e.child}return e;case 5:return Ao(e),null===t&&Vo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,Ur(r,i)?a=null:null!==o&&Ur(r,o)&&(e.flags|=16),Fu(t,e),Lu(t,e,a,n),e.child;case 6:return null===t&&Vo(e),null;case 13:return Wu(t,e,n);case 4:return Oo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=_o(e,null,r,n):Lu(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Du(t,e,r,i=e.elementType===r?i:Gi(r,i),n);case 7:return Lu(t,e,e.pendingProps,n),e.child;case 8:case 12:return Lu(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value;var s=e.type._context;if(ui(Wi,s._currentValue),s._currentValue=o,null!==a)if(s=a.value,0==(o=or(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(a.children===i.children&&!ci.current){e=Yu(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===s.tag&&((l=oo(-1,n&-n)).tag=2,uo(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Zi(s.return,n),c.lanes|=n;break}l=l.next}}else a=10===s.tag&&s.type===e.type?null:s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Lu(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,to(e,n),r=r(i=eo(i,o.unstable_observedBits)),e.flags|=1,Lu(t,e,r,n),e.child;case 14:return o=Gi(i=e.type,e.pendingProps),Ru(t,e,i,o=Gi(i.type,o),r,n);case 15:return Mu(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,hi(r)?(t=!0,yi(e)):t=!1,to(e,n),vo(e,r,i),mo(e,r,i,n),zu(null,e,r,!0,t,n);case 19:return Xu(t,e,n);case 23:case 24:return ju(t,e,n)}throw Error(u(156,e.tag))},$s.prototype.render=function(t){Hs(t,this._internalRoot,null,null)},$s.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Hs(null,t,null,(function(){e[Qr]=null}))},Zt=function(t){13===t.tag&&(as(t,4,os()),Ws(t,4))},te=function(t){13===t.tag&&(as(t,67108864,os()),Ws(t,67108864))},ee=function(t){if(13===t.tag){var e=os(),n=us(t);as(t,n,e),Ws(t,n)}},ne=function(t,e){return e()},Tt=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ti(r);if(!i)throw Error(u(90));X(r),nt(r,i)}}}break;case"textarea":ct(t,n);break;case"select":null!=(e=n.value)&&ut(t,!!n.multiple,e,!1)}},Pt=function(t,e){var n=ka;ka|=1;try{return t(e)}finally{0===(ka=n)&&(Va(),Bi())}},Lt=function(t,e,n,r,i){var o=ka;ka|=4;try{return zi(98,t.bind(null,e,n,r,i))}finally{0===(ka=o)&&(Va(),Bi())}},Dt=function(){0==(49&ka)&&(function(){if(null!==Xa){var t=Xa;Xa=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,cs(t,Fi())}))}Bi()}(),Ts())},Rt=function(t,e){var n=ka;ka|=2;try{return t(e)}finally{0===(ka=n)&&(Va(),Bi())}};var Xs={findFiberByHostInstance:Xr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},Ys={bundleType:Xs.bundleType,version:Xs.version,rendererPackageName:Xs.rendererPackageName,rendererConfig:Xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=function(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Qt(t)))throw Error(u(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xt(i),t;if(o===r)return Xt(i),e;o=o.sibling}throw Error(u(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(3!==n.tag)throw Error(u(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}(t))?null:t.stateNode},findFiberByHostInstance:Xs.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zs.isDisabled&&Zs.supportsFiber)try{gi=Zs.inject(Ys),bi=Zs}catch(vt){}}e.render=function(t,e,n){if(!Qs(e))throw Error(u(200));return Js(null,t,e,!1,n)}},3935:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(4448)},2408:(t,e,n)=>{"use strict";var r=n(7418),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var u=60109,a=60110,s=60112;e.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),e.Fragment=f("react.fragment"),e.StrictMode=f("react.strict_mode"),e.Profiler=f("react.profiler"),u=f("react.provider"),a=f("react.context"),s=f("react.forward_ref"),e.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}function m(){}function g(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},m.prototype=y.prototype;var b=g.prototype=new m;b.constructor=g,r(b,y.prototype),b.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var r,o={},u=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(u=""+e.key),e)E.call(e,r)&&!_.hasOwnProperty(r)&&(o[r]=e[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];o.children=c}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:i,type:t,key:u,ref:a,props:o,_owner:w.current}}function I(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var k=/\/+/g;function T(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function x(t,e,n,r,u){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var s=!1;if(null===t)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case i:case o:s=!0}}if(s)return u=u(s=t),t=""===r?"."+T(s,0):r,Array.isArray(u)?(n="",null!=t&&(n=t.replace(k,"$&/")+"/"),x(u,e,n,"",(function(t){return t}))):null!=u&&(I(u)&&(u=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(u,n+(!u.key||s&&s.key===u.key?"":(""+u.key).replace(k,"$&/")+"/")+t)),e.push(u)),1;if(s=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=r+T(a=t[c],c);s+=x(a,e,n,l,u)}else if("function"==typeof(l=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=h&&t[h]||t["@@iterator"])?t:null}(t)))for(t=l.call(t),c=0;!(a=t.next()).done;)s+=x(a=a.value,e,n,l=r+T(a,c++),u);else if("object"===a)throw e=""+t,Error(p(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return s}function N(t,e,n){if(null==t)return t;var r=[],i=0;return x(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function O(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var C={current:null};function A(){var t=C.current;if(null===t)throw Error(p(321));return t}var P={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:N,forEach:function(t,e,n){N(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return N(t,(function(){e++})),e},toArray:function(t){return N(t,(function(t){return t}))||[]},only:function(t){if(!I(t))throw Error(p(143));return t}},e.Component=y,e.PureComponent=g,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.cloneElement=function(t,e,n){if(null==t)throw Error(p(267,t));var o=r({},t.props),u=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=w.current),void 0!==e.key&&(u=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)E.call(e,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:t.type,key:u,ref:a,props:o,_owner:s}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:a,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:s,render:t}},e.isValidElement=I,e.lazy=function(t){return{$$typeof:l,_payload:{_status:-1,_result:t},_init:O}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return A().useCallback(t,e)},e.useContext=function(t,e){return A().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return A().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return A().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return A().useLayoutEffect(t,e)},e.useMemo=function(t,e){return A().useMemo(t,e)},e.useReducer=function(t,e,n){return A().useReducer(t,e,n)},e.useRef=function(t){return A().useRef(t)},e.useState=function(t){return A().useState(t)},e.version="17.0.1"},7294:(t,e,n)=>{"use strict";t.exports=n(2408)},53:(t,e)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var u=performance;e.unstable_now=function(){return u.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,f=function(){if(null!==c)try{var t=e.unstable_now();c(!0,t),c=null}catch(t){throw setTimeout(f,0),t}};n=function(t){null!==c?setTimeout(n,0,t):(c=t,setTimeout(f,0))},r=function(t,e){l=setTimeout(t,e)},i=function(){clearTimeout(l)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var d=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,b=0;e.unstable_shouldYield=function(){return e.unstable_now()>=b},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<t?Math.floor(1e3/t):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==y){var t=e.unstable_now();b=t+g;try{y(!0,t)?E.postMessage(null):(v=!1,y=null)}catch(t){throw E.postMessage(null),t}}else v=!1},n=function(t){y=t,v||(v=!0,E.postMessage(null))},r=function(t,n){m=h((function(){t(e.unstable_now())}),n)},i=function(){p(m),m=-1}}function _(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<k(i,e)))break t;t[r]=e,t[n]=i,n=r}}function S(t){return void 0===(t=t[0])?null:t}function I(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,u=t[o],a=o+1,s=t[a];if(void 0!==u&&0>k(u,n))void 0!==s&&0>k(s,u)?(t[r]=s,t[a]=n,r=a):(t[r]=u,t[o]=n,r=o);else{if(!(void 0!==s&&0>k(s,n)))break t;t[r]=s,t[a]=n,r=a}}}return e}return null}function k(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var T=[],x=[],N=1,O=null,C=3,A=!1,P=!1,L=!1;function D(t){for(var e=S(x);null!==e;){if(null===e.callback)I(x);else{if(!(e.startTime<=t))break;I(x),e.sortIndex=e.expirationTime,_(T,e)}e=S(x)}}function R(t){if(L=!1,D(t),!P)if(null!==S(T))P=!0,n(M);else{var e=S(x);null!==e&&r(R,e.startTime-t)}}function M(t,n){P=!1,L&&(L=!1,i()),A=!0;var o=C;try{for(D(n),O=S(T);null!==O&&(!(O.expirationTime>n)||t&&!e.unstable_shouldYield());){var u=O.callback;if("function"==typeof u){O.callback=null,C=O.priorityLevel;var a=u(O.expirationTime<=n);n=e.unstable_now(),"function"==typeof a?O.callback=a:O===S(T)&&I(T),D(n)}else I(T);O=S(T)}if(null!==O)var s=!0;else{var c=S(x);null!==c&&r(R,c.startTime-n),s=!1}return s}finally{O=null,C=o,A=!1}}var j=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){P||A||(P=!0,n(M))},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return S(T)},e.unstable_next=function(t){switch(C){case 1:case 2:case 3:var e=3;break;default:e=C}var n=C;C=e;try{return t()}finally{C=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=j,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=C;C=t;try{return e()}finally{C=n}},e.unstable_scheduleCallback=function(t,o,u){var a=e.unstable_now();switch(u="object"==typeof u&&null!==u&&"number"==typeof(u=u.delay)&&0<u?a+u:a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:N++,callback:o,priorityLevel:t,startTime:u,expirationTime:s=u+s,sortIndex:-1},u>a?(t.sortIndex=u,_(x,t),null===S(T)&&t===S(x)&&(L?i():L=!0,r(R,u-a))):(t.sortIndex=s,_(T,t),P||A||(P=!0,n(M))),t},e.unstable_wrapCallback=function(t){var e=C;return function(){var n=C;C=e;try{return t.apply(this,arguments)}finally{C=n}}}},3840:(t,e,n)=>{"use strict";t.exports=n(53)}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";n(9554),n(1249),n(5827),n(4747);var t=n(7294),e=n(3935),r=function(t){return new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(t)},i=(n(1539),n(8674),n(7727),function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)});function o(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function u(t){try{s(r.next(t))}catch(t){o(t)}}function a(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}s((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((i=(i=u.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return u}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],u=0,a=o.length;u<a;u++,i++)r[i]=o[u];return r}function p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=p(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function v(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function y(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return o(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],u=o?b(o,r):"Error",a=this.serviceName+": "+u+" ("+i+").",s=new m(i,a,r);return s},t}();function b(t,e){return t.replace(w,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var w=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new S(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,u,a=this.chain_[0],s=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^s&(c^l),u=1518500249):(o=s^c^l,u=1859775393):r<60?(o=s&c|l&(s|c),u=2400959708):(o=s^c^l,u=3395469782),i=(a<<5|a>>>27)+o+f+u+n[r]&4294967295,f=l,l=c,c=4294967295&(s<<30|s>>>2),s=a,a=i;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function I(){}var k,T=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),x="[DEFAULT]",N=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=x);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new d;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=u({identifier:x,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(x)}catch(t){}try{for(var r=c(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=l(i.value,2),u=o[0],a=o[1],s=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService(s);a.resolve(f)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=x),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(f(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===x?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:x:t},t}(),O=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new N(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function C(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],u=0,a=o.length;u<a;u++,i++)r[i]=o[u];return r}var A,P=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(A||(A={}));var L,D={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},R=A.INFO,M=((k={})[A.DEBUG]="log",k[A.VERBOSE]="log",k[A.INFO]="info",k[A.WARN]="warn",k[A.ERROR]="error",k),j=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=M[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,C(["["+i+"]  "+t.name+":"],n))}},F=function(){function t(t){this.name=t,this._logLevel=R,this._logHandler=j,this._userLogHandler=null,P.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in A))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?D[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,C([this,A.DEBUG],t)),this._logHandler.apply(this,C([this,A.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,C([this,A.VERBOSE],t)),this._logHandler.apply(this,C([this,A.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,C([this,A.INFO],t)),this._logHandler.apply(this,C([this,A.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,C([this,A.WARN],t)),this._logHandler.apply(this,C([this,A.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,C([this,A.ERROR],t)),this._logHandler.apply(this,C([this,A.ERROR],t))},t}();function U(t){P.forEach((function(e){e.setLogLevel(t)}))}var V,z=((L={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",L["bad-app-name"]="Illegal App name: '{$appName}",L["duplicate-app"]="Firebase App named '{$appName}' already exists",L["app-deleted"]="Firebase App named '{$appName}' already deleted",L["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",L["invalid-log-argument"]="First argument to `onLog` must be null or a function.",L),q=new g("app","Firebase",z),B="@firebase/app",H="[DEFAULT]",K=((V={})[B]="fire-core",V["@firebase/analytics"]="fire-analytics",V["@firebase/auth"]="fire-auth",V["@firebase/database"]="fire-rtdb",V["@firebase/functions"]="fire-fn",V["@firebase/installations"]="fire-iid",V["@firebase/messaging"]="fire-fcm",V["@firebase/performance"]="fire-perf",V["@firebase/remote-config"]="fire-rc",V["@firebase/storage"]="fire-gcs",V["@firebase/firestore"]="fire-fst",V["fire-js"]="fire-js",V["firebase-wrapper"]="fire-js-all",V),G=new F("@firebase/app"),W=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=p(void 0,t),this.container=new O(e.name),this._addComponent(new T("app",(function(){return o}),"PUBLIC"));try{for(var u=c(this.firebase_.INTERNAL.components.values()),a=u.next();!a.done;a=u.next()){var s=a.value;this._addComponent(s)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=H),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=H),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){G.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw q.create("app-deleted",{appName:this.name_})},t}();W.prototype.name&&W.prototype.options||W.prototype.delete||console.log("dc");var $=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=H);var u=o.name;if("string"!=typeof u||!u)throw q.create("bad-app-name",{appName:String(u)});if(E(e,u))throw q.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=K[t])&&void 0!==r?r:t;n&&(i+="-"+n);var u=i.match(/\s|\//),a=e.match(/\s|\//);if(u||a){var s=['Unable to register library "'+i+'" with version "'+e+'":'];return u&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),u&&a&&s.push("and"),a&&s.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void G.warn(s.join(" "))}o(new T(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:U,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw q.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=D[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:A[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=P;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!E(e,t=t||H))throw q.create("no-app",{appName:t});return e[t]}function o(o){var u,a,s=o.name;if(n.has(s))return G.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var l=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw q.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&p(l,o.serviceProps),r[s]=l,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}try{for(var f=c(Object.keys(e)),h=f.next();!h.done;h=f.next()){var d=h.value;e[d]._addComponent(o)}}catch(t){u={error:t}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(u)throw u.error}}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(W);return e.INTERNAL=u(u({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){p(e,t)},createSubscribe:_,ErrorFactory:g,deepExtend:p}),e}(),Q=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var J=self.firebase.SDK_VERSION;J&&J.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var X=$.initializeApp;$.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y()&&G.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),X.apply(void 0,t)};var Y=$;!function(t,e){t.INTERNAL.registerComponent(new T("platform-logger",(function(t){return new Q(t)}),"PRIVATE")),t.registerVersion(B,"0.6.13",void 0),t.registerVersion("fire-js","")}(Y);const Z=Y;Z.registerVersion("firebase","8.2.1","app");var tt=function(t,e){return(tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function et(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var nt,rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},it=it||{},ot=rt||self;function ut(){}function at(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function st(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ct="closure_uid_"+(1e9*Math.random()>>>0),lt=0;function ft(t,e,n){return t.call.apply(t.bind,arguments)}function ht(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function pt(t,e,n){return(pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ft:ht).apply(null,arguments)}function dt(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function vt(){return Date.now()}function yt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function mt(){this.j=this.j,this.i=this.i}mt.prototype.j=!1,mt.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ct)&&t[ct]||(t[ct]=++lt)}(this)},mt.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var gt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},bt=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function wt(t){return Array.prototype.concat.apply([],arguments)}function Et(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function _t(t){return/^[\s\xa0]*$/.test(t)}var St,It=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function kt(t,e){return-1!=t.indexOf(e)}function Tt(t,e){return t<e?-1:t>e?1:0}t:{var xt=ot.navigator;if(xt){var Nt=xt.userAgent;if(Nt){St=Nt;break t}}St=""}function Ot(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ct(t){var e={};for(var n in t)e[n]=t[n];return e}var At="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<At.length;o++)n=At[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Lt(t){return Lt[" "](t),t}Lt[" "]=ut;var Dt,Rt,Mt=kt(St,"Opera"),jt=kt(St,"Trident")||kt(St,"MSIE"),Ft=kt(St,"Edge"),Ut=Ft||jt,Vt=kt(St,"Gecko")&&!(kt(St.toLowerCase(),"webkit")&&!kt(St,"Edge"))&&!(kt(St,"Trident")||kt(St,"MSIE"))&&!kt(St,"Edge"),zt=kt(St.toLowerCase(),"webkit")&&!kt(St,"Edge");function qt(){var t=ot.document;return t?t.documentMode:void 0}t:{var Bt="",Ht=(Rt=St,Vt?/rv:([^\);]+)(\)|;)/.exec(Rt):Ft?/Edge\/([\d\.]+)/.exec(Rt):jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Rt):zt?/WebKit\/(\S+)/.exec(Rt):Mt?/(?:Version)[ \/]?(\S+)/.exec(Rt):void 0);if(Ht&&(Bt=Ht?Ht[1]:""),jt){var Kt=qt();if(null!=Kt&&Kt>parseFloat(Bt)){Dt=String(Kt);break t}}Dt=Bt}var Gt,Wt={};function $t(t){return function(t,e){var n=Wt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=It(String(Dt)).split("."),r=It(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var u=n[o]||"",a=r[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==u[0].length&&0==a[0].length)break;e=Tt(0==u[1].length?0:parseInt(u[1],10),0==a[1].length?0:parseInt(a[1],10))||Tt(0==u[2].length,0==a[2].length)||Tt(u[2],a[2]),u=u[3],a=a[3]}while(0==e)}return 0<=e}))}ot.document&&jt?Gt=qt()||parseInt(Dt,10)||void 0:Gt=void 0;var Qt=Gt,Jt=!jt||9<=Number(Qt),Xt=jt&&!$t("9"),Yt=function(){if(!ot.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ot.addEventListener("test",ut,e),ot.removeEventListener("test",ut,e)}catch(t){}return t}();function Zt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function te(t,e){if(Zt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Vt){t:{try{Lt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ee[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Zt.prototype.b=function(){this.defaultPrevented=!0},yt(te,Zt);var ee={2:"touch",3:"pen",4:"mouse"};te.prototype.b=function(){te.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Xt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var ne="closure_listenable_"+(1e6*Math.random()|0),re=0;function ie(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++re,this.Y=this.Z=!1}function oe(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ue(t){this.src=t,this.a={},this.b=0}function ae(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=gt(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(oe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function se(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ue.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var u=se(t,e,r,i);return-1<u?(e=t[u],n||(e.Z=!1)):((e=new ie(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ce="closure_lm_"+(1e6*Math.random()|0),le={};function fe(t,e,n,r,i){if(r&&r.once)return pe(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)fe(t,e[o],n,r,i);return null}return n=Ee(n),t&&t[ne]?t.va(e,n,st(r)?!!r.capture:!!r,i):he(t,e,n,!1,r,i)}function he(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var u=st(i)?!!i.capture:!!i;if(u&&!Jt)return null;var a=be(t);if(a||(t[ce]=a=new ue(t)),(n=a.add(e,n,r,u,o)).proxy)return n;if(r=function(){var t=ge,e=Jt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Yt||(i=u),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ye(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function pe(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)pe(t,e[o],n,r,i);return null}return n=Ee(n),t&&t[ne]?t.wa(e,n,st(r)?!!r.capture:!!r,i):he(t,e,n,!0,r,i)}function de(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)de(t,e[o],n,r,i);else r=st(r)?!!r.capture:!!r,n=Ee(n),t&&t[ne]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=se(o=t.a[e],n,r,i))&&(oe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=be(t))&&(e=t.a[e.toString()],t=-1,e&&(t=se(e,n,r,i)),(n=-1<t?e[t]:null)&&ve(n))}function ve(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ne])ae(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ye(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=be(e))?(ae(n,t),0==n.b&&(n.src=null,e[ce]=null)):oe(t)}}}function ye(t){return t in le?le[t]:le[t]="on"+t}function me(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ve(t),n.call(r,e)}function ge(t,e){if(t.Y)return!0;if(!Jt){if(!e)t:{e=["window","event"];for(var n=ot,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return me(t,e=new te(e,this))}return me(t,new te(e,this))}function be(t){return(t=t[ce])instanceof ue?t:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(t){return"function"==typeof t?t:(t[we]||(t[we]=function(e){return t.handleEvent(e)}),t[we])}function _e(){mt.call(this),this.c=new ue(this),this.J=this,this.C=null}function Se(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Zt(e,t);else if(e instanceof Zt)e.target=e.target||t;else{var i=e;Pt(e=new Zt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var u=e.a=n[o];i=Ie(u,r,!0,e)&&i}if(i=Ie(u=e.a=t,r,!0,e)&&i,i=Ie(u,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ie(u=e.a=n[o],r,!1,e)&&i}function Ie(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.Y&&u.capture==n){var a=u.listener,s=u.ca||u.src;u.Z&&ae(t.c,u),i=!1!==a.call(s,r)&&i}}return i&&!r.defaultPrevented}yt(_e,mt),_e.prototype[ne]=!0,(nt=_e.prototype).addEventListener=function(t,e,n,r){fe(this,t,e,n,r)},nt.removeEventListener=function(t,e,n,r){de(this,t,e,n,r)},nt.G=function(){if(_e.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)oe(n[r]);delete e.a[t],e.b--}}this.C=null},nt.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},nt.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ke=ot.JSON.stringify;function Te(){this.b=this.a=null}var xe,Ne=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Ce}),(function(t){t.reset()}));function Oe(){var t=De,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ce(){this.next=this.b=this.a=null}function Ae(t){ot.setTimeout((function(){throw t}),0)}function Pe(t,e){xe||function(){var t=ot.Promise.resolve(void 0);xe=function(){t.then(Re)}}(),Le||(xe(),Le=!0),De.add(t,e)}Te.prototype.add=function(t,e){var n=Ne.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ce.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ce.prototype.reset=function(){this.next=this.b=this.a=null};var Le=!1,De=new Te;function Re(){for(var t;t=Oe();){try{t.a.call(t.b)}catch(t){Ae(t)}var e=Ne;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Le=!1}function Me(t,e){_e.call(this),this.b=t||1,this.a=e||ot,this.f=pt(this.Za,this),this.g=vt()}function je(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Fe(t,e,n){if("function"==typeof t)n&&(t=pt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=pt(t.handleEvent,t)}return 2147483647<Number(e)?-1:ot.setTimeout(t,e||0)}function Ue(t){t.a=Fe((function(){t.a=null,t.c&&(t.c=!1,Ue(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}yt(Me,_e),(nt=Me.prototype).aa=!1,nt.M=null,nt.Za=function(){if(this.aa){var t=vt()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Se(this,"tick"),this.aa&&(je(this),this.start()))}},nt.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=vt())},nt.G=function(){Me.X.G.call(this),je(this),delete this.a};var Ve=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ue(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ot.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(mt);function ze(t){mt.call(this),this.b=t,this.a={}}yt(ze,mt);var qe=[];function Be(t,e,n,r){Array.isArray(n)||(n&&(qe[0]=n.toString()),n=qe);for(var i=0;i<n.length;i++){var o=fe(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function He(t){Ot(t.a,(function(t,e){this.a.hasOwnProperty(e)&&ve(t)}),t),t.a={}}function Ke(){this.a=!0}function Ge(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<i.length;u++)i[u]=""}}}return ke(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}ze.prototype.G=function(){ze.X.G.call(this),He(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ke.prototype.info=function(){};var We={},$e=null;function Qe(){return $e=$e||new _e}function Je(t){Zt.call(this,We.Fa,t)}function Xe(t){var e=Qe();Se(e,new Je(e,t))}function Ye(t,e){Zt.call(this,We.STAT_EVENT,t),this.stat=e}function Ze(t){var e=Qe();Se(e,new Ye(e,t))}function tn(t){Zt.call(this,We.Ga,t)}function en(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ot.setTimeout((function(){t()}),e)}We.Fa="serverreachability",yt(Je,Zt),We.STAT_EVENT="statevent",yt(Ye,Zt),We.Ga="timingevent",yt(tn,Zt);var nn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},rn={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function on(){}function un(t){var e;return(e=t.a)||(e=t.a={}),e}function an(){}on.prototype.a=null;var sn,cn={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ln(){Zt.call(this,"d")}function fn(){Zt.call(this,"c")}function hn(){}function pn(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ze(this),this.P=dn,t=Ut?125:void 0,this.R=new Me(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}yt(ln,Zt),yt(fn,Zt),yt(hn,on),sn=new hn;var dn=45e3,vn={},yn={};function mn(t,e,n){t.H=1,t.i=Un(Ln(e)),t.j=n,t.I=!0,gn(t,null)}function gn(t,e){t.u=vt(),En(t),t.l=Ln(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Yn(n.b,"t",r),t.D=0,t.a=Gr(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ve(pt(t.Ca,t,t.a),t.O)),Be(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ct(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Xe(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var u="",a=o.split("&"),s=0;s<a.length;s++){var c=a[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");u=2<=f.length&&"type"==f[1]?u+(l+"=")+c+"&":u+(l+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+u}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function bn(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=wn(t,n);if(i==yn){4==e&&(t.h=4,Ze(14),r=!1),Ge(t.c,t.f,null,"[Incomplete Response]");break}if(i==vn){t.h=4,Ze(15),Ge(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ge(t.c,t.f,i,null),Tn(t,i)}4==e&&0==n.length&&(t.h=1,Ze(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fr(e),e.F=!0,Ze(11))):(Ge(t.c,t.f,n,"[Invalid Chunked Response]"),kn(t),In(t))}function wn(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?yn:(n=Number(e.substring(n,r)),isNaN(n)?vn:(r+=1)+n>e.length?yn:(e=e.substr(r,n),t.D=r+n,e))}function En(t){t.T=vt()+t.P,_n(t,t.P)}function _n(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=en(pt(t.Va,t),e)}function Sn(t){t.o&&(ot.clearTimeout(t.o),t.o=null)}function In(t){0==t.g.v||t.A||zr(t.g,t)}function kn(t){Sn(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,je(t.R),He(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Tn(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||or(n.b,t)))if(n.I=t.N,!t.C&&or(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Vr(n),Or(n)}jr(n),Ze(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=en(pt(n.Sa,n),6e3));if(1>=ir(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Br(n,11)}else if((t.C||n.a==t)&&Vr(n),!_t(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var u=i[4];null!=u&&(n.pa=u,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var s=1.5*a;n.D=s,n.c.info("backChannelRequestTimeoutMs_="+s)}s=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=s.b;!f.a&&(kt(l,"spdy")||kt(l,"quic")||kt(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(ur(f,f.b),f.b=null))}if(s.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(s.na=h,Fn(s.B,s.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=vt()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((s=n).la=Kr(s,s.C?s.ga:null,s.fa),p.C){ar(s.b,p);var d=p,v=s.D;v&&d.setTimeout(v),d.o&&(Sn(d),En(d)),s.a=p}else Mr(s);0<n.g.length&&Pr(n)}else"stop"!=i[0]&&"close"!=i[0]||Br(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Br(n,7):Nr(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Xe(4)}catch(t){}}function xn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(at(t)||"string"==typeof t)bt(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(at(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(at(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Nn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Nn)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function On(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Cn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Cn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(nt=pn.prototype).setTimeout=function(t){this.P=t},nt.Xa=function(t){t=t.target;var e=this.F;e&&3==Ir(t)?e.f():this.Ca(t)},nt.Ca=function(t){try{if(t==this.a)t:{var e=Ir(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ut&&!this.a.$())){this.A||4!=e||7==n||Xe(8==n||0>=r?3:2),Sn(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,u){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+u}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var u,a=this.a;if((u=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_t(u)){var s=u;break e}}s=null}if(!s){this.b=!1,this.h=3,Ze(12),kn(this),In(this);break t}Ge(this.c,this.f,s,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Tn(this,s)}this.I?(bn(this,e,o),Ut&&this.b&&3==e&&(Be(this.J,this.R,"tick",this.Wa),this.R.start())):(Ge(this.c,this.f,o,null),Tn(this,o)),4==e&&kn(this),this.b&&!this.A&&(4==e?zr(this.g,this):(this.b=!1,En(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Ze(12)):(this.h=0,Ze(13)),kn(this),In(this)}}}catch(t){}},nt.Wa=function(){if(this.a){var t=Ir(this.a),e=this.a.$();this.D<e.length&&(Sn(this),bn(this,t,e),this.b&&4!=t&&En(this))}},nt.cancel=function(){this.A=!0,kn(this)},nt.Va=function(){this.o=null;var t=vt();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Xe(3),Ze(17)),kn(this),this.h=2,In(this)):_n(this,this.T-t)},(nt=Nn.prototype).K=function(){On(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},nt.L=function(){return On(this),this.a.concat()},nt.get=function(t,e){return Cn(this.b,t)?this.b[t]:e},nt.set=function(t,e){Cn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},nt.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var An=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Pn){this.a=void 0!==e?e:t.a,Dn(this,t.f),this.j=t.j,Rn(this,t.c),Mn(this,t.h),this.g=t.g,e=t.b;var n=new $n;n.c=e.c,e.a&&(n.a=new Nn(e.a),n.b=e.b),jn(this,n),this.i=t.i}else t&&(n=String(t).match(An))?(this.a=!!e,Dn(this,n[1]||"",!0),this.j=Vn(n[2]||""),Rn(this,n[3]||"",!0),Mn(this,n[4]),this.g=Vn(n[5]||"",!0),jn(this,n[6]||"",!0),this.i=Vn(n[7]||"")):(this.a=!!e,this.b=new $n(null,this.a))}function Ln(t){return new Pn(t)}function Dn(t,e,n){t.f=n?Vn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Rn(t,e,n){t.c=n?Vn(e,!0):e}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function jn(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),Yn(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=zn(e,Gn)),t.b=new $n(e,t.a))}function Fn(t,e,n){t.b.set(e,n)}function Un(t){return Fn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^vt()).toString(36)),t}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zn(e,Bn,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(zn(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(zn(n,"/"==n.charAt(0)?Kn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",zn(n,Wn)),t.join("")};var Bn=/[#\/\?@]/g,Hn=/[#\?:]/g,Kn=/[#\?]/g,Gn=/[#\?@]/g,Wn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Nn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Jn(t,e){Qn(t),e=Zn(t,e),Cn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Cn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&On(t)))}function Xn(t,e){return Qn(t),e=Zn(t,e),Cn(t.a.b,e)}function Yn(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(Zn(t,e),Et(n)),t.b+=n.length)}function Zn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(nt=$n.prototype).add=function(t,e){Qn(this),this.c=null,t=Zn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},nt.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){bt(n,(function(n){t.call(e,n,r,this)}),this)}),this)},nt.L=function(){Qn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},nt.K=function(t){Qn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=wt(e,this.a.get(Zn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=wt(e,t[n])}return e},nt.set=function(t,e){return Qn(this),this.c=null,Xn(this,t=Zn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},nt.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},nt.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var u=i;""!==r[o]&&(u+="="+encodeURIComponent(String(r[o]))),t.push(u)}}return this.c=t.join("&")};var tr=function(t,e){this.b=t,this.a=e};function er(t){this.g=t||nr,t=ot.PerformanceNavigationTiming?0<(t=ot.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ot.ia&&ot.ia.ya&&ot.ia.ya()&&ot.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var nr=10;function rr(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ir(t){return t.b?1:t.a?t.a.size:0}function or(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ur(t,e){t.a?t.a.add(e):t.b=e}function ar(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function sr(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=et(t.a.values()),o=i.next();!o.done;o=i.next()){var u=o.value;r=r.concat(u.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Et(t.c)}function cr(){}function lr(){this.a=new cr}function fr(t,e,n){var r=n||"";try{xn(t,(function(t,n){var i=t;st(t)&&(i=ke(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function hr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}er.prototype.cancel=function(){var t,e;if(this.c=sr(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=et(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},cr.prototype.stringify=function(t){return ot.JSON.stringify(t,void 0)},cr.prototype.parse=function(t){return ot.JSON.parse(t,void 0)};var pr=ot.JSON.parse;function dr(t){_e.call(this),this.headers=new Nn,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=vr,this.D=this.F=!1}yt(dr,_e);var vr="",yr=/^https?$/i,mr=["POST","PUT"];function gr(t){return"content-type"==t.toLowerCase()}function br(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,wr(t),_r(t)}function wr(t){t.u||(t.u=!0,Se(t,"complete"),Se(t,"error"))}function Er(t){if(t.b&&void 0!==it&&(!t.s[1]||4!=Ir(t)||2!=t.W()))if(t.l&&4==Ir(t))Fe(t.za,0,t);else if(Se(t,"readystatechange"),4==Ir(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(An)[1]||null;if(!o&&ot.self&&ot.self.location){var u=ot.self.location.protocol;o=u.substr(0,u.length-1)}i=!yr.test(o?o.toLowerCase():"")}e=i}if(e)Se(t,"complete"),Se(t,"success");else{t.h=6;try{var a=2<Ir(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",wr(t)}}finally{_r(t)}}}function _r(t,e){if(t.a){Sr(t);var n=t.a,r=t.s[0]?ut:null;t.a=null,t.s=null,e||Se(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Sr(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ot.clearTimeout(t.m),t.m=null)}function Ir(t){return t.a?t.a.readyState:0}function kr(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ot(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fn(t,e,n))}function Tr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xr(t){this.pa=0,this.g=[],this.c=new Ke,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Tr("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Tr("baseRetryDelayMs",5e3,t),this.Ra=Tr("retryDelaySeedMs",1e4,t),this.Ma=Tr("forwardChannelMaxRetries",2,t),this.ma=Tr("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new er(t&&t.concurrentRequestLimit),this.ka=new lr,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Nr(t){if(Cr(t),3==t.v){var e=t.R++,n=Ln(t.B);Fn(n,"SID",t.J),Fn(n,"RID",e),Fn(n,"TYPE","terminate"),Dr(t,n),(e=new pn(t,t.c,e,void 0)).H=2,e.i=Un(Ln(n)),n=!1,ot.navigator&&ot.navigator.sendBeacon&&(n=ot.navigator.sendBeacon(e.i.toString(),"")),!n&&ot.Image&&((new Image).src=e.i,n=!0),n||(e.a=Gr(e.g,null),e.a.ba(e.i)),e.u=vt(),En(e)}Hr(t)}function Or(t){t.a&&(Fr(t),t.a.cancel(),t.a=null)}function Cr(t){Or(t),t.j&&(ot.clearTimeout(t.j),t.j=null),Vr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ot.clearTimeout(t.h),t.h=null)}function Ar(t,e){t.g.push(new tr(t.Oa++,e)),3==t.v&&Pr(t)}function Pr(t){rr(t.b)||t.h||(t.h=!0,Pe(t.Ba,t),t.u=0)}function Lr(t,e){var n;n=e?e.f:t.R++;var r=Ln(t.B);Fn(r,"SID",t.J),Fn(r,"RID",n),Fn(r,"AID",t.P),Dr(t,r),t.i&&t.l&&kr(r,t.i,t.l),n=new pn(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Rr(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ur(t.b,n),mn(n,r,e)}function Dr(t,e){t.f&&xn({},(function(t,n){Fn(e,n,t)}))}function Rr(t,e,n){n=Math.min(t.g.length,n);var r=t.f?pt(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var u=["count="+n];-1==o?0<n?(o=i[0].b,u.push("ofs="+o)):o=0:u.push("ofs="+o);for(var a=!0,s=0;s<n;s++){var c=i[s].b,l=i[s].a;if(0>(c-=o))o=Math.max(0,i[s].b-100),a=!1;else try{fr(l,u,"req"+c+"_")}catch(t){r&&r(l)}}if(a){r=u.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Mr(t){t.a||t.j||(t.T=1,Pe(t.Aa,t),t.o=0)}function jr(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=en(pt(t.Aa,t),qr(t,t.o)),t.o++,0))}function Fr(t){null!=t.s&&(ot.clearTimeout(t.s),t.s=null)}function Ur(t){t.a=new pn(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ln(t.la);Fn(e,"RID","rpc"),Fn(e,"SID",t.J),Fn(e,"CI",t.H?"0":"1"),Fn(e,"AID",t.P),Dr(t,e),Fn(e,"TYPE","xmlhttp"),t.i&&t.l&&kr(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Un(Ln(e)),n.j=null,n.I=!0,gn(n,t)}function Vr(t){null!=t.m&&(ot.clearTimeout(t.m),t.m=null)}function zr(t,e){var n=null;if(t.a==e){Vr(t),Fr(t),t.a=null;var r=2}else{if(!or(t.b,e))return;n=e.s,ar(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=vt()-e.u;var i=t.u;Se(r=Qe(),new tn(r,n,e,i)),Pr(t)}else Mr(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ir(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=en(pt(t.Ba,t,e),qr(t,t.u)),t.u++,0)))}(t,e)||2==r&&jr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Br(t,5);break;case 4:Br(t,10);break;case 3:Br(t,6);break;default:Br(t,2)}}function qr(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Br(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=pt(t.Ya,t);n||(n=new Pn("//www.google.com/images/cleardot.gif"),ot.location&&"http"==ot.location.protocol||Dn(n,"https"),Un(n)),function(t,e){var n=new Ke;if(ot.Image){var r=new Image;r.onload=dt(hr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=dt(hr,n,r,"TestLoadImage: error",!1,e),r.onabort=dt(hr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=dt(hr,n,r,"TestLoadImage: timeout",!1,e),ot.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ze(2);t.v=0,t.f&&t.f.ra(e),Hr(t),Cr(t)}function Hr(t){t.v=0,t.I=-1,t.f&&(0==sr(t.b).length&&0==t.g.length||(t.b.c.length=0,Et(t.g),t.g.length=0),t.f.qa())}function Kr(t,e,n){var r=function(t){return t instanceof Pn?Ln(t):new Pn(t,void 0)}(n);if(""!=r.c)e&&Rn(r,e+"."+r.c),Mn(r,r.h);else{var i=ot.location;r=function(t,e,n,r){var i=new Pn(null,void 0);return t&&Dn(i,t),e&&Rn(i,e),n&&Mn(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ot(t.V,(function(t,e){Fn(r,e,t)})),e=t.A,n=t.na,e&&n&&Fn(r,e,n),Fn(r,"VER",t.ha),Dr(t,r),r}function Gr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dr(t.Na)).F=t.C,e}function Wr(){}function $r(){if(jt&&!(10<=Number(Qt)))throw Error("Environmental error: no available transport.")}function Qr(t,e){_e.call(this),this.a=new xr(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!_t(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_t(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Yr(this)}function Jr(t){ln.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xr(){fn.call(this),this.status=1}function Yr(t){this.a=t}(nt=dr.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?un(this.H):un(sn),this.a.onreadystatechange=pt(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void br(this,t)}t=n||"";var i=new Nn(this.headers);r&&xn(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=gr,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ot.FormData&&t instanceof ot.FormData,!(0<=gt(mr,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Sr(this),0<this.o&&((this.D=function(t){return jt&&$t(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=pt(this.xa,this)):this.m=Fe(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){br(this,t)}},nt.xa=function(){void 0!==it&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Se(this,"timeout"),this.abort(8))},nt.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Se(this,"complete"),Se(this,"abort"),_r(this))},nt.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),_r(this,!0)),dr.X.G.call(this)},nt.za=function(){this.j||(this.A||this.l||this.g?Er(this):this.Ua())},nt.Ua=function(){Er(this)},nt.W=function(){try{return 2<Ir(this)?this.a.status:-1}catch(t){return-1}},nt.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},nt.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),pr(e)}},nt.ua=function(){return this.h},nt.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(nt=xr.prototype).ha=8,nt.v=1,nt.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new pn(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Pt(r=Ct(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Rr(this,n,e),Fn(i=Ln(this.B),"RID",t),Fn(i,"CVER",22),this.A&&Fn(i,"X-HTTP-Session-Id",this.A),Dr(this,i),this.i&&r&&kr(i,this.i,r),ur(this.b,n),this.Ia&&Fn(i,"TYPE","init"),this.da?(Fn(i,"$req",e),Fn(i,"SID","null"),n.U=!0,mn(n,i,null)):mn(n,i,e),this.v=2}}else 3==this.v&&(t?Lr(this,t):0==this.g.length||rr(this.b)||Lr(this))},nt.Aa=function(){if(this.j=null,Ur(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=en(pt(this.Ta,this),t)}},nt.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ze(10),Or(this),Ur(this))},nt.Sa=function(){null!=this.m&&(this.m=null,Or(this),jr(this),Ze(19))},nt.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ze(2)):(this.c.info("Failed to ping google.com"),Ze(1))},(nt=Wr.prototype).ta=function(){},nt.sa=function(){},nt.ra=function(){},nt.qa=function(){},nt.Ja=function(){},$r.prototype.a=function(t,e){return new Qr(t,e)},yt(Qr,_e),Qr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ze(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Kr(t,null,t.fa),Pr(t)},Qr.prototype.close=function(){Nr(this.a)},Qr.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ar(this.a,e)}else this.l?((e={}).__data__=ke(t),Ar(this.a,e)):Ar(this.a,t)},Qr.prototype.G=function(){this.a.f=null,delete this.f,Nr(this.a),delete this.a,Qr.X.G.call(this)},yt(Jr,ln),yt(Xr,fn),yt(Yr,Wr),Yr.prototype.ta=function(){Se(this.a,"a")},Yr.prototype.sa=function(t){Se(this.a,new Jr(t))},Yr.prototype.ra=function(t){Se(this.a,new Xr(t))},Yr.prototype.qa=function(){Se(this.a,"b")},$r.prototype.createWebChannel=$r.prototype.a,Qr.prototype.send=Qr.prototype.h,Qr.prototype.open=Qr.prototype.g,Qr.prototype.close=Qr.prototype.close,nn.NO_ERROR=0,nn.TIMEOUT=8,nn.HTTP_ERROR=6,rn.COMPLETE="complete",an.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",_e.prototype.listen=_e.prototype.va,dr.prototype.listenOnce=dr.prototype.wa,dr.prototype.getLastError=dr.prototype.Qa,dr.prototype.getLastErrorCode=dr.prototype.ua,dr.prototype.getStatus=dr.prototype.W,dr.prototype.getResponseJson=dr.prototype.Pa,dr.prototype.getResponseText=dr.prototype.$,dr.prototype.send=dr.prototype.ba;var Zr=nn,ti=rn,ei=We,ni=10,ri=11,ii=an,oi=dr,ui=new F("@firebase/firestore");function ai(){return ui.logLevel}function si(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ui.logLevel<=A.DEBUG){var r=e.map(fi);ui.debug.apply(ui,h(["Firestore (8.2.1): "+t],r))}}function ci(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ui.logLevel<=A.ERROR){var r=e.map(fi);ui.error.apply(ui,h(["Firestore (8.2.1): "+t],r))}}function li(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ui.logLevel<=A.WARN){var r=e.map(fi);ui.warn.apply(ui,h(["Firestore (8.2.1): "+t],r))}}function fi(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function hi(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw ci(e),new Error(e)}function pi(t,e){t||hi()}function di(t,e){return t}function vi(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var yi=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=vi(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function mi(t,e){return t<e?-1:t>e?1:0}function gi(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function bi(t){return t+"\0"}var wi=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.i,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return mi(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();wi.h=new wi("");var Ei={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_i=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o(e,t),e}(Error),Si=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(wi.fromBase64String(e))}catch(e){throw new _i(Ei.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(wi.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Ii=function(t){this._=t};function ki(){if("undefined"==typeof Uint8Array)throw new _i(Ei.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ti(){if("undefined"==typeof atob)throw new _i(Ei.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.fromBase64String=function(t){return Ti(),new e(Si.fromBase64String(t))},e.fromUint8Array=function(t){return ki(),new e(Si.fromUint8Array(t))},e.prototype.toBase64=function(){return Ti(),this._.toBase64()},e.prototype.toUint8Array=function(){return ki(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ii),Ni=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Oi=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ci=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ci.UNAUTHENTICATED=new Ci(null),Ci.P=new Ci("google-credentials-uid"),Ci.g=new Ci("first-party-uid");var Ai=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Pi=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Ci.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Li=function(){function t(t){var e=this;this.C=null,this.currentUser=Ci.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.F!==e?(si("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(pi("string"==typeof n.accessToken),new Ai(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return pi(null===t||"string"==typeof t),new Ci(t)},t}(),Di=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Ci.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Ri=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Di(this.k,this.M))},t.prototype.S=function(t){t(Ci.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Mi=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Mi.U=-1;var ji=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _i(Ei.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _i(Ei.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _i(Ei.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _i(Ei.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?mi(this.nanoseconds,t.nanoseconds):mi(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Fi=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new ji(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Ui=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&hi(),void 0===n?n=t.length-e:n>t.length-e&&hi(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return t=void 0===t?1:t,this.Y(this.segments,this.offset+t,this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Vi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var u=o[i];if(u.indexOf("//")>=0)throw new _i(Ei.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");r.push.apply(r,u.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(Ui),zi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return zi.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new _i(Ei.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},u=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new _i(Ei.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new _i(Ei.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=s,i+=2}else"`"===a?(u=!u,i++):"."!==a||u?(r+=a,i++):(o(),i++)}if(o(),u)throw new _i(Ei.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Ui),Bi=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Vi.ct(e))},t.dt=function(e){return new t(Vi.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Vi.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Vi.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Vi(e.slice()))},t}();function Hi(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gi(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Wi=function(){function t(t){this.fields=t,t.sort(qi.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return gi(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),$i=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(t){if(pi(!!t),"string"==typeof t){var e=0,n=$i.exec(t);if(pi(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ji(t.seconds),nanos:Ji(t.nanos)}}function Ji(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Xi(t){return"string"==typeof t?wi.fromBase64String(t):wi.fromUint8Array(t)}function Yi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Zi(t){var e=t.mapValue.fields.__previous_value__;return Yi(e)?Zi(e):e}function to(t){var e=Qi(t.mapValue.fields.__local_write_time__.timestampValue);return new ji(e.seconds,e.nanos)}function eo(t){return null==t}function no(t){return 0===t&&1/t==-1/0}function ro(t){return"number"==typeof t&&Number.isInteger(t)&&!no(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yi(t)?4:10:hi()}function oo(t,e){var n=io(t);if(n!==io(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return to(t).isEqual(to(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Qi(t.timestampValue),r=Qi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Xi(t.bytesValue).isEqual(Xi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ji(t.geoPointValue.latitude)===Ji(e.geoPointValue.latitude)&&Ji(t.geoPointValue.longitude)===Ji(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ji(t.integerValue)===Ji(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ji(t.doubleValue),r=Ji(e.doubleValue);return n===r?no(n)===no(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return gi(t.arrayValue.values||[],e.arrayValue.values||[],oo);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Hi(n)!==Hi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!oo(n[i],r[i])))return!1;return!0}(t,e);default:return hi()}}function uo(t,e){return void 0!==(t.values||[]).find((function(t){return oo(t,e)}))}function ao(t,e){var n=io(t),r=io(e);if(n!==r)return mi(n,r);switch(n){case 0:return 0;case 1:return mi(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ji(t.integerValue||t.doubleValue),r=Ji(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return so(t.timestampValue,e.timestampValue);case 4:return so(to(t),to(e));case 5:return mi(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Xi(t),r=Xi(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=mi(n[i],r[i]);if(0!==o)return o}return mi(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=mi(Ji(t.latitude),Ji(e.latitude));return 0!==n?n:mi(Ji(t.longitude),Ji(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ao(n[i],r[i]);if(o)return o}return mi(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var u=0;u<r.length&&u<o.length;++u){var a=mi(r[u],o[u]);if(0!==a)return a;var s=ao(n[r[u]],i[o[u]]);if(0!==s)return s}return mi(r.length,o.length)}(t.mapValue,e.mapValue);default:throw hi()}}function so(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return mi(t,e);var n=Qi(t),r=Qi(e),i=mi(n.seconds,r.seconds);return 0!==i?i:mi(n.nanos,r.nanos)}function co(t){return lo(t)}function lo(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Qi(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Xi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Bi.dt(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=lo(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+lo(t.fields[o])}return e+"}"}(t.mapValue):hi();var e,n}function fo(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function ho(t){return!!t&&"integerValue"in t}function po(t){return!!t&&"arrayValue"in t}function vo(t){return!!t&&"nullValue"in t}function yo(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mo(t){return!!t&&"mapValue"in t}var go=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!mo(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return oo(this.proto,t.proto)},t}(),bo=function(){function t(t){void 0===t&&(t=go.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===io(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(qi.at(),this.Rt);return null!=t?new go(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=mo(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var u=n.gt(t.child(i),e);null!=u&&(o[i]=u,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function wo(t){var e=[];return Ki(t.fields||{},(function(t,n){var r=new qi([t]);if(mo(n)){var i=wo(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,u=i;o<u.length;o++){var a=u[o];e.push(r.child(a))}}else e.push(r)})),new Wi(e)}var Eo=function(t,e){this.key=t,this.version=e},_o=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return o(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Eo),So=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Eo),Io=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Eo),ko=function(t,e,n,r,i,o,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=u,this.St=null};function To(t,e,n,r,i,o,u){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===u&&(u=null),new ko(t,e,n,r,i,o,u)}function xo(t){var e=di(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+co(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),eo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Vo(e.startAt)),e.endAt&&(n+="|ub:",n+=Vo(e.endAt)),e.St=n}return e.St}function No(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!qo(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!oo(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ho(t.startAt,e.startAt)&&Ho(t.endAt,e.endAt)}function Oo(t){return Bi.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Co=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return o(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Ao(t,n,r):"array-contains"===n?new Ro(t,r):"in"===n?new Mo(t,r):"not-in"===n?new jo(t,r):"array-contains-any"===n?new Fo(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Po(t,n):new Lo(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(ao(e,this.value)):null!==e&&io(this.value)===io(e)&&this.Ct(ao(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return hi()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ao=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Bi.dt(r.referenceValue),i}return o(e,t),e.prototype.matches=function(t){var e=Bi.J(t.key,this.key);return this.Ct(e)},e}(Co),Po=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Do(0,n),r}return o(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Co),Lo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Do(0,n),r}return o(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Co);function Do(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Bi.dt(t.referenceValue)}))}var Ro=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return o(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return po(e)&&uo(e.arrayValue,this.value)},e}(Co),Mo=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return o(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&uo(this.value.arrayValue,e)},e}(Co),jo=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return o(e,t),e.prototype.matches=function(t){if(uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!uo(this.value.arrayValue,e)},e}(Co),Fo=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return o(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!po(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return uo(e.value.arrayValue,t)}))},e}(Co),Uo=function(t,e){this.position=t,this.before=e};function Vo(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return co(t)})).join(",")}var zo=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function qo(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Bo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],u=t.position[i];if(r=o.field.ht()?Bi.J(Bi.dt(u.referenceValue),n.key):ao(u,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ho(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!oo(t.position[n],e.position[n]))return!1;return!0}var Ko=function(t,e,n,r,i,o,u,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===u&&(u=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=a,this.Ft=null,this.Ot=null,this.startAt,this.endAt};function Go(t,e,n,r,i,o,u,a){return new Ko(t,e,n,r,i,o,u,a)}function Wo(t){return new Ko(t)}function $o(t){return!eo(t.limit)&&"F"===t.limitType}function Qo(t){return!eo(t.limit)&&"L"===t.limitType}function Jo(t){return t.Nt.length>0?t.Nt[0].field:null}function Xo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Yo(t){return null!==t.collectionGroup}function Zo(t){var e=di(t);if(null===e.Ft){e.Ft=[];var n=Xo(e),r=Jo(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new zo(n)),e.Ft.push(new zo(qi.lt(),"asc"));else{for(var i=!1,o=0,u=e.Nt;o<u.length;o++){var a=u[o];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var s=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new zo(qi.lt(),s))}}}return e.Ft}function tu(t){var e=di(t);if(!e.Ot)if("F"===e.limitType)e.Ot=To(e.path,e.collectionGroup,Zo(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Zo(e);r<i.length;r++){var o=i[r],u="desc"===o.dir?"asc":"desc";n.push(new zo(o.field,u))}var a=e.endAt?new Uo(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Uo(e.startAt.position,!e.startAt.before):null;e.Ot=To(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.Ot}function eu(t,e,n){return new Ko(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nu(t,e){return No(tu(t),tu(e))&&t.limitType===e.limitType}function ru(t){return xo(tu(t))+"|lt:"+t.limitType}function iu(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+co(e.value);var e})).join(", ")+"]"),eo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Vo(t.startAt)),t.endAt&&(e+=", endAt: "+Vo(t.endAt)),"Target("+e+")"}(tu(t))+"; limitType="+t.limitType+")"}function ou(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Bi.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Bo(t.startAt,Zo(t),e)||t.endAt&&Bo(t.endAt,Zo(t),e))}(t,e)}function uu(t){return function(e,n){for(var r=!1,i=0,o=Zo(t);i<o.length;i++){var u=o[i],a=au(u,e,n);if(0!==a)return a;r=r||u.field.ht()}return 0}}function au(t,e,n){var r=t.field.ht()?Bi.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ao(r,i):hi()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return hi()}}var su=function(){function t(t,e,n,r,i,o,u){void 0===i&&(i=Fi.min()),void 0===o&&(o=Fi.min()),void 0===u&&(u=wi.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function cu(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:no(e)?"-0":e}}function lu(t){return{integerValue:""+t}}function fu(t,e){return ro(e)?lu(e):cu(t,e)}var hu=function(){this.Ut=void 0};function pu(t,e,n){return t instanceof yu?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof mu?gu(t,e):t instanceof bu?wu(t,e):function(t,e){var n=vu(t,e),r=_u(n)+_u(t.Qt);return ho(n)&&ho(t.Qt)?lu(r):cu(t.Kt,r)}(t,e)}function du(t,e,n){return t instanceof mu?gu(t,e):t instanceof bu?wu(t,e):n}function vu(t,e){return t instanceof Eu?ho(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var yu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(hu),mu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return o(e,t),e}(hu);function gu(t,e){for(var n=Su(e),r=function(t){n.some((function(e){return oo(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var bu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return o(e,t),e}(hu);function wu(t,e){for(var n=Su(e),r=function(t){n=n.filter((function(e){return!oo(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Eu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return o(e,t),e}(hu);function _u(t){return Ji(t.integerValue||t.doubleValue)}function Su(t){return po(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Iu=function(t,e){this.field=t,this.transform=e},ku=function(t,e){this.version=t,this.transformResults=e},Tu=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function xu(t,e){return void 0!==t.updateTime?e instanceof _o&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof _o}var Nu=function(){};function Ou(t,e,n){return t instanceof Du?function(t,e,n){var r=t.value;if(n.transformResults){var i=ju(t.fieldTransforms,e,n.transformResults);r=Uu(t.fieldTransforms,r,i)}return new _o(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ru?function(t,e,n){if(!xu(t.Gt,e))return new Io(t.key,n.version);var r=Mu(t,e,n.transformResults?ju(t.fieldTransforms,e,n.transformResults):[]);return new _o(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new So(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Cu(t,e,n,r){return t instanceof Du?function(t,e,n,r){if(!xu(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var o=Fu(t.fieldTransforms,n,e,r);i=Uu(t.fieldTransforms,i,o)}var u=Lu(e);return new _o(t.key,u,i,{bt:!0})}(t,e,r,n):t instanceof Ru?function(t,e,n,r){if(!xu(t.Gt,e))return e;var i=Lu(e),o=Mu(t,e,Fu(t.fieldTransforms,n,e,r));return new _o(t.key,i,o,{bt:!0})}(t,e,r,n):function(t,e){return xu(t.Gt,e)?new So(t.key,Fi.min()):e}(t,e)}function Au(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],u=e instanceof _o?e.field(o.field):void 0,a=vu(o.transform,u||null);null!=a&&(n=null==n?(new bo).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e):null}function Pu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&gi(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof mu&&e instanceof mu||t instanceof bu&&e instanceof bu?gi(t.elements,e.elements,oo):t instanceof Eu&&e instanceof Eu?oo(t.Qt,e.Qt):t instanceof yu&&e instanceof yu}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Lu(t){return t instanceof _o?t.version:Fi.min()}var Du=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return o(e,t),e}(Nu),Ru=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var u=this;return(u=t.call(this)||this).key=e,u.data=n,u.zt=r,u.Gt=i,u.fieldTransforms=o,u.type=1,u}return o(e,t),e}(Nu);function Mu(t,e,n){var r;return r=function(t,e){var n=new bo(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof _o?e.data():go.empty()),Uu(t.fieldTransforms,r,n)}function ju(t,e,n){var r=[];pi(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],u=o.transform,a=null;e instanceof _o&&(a=e.field(o.field)),r.push(du(u,a,n[i]))}return r}function Fu(t,e,n,r){for(var i=[],o=0,u=t;o<u.length;o++){var a=u[o],s=a.transform,c=null;n instanceof _o&&(c=n.field(a.field)),null===c&&r instanceof _o&&(c=r.field(a.field)),i.push(pu(s,c,e))}return i}function Uu(t,e,n){for(var r=new bo(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.yt()}var Vu,zu,qu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return o(e,t),e}(Nu),Bu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return o(e,t),e}(Nu),Hu=function(t){this.count=t};function Ku(t){switch(t){case Ei.OK:return hi();case Ei.CANCELLED:case Ei.UNKNOWN:case Ei.DEADLINE_EXCEEDED:case Ei.RESOURCE_EXHAUSTED:case Ei.INTERNAL:case Ei.UNAVAILABLE:case Ei.UNAUTHENTICATED:return!1;case Ei.INVALID_ARGUMENT:case Ei.NOT_FOUND:case Ei.ALREADY_EXISTS:case Ei.PERMISSION_DENIED:case Ei.FAILED_PRECONDITION:case Ei.ABORTED:case Ei.OUT_OF_RANGE:case Ei.UNIMPLEMENTED:case Ei.DATA_LOSS:return!0;default:return hi()}}function Gu(t){if(void 0===t)return ci("GRPC error has no .code"),Ei.UNKNOWN;switch(t){case Vu.OK:return Ei.OK;case Vu.CANCELLED:return Ei.CANCELLED;case Vu.UNKNOWN:return Ei.UNKNOWN;case Vu.DEADLINE_EXCEEDED:return Ei.DEADLINE_EXCEEDED;case Vu.RESOURCE_EXHAUSTED:return Ei.RESOURCE_EXHAUSTED;case Vu.INTERNAL:return Ei.INTERNAL;case Vu.UNAVAILABLE:return Ei.UNAVAILABLE;case Vu.UNAUTHENTICATED:return Ei.UNAUTHENTICATED;case Vu.INVALID_ARGUMENT:return Ei.INVALID_ARGUMENT;case Vu.NOT_FOUND:return Ei.NOT_FOUND;case Vu.ALREADY_EXISTS:return Ei.ALREADY_EXISTS;case Vu.PERMISSION_DENIED:return Ei.PERMISSION_DENIED;case Vu.FAILED_PRECONDITION:return Ei.FAILED_PRECONDITION;case Vu.ABORTED:return Ei.ABORTED;case Vu.OUT_OF_RANGE:return Ei.OUT_OF_RANGE;case Vu.UNIMPLEMENTED:return Ei.UNIMPLEMENTED;case Vu.DATA_LOSS:return Ei.DATA_LOSS;default:return hi()}}(zu=Vu||(Vu={}))[zu.OK=0]="OK",zu[zu.CANCELLED=1]="CANCELLED",zu[zu.UNKNOWN=2]="UNKNOWN",zu[zu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zu[zu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zu[zu.NOT_FOUND=5]="NOT_FOUND",zu[zu.ALREADY_EXISTS=6]="ALREADY_EXISTS",zu[zu.PERMISSION_DENIED=7]="PERMISSION_DENIED",zu[zu.UNAUTHENTICATED=16]="UNAUTHENTICATED",zu[zu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zu[zu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zu[zu.ABORTED=10]="ABORTED",zu[zu.OUT_OF_RANGE=11]="OUT_OF_RANGE",zu[zu.UNIMPLEMENTED=12]="UNIMPLEMENTED",zu[zu.INTERNAL=13]="INTERNAL",zu[zu.UNAVAILABLE=14]="UNAVAILABLE",zu[zu.DATA_LOSS=15]="DATA_LOSS";var Wu=function(){function t(t,e){this.J=t,this.root=e||Qu.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Qu.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Qu.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new $u(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new $u(this.root,t,this.J,!1)},t.prototype.se=function(){return new $u(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new $u(this.root,t,this.J,!0)},t}(),$u=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Qu=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw hi();if(this.right._e())throw hi();var t=this.left.me();if(t!==this.right.me())throw hi();return t+(this._e()?0:1)},t}();Qu.EMPTY=null,Qu.RED=!0,Qu.Jt=!1,Qu.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw hi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw hi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw hi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw hi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw hi()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Qu(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Ju=function(){function t(t){this.J=t,this.data=new Wu(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Xu(this.data.ee())},t.prototype.ne=function(t){return new Xu(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Xu=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Yu=new Wu(Bi.J);function Zu(){return Yu}function ta(){return Zu()}var ea=new Wu(Bi.J);function na(){return ea}var ra=new Wu(Bi.J);function ia(){return ra}var oa=new Ju(Bi.J);function ua(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=oa,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var aa=new Ju(mi);function sa(){return aa}var ca=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Bi.J(e.key,n.key)}:function(t,e){return Bi.J(t.key,e.key)},this.Ve=na(),this.pe=new Wu(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),la=function(){function t(){this.ve=new Wu(Bi.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):hi():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),fa=function(){function t(t,e,n,r,i,o,u,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=u,this.Ne=a}return t.Fe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,ca.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&nu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ha=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,pa.Be(e,n)),new t(Fi.min(),r,sa(),Zu(),ua())},t}(),pa=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(wi.h,n,ua(),ua(),ua())},t}(),da=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},va=function(t,e){this.targetId=t,this.Ge=e},ya=function(t,e,n,r){void 0===n&&(n=wi.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ma=function(){function t(){this.ze=0,this.He=wa(),this.Je=wi.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=ua(),e=ua(),n=ua();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:hi()}})),new pa(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=wa()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),ga=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Zu(),this.fn=ba(),this.dn=new Ju(mi)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof _o?this.En(r,t.je):t.je instanceof So&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.Tn(r,t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:hi()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Oo(i))if(0===n){var o=new Bi(i.path);this.Tn(e,o,new So(o,Fi.min()))}else pi(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&Oo(o.target)){var u=new Bi(o.target.path);null!==e._n.get(u)||e.bn(i,u)||e.Tn(i,u,new So(u,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=ua();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ha(t,n,this.dn,this._n,r);return this._n=Zu(),this.fn=ba(),this.dn=new Ju(mi),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new ma,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Ju(mi),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||si("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new ma),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function ba(){return new Wu(Bi.J)}function wa(){return new Wu(Bi.J)}var Ea={asc:"ASCENDING",desc:"DESCENDING"},_a={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sa=function(t,e){this.T=t,this.qt=e};function Ia(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ka(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Ta(t,e){return Ia(t,e.G())}function xa(t){return pi(!!t),Fi.W(function(t){var e=Qi(t);return new ji(e.seconds,e.nanos)}(t))}function Na(t,e){return function(t){return new Vi(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Oa(t){var e=Vi.ct(t);return pi(Za(e)),e}function Ca(t,e){return Na(t.T,e.path)}function Aa(t,e){var n=Oa(e);if(n.get(1)!==t.T.projectId)throw new _i(Ei.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new _i(Ei.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Bi(Ra(n))}function Pa(t,e){return Na(t.T,e)}function La(t){var e=Oa(t);return 4===e.length?Vi.at():Ra(e)}function Da(t){return new Vi(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Ra(t){return pi(t.length>4&&"documents"===t.get(4)),t.X(5)}function Ma(t,e,n){return{name:Ca(t,e),fields:n.proto.mapValue.fields}}function ja(t,e,n){var r=Aa(t,e.name),i=xa(e.updateTime),o=new go({mapValue:{fields:e.fields}});return new _o(r,i,o,{hasCommittedMutations:!!n})}function Fa(t,e){var n;if(e instanceof Du)n={update:Ma(t,e.key,e.value)};else if(e instanceof qu)n={delete:Ca(t,e.key)};else if(e instanceof Ru)n={update:Ma(t,e.key,e.data),updateMask:Ya(e.zt)};else{if(!(e instanceof Bu))return hi();n={verify:Ca(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof yu)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof mu)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof bu)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Eu)return{fieldPath:e.field.ot(),increment:n.Qt};throw hi()}(0,t)}))),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ta(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:hi()}(t,e.Gt)),n}function Ua(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Tu.updateTime(xa(t.updateTime)):void 0!==t.exists?Tu.exists(t.exists):Tu.Wt()}(e.currentDocument):Tu.Wt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)pi("REQUEST_TIME"===e.setToServerValue),n=new yu;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new mu(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new bu(i)}else"increment"in e?n=new Eu(t,e.increment):hi();var o=qi._t(e.fieldPath);return new Iu(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Aa(t,e.update.name),o=new go({mapValue:{fields:e.update.fields}});if(e.updateMask){var u=function(t){var e=t.fieldPaths||[];return new Wi(e.map((function(t){return qi._t(t)})))}(e.updateMask);return new Ru(i,o,u,n,r)}return new Du(i,o,n,r)}if(e.delete){var a=Aa(t,e.delete);return new qu(a,n)}if(e.verify){var s=Aa(t,e.verify);return new Bu(s,n)}return hi()}function Va(t,e){return{documents:[Pa(t,e.path)]}}function za(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Pa(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Pa(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(yo(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NAN"}};if(vo(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(yo(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NOT_NAN"}};if(vo(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(t.field),op:Wa(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:$a(t.field),direction:Ga(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var u=function(t,e){return t.qt||eo(e)?e:{value:e}}(t,e.limit);return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=Ha(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ha(e.endAt)),n}function qa(t){var e=La(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){pi(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var u=[];n.where&&(u=Ba(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new zo(Qa(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var s=null;n.limit&&(s=function(t){var e;return eo(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ka(n.startAt));var l=null;return n.endAt&&(l=Ka(n.endAt)),Go(e,i,a,u,s,"F",c,l)}function Ba(t){return t?void 0!==t.unaryFilter?[Xa(t)]:void 0!==t.fieldFilter?[Ja(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Ba(t)})).reduce((function(t,e){return t.concat(e)})):hi():[]}function Ha(t){return{before:t.before,values:t.position}}function Ka(t){var e=!!t.before,n=t.values||[];return new Uo(n,e)}function Ga(t){return Ea[t]}function Wa(t){return _a[t]}function $a(t){return{fieldPath:t.ot()}}function Qa(t){return qi._t(t.fieldPath)}function Ja(t){return Co.create(Qa(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return hi()}}(t.fieldFilter.op),t.fieldFilter.value)}function Xa(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Qa(t.unaryFilter.field);return Co.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Qa(t.unaryFilter.field);return Co.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qa(t.unaryFilter.field);return Co.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qa(t.unaryFilter.field);return Co.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return hi()}}function Ya(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function Za(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var ts=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},es=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&hi(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),ns=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new ts,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new os(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=ls(e.target.error);n.qn.reject(new os(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new os(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(si("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new as(e)},t}(),rs=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(v())&&ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return si("SimpleDb","Removing database:",t),ss(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=v(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return s(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(si("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new os(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new _i(Ei.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new os(t,n))},i.onupgradeneeded=function(t){si("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Qn.Yn(e,i.transaction,t.oldVersion,n.version).next((function(){si("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,u,a,c;return s(this,(function(l){switch(l.label){case 0:i="readonly"===e,o=0,u=function(){var e,u,c,l,f;return s(this,(function(s){switch(s.label){case 0:++o,s.label=1;case 1:return s.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=s.sent(),e=ns.open(a.db,t,i?"readonly":"readwrite",n),u=r(e).catch((function(t){return e.abort(t),es.reject(t)})).Mn(),c={},u.catch((function(){})),[4,e.Un];case 3:return[2,(c.value=(s.sent(),u),c)];case 4:return l=s.sent(),f="FirebaseError"!==l.name&&o<3,si("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),a.close(),f?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},a=this,l.label=1;case 1:return[5,u()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),is=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return ss(this.ts.delete())},t}(),os=function(t){function e(e,n){var r=this;return(r=t.call(this,Ei.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return o(e,t),e}(_i);function us(t){return"IndexedDbTransactionError"===t.name}var as=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(si("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(si("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ss(n)},t.prototype.add=function(t){return si("SimpleDb","ADD",this.store.name,t,t),ss(this.store.add(t))},t.prototype.get=function(t){var e=this;return ss(this.store.get(t)).next((function(n){return void 0===n&&(n=null),si("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return si("SimpleDb","DELETE",this.store.name,t),ss(this.store.delete(t))},t.prototype.count=function(){return si("SimpleDb","COUNT",this.store.name),ss(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){si("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new es((function(n,r){e.onerror=function(t){var e=ls(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new es((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new is(i),u=e(i.primaryKey,i.value,o);if(u instanceof es){var a=u.catch((function(t){return o.done(),es.reject(t)}));n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return es.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ss(t){return new es((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=ls(t.target.error);n(e)}}))}var cs=!1;function ls(t){var e=rs.Kn(v());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new _i("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return cs||(cs=!0,setTimeout((function(){throw r}),0)),r}}return t}var fs=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new ts,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var u=new t(e,n,Date.now()+r,i,o);return u.start(r),u},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new _i(Ei.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function hs(t,e){if(ci("AsyncQueue",e+": "+t),us(t))return new _i(Ei.UNAVAILABLE,e+": "+t);throw t}var ps=function(t,e){this.progress=t,this.gs=e},ds="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vs=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach((function(t){return t()}))},t}();function ys(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=gs(e)),e=ms(t.get(n),e);return gs(e)}function ms(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function gs(t){return t+""}function bs(t){var e=t.length;if(pi(e>=2),2===e)return pi(""===t.charAt(0)&&""===t.charAt(1)),Vi.at();for(var n=e-2,r=[],i="",o=0;o<e;){var u=t.indexOf("",o);switch((u<0||u>n)&&hi(),t.charAt(u+1)){case"":var a=t.substring(o,u),s=void 0;0===i.length?s=a:(s=i+=a,i=""),r.push(s);break;case"":i+=t.substring(o,u),i+="\0";break;case"":i+=t.substring(o,u+1);break;default:hi()}o=u+2}return new Vi(r)}var ws=function(t,e){this.seconds=t,this.nanoseconds=e},Es=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Es.store="owner",Es.key="owner";var _s=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};_s.store="mutationQueues",_s.keyPath="userId";var Ss=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ss.store="mutations",Ss.keyPath="batchId",Ss.userMutationsIndex="userMutationsIndex",Ss.userMutationsKeyPath=["userId","batchId"];var Is=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ys(e)]},t.key=function(t,e,n){return[t,ys(e),n]},t}();Is.store="documentMutations",Is.PLACEHOLDER=new Is;var ks=function(t,e){this.path=t,this.readTime=e},Ts=function(t,e){this.path=t,this.version=e},xs=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};xs.store="remoteDocuments",xs.readTimeIndex="readTimeIndex",xs.readTimeIndexPath="readTime",xs.collectionReadTimeIndex="collectionReadTimeIndex",xs.collectionReadTimeIndexPath=["parentPath","readTime"];var Ns=function(t){this.byteSize=t};Ns.store="remoteDocumentGlobal",Ns.key="remoteDocumentGlobalKey";var Os=function(t,e,n,r,i,o,u){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=u};Os.store="targets",Os.keyPath="targetId",Os.queryTargetsIndexName="queryTargetsIndex",Os.queryTargetsKeyPath=["canonicalId","targetId"];var Cs=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Cs.store="targetDocuments",Cs.keyPath=["targetId","path"],Cs.documentTargetsIndex="documentTargetsIndex",Cs.documentTargetsKeyPath=["path","targetId"];var As=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};As.key="targetGlobalKey",As.store="targetGlobal";var Ps=function(t,e){this.collectionId=t,this.parent=e};Ps.store="collectionParents",Ps.keyPath=["collectionId","parent"];var Ls=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ls.store="clientMetadata",Ls.keyPath="clientId";var Ds=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ds.store="bundles",Ds.keyPath="bundleId";var Rs=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Rs.store="namedQueries",Rs.keyPath="name";var Ms=h(h(h(h([_s.store,Ss.store,Is.store,xs.store,Os.store,Es.store,As.store,Cs.store],[Ls.store]),[Ns.store]),[Ps.store]),[Ds.store,Rs.store]),js=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return o(e,t),e}(vs);function Fs(t,e){var n=di(t);return rs.Hn(n.vs,e)}var Us=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Ou(o,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Cu(i,e,e,this.Ds))}for(var o=e,u=0,a=this.mutations;u<a.length;u++){var s=a[u];s.key.isEqual(t)&&(e=Cu(s,e,o,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ua())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&gi(this.mutations,t.mutations,(function(t,e){return Pu(t,e)}))&&gi(this.baseMutations,t.baseMutations,(function(t,e){return Pu(t,e)}))},t}(),Vs=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){pi(e.mutations.length===r.length);for(var i=ia(),o=e.mutations,u=0;u<o.length;u++)i=i.Ht(o[u].key,r[u].version);return new t(e,n,r,i)},t}(),zs=function(t){this.Ms=t};function qs(t,e){if(e.document)return ja(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Bi.Tt(e.noDocument.path),r=Ws(e.noDocument.readTime);return new So(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Bi.Tt(e.unknownDocument.path);return r=Ws(e.unknownDocument.version),new Io(i,r)}return hi()}function Bs(t,e,n){var r=Hs(n),i=e.key.path.Z().rt();if(e instanceof _o){var o=function(t,e){return{name:Ca(t,e.key),fields:e.vt().mapValue.fields,updateTime:Ia(t,e.version.G())}}(t.Ms,e),u=e.hasCommittedMutations;return new xs(null,null,o,u,r,i)}if(e instanceof So){var a=e.key.path.rt(),s=Gs(e.version);return u=e.hasCommittedMutations,new xs(null,new ks(a,s),null,u,r,i)}if(e instanceof Io){var c=e.key.path.rt(),l=Gs(e.version);return new xs(new Ts(c,l),null,null,!0,r,i)}return hi()}function Hs(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Ks(t){var e=new ji(t[0],t[1]);return Fi.W(e)}function Gs(t){var e=t.G();return new ws(e.seconds,e.nanoseconds)}function Ws(t){var e=new ji(t.seconds,t.nanoseconds);return Fi.W(e)}function $s(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Ua(t.Ms,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return Ua(t.Ms,e)})),u=ji.fromMillis(e.localWriteTimeMs);return new Us(e.batchId,u,n,o)}function Qs(t){var e,n,r=Ws(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ws(t.lastLimboFreeSnapshotVersion):Fi.min();return void 0!==t.query.documents?(pi(1===(n=t.query).documents.length),e=tu(Wo(La(n.documents[0])))):e=function(t){return tu(qa(t))}(t.query),new su(e,t.targetId,0,t.lastListenSequenceNumber,r,i,wi.fromBase64String(t.resumeToken))}function Js(t,e){var n,r=Gs(e.Mt),i=Gs(e.lastLimboFreeSnapshotVersion);n=Oo(e.target)?Va(t.Ms,e.target):za(t.Ms,e.target);var o=e.resumeToken.toBase64();return new Os(e.targetId,xo(e.target),r,o,e.sequenceNumber,i,n)}function Xs(t){var e=qa({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?eu(e,e.limit,"L"):e}var Ys=function(){function t(){}return t.prototype.Ls=function(t,e){return Zs(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Ws(e.createTime),version:e.version};var e}))},t.prototype.$s=function(t,e){return Zs(t).put({bundleId:(n=e).id,createTime:Gs(xa(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return tc(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Xs(e.bundledQuery),readTime:Ws(e.readTime)};var e}))},t.prototype.qs=function(t,e){return tc(t).put(function(t){return{name:t.name,readTime:Gs(xa(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Zs(t){return Fs(t,Ds.store)}function tc(t){return Fs(t,Rs.store)}var ec=function(){function t(){this.Us=new nc}return t.prototype.Qs=function(t,e){return this.Us.add(e),es.resolve()},t.prototype.Ks=function(t,e){return es.resolve(this.Us.getEntries(e))},t}(),nc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Ju(Vi.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ju(Vi.J)).rt()},t}(),rc=function(){function t(){this.Ws=new nc}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps((function(){n.Ws.add(e)}));var o={collectionId:r,parent:ys(i)};return ic(t).put(o)}return es.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[bi(e),""],!1,!0);return ic(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(bs(o.parent))}return n}))},t}();function ic(t){return Fs(t,Ps.store)}var oc={js:!1,Gs:0,zs:0,Hs:0},uc=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function ac(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){if(t.code!==Ei.FAILED_PRECONDITION||t.message!==ds)throw t;return si("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}uc.ti=10,uc.ei=1e3,uc.ni=new uc(41943040,uc.ti,uc.ei),uc.si=new uc(-1,0,0);var sc=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],u=o[0],a=o[1];if(this.ri(u,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Ki(this.oi,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],u=o[0],a=o[1];t(u,a)}}))},t.prototype.nt=function(){return Gi(this.oi)},t}(),cc=function(){function t(){this.ci=new sc((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:Fi.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?es.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function lc(t,e,n){var r=t.store(Ss.store),i=t.store(Is.store),o=[],u=IDBKeyRange.only(n.batchId),a=0,s=r.ls({range:u},(function(t,e,n){return a++,n.delete()}));o.push(s.next((function(){pi(1===a)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],p=Is.key(e,h.key.path,n.batchId);o.push(i.delete(p)),c.push(h.key)}return es.$n(o).next((function(){return c}))}function fc(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw hi();e=t.noDocument}return JSON.stringify(e).length}var hc=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return pi(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dc(t).ls({index:Ss.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.yi=function(t,e,n,r){var i=this,o=vc(t),u=dc(t);return u.add({}).next((function(a){pi("number"==typeof a);for(var s=new Us(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Fa(t.Ms,e)})),i=n.mutations.map((function(e){return Fa(t.Ms,e)}));return new Ss(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,s),l=[],f=new Ju((function(t,e){return mi(t.ot(),e.ot())})),h=0,p=r;h<p.length;h++){var d=p[h],v=Is.key(i.userId,d.key.path,a);f=f.add(d.key.path.Z()),l.push(u.put(c)),l.push(o.put(v,Is.PLACEHOLDER))}return f.forEach((function(e){l.push(i.Ii.Qs(t,e))})),t.ps((function(){i.Ai[a]=s.keys()})),es.$n(l).next((function(){return s}))}))},t.prototype.gi=function(t,e){var n=this;return dc(t).get(e).next((function(t){return t?(pi(t.userId===n.userId),$s(n.Kt,t)):null}))},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?es.resolve(this.Ai[e]):this.gi(t,e).next((function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null}))},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return dc(t).ls({index:Ss.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(pi(e.batchId>=r),o=$s(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return dc(t).ls({index:Ss.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dc(t).os(Ss.userMutationsIndex,n).next((function(t){return t.map((function(t){return $s(e.Kt,t)}))}))},t.prototype.Si=function(t,e){var n=this,r=Is.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return vc(t).ls({range:i},(function(r,i,u){var a=r[0],s=r[1],c=r[2],l=bs(s);if(a===n.userId&&e.path.isEqual(l))return dc(t).get(c).next((function(t){if(!t)throw hi();pi(t.userId===n.userId),o.push($s(n.Kt,t))}));u.done()})).next((function(){return o}))},t.prototype.Di=function(t,e){var n=this,r=new Ju(mi),i=[];return e.forEach((function(e){var o=Is.prefixForPath(n.userId,e.path),u=IDBKeyRange.lowerBound(o),a=vc(t).ls({range:u},(function(t,i,o){var u=t[0],a=t[1],s=t[2],c=bs(a);u===n.userId&&e.path.isEqual(c)?r=r.add(s):o.done()}));i.push(a)})),es.$n(i).next((function(){return n.Ci(t,r)}))},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,o=Is.prefixForPath(this.userId,r),u=IDBKeyRange.lowerBound(o),a=new Ju(mi);return vc(t).ls({range:u},(function(t,e,o){var u=t[0],s=t[1],c=t[2],l=bs(s);u===n.userId&&r.st(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Ci(t,a)}))},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(dc(t).get(e).next((function(t){if(null===t)throw hi();pi(t.userId===n.userId),r.push($s(n.Kt,t))})))})),es.$n(i).next((function(){return r}))},t.prototype.Ni=function(t,e){var n=this;return lc(t.vs,this.userId,e).next((function(r){return t.ps((function(){n.Fi(e.batchId)})),es.forEach(r,(function(e){return n.mi.Oi(t,e)}))}))},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next((function(n){if(!n)return es.resolve();var r=IDBKeyRange.lowerBound(Is.prefixForUser(e.userId)),i=[];return vc(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=bs(t[1]);i.push(o)}else r.done()})).next((function(){pi(0===i.length)}))}))},t.prototype.Mi=function(t,e){return pc(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return yc(t).get(this.userId).next((function(t){return t||new _s(e.userId,-1,"")}))},t}();function pc(t,e,n){var r=Is.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return vc(t).ls({range:o,hs:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(u=!0),r.done()})).next((function(){return u}))}function dc(t){return Fs(t,Ss.store)}function vc(t){return Fs(t,Is.store)}function yc(t){return Fs(t,_s.store)}var mc=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),gc=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next((function(n){var r=new mc(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Wi=function(t){return this.Qi(t).next((function(t){return Fi.W(new ji(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)}))},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next((function(){return n.Qi(t).next((function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)}))}))},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next((function(){return bc(t).delete(e.targetId)})).next((function(){return n.Qi(t)})).next((function(e){return pi(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)}))},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return bc(t).ls((function(u,a){var s=Qs(a);s.sequenceNumber<=e&&null===n.get(s.targetId)&&(i++,o.push(r.Xi(t,s)))})).next((function(){return es.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return bc(t).ls((function(t,n){var r=Qs(n);e(r)}))},t.prototype.Qi=function(t){return wc(t).get(As.key).next((function(t){return pi(null!==t),t}))},t.prototype.Ki=function(t,e){return wc(t).put(As.key,e)},t.prototype.Hi=function(t,e){return bc(t).put(Js(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next((function(t){return t.targetCount}))},t.prototype.nr=function(t,e){var n=xo(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bc(t).ls({range:r,index:Os.queryTargetsIndexName},(function(t,n,r){var o=Qs(n);No(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.sr=function(t,e,n){var r=this,i=[],o=Ec(t);return e.forEach((function(e){var u=ys(e.path);i.push(o.put(new Cs(n,u))),i.push(r.mi.ir(t,n,e))})),es.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=Ec(t);return es.forEach(e,(function(e){var o=ys(e.path);return es.$n([i.delete([n,o]),r.mi.cr(t,n,e)])}))},t.prototype.Zi=function(t,e){var n=Ec(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ec(t),i=ua();return r.ls({range:n,hs:!0},(function(t,e,n){var r=bs(t[1]),o=new Bi(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Mi=function(t,e){var n=ys(e.path),r=IDBKeyRange.bound([n],[bi(n)],!1,!0),i=0;return Ec(t).ls({index:Cs.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return bc(t).get(e).next((function(t){return t?Qs(t):null}))},t}();function bc(t){return Fs(t,Os.store)}function wc(t){return Fs(t,As.store)}function Ec(t){return Fs(t,Cs.store)}function _c(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],u=mi(n,i);return 0===u?mi(r,o):u}var Sc=function(){function t(t){this.ur=t,this.buffer=new Ju(_c),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();_c(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ic=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;si("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,(function(){return a(e,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return us(e=n.sent())?(si("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ac(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),kc=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.gr=function(t,e){var n=this;if(0===e)return es.resolve(Mi.U);var r=new Sc(e);return this.Rr.mn(t,(function(t){return r._r(t.sequenceNumber)})).next((function(){return n.Rr.Vr(t,(function(t){return r._r(t)}))})).next((function(){return r.maxValue}))},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(si("LruGarbageCollector","Garbage collection skipped; disabled"),es.resolve(oc)):this.vr(t).next((function(r){return r<n.params.Js?(si("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),oc):n.Sr(t,e)}))},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,o,u,a,s,c=this,l=Date.now();return this.Pr(t,this.params.Ys).next((function(e){return e>c.params.Xs?(si("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,o=Date.now(),c.gr(t,r)})).next((function(r){return n=r,u=Date.now(),c.tr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.pr(t,n)})).next((function(t){return s=Date.now(),ai()<=A.DEBUG&&si("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(u-o)+"ms\n\tRemoved "+i+" targets in "+(a-u)+"ms\n\tRemoved "+t+" documents in "+(s-a)+"ms\nTotal Duration: "+(s-l)+"ms"),es.resolve({js:!0,Gs:r,zs:i,Hs:t})}))},t}(),Tc=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new kc(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Dr=function(t){var e=0;return this.Vr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,(function(t,n){return e(n)}))},t.prototype.ir=function(t,e,n){return xc(t,n)},t.prototype.cr=function(t,e,n){return xc(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return xc(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return yc(t)._s((function(r){return pc(t,r,e).next((function(t){return t&&(n=!0),es.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],o=0;return this.Nr(t,(function(u,a){if(a<=e){var s=n.Fr(t,u).next((function(e){if(!e)return o++,r.di(t,u).next((function(){return r.fi(u),Ec(t).delete([0,ys(u.path)])}))}));i.push(s)}})).next((function(){return es.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return xc(t,e)},t.prototype.Nr=function(t,e){var n,r=Ec(t),i=Mi.U;return r.ls({index:Cs.documentTargetsIndex},(function(t,r){var o=t[0],u=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==Mi.U&&e(new Bi(bs(n)),i),i=a,n=u):i=Mi.U})).next((function(){i!==Mi.U&&e(new Bi(bs(n)),i)}))},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function xc(t,e){return Ec(t).put(function(t,e){return new Cs(0,ys(t.path),e)}(e,t.Ss))}var Nc=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return Ac(t).put(Pc(e),n)},t.prototype.fi=function(t,e){var n=Ac(t),r=Pc(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.$r(t,r)}))},t.prototype.di=function(t,e){var n=this;return Ac(t).get(Pc(e)).next((function(t){return n.Br(t)}))},t.prototype.qr=function(t,e){var n=this;return Ac(t).get(Pc(e)).next((function(t){var e=n.Br(t);return e?{_i:e,size:fc(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ta();return this.Ur(t,e,(function(t,e){var i=n.Br(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this,r=ta(),i=new Wu(Bi.J);return this.Ur(t,e,(function(t,e){var o=n.Br(e);o?(r=r.Ht(t,o),i=i.Ht(t,fc(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Kr:r,Wr:i}}))},t.prototype.Ur=function(t,e,n){if(e.nt())return es.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Ac(t).ls({range:r},(function(t,e,r){for(var u=Bi.Tt(t);o&&Bi.J(o,u)<0;)n(o,null),o=i.ce();o&&o.isEqual(u)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=na(),o=e.path.length+1,u={};if(n.isEqual(Fi.min())){var a=e.path.rt();u.range=IDBKeyRange.lowerBound(a)}else{var s=e.path.rt(),c=Hs(n);u.range=IDBKeyRange.lowerBound([s,c],!0),u.index=xs.collectionReadTimeIndex}return Ac(t).ls(u,(function(t,n,u){if(t.length===o){var a=qs(r.Kt,n);e.path.st(a.key.path)?a instanceof _o&&ou(e,a)&&(i=i.Ht(a.key,a)):u.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new Oc(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Cc(t).get(Ns.key).next((function(t){return pi(!!t),t}))},t.prototype.$r=function(t,e){return Cc(t).put(Ns.key,e)},t.prototype.Br=function(t){if(t){var e=qs(this.Kt,t);return e instanceof So&&e.version.isEqual(Fi.min())?null:e}return null},t}(),Oc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new sc((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return o(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new Ju((function(t,e){return mi(t.ot(),e.ot())}));return this.ci.forEach((function(o,u){var a=e.Hr.get(o);if(u._i){var s=Bs(e.zr.Kt,u._i,e.ui(o));i=i.add(o.path.Z());var c=fc(s);r+=c-a,n.push(e.zr.hi(t,o,s))}else if(r-=a,e.Gr){var l=Bs(e.zr.Kt,new So(o,Fi.min()),e.ui(o));n.push(e.zr.hi(t,o,l))}else n.push(e.zr.fi(t,o))})),i.forEach((function(r){n.push(e.zr.Ii.Qs(t,r))})),n.push(this.zr.updateMetadata(t,r)),es.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next((function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)}))},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next((function(t){var e=t.Kr;return t.Wr.forEach((function(t,e){n.Hr.set(t,e)})),e}))},e}(cc);function Cc(t){return Fs(t,Ns.store)}function Ac(t){return Fs(t,xs.store)}function Pc(t){return t.path.rt()}var Lc=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;pi(n<r&&n>=0&&r<=11);var o=new ns("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Es.store)}(t),function(t){t.createObjectStore(_s.store,{keyPath:_s.keyPath}),t.createObjectStore(Ss.store,{keyPath:Ss.keyPath,autoIncrement:!0}).createIndex(Ss.userMutationsIndex,Ss.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Is.store)}(t),Dc(t),function(t){t.createObjectStore(xs.store)}(t));var u=es.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Cs.store),t.deleteObjectStore(Os.store),t.deleteObjectStore(As.store)}(t),Dc(t)),u=u.next((function(){return function(t){var e=t.store(As.store),n=new As(0,0,Fi.min().G(),0);return e.put(As.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(u=u.next((function(){return function(t,e){return e.store(Ss.store).os().next((function(n){t.deleteObjectStore(Ss.store),t.createObjectStore(Ss.store,{keyPath:Ss.keyPath,autoIncrement:!0}).createIndex(Ss.userMutationsIndex,Ss.userMutationsKeyPath,{unique:!0});var r=e.store(Ss.store),i=n.map((function(t){return r.put(t)}));return es.$n(i)}))}(t,o)}))),u=u.next((function(){!function(t){t.createObjectStore(Ls.store,{keyPath:Ls.keyPath})}(t)}))),n<5&&r>=5&&(u=u.next((function(){return i.Jr(o)}))),n<6&&r>=6&&(u=u.next((function(){return function(t){t.createObjectStore(Ns.store)}(t),i.Yr(o)}))),n<7&&r>=7&&(u=u.next((function(){return i.Xr(o)}))),n<8&&r>=8&&(u=u.next((function(){return i.Zr(t,o)}))),n<9&&r>=9&&(u=u.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(xs.store);e.createIndex(xs.readTimeIndex,xs.readTimeIndexPath,{unique:!1}),e.createIndex(xs.collectionReadTimeIndex,xs.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(u=u.next((function(){return i.eo(o)}))),n<11&&r>=11&&(u=u.next((function(){!function(t){t.createObjectStore(Ds.store,{keyPath:Ds.keyPath})}(t),function(t){t.createObjectStore(Rs.store,{keyPath:Rs.keyPath})}(t)}))),u},t.prototype.Yr=function(t){var e=0;return t.store(xs.store).ls((function(t,n){e+=fc(n)})).next((function(){var n=new Ns(e);return t.store(Ns.store).put(Ns.key,n)}))},t.prototype.Jr=function(t){var e=this,n=t.store(_s.store),r=t.store(Ss.store);return n.os().next((function(n){return es.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Ss.userMutationsIndex,i).next((function(r){return es.forEach(r,(function(r){pi(r.userId===n.userId);var i=$s(e.Kt,r);return lc(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Xr=function(t){var e=t.store(Cs.store),n=t.store(xs.store);return t.store(As.store).get(As.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new Vi(n),u=function(t){return[0,ys(t)]}(o);r.push(e.get(u).next((function(n){return n?es.resolve():function(n){return e.put(new Cs(0,ys(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return es.$n(r)}))}))},t.prototype.Zr=function(t,e){t.createObjectStore(Ps.store,{keyPath:Ps.keyPath});var n=e.store(Ps.store),r=new nc,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:ys(i)})}};return e.store(xs.store).ls({hs:!0},(function(t,e){var n=new Vi(t);return i(n.Z())})).next((function(){return e.store(Is.store).ls({hs:!0},(function(t,e){t[0];var n=t[1],r=(t[2],bs(n));return i(r.Z())}))}))},t.prototype.eo=function(t){var e=this,n=t.store(Os.store);return n.ls((function(t,r){var i=Qs(r),o=Js(e.Kt,i);return n.put(o)}))},t}();function Dc(t){t.createObjectStore(Cs.store,{keyPath:Cs.keyPath}).createIndex(Cs.documentTargetsIndex,Cs.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Os.store,{keyPath:Os.keyPath}).createIndex(Os.queryTargetsIndexName,Os.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(As.store)}var Rc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Mc=function(){function t(e,n,r,i,o,u,a,s,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=o,this.window=u,this.document=a,this.so=c,this.io=l,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new _i(Ei.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new Tc(this,i),this._o=n+"main",this.Kt=new zs(s),this.fo=new rs(this._o,11,new Lc(this.Kt)),this.wo=new gc(this.mi,this.Kt),this.Ii=new rc,this.Eo=function(t,e){return new Nc(t,e)}(this.Kt,this.Ii),this.To=new Ys,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===l&&ci("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new _i(Ei.FAILED_PRECONDITION,Rc);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.wo.ji(e)}))})).then((function(e){t.ro=new Mi(e,t.so)})).then((function(){t.oo=!0})).catch((function(e){return t.fo&&t.fo.close(),Promise.reject(e)}))},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){return this.Ir?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn((function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys((function(){return a(e,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Fc(e).put(new Ls(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.bo(e).next((function(e){e||(t.isPrimary=!1,t.no.vo((function(){return t.lo(!1)})))}))})).next((function(){return t.So(e)})).next((function(n){return t.isPrimary&&!n?t.Do(e).next((function(){return!1})):!!n&&t.Co(e).next((function(){return!0}))}))})).catch((function(e){if(us(e))return si("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return si("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.no.vo((function(){return t.lo(e)})),t.isPrimary=e}))},t.prototype.bo=function(t){var e=this;return jc(t).get(Es.key).next((function(t){return es.resolve(e.xo(t))}))},t.prototype.No=function(t){return Fc(t).delete(this.clientId)},t.prototype.Fo=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i=this;return s(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Fs(t,Ls.store);return e.os().next((function(t){var n=i.ko(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return es.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Io)for(e=0,n=t;e<n.length;e++)r=n[e],this.Io.removeItem(this.Mo(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,(function(){return t.mo().then((function(){return t.Fo()})).then((function(){return t.Po()}))}))},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?es.resolve(!0):jc(t).get(Es.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new _i(Ei.FAILED_PRECONDITION,Rc);return!1}}return!(!e.networkEnabled||!e.inForeground)||Fc(t).os().next((function(t){return void 0===e.ko(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&si("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.$o=function(){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[Es.store,Ls.store],(function(e){var n=new js(e,Mi.U);return t.Do(n).next((function(){return t.No(n)}))}))];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}}))}))},t.prototype.ko=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)}))},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Fc(e).os().next((function(e){return t.ko(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return hc.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;si("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.fo.runTransaction(t,o,Ms,(function(o){return i=new js(o,r.ro?r.ro.next():Mi.U),"readwrite-primary"===e?r.bo(i).next((function(t){return!!t||r.So(i)})).next((function(e){if(!e)throw ci("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.no.vo((function(){return r.lo(!1)})),new _i(Ei.FAILED_PRECONDITION,ds);return n(i)})).next((function(t){return r.Co(i).next((function(){return t}))})):r.zo(i).next((function(){return n(i)}))})).then((function(t){return i.bs(),t}))},t.prototype.zo=function(t){var e=this;return jc(t).get(Es.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new _i(Ei.FAILED_PRECONDITION,Rc)}))},t.prototype.Co=function(t){var e=new Es(this.clientId,this.allowTabSynchronization,Date.now());return jc(t).put(Es.key,e)},t.Wn=function(){return rs.Wn()},t.prototype.Do=function(t){var e=this,n=jc(t);return n.get(Es.key).next((function(t){return e.xo(t)?(si("IndexedDbPersistence","Releasing primary lease."),n.delete(Es.key)):es.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ci("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()}))},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys((function(){return e.$o()}))},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return si("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ci("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){ci("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function jc(t){return Fs(t,Es.store)}function Fc(t){return Fs(t,Ls.store)}function Uc(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Vc=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=ta();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ns(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next((function(r){var i=n.Xo(t,e,r),o=Zu();return i.forEach((function(t,e){e||(e=new So(t,Fi.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return Bi.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Yo(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Bi(e)).next((function(t){var e=na();return t instanceof _o&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=na();return this.Ii.Ks(t,i).next((function(u){return es.forEach(u,(function(u){var a=function(t,e){return new Ko(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,u.child(i));return r.sc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.Eo.jr(t,e,n).next((function(n){return r=n,o.Ho.xi(t,e)})).next((function(e){return i=e,o.ic(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],u=0,a=o.mutations;u<a.length;u++){var s=a[u],c=s.key,l=r.get(c),f=Cu(s,l,l,o.Ds);r=f instanceof _o?r.Ht(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){ou(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=ua(),i=0,o=e;i<o.length;i++)for(var u=0,a=o[i].mutations;u<a.length;u++){var s=a[u];s instanceof Ru&&null===n.get(s.key)&&(r=r.add(s.key))}var c=n;return this.Eo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof _o&&(c=c.Ht(t,e))})),c}))},t}(),zc=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=ua(),i=ua(),o=0,u=n.docChanges;o<u.length;o++){var a=u[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),qc=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Fi.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var u=i.lc(e,o);return($o(e)||Qo(e))&&i._c(e.limitType,u,r,n)?i.hc(t,e):(ai()<=A.DEBUG&&si("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),iu(e)),i.uc.jr(t,e,n).next((function(t){return u.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Ju(uu(t));return e.forEach((function(e,r){r instanceof _o&&ou(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return ai()<=A.DEBUG&&si("QueryEngine","Using full collection scan to execute query:",iu(e)),this.uc.jr(t,e,Fi.min())},t}(),Bc=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Wu(mi),this.wc=new sc((function(t){return xo(t)}),No),this.Ec=Fi.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new Vc(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.br(n,e.dc)}))},t}();function Hc(t,e,n,r){return new Bc(t,e,n,r)}function Kc(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(u){switch(u.label){case 0:return n=di(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.vi(t).next((function(u){return o=u,r=n.persistence.Wo(e),i=new Vc(n.Tc,r,n.persistence.jo()),r.vi(t)})).next((function(e){for(var n=[],r=[],u=ua(),a=0,s=o;a<s.length;a++){var c=s[a];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];u=u.add(h.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,m=v.mutations;y<m.length;y++){var g=m[y];u=u.add(g.key)}}return i.Zo(t,u).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=u.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function Gc(t,e){var n=di(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),u=es.resolve();return o.forEach((function(t){u=u.next((function(){return r.di(e,t)})).next((function(e){var o=e,u=n.ks.get(t);pi(null!==u),(!o||o.version.u(u)<0)&&(o=i.Cs(t,o,n))&&r.hi(o,n.Os)}))})),u.next((function(){return t.Ho.Ni(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function Wc(t){var e=di(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.wo.Wi(t)}))}function $c(t,e){var n=di(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Gr:!0});i=n.dc;var u=[];e.Oe.forEach((function(e,o){var a=i.get(o);if(a){u.push(n.wo.rr(t,e.Ke,o).next((function(){return n.wo.sr(t,e.Ue,o)})));var s=e.resumeToken;if(s.o()>0){var c=a.$t(s,r).Lt(t.Ss);i=i.Ht(o,c),function(t,e,n){return pi(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&u.push(n.wo.Yi(t,c))}}}));var a=Zu();if(e.Me.forEach((function(r,i){e.Le.has(r)&&u.push(n.persistence.mi.Mr(t,r))})),u.push(Qc(t,o,e.Me,r,void 0).next((function(t){a=t}))),!r.isEqual(Fi.min())){var s=n.wo.Wi(t).next((function(e){return n.wo.Gi(t,t.Ss,r)}));u.push(s)}return es.$n(u).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,a)}))})).then((function(t){return n.dc=i,t}))}function Qc(t,e,n,r,i){var o=ua();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Zu();return n.forEach((function(n,u){var a=t.get(n),s=(null==i?void 0:i.get(n))||r;u instanceof So&&u.version.isEqual(Fi.min())?(e.fi(n,s),o=o.Ht(n,u)):null==a||u.version.u(a.version)>0||0===u.version.u(a.version)&&a.hasPendingWrites?(e.hi(u,s),o=o.Ht(n,u)):si("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",u.version)})),o}))}function Jc(t,e){var n=di(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)}))}function Xc(t,e){var n=di(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.wo.nr(t,e).next((function(i){return i?(r=i,es.resolve(r)):n.wo.Ui(t).next((function(i){return r=new su(e,i,0,t.Ss),n.wo.zi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function Yc(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,u;return s(this,(function(a){switch(a.label){case 0:r=di(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.mi.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!us(u=a.sent()))throw u;return si("LocalStore","Failed to update sequence numbers for target "+e+": "+u),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function Zc(t,e,n){var r=di(t),i=Fi.min(),o=ua();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=di(t),i=r.wc.get(n);return void 0!==i?es.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,tu(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:Fi.min(),n?o:ua())})).next((function(t){return{documents:t,Pc:o}}))}))}function tl(t,e){var n=di(t),r=di(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function el(t){var e=di(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=di(t),i=Zu(),o=Hs(n),u=Ac(e),a=IDBKeyRange.lowerBound(o,!0);return u.ls({index:xs.readTimeIndex,range:a},(function(t,e){var n=qs(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{gs:i,readTime:Ks(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.gs,r=t.readTime;return e.Ec=r,n}))}function nl(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){return[2,(e=di(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Ac(t),n=Fi.min();return e.ls({index:xs.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ks(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function rl(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,u,a,c,l,f,h,p,d;return s(this,(function(s){switch(s.label){case 0:for(i=di(t),o=ua(),u=Zu(),a=ia(),c=0,l=n;c<l.length;c++)f=l[c],h=e.yc(f.metadata.name),f.document&&(o=o.add(h)),u=u.Ht(h,e.gc(f)),a=a.Ht(h,e.Vc(f.metadata.readTime));return p=i.Tc.Or({Gr:!0}),[4,Xc(i,function(t){return tu(Wo(Vi.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=s.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Qc(t,p,u,Fi.min(),a).next((function(e){return p.apply(t),e})).next((function(e){return i.wo.Zi(t,d.targetId).next((function(){return i.wo.sr(t,o,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function il(t,e,n){return void 0===n&&(n=ua()),a(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:return[4,Xc(t,tu(Xs(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=di(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=xa(e.readTime);if(r.Mt.u(o)>=0)return i.To.qs(t,e);var u=r.$t(wi.h,o);return i.dc=i.dc.Ht(u.targetId,u),i.wo.Yi(t,u).next((function(){return i.wo.Zi(t,r.targetId)})).next((function(){return i.wo.sr(t,n,r.targetId)})).next((function(){return i.To.qs(t,e)}))}))]}}))}))}var ol=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return es.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:xa(n.createTime)}),es.resolve()},t.prototype.Bs=function(t,e){return es.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Xs(t.bundledQuery),readTime:xa(t.readTime)}}(e)),es.resolve()},t}(),ul=function(){function t(){this.Sc=new Ju(al.Dc),this.Cc=new Ju(al.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new al(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.cr=function(t,e){this.Fc(new al(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach((function(t){return n.cr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new Bi(new Vi([])),r=new al(n,t),i=new al(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Fc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Fc(e)}))},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Bi(new Vi([])),n=new al(e,t),r=new al(e,t+1),i=ua();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mi=function(t){var e=new al(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),al=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Bi.J(t.key,e.key)||mi(t.$c,e.$c)},t.xc=function(t,e){return mi(t.$c,e.$c)||Bi.J(t.key,e.key)},t}(),sl=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new Ju(al.Dc)}return t.prototype.Pi=function(t){return es.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++,this.Ho.length>0&&this.Ho[this.Ho.length-1];var o=new Us(i,e,n,r);this.Ho.push(o);for(var u=0,a=r;u<a.length;u++){var s=a[u];this.qc=this.qc.add(new al(s.key,i)),this.Ii.Qs(t,s.key.path.Z())}return es.resolve(o)},t.prototype.gi=function(t,e){return es.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=e+1,r=this.Qc(n),i=r<0?0:r;return es.resolve(this.Ho.length>i?this.Ho[i]:null)},t.prototype.bi=function(){return es.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return es.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new al(e,0),i=new al(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),es.resolve(o)},t.prototype.Di=function(t,e){var n=this,r=new Ju(mi);return e.forEach((function(t){var e=new al(t,0),i=new al(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),es.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;Bi.Et(i)||(i=i.child(""));var o=new al(new Bi(i),0),u=new Ju(mi);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(u=u.add(t.$c)),!0)}),o),es.resolve(this.Kc(u))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.Ni=function(t,e){var n=this;pi(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return es.forEach(e.mutations,(function(i){var o=new al(i.key,e.batchId);return r=r.delete(o),n.mi.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new al(e,0),r=this.qc.Pe(n);return es.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return this.Ho.length,es.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),cl=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new Wu(Bi.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,u=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:u,readTime:n}),this.size+=u-o,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return es.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=ta();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)})),es.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=na(),i=new Bi(e.path.child("")),o=this.docs.ne(i);o.ae();){var u=o.ce(),a=u.key,s=u.value,c=s._i,l=s.readTime;if(!e.path.st(a.path))break;l.u(n)<=0||c instanceof _o&&ou(e,c)&&(r=r.Ht(c.key,c))}return es.resolve(r)},t.prototype.Gc=function(t,e){return es.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new ll(this)},t.prototype.Lr=function(t){return es.resolve(this.size)},t}(),ll=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return o(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach((function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)})),es.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(cc),fl=function(){function t(t){this.persistence=t,this.zc=new sc((function(t){return xo(t)}),No),this.lastRemoteSnapshotVersion=Fi.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new ul,this.targetCount=0,this.Yc=mc.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),es.resolve()},t.prototype.Wi=function(t){return es.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return es.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),es.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),es.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new mc(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,es.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),es.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,es.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(u,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(u),o.push(r.Zi(t,a.targetId)),i++)})),es.$n(o).next((function(){return i}))},t.prototype.er=function(t){return es.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return es.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),es.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),es.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),es.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return es.resolve(n)},t.prototype.Mi=function(t,e){return es.resolve(this.Jc.Mi(e))},t}(),hl=function(){function t(t,e){var n=this;this.Xc={},this.ro=new Mi(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new fl(this),this.Ii=new ec,this.Eo=function(t,e){return new cl(t,(function(t){return n.mi.Zc(t)}))}(this.Ii),this.Kt=new zs(e),this.To=new ol(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new sl(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;si("MemoryPersistence","Starting transaction:",t);var i=new pl(this.ro.next());return this.mi.ta(),n(i).next((function(t){return r.mi.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.bs(),t}))},t.prototype.na=function(t,e){return es.Bn(Object.values(this.Xc).map((function(n){return function(){return n.Mi(t,e)}})))},t}(),pl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return o(e,t),e}(vs),dl=function(){function t(t){this.persistence=t,this.sa=new ul,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw hi()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),es.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),es.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),es.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Cr();return r.ar(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Xi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return es.forEach(this.oa,(function(r){var i=Bi.ft(r);return e.ca(t,i).next((function(t){t||n.fi(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return es.Bn([function(){return es.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function vl(t,e){return"firestore_clients_"+t+"_"+e}function yl(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function ml(t,e){return"firestore_targets_"+t+"_"+e}var gl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),u=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(u=new _i(i.error.code,i.error.message)),o?new t(e,n,i.state,u):(ci("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),bl=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new _i(r.error.code,r.error.message)),i?new t(e,r.state,o):(ci("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),wl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=sa(),u=0;i&&u<r.activeTargetIds.length;++u)i=ro(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new t(e,o):(ci("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),El=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ci("SharedClientState","Failed to parse online state: "+e),null)},t}(),_l=function(){function t(){this.activeTargetIds=sa()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Sl=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Wu(mi),this.Ir=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=vl(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new _l),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i,o,u,a,c,l,f,h=this;return s(this,(function(s){switch(s.label){case 0:return[4,this.fa.Ko()];case 1:for(t=s.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(vl(this.persistenceKey,r)))&&(o=wl.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(u=this.storage.getItem(this.ga))&&(a=this.ba(u))&&this.va(a),c=0,l=this.Ia;c<l.length;c++)f=l[c],this.Ea(f);return this.Ia=[],this.window.addEventListener("unload",(function(){return h.$o()})),this.Ir=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(ml(this.persistenceKey,t));if(n){var r=bl.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(ml(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Oa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return si("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){si("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){si("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(si("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo((function(){return a(e,void 0,void 0,(function(){var t,e,r,i,o,u;return s(this,(function(a){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(u=function(t){var e=Mi.U;if(null!=t)try{var n=JSON.parse(t);pi("number"==typeof n),e=n}catch(t){ci("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Mi.U&&this.L(u);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new gl(this.currentUser,t,e,n),i=yl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=yl(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){var e={clientId:this._a,onlineState:t};this.storage.setItem(this.ga,JSON.stringify(e))},t.prototype.Ua=function(t,e,n){var r=ml(this.persistenceKey,t),i=new bl(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return wl.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return gl.aa(new Ci(i),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return bl.aa(r,e)},t.prototype.ba=function(t){return El.aa(t)},t.prototype.Xa=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(si("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),u=[],a=[];return o.forEach((function(t){i.has(t)||u.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fa.iu(u,a).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=sa();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),Il=function(){function t(){this.ru=new _l,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new _l,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),kl=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),Tl=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){si("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){si("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),xl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Nl=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Ol=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return o(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var u=new oi;u.listenOnce(ti.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Zr.NO_ERROR:var e=u.getResponseJson();si("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Zr.TIMEOUT:si("Connection",'RPC "'+t+'" timed out'),o(new _i(Ei.DEADLINE_EXCEEDED,"Request time out"));break;case Zr.HTTP_ERROR:var n=u.getStatus();if(si("Connection",'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ei).indexOf(e)>=0?e:Ei.UNKNOWN}(r.status);o(new _i(a,r.message))}else o(new _i(Ei.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new _i(Ei.UNAVAILABLE,"Connection failed."));break;default:hi()}}finally{si("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);u.send(e,"POST",a,n,15)}))},e.prototype.xu=function(t,e){var n,r=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new $r,o=Qe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(u.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())||"object"==typeof navigator&&"ReactNative"===navigator.product||v().indexOf("Electron/")>=0||function(){var t=v();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||v().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(u.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");si("Connection","Creating WebChannel: "+a,u);var s=i.createWebChannel(a,u),c=!1,l=!1,f=new Nl({du:function(t){l?si("Connection","Not sending because WebChannel is closed:",t):(c||(si("Connection","Opening WebChannel transport."),s.open(),c=!0),si("Connection","WebChannel sending:",t),s.send(t))},wu:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,ii.EventType.OPEN,(function(){l||si("Connection","WebChannel transport opened.")})),h(s,ii.EventType.CLOSE,(function(){l||(l=!0,si("Connection","WebChannel transport closed"),f.Pu())})),h(s,ii.EventType.ERROR,(function(t){l||(l=!0,li("Connection","WebChannel transport errored:",t),f.Pu(new _i(Ei.UNAVAILABLE,"The operation could not be completed")))})),h(s,ii.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];pi(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){si("Connection","WebChannel received error:",i);var o=i.status,u=function(t){var e=Vu[t];if(void 0!==e)return Gu(e)}(o),a=i.message;void 0===u&&(u=Ei.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),l=!0,f.Pu(new _i(u,a)),s.close()}else si("Connection","WebChannel received:",n),f.yu(n)}})),h(o,ei.STAT_EVENT,(function(t){t.stat===ni?si("Connection","Detected buffering proxy"):t.stat===ri&&si("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Ru()}),0),f},e}(function(){function t(t){this.gu=t,this.T=t.T;var e=t.ssl?"https":"http";this.Vu=e+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);si("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return si("RestConnection","Received: ",t),t}),(function(e){throw li("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){var n=xl[t];return this.Vu+"/v1/"+e+":"+n},t}());function Cl(){return"undefined"!=typeof window?window:null}function Al(){return"undefined"!=typeof document?document:null}function Pl(t){return new Sa(t,!0)}var Ll=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&si("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Dl=function(){function t(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new Ll(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===Ei.RESOURCE_EXHAUSTED?(ci(e.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Ei.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then((function(e){t.ju===n&&t.rh(e)}),(function(n){e((function(){var e=new _i(Ei.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return a(t,void 0,void 0,(function(){return s(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return si("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys((function(){return e.ju===t?n():(si("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Rl=function(t){function e(e,n,r,i,o){var u=this;return(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,u}return o(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:hi()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(pi(void 0===e||"string"==typeof e),wi.fromBase64String(e||"")):(pi(void 0===e||e instanceof Uint8Array),wi.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),u=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ei.UNKNOWN:Gu(t.code);return new _i(e,t.message||"")}(a);n=new ya(r,i,o,u||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Aa(t,r.document.name),o=xa(r.document.updateTime);var a=new go({mapValue:{fields:r.document.fields}}),s=(u=new _o(i,o,a,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new da(s,c,u.key,u)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Aa(t,r.document),o=r.readTime?xa(r.readTime):Fi.min(),a=new So(i,o),u=r.removedTargetIds||[],n=new da([],u,a.key,a);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Aa(t,r.document),o=r.removedTargetIds||[],n=new da([],o,i,null);else{if(!("filter"in e))return hi();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new Hu(r),o=l.targetId,n=new va(o,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Fi.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Fi.min():e.readTime?xa(e.readTime):Fi.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Da(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Oo(r)?{documents:Va(t,r)}:{query:za(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=ka(t,e.resumeToken):e.Mt.u(Fi.min())>0&&(n.readTime=Ia(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return hi()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(this.Kt,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Da(this.Kt),e.removeTarget=t,this.eh(e)},e}(Dl),Ml=function(t){function e(e,n,r,i,o){var u=this;return(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,u._h=!1,u}return o(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(pi(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(pi(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?xa(t.updateTime):xa(e);n.isEqual(Fi.min())&&(n=xa(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new ku(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=xa(t.commitTime);return this.listener.wh(n,e)}return pi(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Da(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Fa(e.Kt,t)}))};this.eh(n)},e}(Dl),jl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return o(e,t),e.prototype.mh=function(){if(this.Ih)throw new _i(Ei.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Ei.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Ei.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),Fl=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(ci(e),this.Ph=!1):si("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Ul=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return a(o,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return $l(this)?(si("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return(e=di(t)).Fh.add(4),[4,zl(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,Vl(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new Fl(n,r)};function Vl(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:if(!$l(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function zl(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function ql(t,e){var n=di(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Wl(n)?Gl(n):lf(n).Ju()&&Hl(n,e))}function Bl(t,e){var n=di(t),r=lf(n);n.Nh.delete(e),r.Ju()&&Kl(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():$l(n)&&n.Mh.set("Unknown"))}function Hl(t,e){t.Lh.cn(e.targetId),lf(t).hh(e)}function Kl(t,e){t.Lh.cn(e),lf(t).lh(e)}function Gl(t){t.Lh=new ga({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),lf(t).start(),t.Mh.yh()}function Wl(t){return $l(t)&&!lf(t).Hu()&&t.Nh.size>0}function $l(t){return 0===di(t).Fh.size}function Ql(t){t.Lh=void 0}function Jl(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){return t.Nh.forEach((function(e,n){Hl(t,e)})),[2]}))}))}function Xl(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(n){return Ql(t),Wl(t)?(t.Mh.ph(e),Gl(t)):t.Mh.set("Unknown"),[2]}))}))}function Yl(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o;return s(this,(function(u){switch(u.label){case 0:if(t.Mh.set("Online"),!(e instanceof ya&&2===e.state&&e.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(u){switch(u.label){case 0:n=e.cause,r=0,i=e.targetIds,u.label=1;case 1:return r<i.length?(o=i[r],t.Nh.has(o)?[4,t.Ch.$h(o,n)]:[3,3]):[3,5];case 2:u.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),u.label=3;case 3:u.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),si("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Zl(t,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof da?t.Lh.wn(e):e instanceof va?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Fi.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,Wc(t.Sh)];case 8:return i=u.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(wi.h,n.Mt)),Kl(t,e);var r=new su(n.target,e,1,n.sequenceNumber);Hl(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return si("RemoteStore","Failed to raise snapshot:",o=u.sent()),[4,Zl(t,o)];case 12:return u.sent(),[3,13];case 13:return[2]}}))}))}function Zl(t,e,n){return a(this,void 0,void 0,(function(){var r=this;return s(this,(function(i){switch(i.label){case 0:if(!us(e))throw e;return t.Fh.add(1),[4,zl(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Wc(t.Sh)}),t.fs.vo((function(){return a(r,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return si("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,Vl(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function tf(t,e){return e().catch((function(n){return Zl(t,n,e)}))}function ef(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o;return s(this,(function(u){switch(u.label){case 0:e=di(t),n=ff(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,u.label=1;case 1:if(!function(t){return $l(t)&&t.xh.length<10}(e))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,Jc(e.Sh,r)];case 3:return null===(i=u.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=ff(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=u.sent(),[4,Zl(e,o)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return nf(e)&&rf(e),[2]}}))}))}function nf(t){return $l(t)&&!ff(t).Hu()&&t.xh.length>0}function rf(t){ff(t).start()}function of(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){return ff(t).Th(),[2]}))}))}function uf(t){return a(this,void 0,void 0,(function(){var e,n,r,i;return s(this,(function(o){for(e=ff(t),n=0,r=t.xh;n<r.length;n++)i=r[n],e.dh(i.mutations);return[2]}))}))}function af(t,e,n){return a(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Vs.from(r,e,n),[4,tf(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,ef(t)];case 2:return o.sent(),[2]}}))}))}function sf(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return e&&ff(t).fh?[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return Ku(r=e.code)&&r!==Ei.ABORTED?(n=t.xh.shift(),ff(t).Xu(),[4,tf(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,ef(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return nf(t)&&rf(t),[2]}}))}))}function cf(t,e){return a(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return n=di(t),e?(n.Fh.delete(2),[4,Vl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,zl(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function lf(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=di(t);return r.mh(),new Rl(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Jl.bind(null,t),Iu:Xl.bind(null,t),uh:Yl.bind(null,t)}),t.Oh.push((function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Wl(t)?Gl(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Ql(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function ff(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=di(t);return r.mh(),new Ml(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:of.bind(null,t),Iu:sf.bind(null,t),Eh:uf.bind(null,t),wh:af.bind(null,t)}),t.Oh.push((function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,ef(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(si("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var hf=function(){this.Wh=void 0,this.listeners=[]},pf=function(){this.queries=new sc((function(t){return ru(t)}),nu),this.onlineState="Unknown",this.jh=new Set};function df(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,u,a,c;return s(this,(function(s){switch(s.label){case 0:if(n=di(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new hf),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),u=o,[4,n.Gh(r)];case 2:return u.Wh=s.sent(),[3,4];case 3:return a=s.sent(),c=hs(a,"Initialization of query '"+iu(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&gf(n),[2]}}))}))}function vf(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,u;return s(this,(function(a){return n=di(t),r=e.query,i=!1,(o=n.queries.get(r))&&(u=o.listeners.indexOf(e))>=0&&(o.listeners.splice(u,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function yf(t,e){for(var n=di(t),r=!1,i=0,o=e;i<o.length;i++){var u=o[i],a=u.query,s=n.queries.get(a);if(s){for(var c=0,l=s.listeners;c<l.length;c++)l[c].Hh(u)&&(r=!0);s.Wh=u}}r&&gf(n)}function mf(t,e,n){var r=di(t),i=r.queries.get(e);if(i)for(var o=0,u=i.listeners;o<u.length;o++)u[o].onError(n);r.queries.delete(e)}function gf(t){t.jh.forEach((function(t){t.next()}))}var bf=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new fa(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.sl&&n||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){if(t.docChanges.length>0)return!0;var e=this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites;return!(!t.xe&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=fa.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),wf=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Ef=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Aa(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?ja(this.Kt,t.document,!1):new So(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return xa(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Ef(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var u=n.yc(o.metadata.name),a=0,s=o.metadata.queries;a<s.length;a++){var c=s[a],l=(e.get(c)||ua()).add(u);e.set(c,l)}}return e},t.prototype.complete=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i;return s(this,(function(o){switch(o.label){case 0:return[4,rl(this.Sh,new Ef(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,il(this.Sh,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ps(Object.assign({},this.progress),t))]}}))}))}}();var _f=function(t){this.key=t},Sf=function(t){this.key=t},If=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=ua(),this.Ce=ua(),this.ll=uu(t),this._l=new ca(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new la,i=e?e._l:this._l,o=e?e.Ce:this.Ce,u=i,a=!1,s=$o(this.query)&&i.size===this.query.limit?i.last():null,c=Qo(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),f=e instanceof _o?e:null;f&&(f=ou(n.query,f)?f:null);var h=!!l&&n.Ce.has(l.key),p=!!f&&(f.bt||n.Ce.has(f.key)&&f.hasCommittedMutations),d=!1;l&&f?l.data().isEqual(f.data())?h!==p&&(r.track({type:3,doc:f}),d=!0):n.El(l,f)||(r.track({type:2,doc:f}),d=!0,(s&&n.ll(f,s)>0||c&&n.ll(f,c)<0)&&(a=!0)):!l&&f?(r.track({type:0,doc:f}),d=!0):l&&!f&&(r.track({type:1,doc:l}),d=!0,(s||c)&&(a=!0)),d&&(f?(u=u.add(f),o=p?o.add(t):o.delete(t)):(u=u.delete(t),o=o.delete(t)))})),$o(this.query)||Qo(this.query))for(;u.size>this.query.limit;){var l=$o(this.query)?u.last():u.first();u=u.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:u,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hi()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var u=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,s=a!==this.ul;return this.ul=a,0!==o.length||s?{snapshot:new fa(this.query,t._l,i,o,t.Ce,0===a,s,!1),ml:u}:{ml:u}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new la,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=ua(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new Sf(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new _f(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=ua();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return fa.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),kf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Tf=function(t){this.key=t,this.yl=!1},xf=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new sc((function(t){return ru(t)}),nu),this.Dl=new Map,this.Cl=[],this.xl=new Wu(Bi.J),this.Nl=new Map,this.Fl=new ul,this.Ol={},this.kl=new Map,this.Ml=mc.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Nf(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,u,a;return s(this,(function(s){switch(s.label){case 0:return n=rh(t),(o=n.Sl.get(e))?(r=o.targetId,n.pl.ka(r),i=o.view.Pl(),[3,4]):[3,1];case 1:return[4,Xc(n.Sh,tu(e))];case 2:return u=s.sent(),a=n.pl.ka(u.targetId),r=u.targetId,[4,Of(n,e,r,"current"===a)];case 3:i=s.sent(),n.$l&&ql(n.gl,u),s.label=4;case 4:return[2,i]}}))}))}function Of(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,u,c,l,f;return s(this,(function(h){switch(h.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,u;return s(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,Zc(t.Sh,e.query,!1).then((function(t){var n=t.documents;return e.view.dl(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Oe.get(e.targetId),u=e.view.Ti(i,t.$l,o),[2,(qf(t,e.targetId,u.ml),u.snapshot)]}}))}))}(t,e,n,r)},[4,Zc(t.Sh,e,!0)];case 1:return i=h.sent(),o=new If(e,i.Pc),u=o.dl(i.documents),c=pa.Be(n,r&&"Offline"!==t.onlineState),l=o.Ti(u,t.$l,c),qf(t,n,l.ml),f=new kf(e,n,o),[2,(t.Sl.set(e,f),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),l.snapshot)]}}))}))}function Cf(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return n=di(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!nu(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Yc(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),Bl(n.gl,r.targetId),Vf(n,r.targetId)})).catch(ac)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Vf(n,r.targetId),[4,Yc(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Af(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,u;return s(this,(function(a){switch(a.label){case 0:r=ih(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=di(t),i=ji.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ua());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var u=[],a=0,s=e;a<s.length;a++){var c=s[a],l=Au(c,n.get(c.key));null!=l&&u.push(new Ru(c.key,l,wo(l.proto.mapValue),Tu.exists(!0)))}return r.Ho.yi(t,i,u,e)}))})).then((function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}}))}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new Wu(mi)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,Kf(r,i.ci)];case 3:return a.sent(),[4,ef(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),u=hs(o,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}}))}))}function Pf(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:n=di(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,$c(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach((function(t,e){var r=n.Nl.get(e);r&&(pi(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?pi(r.yl):t.Ke.size>0&&(pi(r.yl),r.yl=!1))})),[4,Kf(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ac(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Lf(t,e,n){var r=di(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=di(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&gf(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Df(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,u,a,c;return s(this,(function(s){switch(s.label){case 0:return(r=di(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(u=(u=new Wu(Bi.J)).Ht(o,new So(o,Fi.min())),a=ua().add(o),c=new ha(Fi.min(),new Map,new Ju(mi),u,a),[4,Pf(r,c)]):[3,2];case 1:return s.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),Hf(r),[3,4];case 2:return[4,Yc(r.Sh,e,!1).then((function(){return Vf(r,e,n)})).catch(ac)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}function Rf(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:n=di(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Gc(n.Sh,e)];case 2:return i=o.sent(),Uf(n,r,null),Ff(n,r),n.pl.Fa(r,"acknowledged"),[4,Kf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ac(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Mf(t,e,n){return a(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:r=di(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=di(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.gi(t,e).next((function(e){return pi(null!==e),r=e.keys(),n.Ho.Ni(t,e)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),Uf(r,e,n),Ff(r,e),r.pl.Fa(e,"rejected",n),[4,Kf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ac(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function jf(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,u;return s(this,(function(a){switch(a.label){case 0:$l((n=di(t)).gl)||si("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=di(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.bi(t)}))}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),u=hs(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(u),[3,4];case 4:return[2]}}))}))}function Ff(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function Uf(t,e,n){var r=di(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function Vf(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach((function(e){t.Fl.Mi(e)||zf(t,e)}))}function zf(t,e){var n=t.xl.get(e);null!==n&&(Bl(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Hf(t))}function qf(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof _f?(t.Fl.ir(o.key,e),Bf(t,o)):o instanceof Sf?(si("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||zf(t,o.key)):hi()}}function Bf(t,e){var n=e.key;t.xl.get(n)||(si("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Hf(t))}function Hf(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Tf(e)),t.xl=t.xl.Ht(e,n),ql(t.gl,new su(tu(Wo(e.path)),n,2,Mi.U))}}function Kf(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,u;return s(this,(function(c){switch(c.label){case 0:return r=di(t),i=[],o=[],u=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){u.push(r.Bl(a,e,n).then((function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=zc.cc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(u)]);case 1:return c.sent(),r.vl.uh(i),[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,u,a,c,l,f;return s(this,(function(s){switch(s.label){case 0:n=di(t),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return es.forEach(e,(function(e){return es.forEach(e.rc,(function(r){return n.persistence.mi.ir(t,e.targetId,r)})).next((function(){return es.forEach(e.oc,(function(r){return n.persistence.mi.cr(t,e.targetId,r)}))}))}))}))];case 2:return s.sent(),[3,4];case 3:if(!us(r=s.sent()))throw r;return si("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=o[i],a=u.targetId,u.fromCache||(c=n.dc.get(a),l=c.Mt,f=c.Bt(l),n.dc=n.dc.Ht(a,f));return[2]}}))}))}(r.Sh,o)];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))}function Gf(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return(n=di(t)).currentUser.isEqual(e)?[3,3]:(si("SyncEngine","User change. New user:",e.R()),[4,Kc(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new _i(Ei.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Kf(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Wf(t,e){var n=di(t),r=n.Nl.get(e);if(r&&r.yl)return ua().add(r.key);var i=ua(),o=n.Dl.get(e);if(!o)return i;for(var u=0,a=o;u<a.length;u++){var s=a[u],c=n.Sl.get(s);i=i.ye(c.view.fl)}return i}function $f(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return[4,Zc((n=di(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&qf(n,e.targetId,i.ml),i)]}}))}))}function Qf(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){return[2,el((e=di(t)).Sh).then((function(t){return Kf(e,t)}))]}))}))}function Jf(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o;return s(this,(function(u){switch(u.label){case 0:return[4,function(t,e){var n=di(t),r=di(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Vi(t,e).next((function(e){return e?n.Ic.Zo(t,e):es.resolve(null)}))}))}((i=di(t)).Sh,e)];case 1:return null===(o=u.sent())?[3,6]:"pending"!==n?[3,3]:[4,ef(i.gl)];case 2:return u.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Uf(i,e,r||null),Ff(i,e),function(t,e){di(di(t).Ho).Fi(e)}(i.Sh,e)):hi(),u.label=4;case 4:return[4,Kf(i,o)];case 5:return u.sent(),[3,7];case 6:si("SyncEngine","Cannot apply mutation batch with id: "+e),u.label=7;case 7:return[2]}}))}))}function Xf(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,u,a,c,l;return s(this,(function(s){switch(s.label){case 0:return rh(n=di(t)),ih(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Yf(n,r.rt())]);case 1:return i=s.sent(),n.Ll=!0,[4,cf(n.gl,!0)];case 2:for(s.sent(),o=0,u=i;o<u.length;o++)a=u[o],ql(n.gl,a);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(c=[],l=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?c.push(e):l=l.then((function(){return Vf(n,e),Yc(n.Sh,e,!0)})),Bl(n.gl,e)})),[4,l]);case 4:return s.sent(),[4,Yf(n,c)];case 5:return s.sent(),function(t){var e=di(t);e.Nl.forEach((function(t,n){Bl(e.gl,n)})),e.Fl.Mc(),e.Nl=new Map,e.xl=new Wu(Bi.J)}(n),n.Ll=!1,[4,cf(n.gl,!1)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))}function Yf(t,e,n){return a(this,void 0,void 0,(function(){var n,r,i,o,u,a,c,l,f,h,p,d,v,y;return s(this,(function(s){switch(s.label){case 0:n=di(t),r=[],i=[],o=0,u=e,s.label=1;case 1:return o<u.length?(a=u[o],c=void 0,(l=n.Dl.get(a))&&0!==l.length?[4,Xc(n.Sh,tu(l[0]))]:[3,7]):[3,13];case 2:c=s.sent(),f=0,h=l,s.label=3;case 3:return f<h.length?(p=h[f],d=n.Sl.get(p),[4,$f(n,d)]):[3,6];case 4:(v=s.sent()).snapshot&&i.push(v.snapshot),s.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,tl(n.Sh,a)];case 8:return y=s.sent(),[4,Xc(n.Sh,y)];case 9:return c=s.sent(),[4,Of(n,Zf(y),a,!1)];case 10:s.sent(),s.label=11;case 11:r.push(c),s.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function Zf(t){return Go(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function th(t){var e=di(t);return di(di(e.Sh).persistence).Ko()}function eh(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,u;return s(this,(function(a){switch(a.label){case 0:return(i=di(t)).Ll?(si("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,el(i.Sh)];case 3:return o=a.sent(),u=ha.$e(e,"current"===n),[4,Kf(i,o,u)];case 4:return a.sent(),[3,8];case 5:return[4,Yc(i.Sh,e,!0)];case 6:return a.sent(),Vf(i,e,r),[3,8];case 7:hi(),a.label=8;case 8:return[2]}}))}))}function nh(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,u,a,c,l,f,h,p;return s(this,(function(d){switch(d.label){case 0:if(!(r=rh(t)).Ll)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(u=o[i],r.Dl.has(u)?(si("SyncEngine","Adding an already active target "+u),[3,5]):[4,tl(r.Sh,u)]):[3,6];case 2:return a=d.sent(),[4,Xc(r.Sh,a)];case 3:return c=d.sent(),[4,Of(r,Zf(a),c.targetId,!1)];case 4:d.sent(),ql(r.gl,c),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return s(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Yc(r.Sh,t,!1).then((function(){Bl(r.gl,t),Vf(r,t)})).catch(ac)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},f=0,h=n,d.label=7;case 7:return f<h.length?(p=h[f],[5,l(p)]):[3,10];case 8:d.sent(),d.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function rh(t){var e=di(t);return e.gl.Ch.Bh=Pf.bind(null,e),e.gl.Ch.Sn=Wf.bind(null,e),e.gl.Ch.$h=Df.bind(null,e),e.vl.uh=yf.bind(null,e.Vl),e.vl.ql=mf.bind(null,e.Vl),e}function ih(t){var e=di(t);return e.gl.Ch.qh=Rf.bind(null,e),e.gl.Ch.Uh=Mf.bind(null,e),e}var oh=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.Kt=Pl(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Hc(this.persistence,new qc,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new hl(dl.ra,this.Kt)},t.prototype.jl=function(t){return new Il},t.prototype.terminate=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}}))}))},t}(),uh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return o(e,t),e.prototype.initialize=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,nl(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,ih(this.Xl.fa)];case 4:return n.sent(),[4,ef(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Hc(this.persistence,new qc,t.Yl,this.Kt)},e.prototype.Hl=function(t){var e=this.persistence.mi.dr;return new Ic(e,t.fs)},e.prototype.Gl=function(t){var e=Uc(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?uc.Zs(this.cacheSizeBytes):uc.ni;return new Mc(this.synchronizeTabs,e,t.clientId,n,t.fs,Cl(),Al(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Il},e}(oh),ah=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return o(e,t),e.prototype.initialize=function(e){return a(this,void 0,void 0,(function(){var n,r=this;return s(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Sl?(this.pl.fa={nu:Jf.bind(null,n),su:eh.bind(null,n),iu:nh.bind(null,n),Ko:th.bind(null,n),eu:Qf.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo((function(t){return a(r,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,Xf(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Cl();if(!Sl.Wn(e))throw new _i(Ei.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Uc(t.gu.T,t.gu.persistenceKey);return new Sl(e,t.fs,n,t.clientId,t.Yl)},e}(uh),sh=function(){function t(){}return t.prototype.initialize=function(t,e){return a(this,void 0,void 0,(function(){var n=this;return s(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Lf(n.fa,t,1)},this.gl.Ch.s_=Gf.bind(null,this.fa),[4,cf(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new pf},t.prototype.Zl=function(t){var e,n=Pl(t.gu.T),r=(e=t.gu,new Ol(e));return function(t,e,n){return new jl(t,e,n)}(t.credentials,r,n)},t.prototype.t_=function(t){var e,n,r,i,o,u=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Lf(u.fa,t,0)},o=Tl.Wn()?new Tl:new kl,new Ul(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,u){var a=new xf(t,e,n,r,i,o);return u&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=di(t),si("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,zl(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),ch=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),lh=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new ts,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return a(this,void 0,void 0,(function(){var t,e,n,r;return s(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new wf(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new _i(Ei.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new qi(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),fh=function(t){this._methodName=t};function hh(t,e,n){if(!n)throw new _i(Ei.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ph(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _i(Ei.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function dh(t,e,n,r){if(!0===e&&!0===r)throw new _i(Ei.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function vh(t){if(!Bi.Et(t))throw new _i(Ei.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function yh(t){if(Bi.Et(t))throw new _i(Ei.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function mh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":hi()}function gh(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new _i(Ei.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=mh(t);throw new _i(Ei.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function bh(t,e){if(e<=0)throw new _i(Ei.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var wh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new _i(Ei.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _i(Ei.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,dh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Eh=new Map,_h=function(){function t(t,e){this.w_="(lite)",this.E_=new wh({}),this.T_=!1,t instanceof Oi?(this.I_=t,this.m_=new Pi):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _i(Ei.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oi(t.options.projectId)}(t),this.m_=new Li(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new _i(Ei.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new _i(Ei.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new wh(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Pi;switch(t.type){case"gapi":var e=t.client;return pi(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ri(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new _i(Ei.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Eh.get(this))&&(si("ComponentProvider","Removing Datastore"),Eh.delete(this),t.terminate()),Promise.resolve();var t},t}(),Sh=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new kh(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Ih=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),kh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Wo(r))||this).firestore=e,i.D_=r,i.type="collection",i}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Sh(this.firestore,null,new Bi(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Ih);function Th(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ii&&(t=t._),hh("collection","path",e),t instanceof _h)return yh(n=Vi.ct.apply(Vi,h([e],r))),new kh(t,null,n);if(!(t instanceof Sh||t instanceof kh))throw new _i(Ei.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return yh(n=Vi.ct.apply(Vi,h([t.path],r)).child(Vi.ct(e))),new kh(t.firestore,null,n)}function xh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ii&&(t=t._),1===arguments.length&&(e=yi.t()),hh("doc","path",e),t instanceof _h)return vh(n=Vi.ct.apply(Vi,h([e],r))),new Sh(t,null,new Bi(n));if(!(t instanceof Sh||t instanceof kh))throw new _i(Ei.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vh(n=t.D_.child(Vi.ct.apply(Vi,h([e],r)))),new Sh(t.firestore,t instanceof kh?t.v_:null,new Bi(n))}function Nh(t,e){return t instanceof Ii&&(t=t._),e instanceof Ii&&(e=e._),(t instanceof Sh||t instanceof kh)&&(e instanceof Sh||e instanceof kh)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Oh(t,e){return t instanceof Ii&&(t=t._),e instanceof Ii&&(e=e._),t instanceof Ih&&e instanceof Ih&&t.firestore===e.firestore&&nu(t.C_,e.C_)&&t.v_===e.v_}var Ch=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new _i(Ei.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _i(Ei.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return mi(this.x_,t.x_)||mi(this.N_,t.N_)},t}(),Ah=/^__.*__$/,Ph=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Ru(t,this.data,this.zt,e,this.fieldTransforms):new Du(t,this.data,e,this.fieldTransforms)},t}(),Lh=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Ru(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Dh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hi()}}var Rh=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return ep(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Dh(this.k_)&&Ah.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Mh=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Pl(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Rh({k_:t,methodName:e,j_:n,path:qi.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function jh(t){var e=t.p_(),n=Pl(t.I_);return new Mh(t.I_,!!e.ignoreUndefinedProperties,n)}function Fh(t,e,n,r,i,o){void 0===o&&(o={});var u=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Xh("Data must be an object, but it was:",u,r);var a,s,c=Qh(r,u);if(o.merge)a=new Wi(u.zt),s=u.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var p=Yh(e,h[f],n);if(!u.contains(p))throw new _i(Ei.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");np(l,p)||l.push(p)}a=new Wi(l),s=u.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,s=u.fieldTransforms;return new Ph(new go(c),a,s)}var Uh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(fh);function Vh(t,e,n){return new Rh({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var zh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.z_=function(t){return new Iu(t.path,new yu)},e.prototype.isEqual=function(t){return t instanceof e},e}(fh),qh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return o(e,t),e.prototype.z_=function(t){var e=Vh(this,t,!0),n=this.H_.map((function(t){return $h(t,e)})),r=new mu(n);return new Iu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(fh),Bh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return o(e,t),e.prototype.z_=function(t){var e=Vh(this,t,!0),n=this.H_.map((function(t){return $h(t,e)})),r=new bu(n);return new Iu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(fh),Hh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return o(e,t),e.prototype.z_=function(t){var e=new Eu(t.Kt,fu(t.Kt,this.J_));return new Iu(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(fh);function Kh(t,e,n,r){var i=t.G_(1,e,n);Xh("Data must be an object, but it was:",i,r);var o=[],u=new bo;Ki(r,(function(t,r){var a=tp(e,t,n);r instanceof Ii&&(r=r._);var s=i.U_(a);if(r instanceof Uh)o.push(a);else{var c=$h(r,s);null!=c&&(o.push(a),u.set(a,c))}}));var a=new Wi(o);return new Lh(u.yt(),a,i.fieldTransforms)}function Gh(t,e,n,r,i,o){var u=t.G_(1,e,n),a=[Yh(e,r,n)],s=[i];if(o.length%2!=0)throw new _i(Ei.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Yh(e,o[c])),s.push(o[c+1]);for(var l=[],f=new bo,h=a.length-1;h>=0;--h)if(!np(l,a[h])){var p=a[h],d=s[h];d instanceof Ii&&(d=d._);var v=u.U_(p);if(d instanceof Uh)l.push(p);else{var y=$h(d,v);null!=y&&(l.push(p),f.set(p,y))}}var m=new Wi(l);return new Lh(f.yt(),m,u.fieldTransforms)}function Wh(t,e,n,r){return void 0===r&&(r=!1),$h(n,t.G_(r?4:3,e))}function $h(t,e){if(t instanceof Ii&&(t=t._),Jh(t))return Xh("Unsupported field value:",e,t),Qh(t,e);if(t instanceof fh)return function(t,e){if(!Dh(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var u=$h(o[i],e.Q_(r));null==u&&(u={nullValue:"NULL_VALUE"}),n.push(u),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Ii&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fu(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ji.fromDate(t);return{timestampValue:Ia(e.Kt,n)}}if(t instanceof ji)return n=new ji(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ia(e.Kt,n)};if(t instanceof Ch)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Si)return{bytesValue:ka(e.Kt,t.l)};if(t instanceof Sh){n=e.T;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Na(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+mh(t))}(t,e)}function Qh(t,e){var n={};return Gi(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Ki(t,(function(t,r){var i=$h(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Jh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ji||t instanceof Ch||t instanceof Si||t instanceof Sh||t instanceof fh)}function Xh(t,e,n){if(!Jh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=mh(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function Yh(t,e,n){if(e instanceof Ii&&(e=e._),e instanceof lh)return e.d_;if("string"==typeof e)return tp(t,e);throw ep("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Zh=new RegExp("[~\\*/\\[\\]]");function tp(t,e,n){if(e.search(Zh)>=0)throw ep("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(lh.bind.apply(lh,h([void 0],e.split("."))))).d_}catch(r){throw ep("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ep(t,e,n,r,i){var o=r&&!r.nt(),u=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var s="";return(o||u)&&(s+=" (found",o&&(s+=" in field "+r),u&&(s+=" in document "+i),s+=")"),new _i(Ei.INVALID_ARGUMENT,(a+=". ")+t+s)}function np(t,e){return t.some((function(t){return t.isEqual(e)}))}var rp=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return s(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new _i(Ei.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,u,a;return s(this,(function(s){switch(s.label){case 0:return n=di(t),r=Da(n.Kt)+"/documents",i={documents:e.map((function(t){return Ca(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=s.sent(),u=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){pi(!!e.found),e.found.name,e.found.updateTime;var n=Aa(t,e.found.name),r=xa(e.found.updateTime),i=new go({mapValue:{fields:e.found.fields}});return new _o(n,r,i,{})}(t,e):"missing"in e?function(t,e){pi(!!e.missing),pi(!!e.readTime);var n=Aa(t,e.missing),r=xa(e.readTime);return new So(n,r)}(t,e):hi()}(n.Kt,t);u.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=u.get(t.toString());pi(!!e),a.push(e)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof So||t instanceof _o?n.sf(t):hi()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new qu(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return a(this,void 0,void 0,(function(){var t,e=this;return s(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Bi.ft(n);e.mutations.push(new Bu(r,e.Gt(r)))})),[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return n=di(t),r=Da(n.Kt)+"/documents",i={writes:e.map((function(t){return Fa(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof _o)e=t.version;else{if(!(t instanceof So))throw hi();e=Fi.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new _i(Ei.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Tu.updateTime(e):Tu.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Fi.min()))throw new _i(Ei.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tu.updateTime(e)}return Tu.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),ip=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Ll(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return a(t,void 0,void 0,(function(){var t,e,n=this;return s(this,(function(r){return t=new rp(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!eo(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ku(e)}return!1},t}(),op=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Ci.UNAUTHENTICATED,this.clientId=yi.t(),this._f=function(){},this.N=new ts,this.credentials.S((function(t){si("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new _i(Ei.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new ts;return this.fs.Tf((function(){return a(t,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=hs(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function up(t,e){return a(this,void 0,void 0,(function(){var n,r,i=this;return s(this,(function(o){switch(o.label){case 0:return t.fs.Af(),si("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.vo((function(){return a(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,Kc(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Vo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function ap(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,sp(t)];case 1:return n=i.sent(),si("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.vo((function(){return function(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return(n=di(t)).fs.Af(),si("RemoteStore","RemoteStore received new credentials"),r=$l(n),n.Fh.add(3),[4,zl(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,Vl(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function sp(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(si("FirestoreClient","Using default OfflineComponentProvider"),[4,up(t,new oh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function cp(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(si("FirestoreClient","Using default OnlineComponentProvider"),[4,ap(t,new sh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function lp(t){return sp(t).then((function(t){return t.persistence}))}function fp(t){return sp(t).then((function(t){return t.Sh}))}function hp(t){return cp(t).then((function(t){return t.gl}))}function pp(t){return cp(t).then((function(t){return t.fa}))}function dp(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return[4,cp(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Nf.bind(null,e.fa),n.Jh=Cf.bind(null,e.fa),n)]}}))}))}function vp(t,e,n){var r=this;void 0===n&&(n={});var i=new ts;return t.fs.ys((function(){return a(r,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ch({next:function(o){e.ys((function(){return vf(t,u)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new _i(Ei.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new _i(Ei.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),u=new bf(Wo(n.path),o,{includeMetadataChanges:!0,sl:!0});return df(t,u)},[4,dp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function yp(t,e,n){var r=this;void 0===n&&(n={});var i=new ts;return t.fs.ys((function(){return a(r,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ch({next:function(n){e.ys((function(){return vf(t,u)})),n.fromCache&&"server"===r.source?i.reject(new _i(Ei.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),u=new bf(n,o,{includeMetadataChanges:!0,sl:!0});return df(t,u)},[4,dp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var mp=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Ll(this,"async_queue_retry"),this.vf=function(){var e=Al();e&&si("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Al();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Al();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return a(this,void 0,void 0,(function(){var t,e=this;return s(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!us(t=n.sent()))throw t;return si("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,ci("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=fs.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&hi()},t.prototype.Af=function(){},t.prototype.Nf=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),gp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new mp,r.w_="name"in e?e.name:"[DEFAULT]",r}return o(e,t),e.prototype.b_=function(){return this.Lf||wp(this),this.Lf.terminate()},e}(_h);function bp(t){return t.Lf||wp(t),t.Lf.df(),t.Lf}function wp(t){var e=t.p_(),n=function(t,e,n){return new Ni(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new op(t.m_,t.Mf,n)}function Ep(t,e,n){var r=this,i=new ts;return t.fs.enqueue((function(){return a(r,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,up(t,n)];case 1:return o.sent(),[4,ap(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ei.FAILED_PRECONDITION||t.code===Ei.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function _p(t){if(t.R_||t.P_)throw new _i(Ei.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Sp=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),io(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ji(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Xi(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw hi()}},t.prototype.jf=function(t,e){var n=this,r={};return Ki(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new Ch(Ji(t.latitude),Ji(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Zi(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(to(t));default:return null}},t.prototype.Bf=function(t){var e=Qi(t);return new ji(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Vi.ct(t);pi(Za(n));var r=new Oi(n.get(1),n.get(3)),i=new Bi(n.X(5));return r.isEqual(e)||ci("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Ip=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Sh(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new kp(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Tp("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),kp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ip);function Tp(t,e){return"string"==typeof e?tp(t,e):e instanceof Ii?e._.d_:e.d_}function xp(t){if(Qo(t)&&0===t.Nt.length)throw new _i(Ei.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Np=function(){};function Op(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Cp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return o(e,t),e.prototype.Yf=function(t){var e=jh(t.firestore),n=function(t,e,n,r,i,o,u){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new _i(Ei.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){jp(u,o);for(var s=[],c=0,l=u;c<l.length;c++){var f=l[c];s.push(Mp(r,t,f))}a={arrayValue:{values:s}}}else a=Mp(r,t,u)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||jp(u,o),a=Wh(n,"where",u,"in"===o||"not-in"===o);var h=Co.create(i,o,a);return function(t,e){if(e.xt()){var n=Xo(t);if(null!==n&&!n.isEqual(e.field))throw new _i(Ei.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Jo(t);null!==r&&Fp(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new _i(Ei.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new _i(Ei.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Ih(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Ko(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Np),Ap=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return o(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new _i(Ei.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new _i(Ei.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new zo(e,n);return function(t,e){if(null===Jo(t)){var n=Xo(t);null!==n&&Fp(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Ih(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Ko(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Np),Pp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return o(e,t),e.prototype.Yf=function(t){return new Ih(t.firestore,t.v_,eu(t.C_,this.nd,this.sd))},e}(Np),Lp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return o(e,t),e.prototype.Yf=function(t){var e=Rp(t,this.type,this.rd,this.od);return new Ih(t.firestore,t.v_,function(t,e){return new Ko(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Np),Dp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return o(e,t),e.prototype.Yf=function(t){var e=Rp(t,this.type,this.rd,this.od);return new Ih(t.firestore,t.v_,function(t,e){return new Ko(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Np);function Rp(t,e,n,r){if(n[0]instanceof Ii&&(n[0]=n[0]._),n[0]instanceof Ip)return function(t,e,n,r,i){if(!r)throw new _i(Ei.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],u=0,a=Zo(t);u<a.length;u++){var s=a[u];if(s.field.ht())o.push(fo(e,r.key));else{var c=r.field(s.field);if(Yi(c))throw new _i(Ei.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.ot();throw new _i(Ei.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Uo(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=jh(t.firestore);return function(t,e,n,r,i,o){var u=t.Nt;if(i.length>u.length)throw new _i(Ei.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],s=0;s<i.length;s++){var c=i[s];if(u[s].field.ht()){if("string"!=typeof c)throw new _i(Ei.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Yo(t)&&-1!==c.indexOf("/"))throw new _i(Ei.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Vi.ct(c));if(!Bi.Et(l))throw new _i(Ei.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Bi(l);a.push(fo(e,f))}else{var h=Wh(n,r,c);a.push(h)}}return new Uo(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Mp(t,e,n){if(n instanceof Ii&&(n=n._),"string"==typeof n){if(""===n)throw new _i(Ei.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yo(e)&&-1!==n.indexOf("/"))throw new _i(Ei.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Vi.ct(n));if(!Bi.Et(r))throw new _i(Ei.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return fo(t,new Bi(r))}if(n instanceof Sh)return fo(t,n.S_);throw new _i(Ei.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+mh(n)+".")}function jp(t,e){if(!Array.isArray(t)||0===t.length)throw new _i(Ei.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new _i(Ei.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Fp(t,e,n){if(!n.isEqual(e))throw new _i(Ei.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Up(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function Vp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var zp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.Uf=function(t){return new Si(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Sh(this.firestore,null,e)},e}(Sp),qp=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Bp=function(t){function e(e,n,r,i,o,u){var a=this;return(a=t.call(this,e,n,r,i,u)||this).zf=e,a.ad=e,a.metadata=o,a}return o(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Hp(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Tp("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Ip),Hp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Bp),Kp=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new qp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new Hp(n.zf,n.Hf,r.key,r,new qp(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new _i(Ei.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){var r=new Hp(t.zf,t.Hf,e.doc.key,e.doc,new qp(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Hp(t.zf,t.Hf,e.doc.key,e.doc,new qp(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Gp(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function Gp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hi()}}function Wp(t,e){return t instanceof Bp&&e instanceof Bp?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Kp&&e instanceof Kp&&t.zf===e.zf&&Oh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var $p=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.Uf=function(t){return new Si(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Sh(this.firestore,null,e)},e}(Sp);function Qp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=gh(t,Sh);var o=gh(t.firestore,gp),u=jh(o);return e instanceof Ii&&(e=e._),Xp(o,[("string"==typeof e||e instanceof lh?Gh(u,"updateDoc",t.S_,e,n,r):Kh(u,"updateDoc",t.S_,e)).F_(t.S_,Tu.exists(!0))])}function Jp(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Ii&&(t=t._);var u={includeMetadataChanges:!1},c=0;"object"!=typeof i[c]||Up(i[c])||(u=i[c],c++);var l,f,h,p={includeMetadataChanges:u.includeMetadataChanges};if(Up(i[c])){var d=i[c];i[c]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[c+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[c+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Sh)f=gh(t.firestore,gp),h=Wo(t.S_.path),l={next:function(e){i[c]&&i[c](Yp(f,t,e))},error:i[c+1],complete:i[c+2]};else{var v=gh(t,Ih);f=gh(v.firestore,gp),h=v.C_;var y=new $p(f);l={next:function(t){i[c]&&i[c](new Kp(f,y,v,t))},error:i[c+1],complete:i[c+2]},xp(t.C_)}return function(t,e,n,r){var i=this,o=new ch(r),u=new bf(e,o,n);return t.fs.ys((function(){return a(i,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=df,[4,dp(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return a(i,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=vf,[4,dp(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}}))}))}))}}(bp(f),h,p,l)}function Xp(t,e){return function(t,e){var n=this,r=new ts;return t.fs.ys((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return n=Af,[4,pp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(bp(t),e)}function Yp(t,e,n){var r=n.docs.get(e.S_),i=new $p(t);return new Bp(t,i,e.S_,r,new qp(n.hasPendingWrites,n.fromCache),e.v_)}var Zp=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=jh(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=td(t,this.zf),i=Vp(r.v_,e,n),o=Fh(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,Tu.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,u=td(t,this.zf);return e instanceof Ii&&(e=e._),o="string"==typeof e||e instanceof lh?Gh(this.wd,"WriteBatch.update",u.S_,e,n,r):Kh(this.wd,"WriteBatch.update",u.S_,e),this.fd.push(o.F_(u.S_,Tu.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=td(t,this.zf);return this.fd=this.fd.concat(new qu(e.S_,Tu.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new _i(Ei.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function td(t,e){if(t instanceof Ii&&(t=t._),t.firestore!==e)throw new _i(Ei.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ed=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return o(e,t),e.prototype.get=function(e){var n=this,r=td(e,this.zf),i=new $p(this.zf);return t.prototype.get.call(this,e).then((function(t){return new Bp(n.zf,i,r.S_,t.Jf,new qp(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=jh(t)}return t.prototype.get=function(t){var e=this,n=td(t,this.zf),r=new zp(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return hi();var i=t[0];if(i instanceof So)return new Ip(e.zf,r,n.S_,null,n.v_);if(i instanceof _o)return new Ip(e.zf,r,i.key,i,n.v_);throw hi()}))},t.prototype.set=function(t,e,n){var r=td(t,this.zf),i=Vp(r.v_,e,n),o=Fh(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,u=td(t,this.zf);return e instanceof Ii&&(e=e._),o="string"==typeof e||e instanceof lh?Gh(this.wd,"Transaction.update",u.S_,e,n,r):Kh(this.wd,"Transaction.update",u.S_,e),this.Td.update(u.S_,o),this},t.prototype.delete=function(t){var e=td(t,this.zf);return this.Td.delete(e.S_),this},t}()),nd=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){_p(t=gh(t,gp));var n=bp(t),r=t.p_(),i=new sh;return Ep(n,i,new uh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){_p(t=gh(t,gp));var e=bp(t),n=t.p_(),r=new sh;return Ep(e,r,new ah(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new _i(Ei.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ts;return t.Mf.Tf((function(){return a(e,void 0,void 0,(function(){var e;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return rs.Wn()?(e=t+"main",[4,rs.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Uc(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),rd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Oi||(i.md=e),i}return o(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&li("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return a(e,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return[4,lp(t)];case 1:return e=r.sent(),[4,hp(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=di(t);return e.Fh.delete(0),Vl(e)}(n))]}}))}))}))}(bp(gh(this._,gp)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return a(e,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return[4,lp(t)];case 1:return e=r.sent(),[4,hp(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return(e=di(t)).Fh.add(0),[4,zl(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(bp(gh(this._,gp)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&dh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ts;return t.fs.ys((function(){return a(e,void 0,void 0,(function(){var e;return s(this,(function(r){switch(r.label){case 0:return e=jf,[4,pp(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(bp(gh(this._,gp)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new ch(e);return t.fs.ys((function(){return a(n,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=function(t,e){di(t).jh.add(e),e.next()},[4,dp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return a(n,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=function(t,e){di(t).jh.delete(e)},[4,dp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(bp(t=gh(t,gp)),Up(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new _i(Ei.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new yd(this,Th(this._,t))}catch(t){throw sd(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ad(this,xh(this._,t))}catch(t){throw sd(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new pd(this,function(t,e){if(t=gh(t,_h),hh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _i(Ei.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ih(t,null,function(t){return new Ko(Vi.at(),t)}(e))}(this._,t))}catch(t){throw sd(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new ts;return t.fs.ys((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return[4,function(t){return cp(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new ip(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(bp(t),(function(n){return e(new ed(t,n))}))}(this._,(function(n){return t(new od(e,n))}))},e.prototype.batch=function(){var t=this;return bp(this._),new ud(new Zp(this._,(function(e){return Xp(t._,e)})))},e.prototype.loadBundle=function(t){throw new _i(Ei.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new _i(Ei.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Ii),id=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.Uf=function(t){return new xi(new Si(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return ad.Ad(e,this.firestore,null)},e}(Sp),od=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return o(e,t),e.prototype.get=function(t){var e=this,n=md(t);return this._.get(n).then((function(t){return new fd(e.zf,t)}))},e.prototype.set=function(t,e,n){var r=md(t);return n?(ph("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var u=md(t);return 2===arguments.length?this._.update(u,e):(r=this._).update.apply(r,h([u,e,n],i)),this},e.prototype.delete=function(t){var e=md(t);return this._.delete(e),this},e}(Ii),ud=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.set=function(t,e,n){var r=md(t);return n?(ph("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var u=md(t);return 2===arguments.length?this._.update(u,e):(r=this._).update.apply(r,h([u,e,n],i)),this},e.prototype.delete=function(t){var e=md(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Ii),ad=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new id(e),r}return o(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new _i(Ei.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Sh(n._,r,new Bi(t)))},e.Ad=function(t,n,r){return new e(n,new Sh(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new yd(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new yd(this.firestore,Th(this._,t))}catch(t){throw sd(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Ii&&(t=t._),t instanceof Sh&&Nh(this._,t)},e.prototype.set=function(t,e){e=ph("DocumentReference.set",e);try{return function(t,e,n){t=gh(t,Sh);var r=gh(t.firestore,gp),i=Vp(t.v_,e,n);return Xp(r,[Fh(jh(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Tu.Wt())])}(this._,t,e)}catch(t){throw sd(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Qp(this._,t):Qp.apply(void 0,h([this._,t,e],n))}catch(t){throw sd(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Xp(gh((t=this._).firestore,gp),[new qu(t.S_,Tu.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=cd(e),i=ld(e,(function(e){return new fd(t.firestore,new Bp(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return Jp(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=gh(t,Sh);var e=gh(t.firestore,gp),n=bp(e),r=new $p(e);return function(t,e){var n=this,r=new ts;return t.fs.ys((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return a(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=di(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof _o?n.resolve(i):i instanceof So?n.resolve(null):n.reject(new _i(Ei.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=hs(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,fp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new Bp(e,r,t.S_,n,new qp(n instanceof _o&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=gh(t,Sh);var e=gh(t.firestore,gp);return vp(bp(e),t.S_,{source:"server"}).then((function(n){return Yp(e,t,n)}))}(this._):function(t){t=gh(t,Sh);var e=gh(t.firestore,gp);return vp(bp(e),t.S_).then((function(n){return Yp(e,t,n)}))}(this._)).then((function(t){return new fd(e.firestore,new Bp(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Ii);function sd(t,e,n){return t.message=t.message.replace(e,n),t}function cd(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Up(r))return r}return{}}function ld(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Up(t[0])?t[0]:Up(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var fd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return o(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new ad(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Wp(this._,t._)},e}(Ii),hd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(t){return this._.data(t)},e}(fd),pd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new id(e),r}return o(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Op(this._,function(t,e,n){var r=e,i=Tp("where",t);return new Cp(i,r,n)}(t,n,r)))}catch(t){throw sd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Op(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Tp("orderBy",t);return new Ap(r,n)}(t,n)))}catch(t){throw sd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Op(this._,function(t){return bh("limit",t),new Pp("limit",t,"F")}(t)))}catch(t){throw sd(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Op(this._,function(t){return bh("limitToLast",t),new Pp("limitToLast",t,"L")}(t)))}catch(t){throw sd(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Op(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lp("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw sd(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Op(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lp("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw sd(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Op(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Dp("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw sd(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Op(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Dp("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw sd(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Oh(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=gh(t,Ih);var e=gh(t.firestore,gp),n=bp(e),r=new $p(e);return function(t,e){var n=this,r=new ts;return t.fs.ys((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,u,a;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Zc(t,e,!0)];case 1:return a=s.sent(),r=new If(e,a.Pc),i=r.dl(a.documents),o=r.Ti(i,!1),n.resolve(o.snapshot),[3,3];case 2:return u=s.sent(),a=hs(u,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,fp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Kp(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=gh(t,Ih);var e=gh(t.firestore,gp),n=bp(e),r=new $p(e);return yp(n,t.C_,{source:"server"}).then((function(n){return new Kp(e,r,t,n)}))}(this._):function(t){t=gh(t,Ih);var e=gh(t.firestore,gp),n=bp(e),r=new $p(e);return xp(t.C_),yp(n,t.C_).then((function(n){return new Kp(e,r,t,n)}))}(this._)).then((function(t){return new vd(e.firestore,new Kp(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=cd(e),i=ld(e,(function(e){return new vd(t.firestore,new Kp(t.firestore._,t.Hf,t._,e.ud))}));return Jp(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Ii),dd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new hd(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Ii),vd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return o(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new pd(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new hd(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new dd(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new hd(n.zf,r))}))},e.prototype.isEqual=function(t){return Wp(this._,t._)},e}(Ii),yd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new ad(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ad(this.firestore,void 0===t?xh(this._):xh(this._,t))}catch(t){throw sd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=gh(t.firestore,gp),r=xh(t),i=Vp(t.v_,e);return Xp(n,[Fh(jh(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Tu.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new ad(e.firestore,t)}))},e.prototype.isEqual=function(t){return Nh(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(pd);function md(t){return t instanceof Ii&&(t=t._),gh(t,Sh)}var gd=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(lh.bind.apply(lh,h([void 0],e))))||this}return o(e,t),e.documentId=function(){return new e(qi.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Ii&&(t=t._),t instanceof lh&&this._.d_.isEqual(t.d_)},e}(Ii),bd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.serverTimestamp=function(){var t=new zh("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Uh("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qh("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bh("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Hh("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Ii);!function(){function t(){this.Pd={},this.yd=new ts,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var wd,Ed={Firestore:rd,GeoPoint:Ch,Timestamp:ji,Blob:xi,Transaction:od,WriteBatch:ud,DocumentReference:ad,DocumentSnapshot:fd,Query:pd,QueryDocumentSnapshot:hd,QuerySnapshot:vd,CollectionReference:yd,FieldPath:gd,FieldValue:bd,setLogLevel:function(t){var e;e=t,ui.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};function _d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t,e){t.INTERNAL.registerComponent(new T("firestore",(function(t){return function(t,e){return new rd(t,new gp(t,e),new nd)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Ed)))})(wd=Z),wd.registerVersion("@firebase/firestore","2.1.1"),Z.initializeApp({apiKey:"AIzaSyBvHCpKNrfKfc2AZZLP8D0K1AGlUFcX1aE",authDomain:"test-budget-38b21.firebaseapp.com",databaseURL:"https://test-budget-38b21.firebaseio.com",projectId:"test-budget-38b21",storageBucket:"test-budget-38b21.appspot.com",messagingSenderId:"1067130269246",appId:"1:1067130269246:web:504d76c1afc05bcbf12b6f"});var Id,kd=Z.firestore(),Td=new(n(7187)),xd=(Id=0,{on:function(t){Td.on("running_event",t)},off:function(t){Td.removeListener("running_event",t)},set:function(t){Id+=t?1:-1,Td.emit("running_event")},isRunning:function(){return Id>0}}),Nd=function(t,e,n){xd.set(!0),kd.collection("budgets").doc(t).set({amount:e,weekly_amount:n},{merge:!0}).finally((function(){xd.set(!1)}))};function Od(){return(Od=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n(2772),n(8309),n(7941),n(9601);var Cd=function(){var n=document.createElement("div");n.setAttribute("class","modal fade"),n.setAttribute("tabindex","-1"),n.setAttribute("role","dialog"),n.setAttribute("aria-hidden","true");var r=document.createElement("div");r.setAttribute("class","modal-dialog"),r.setAttribute("role","document"),n.appendChild(r),document.body.appendChild(n);var i=new bootstrap.Modal(n,{});n.addEventListener("hidden.bs.modal",(function(t){e.render(null,r)}));var o=function(){e.render(null,r,(function(){i.hide()}))};return{render:function(n,u){e.render(t.createElement(n,Od({hide:o},u)),r,(function(){i.show()}))}}}(),Ad=function(e){var n=e.amount,i=e.weekly_amount,o=Math.max(0,n-i),u=100*o/n;return t.createElement("div",{className:"progress"},t.createElement("div",{className:"progress-bar",style:{width:"".concat(u,"%")}},r(o)))};function Pd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ld(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Dd=function(e){var n,i,o=e.budget,u=Ld(e,["budget"]),a=(n=t.useState(""),i=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(n,i)||function(t,e){if(t){if("string"==typeof t)return Pd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pd(t,e):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],c=a[1],l=t.useRef(null);return t.useEffect((function(){setTimeout((function(){l.current.focus()}),500)}),[]),t.createElement("div",{className:"modal-content"},t.createElement("div",{className:"modal-header"},t.createElement("h5",{className:"modal-title"},o.name),t.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),t.createElement("form",{onSubmit:function(t){t.preventDefault(),u.hide(),u.action(parseFloat(s))}},t.createElement("div",{className:"modal-body"},t.createElement("div",{className:"form-group"},t.createElement("label",null,"Quanto hai speso?"),t.createElement("input",{ref:l,type:"number",step:"0.01",className:"form-control",value:s,onChange:function(t){c(t.target.value)},required:!0}),t.createElement("small",{className:"form-text text-muted"},"Il tuo budget è ",r(o.amount))),t.createElement(Ad,{amount:o.amount,weekly_amount:o.weekly_amount})),t.createElement("div",{className:"modal-footer"},t.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"Sure!"))))},Rd=function(e){var n=e.message,r=Ld(e,["message"]),i=function(t){return function(){r.action(t),r.hide()}};return t.createElement("div",{className:"modal-content"},t.createElement("div",{className:"modal-header"},t.createElement("h5",{className:"modal-title"},"Confirm")),t.createElement("div",{className:"modal-body"},n),t.createElement("div",{className:"modal-footer",style:{display:"block"}},t.createElement("button",{className:"btn btn-outline-danger float-start",onClick:i(!1)},"No"),t.createElement("button",{className:"btn btn-outline-primary float-end",onClick:i(!0)},"Sì")))},Md=function(t,e){Cd.render(Rd,{message:t,action:function(t){t&&e()}})};n(6699);var jd=function(e){var n=e.budget,i=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,["budget"]),o="secondary";return["FU1kyNdZcqyujwS9dbQr","4o9hh1CwqJuAUmlvDF8V"].includes(n.id)&&(o="success"),t.createElement("div",{key:n.id,className:"col-sm-6"},t.createElement("div",{className:"card border-".concat(o),style:{margin:"10px"}},t.createElement("div",{className:"card-header"},n.name," ",t.createElement("sub",null,r(n.weekly_budget)),t.createElement("span",{className:"float-end"},t.createElement("form",{className:"row row-cols-auto align-items-center"},t.createElement("strong",null,t.createElement("em",null,r(n.amount))),t.createElement("div",{className:"dropdown"},t.createElement("button",{className:"btn btn-sm btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"⚙"),t.createElement("div",{className:"dropdown-menu dropdown-menu-end"},t.createElement("button",{className:"dropdown-item",onClick:function(t){t.preventDefault()}},"TODO"),t.createElement("button",{className:"dropdown-item",onClick:function(t){t.preventDefault()}},"TODO")))))),t.createElement("div",{className:"card-body"},t.createElement("p",{style:{marginTop:"4px"}},t.createElement("span",{className:"card-subtitle mb-2 text-muted"},r(n.weekly_amount)),t.createElement("button",{className:"btn btn-outline-primary float-end",onClick:i.spend},"Add cost")))))},Fd=function(e){return t.createElement("div",{className:"dropdown"},t.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"⚙"),t.createElement("div",{className:"dropdown-menu dropdown-menu-end"},t.createElement("button",{className:"dropdown-item",onClick:function(t){t.preventDefault()}},"New Budget"),t.createElement("button",{className:"dropdown-item",onClick:function(t){t.preventDefault(),e.rechargeAll()}},"Recharge All")))};function Ud(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ud(Object(n),!0).forEach((function(e){zd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ud(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qd(t){return function(t){if(Array.isArray(t))return Bd(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Bd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bd(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(4553);var Hd=function(t,e){if("INIT"===e.type)return qd(e.value);if("SPEND"===e.type){var n=t.findIndex((function(t){return t.id===e.id})),r=e.value,i=t[n],o=qd(t);return o[n]=Vd(Vd({},i),{},{amount:i.amount-r,weekly_amount:i.weekly_amount+r}),o}if("RECHARGE"===e.type){var u=t.findIndex((function(t){return t.id===e.id})),a=t[u],s=qd(t);return s[u]=Vd(Vd({},a),{},{amount:a.amount+a.weekly_budget,weekly_amount:0}),s}throw new Error};function Kd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Gd=function(e){var n,r,i=(n=t.useState(xd.isRunning()),r=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(n,r)||function(t,e){if(t){if("string"==typeof t)return Kd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kd(t,e):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],u=i[1];return t.useEffect((function(){var t=function(){u(xd.isRunning())};return xd.on(t),function(){xd.off(t)}}),[]),o?t.createElement("div",{className:"spinner-border",style:{position:"fixed",bottom:"1em",right:"1em"},role:"status"},t.createElement("span",{className:"sr-only"},"Loading...")):null};function Wd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return $d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$d(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qd=function(e){var n,i=Wd(t.useReducer(Hd,null),2),o=i[0],u=(n=i[1],{init:function(t){n({type:"INIT",value:t})},recharge:function(t){n({type:"RECHARGE",id:t.id}),Nd(t.id,t.amount+t.weekly_budget,0)},spend:function(t,e){n({type:"SPEND",value:e,id:t.id}),Nd(t.id,t.amount-e,t.weekly_amount+e)}}),a=Wd(t.useState(null),2),s=a[0],c=a[1];if(t.useEffect((function(){(xd.set(!0),kd.collection("budgets").orderBy("createdAt").get().then((function(t){return t.docs.map((function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_d(Object(n),!0).forEach((function(e){Sd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({id:t.id},t.data())}))})).finally((function(){xd.set(!1)}))).then((function(t){u.init(t)})).catch((function(t){c(t)}))}),[]),null!==s)return t.createElement(t.Fragment,null,t.createElement("nav",{className:"navbar navbar-light bg-light"},t.createElement("span",{className:"navbar-brand mb-0 h1"},"My Budgets")),t.createElement("div",{className:"container"},t.createElement("div",{style:{marginTop:"10px"},className:"alert alert-danger",role:"alert"},t.createElement("p",null,"Errore nel caricamento dei budget!"),t.createElement("hr",null),t.createElement("p",null,t.createElement("em",null,s.message)))));if(null===o)return t.createElement("div",{style:{marginTop:"50px"},className:"d-flex justify-content-center"},t.createElement("div",{style:{width:"3rem",height:"3rem"},className:"spinner-border",role:"status"},t.createElement("span",{className:"visually-hidden"},"Loading...")));var l=o.reduce((function(t,e){return t+e.amount}),0),f=o.reduce((function(t,e){return t+e.weekly_budget}),0),h=o.reduce((function(t,e){return t+e.weekly_amount}),0),p=o.map((function(e){return t.createElement(jd,{key:e.id,budget:e,spend:function(){!function(t,e){Cd.render(Dd,{budget:t,action:e})}(e,(function(t){u.spend(e,t)}))},recharge:function(){Md("Sicuro di voler ricaricare ".concat(r(e.weekly_budget),"?"),(function(){u.recharge(e)}))}})}));return t.createElement(t.Fragment,null,t.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},t.createElement("div",{className:"container-fluid"},t.createElement("span",{className:"navbar-brand"},"My Budgets ",t.createElement("sub",null,r(f))),t.createElement("form",{className:"d-flex"},t.createElement("span",{className:"navbar-text",style:{marginRight:"20px"}},t.createElement("strong",null,t.createElement("em",null,r(l)))),t.createElement(Fd,{rechargeAll:function(){Md("Sicuro di voler ricaricare tutti i budget?",(function(){o.forEach((function(t,e){u.recharge(t)}))}))}})))),t.createElement("div",{className:"container"},t.createElement("div",{style:{marginTop:"4px"}},t.createElement(Ad,{amount:l,weekly_amount:h})),t.createElement("div",{className:"row"},p)),t.createElement(Gd,null))};e.render(t.createElement(Qd,null),document.getElementById("app"))})()})();